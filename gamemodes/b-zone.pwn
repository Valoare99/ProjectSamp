// INCLUDES
#include <a_samp>		
#include <a_mysql>		
#include <streamer>		
#include <playerzone>	
#include <foreach>		
#include <sscanf2>		
#include <AutoAFK>      
#include <mSelection>   
#include <fly>
#include <days>
#include <playerprogress>
#include <Pawn.CMD>
#include 	"../scripts/textdraws"

//=======Conexiune MYSQL=======//
#define SQL_HOST "localhost"
#define SQL_USER "root"
#define SQL_DB "zaza"
#define SQL_PASS ""
//============================//

#undef MAX_PLAYERS
#define MAX_PLAYERS 2

// DEFINES - OTHERS
native IsValidVehicle(vehicleid);
#define AdmBot 		  -1
#define KICK 		  1
#define BAN 		  2
#define JAIL 		  3
#define WARN 		  4
#define MUTE 		  5

#define LOG_SHOP 		1
#define LOG_SELLCAR 	2
#define LOG_TRADE 		3
#define LOG_MONEY 		4
#define LOG_CAR 		5
#define LOG_GIFTBOX 	6 
#define LOG_LEVEL 		7
#define LOG_SELL		8
#define LOG_CHAT		9

// paint
#define MAX_MINIGAMES 3	
#define MAX_MAPS 5
#define MAX_COBJECTS 50
new szGlobal[1000];
new Iterator: Helpers<MAX_PLAYERS>, Iterator: Admins<MAX_PLAYERS>, Iterator: Leaders<MAX_PLAYERS>, Iterator: HelpersDuty<MAX_PLAYERS>;
new TradeID[MAX_PLAYERS], TradeItems[MAX_PLAYERS], TradeReady[MAX_PLAYERS],TradePlayer[MAX_PLAYERS], TradeMoney[MAX_PLAYERS], TradeType[MAX_PLAYERS],TradeTime[MAX_PLAYERS];
new serverfactions = 0;
new AnswerCount[3] = 0, TotalAnswers = 0, Answers[3][25],ActiveVote = 0, FactionVote = -1, QuestionVote[64];
new SelectedItem[MAX_PLAYERS];
new PlayerSellCar[MAX_PLAYERS];
new Float: LastPos[MAX_PLAYERS][3];
new PlayerBar:HudProgress[MAX_PLAYERS][2];
new WarningsCheat[MAX_PLAYERS];
new Freezed[MAX_PLAYERS];	
new VehicleOwned[MAX_VEHICLES];
new	VehicleSQL[MAX_VEHICLES];
new EnableBoast[MAX_PLAYERS];
new AllHelps;
new AllReports;
new AllEvents;
new SpecialWeek = 1;
new LastCP[MAX_PLAYERS];
new Exception[MAX_PLAYERS];
new Reason[128][MAX_PLAYERS];
new JobDeelay[MAX_PLAYERS][14];
new KG[MAX_PLAYERS];
new WorkingTime[MAX_PLAYERS];
new HaveFish[MAX_PLAYERS], StartFish[MAX_PLAYERS];
new JobLeftTime[MAX_PLAYERS];
new FactionSel[MAX_PLAYERS];
new 
	PaintballWinnerScore[3], PaintballWinner[3], PaintType[MAX_PLAYERS], PaintTime[3] = -1, PKills[MAX_PLAYERS], PDeaths[MAX_PLAYERS], PlayerPaintballScore[MAX_PLAYERS], 
	PaintTimer[MAX_MINIGAMES], PaintMap[MAX_MINIGAMES], MapVotes[MAX_MINIGAMES][MAX_MAPS], PaintVote[MAX_MINIGAMES], Voted[MAX_PLAYERS], PaintText[MAX_MINIGAMES];
new Licitatie, TimpLicitatie, TipLicitatie, TotalBani, IDLicitatie, LastPlayer, TotalMoney[MAX_PLAYERS], SelectedMoney[MAX_PLAYERS];
new fskins[30] = mS_INVALID_LISTID;
new hats = mS_INVALID_LISTID;
new glasses = mS_INVALID_LISTID;
enum vInfo {
	vColorOne, vColorTwo
};
new VehicleStats[MAX_VEHICLES][vInfo];
enum objInfo {
	oID,
	oMoney
}
new ObjectInfo[MAX_OBJECTS][objInfo];
new toglicitatie[MAX_PLAYERS];

//Announces
new 	RandomMSG[][] = {
	"INFO: Forumul serverului nostru este:",
	"INFO: Puteti pune intrebari despre server pe /n.",
	"INFO: Foloseste /gps pentru a afla locatiile de pe server.",
	"INFO: Nu ai bani? Foloseste /jobs pentru a vedea job-urile disponibile.",
	"INFO: Pentru achizitionarea produselor speciale foloseste /shop.",
	"INFO: Daca ai probleme sau nelamuriri foloseste /report.",
	"INFO: Daca ai 10/10 Rob Points poti jefui banca(/rob).",
	"INFO: Afacerile cu bani reali sunt interzise. Cei ce-s prinsi ca incearca sa faca afaceri cu bani reali vor primi ban permanent.",
	"INFO: Pentru a vedea teritoriile mafiilor foloseste /turfs.",
	"INFO: Testeaza sistemul nostru de /playdice la Casino LV.",
	"INFO: Foloseste /carradio pentru a asculta radio in masina.",
	"INFO: Vrei sa iti gasesti mai rapid prietenii? Simplu, tasteaza /friends sau apasa Y.",
	"INFO: Foloseste /topplayers pentru a vedea cei mai activi jucator de pe server.",
	"INFO: Ai vazut un jucator ce zboara cu masina? Foloseste comanda /report si un admin se va ocupa de el.",
	"INFO: Te deranjeaza cineva? Foloseste /block si acel jucator nu te va mai putea contacta.",
	"INFO: Foloseste /colors pentru a vedea ID-urile culorilor disponibile pe server."
};
//Server Spawn
new Float:Spawns[3][3] = {
{1685.8109,-2238.4612,13.5469},
{1642.2725,-2238.4280,13.4976},
{1730.3281,-2238.5703,13.5422}
};
// rc_arena
new Float:PaintballSpawns[7][3] = {
{-973.6214,1025.1903,1345.0475},
{-973.1999,1095.4812,1344.9856},
{-1032.6256,1078.1367,1343.2416},
{-1054.3453,1025.1804,1343.1748},
{-1088.7957,1038.0369,1343.3666},
{-1131.7955,1023.3311,1345.7217},
{-1132.3667,1093.1659,1345.7927}
};

// farm
new Float:PaintballSpawns2[7][3] = {
{-136.8825, -70.0581, 3.2065},
{-98.5009, -31.0434, 3.2065},
{-82.4544, 24.8792, 3.2957},
{43.7600, 35.2099, 2.5184},
{-6.8738, 91.7253, 3.1657},
{-57.5785, 117.1301, 3.2078},
{-217.7475, -25.7134, 3.3158}
};

// island
new Float:PaintballSpawns3[7][3] = {
{1394.5992, 2784.1523, 11.1936},
{1317.0734, 2852.8516, 10.8923},
{1280.4998, 2738.1919, 10.9092},
{1147.8285, 2788.3435, 11.0812},
{1143.5356, 2751.1782, 11.2707},
{1259.3728, 2786.4995, 10.9397},
{1354.5094, 2738.2000, 10.8767}
};

// desert
new Float:PaintballSpawns4[7][3] = {
{-745.0526, 1580.3075, 27.0509},
{-774.2742, 1530.0056, 27.1533},
{-805.3869, 1436.9856, 13.9201},
{-725.0034, 1542.5139, 39.4333},
{-766.1290, 1625.1650, 27.2306},
{-885.7818, 1476.7595, 24.8592},
{-797.1280, 1557.1274, 27.2289}
};

// beach
new Float:PaintballSpawns5[7][3] = {
{507.8840, -1887.1956, 3.3077},
{571.3418, -1871.5217, 4.4363},
{609.7338, -1837.2462, 5.9157},
{681.5817, -1863.5522, 5.3781},
{611.6556, -1881.2391, 4.0900},
{470.7314, -1821.2793, 5.6802},
{585.5042, -1800.3372, 6.2130}
};

new
	HaveHelp[MAX_PLAYERS], HelperDuty[MAX_PLAYERS], 
	NewbieChat[MAX_PLAYERS], HaveHelper[500], OnHelper[MAX_PLAYERS],
	HelpMuted[MAX_PLAYERS], Helped[MAX_PLAYERS], HelpText[MAX_PLAYERS][180];
//new PlayerBar:HudProgress[MAX_PLAYERS][2];
new SelectedHud[MAX_PLAYERS];	
new RentPrice[MAX_PLAYERS];
new ReportText[MAX_PLAYERS][256];
new ReportText2[MAX_PLAYERS][256];
new AcceptedReport[MAX_PLAYERS];
new EventStatus;
new EventVW;
new EventInt;
new Float:etp[5];
new RobMoney[MAX_PLAYERS];
new Robbery[MAX_PLAYERS];
new Ajutor[MAX_PLAYERS];
new Blocked[MAX_PLAYERS][100][180];
new BagMoney[MAX_PLAYERS], Text3D: PlayerLabel[MAX_PLAYERS], PlayerObject[MAX_PLAYERS];
new RobbedSafe[MAX_PLAYERS];
new Float: RobPos[3];
new Text3D:FLabel[26];

new InWarTurf[73];
new BuyGunS[MAX_PLAYERS];
new GunObject[MAX_PLAYERS];
new BuyGunD[8][3] =
{
	// Gun ID - Object ID - Pret
	{24,		348,		250},
	{31,		356,		350},
	{30,		355,		350},
	{4,			335,		50},
	{25,		349,		270},
	{33,		357,		370},
	{29,		353,		300},
	{10,		321,		70}	
};
new TurfTime[MAX_PLAYERS];
new FactionDeelay[26];
new WarSeconds[MAX_PLAYERS];
new UsedContract[MAX_PLAYERS], PlayerHit[MAX_PLAYERS], HeadValue[MAX_PLAYERS], Contract[MAX_PLAYERS];
new DMVCar[MAX_PLAYERS];
new SpecPlayers[MAX_PLAYERS];
new SelectedPlayer[MAX_PLAYERS][100];
new Float: SpecPos[MAX_PLAYERS][3], IsPlayerSpec[MAX_PLAYERS];
new Float: CheckpointPos[MAX_PLAYERS][3];
new MaxPlayers, MaxPlayersDate[180], ServerAccounts,NewAccount[128];
new CarColor[MAX_PLAYERS];
new PlayerTime10[MAX_PLAYERS];
new VehicleKey[MAX_PLAYERS];
new JobTime[MAX_PLAYERS];
new Reply[MAX_PLAYERS];
new Robbed[MAX_PLAYERS];
new Float:TaxiDist[MAX_PLAYERS];
new TaxiDriver[MAX_PLAYERS];
new Accepted[MAX_PLAYERS];
new AdText[MAX_PLAYERS][256];
new AdTimer[MAX_PLAYERS];
new totalads;
new Step[MAX_PLAYERS];
new Fishing[MAX_PLAYERS];
new StartingWork[MAX_PLAYERS];
new PlayerTime[MAX_PLAYERS];
new PlayerTime2[MAX_PLAYERS];
new PlayerTime3[MAX_PLAYERS];
new PlayerTime4[MAX_PLAYERS];
new PlayerTime5[MAX_PLAYERS];
new PlayerTime6[MAX_PLAYERS];
new PlayerTime7[MAX_PLAYERS];
new PlayerTime8[MAX_PLAYERS];
new WantedTime[MAX_PLAYERS];
new JobDuty[MAX_PLAYERS];
new UsedFly[MAX_PLAYERS];
new CarRadio[MAX_VEHICLES];
new PlayerRadio[MAX_PLAYERS];
new SlotSel[MAX_PLAYERS];
new EditedObjectID[MAX_PLAYERS], SelMobila[MAX_PLAYERS][50];
new ObjectEdited[MAX_PLAYERS];
new EditHouse[MAX_PLAYERS], EditModel[MAX_PLAYERS];
new skinlist = mS_INVALID_LISTID;
new SelectedRank[MAX_PLAYERS];
new SFID[MAX_PLAYERS];
new Showed[MAX_PLAYERS];
new pSelectSFZ[MAX_PLAYERS];
new pPret[MAX_PLAYERS], pNivel[MAX_PLAYERS];
new CreateHouse[MAX_PLAYERS];
new pColor1[MAX_PLAYERS], pColor2[MAX_PLAYERS];
new pCar[MAX_PLAYERS], pCarID[MAX_PLAYERS];
new TogFChat[26];
new InShop[MAX_PLAYERS];
new ClanDuty[MAX_PLAYERS], StartedSpray[MAX_PLAYERS], StartedSpray2[MAX_PLAYERS], StartedSprayOn[MAX_PLAYERS], ClanProces[MAX_PLAYERS];
new szRank[MAX_PLAYERS][256];
new sName[MAX_PLAYERS][256];
new Selected[MAX_PLAYERS][101];
new Selected2[MAX_PLAYERS];
new pInteriorID[MAX_PLAYERS], pVirtual[MAX_PLAYERS], Float: pPos[MAX_PLAYERS][3];
new SInterior[MAX_PLAYERS];
new SecondsAFK[MAX_PLAYERS];
new objstats[MAX_PLAYERS][12];
new mowerobj[MAX_PLAYERS][12];
new Farming[MAX_PLAYERS];
new farmobj[MAX_PLAYERS][70];
new pDrunkLevelLast[MAX_PLAYERS];
new FPS2[MAX_PLAYERS];
new MoneyEarned[MAX_PLAYERS], CurseFacute[MAX_PLAYERS];
new GunoiKG[MAX_PLAYERS], InHand[MAX_PLAYERS];
new TruckerActor, GarbageActor, FarmerActor, MowerActor, MatsActor, DrugsActor, MecActor, DecActor, ConActor, FishActor, BusActor, HotActor, PizzaActor, GunActor;
new Float:InteriorPos[36][3] = {
	{223.0797, 1287.7438, 1082.1406},
	{2282.7927, -1139.3999, 1050.8984},
	{328.0025, 1478.5465, 1084.4375},
	{-42.5438, 1406.3199, 1084.4297},
	{300.8615, 309.8871, 1003.3047},
	{2308.8101, -1212.2432, 1049.0234},
	{ 2233.6196, -1114.5808, 1050.8828},
	{2259.8242, -1135.7554, 1050.6328},
	{2217.8169, -1076.1425, 1050.4844},
	{267.1584, 305.2281, 999.1484},
	{244.1047, 304.9235, 999.1484},
	{235.4070, 1187.3690, 1080.2578},
	{490.8654, 1399.1970, 1080.2578},
	{24.0680, 1340.5543, 1084.3750},
	{-283.9743, 1471.1327, 1084.3750},
	{-261.2778, 1456.7443, 1084.3672},
	{83.0025, 1322.8451, 1083.8662},
	{2317.9451, -1026.1736, 1050.2178},
	{2496.0198, -1692.6827, 1014.7422},
	{2196.0349, -1204.3772, 1049.0234},
	{376.2806, 1417.5321, 1081.3281},
	{2269.6677, -1210.3624, 1047.5625},
	{447.3249, 1397.5758, 1084.3047},
	{386.5427, 1471.8826, 1080.1875},
	{22.8908, 1403.7777, 1084.4297},
	{2365.3372, -1134.8403, 1050.8750},
	{2237.6023, -1080.8840, 1049.0234},
	{295.0533, 1473.0192, 1080.2578},
	{221.9701, 1140.8445, 1082.6094},
	{-68.7771, 1351.9674, 1080.2109},
	{260.8823, 1237.9570, 1084.2578},
	{2468.4509, -1698.2510, 1013.5078},
	{140.1820, 1366.4713, 1083.8594},
	{225.6624, 1022.0758, 1084.0159},
	{234.2033, 1064.1516, 1084.2117},
	{226.7048, 1114.2527, 1080.9950}
};
new Float:GarbagePos[10][3] = {
	{1925.3011,-1788.2500,13.4179},
	{1391.4333,-1623.7610,13.6138},
	{1111.5900,-1191.9158,18.2169},
	{980.2022,-1434.3975,13.6630},
	{731.3449,-1796.4576,12.3304},
	{-55.8047,-1583.6704,3.3479},
	{252.5229,-263.9742,1.6733},
	{603.5938,-1521.3352,15.0075},
	{1662.0760,-2113.1292,13.5435},
	{2271.3232,-1628.1305,15.2649}
};
#define     MAX_SVEHICLES           (500)
// sVeh Info
enum svInfo {
	vID,
	vModel,
	Float: vLocation[3],
	Float: vAngle,
	vColor[2],
	vFaction,
	vRank,
	vSpawned,
	vVirtual
}
new ServerVehicles[MAX_SVEHICLES][svInfo];

new Float:SkinOffSet[300][7] = {
{0.098771, 0.030772, -0.000335, 85.342658, 84.122947, 4.236968 }, // - 0
{0.100766, 0.028630, -0.003521, 87.936676, 82.110870, 4.236968 }, // - 1
{0.083712, 0.033132, -0.003521, 87.936676, 82.110870, 4.236968 }, // - 2
{0.469779, 0.107070, 0.000000, 0.000000, 87.218452, 103.041183},                                   
{0.0, 0.0, 0.0, 0.0, 0.0, 0.0},                                   // - 4
{0.0, 0.0, 0.0, 0.0, 0.0, 0.0},                                   // - 5
{0.0, 0.0, 0.0, 0.0, 0.0, 0.0},                                   // - 6
{0.090066, 0.043458, -0.006523, 87.936676, 82.110870, 4.236968 }, // - 7
{0.0, 0.0, 0.0, 0.0, 0.0, 0.0},                                   // - 8
{0.070977, 0.028663, 0.000147, 81.164970, 92.128402, 4.236968 },  // - 9
{0.072317, 0.032179, -0.002934, 86.843269, 84.196006, 4.236968 }, // - 10
{0.072317, 0.035465, -0.002201, 86.843269, 84.196006, 4.236968 }, // - 11
{0.072317, 0.028100, -0.002201, 86.843269, 84.196006, 4.236968 }, // - 12
{0.076569, 0.028100, -0.002201, 86.843269, 84.196006, 4.236968 }, // - 13
{0.091310, 0.049169, -0.002201, 86.843269, 84.196006, 4.236968 }, // - 14
{0.073734, 0.006292, -0.002755, 86.843269, 84.196006, 4.236968 }, // - 15
{0.092845, 0.040331, 0.000183, 86.843269, 82.864280, 4.236968 },  // - 16
{0.088241, 0.030184, -0.000157, 86.843269, 82.864280, 4.236968 }, // - 17
{0.061677, 0.029596, -0.007398, 86.843269, 82.864280, 4.236968 }, // - 18
{0.079911, 0.029596, -0.002934, 86.843269, 82.864280, 4.236968 }, // - 19
{0.095079, 0.029596, -0.001718, 85.261871, 86.296562, 4.236968 }, // - 20
{0.093728, 0.042083, -0.005781, 85.261871, 81.636192, 4.236968 }, // - 21
{0.079585, 0.042083, -0.005781, 85.261871, 81.636192, 4.236968 }, // - 22
{0.090786, 0.041737, -0.005263, 85.261871, 81.636192, 4.236968 }, // - 23
{0.085247, 0.026941, -0.000317, 85.261871, 81.636192, 4.236968 }, // - 24
{0.081646, 0.031448, -0.001113, 89.393653, 81.665985, 4.236968 }, // - 25
{0.083700, 0.033814, -0.001960, 86.436462, 81.665985, 4.236968 }, // - 26
{0.092498, 0.037321, -0.001960, 86.436462, 85.568023, 4.236968 }, // - 27
{0.097068, 0.041360, -0.007881, 86.771400, 85.568023, 4.236968 }, // - 28
{0.083456, 0.050595, 0.001011, 86.771400, 77.201461, 4.236968 },  // - 29
{0.076983, 0.047168, -0.006161, 86.771400, 74.329719, 4.236968 }, // - 30
{0.083798, 0.042184, -0.001869, 86.771400, 83.181861, 4.236968 }, // - 31
{0.053021, -0.000587, -0.001869, 86.771400, 66.859710, 4.236968 },// - 32
{0.034386, 0.013324, -0.001869, 86.771400, 80.314460, 4.236968 }, // - 33
{0.104669, 0.037365, -0.001403, 86.771400, 87.178382, 4.236968 }, // - 34
{0.102659, 0.037465, -0.000829, 86.771400, 93.020492, 4.236968 }, // - 35
{0.107638, 0.037465, -0.000829, 86.771400, 93.020492, 4.236968 }, // - 36
{0.107638, 0.035879, -0.000829, 86.771400, 93.020492, 4.236968 }, // - 37
{0.107638, 0.041106, -0.000829, 86.771400, 93.020492, 4.236968 }, // - 38
{0.080326, 0.035634, -0.000829, 86.771400, 93.020492, 4.236968 }, // - 39
{0.080326, 0.027371, -0.000829, 86.771400, 93.020492, 4.236968 }, // - 40
{0.084617, 0.039613, -0.001620, 86.771400, 93.020492, 4.236968 }, // - 41
{0.0, 0.0, 0.0, 0.0, 0.0, 0.0},                                   // - 42
{0.040075, 0.025445, -0.000974, 86.771400, 92.964149, 4.236968 }, // - 43
{0.077369, 0.028469, -0.000974, 86.771400, 78.435791, 4.236968 }, // - 44
{0.064145, 0.028684, -0.000974, 86.771400, 84.762802, 4.236968 }, // - 45
{0.091993, 0.056559, -0.000974, 86.771400, 84.762802, 4.236968 }, // - 46
{0.084582, 0.051277, -0.005034, 86.771400, 84.762802, 4.236968 }, // - 47
{0.092182, 0.042095, -0.003533, 86.771400, 84.762802, 4.236968 }, // - 48
{0.086866, 0.032203, -0.001021, 86.771400, 84.762802, 4.236968 }, // - 49
{0.099350, 0.009422, -0.005899, 86.771400, 84.762802, 4.236968 }, // - 50
{0.099350, 0.030598, -0.005899, 86.771400, 84.762802, 4.236968 }, // - 51
{0.099350, 0.030598, -0.003575, 86.771400, 84.762802, 4.236968 }, // - 52
{0.0, 0.0, 0.0, 0.0, 0.0, 0.0},                                   // - 53
{0.079123, 0.030598, -0.003575, 86.771400, 84.762802, 4.236968 }, // - 54
{0.063159, 0.029641, -0.003575, 86.771400, 84.762802, 4.236968 }, // - 55
{0.070293, 0.029641, -0.000570, 86.771400, 84.762802, 4.236968 }, // - 56
{0.111305, 0.045368, -0.000570, 86.771400, 84.458084, 4.236968 }, // - 57
{0.084901, 0.020965, -0.000570, 86.771400, 79.542411, 4.236968 }, // - 58
{0.0, 0.0, 0.0, 0.0, 0.0, 0.0},                                   // - 59
{0.090164, 0.044163, -0.004754, 86.771400, 79.542411, 4.236968 }, // - 60
{0.087151, 0.041447, -0.000885, 90.928329, 89.598678, 0.000000 }, // - 61
{0.094350, 0.041447, 0.005717, 90.928329, 89.598678, 0.000000 },  // - 62
{0.075534, 0.041447, -0.001751, 90.928329, 89.598678, 0.000000 }, // - 63
{0.075534, 0.041447, -0.001751, 90.928329, 89.598678, 0.000000 }, // - 64
{0.0, 0.0, 0.0, 0.0, 0.0, 0.0},                                   // - 65
{0.104148, 0.034787, 0.001341, 90.928329, 89.598678, 0.000000 },  // - 66
{0.104148, 0.034787, 0.001341, 90.928329, 89.598678, 0.000000 },  // - 67
{0.087317, 0.039646, -0.004032, 90.928329, 89.598678, 0.000000 }, // - 68
{0.074873, 0.039646, -0.003072, 90.928329, 89.598678, 0.000000 }, // - 69
{0.090391, 0.042364, 0.005494, 90.928329, 89.598678, 0.000000 },  // - 70
{0.090391, 0.022298, -0.001170, 90.928329, 89.598678, 0.000000 }, // - 71
{0.090391, 0.039580, -0.001170, 90.928329, 89.598678, 0.000000 }, // - 72
{0.090391, 0.038224, -0.001170, 90.928329, 89.598678, 0.000000 }, // - 73
{0.0, 0.0, 0.0, 0.0, 0.0, 0.0},                                   // - 74
{0.083113, 0.038224, -0.001170, 90.928329, 89.598678, 0.000000 }, // - 75
{0.072957, 0.028956, -0.001170, 90.928329, 89.598678, 0.000000 }, // - 76
{0.069398, 0.039981, -0.001170, 90.928329, 89.598678, 0.000000 }, // - 77
{0.105738, 0.010001, 0.004508, 90.928329, 79.030494, 0.000000 },  // - 78
{0.078264, 0.019668, 0.004508, 90.928329, 79.030494, 0.000000 },  // - 79
{0.087377, 0.022096, -0.001993, 90.928329, 79.030494, 0.000000 }, // - 80
{0.087377, 0.022096, -0.001635, 90.928329, 79.030494, 0.000000 }, // - 81
{0.100623, 0.043063, -0.001635, 90.928329, 87.672645, 0.000000 }, // - 82
{0.092528, 0.027493, -0.001635, 90.928329, 87.672645, 0.000000 }, // - 83
{0.102086, 0.027493, -0.001635, 90.928329, 87.672645, 0.000000 }, // - 84
{0.081954, 0.041672, -0.001635, 90.928329, 87.672645, 0.000000 }, // - 85
{0.0, 0.0, 0.0, 0.0, 0.0, 0.0},                                   // - 86
{0.077010, 0.046925, -0.003438, 90.928329, 91.590301, 0.000000 }, // - 87
{0.069952, 0.042635, -0.003438, 90.928329, 86.722587, 0.000000 }, // - 88
{0.093827, 0.019258, -0.003438, 90.928329, 86.722587, 0.000000 }, // - 89
{0.066464, 0.035685, -0.000843, 90.928329, 86.722587, 0.000000 }, // - 90
{0.066464, 0.035685, -0.000843, 90.928329, 86.722587, 0.000000 }, // - 91
{0.066464, 0.038135, -0.000843, 90.928329, 86.722587, 0.000000 }, // - 92
{0.066464, 0.038135, -0.001690, 90.928329, 86.722587, 0.000000 }, // - 93
{0.048124, 0.010598, -0.001690, 90.928329, 86.722587, 0.000000 }, // - 94
{0.084997, 0.006773, -0.001690, 90.928329, 86.722587, 0.000000 }, // - 95
{0.100076, 0.026633, -0.001690, 90.928329, 80.020179, 0.000000 }, // - 96
{0.061686, 0.027537, -0.001690, 90.928329, 80.020179, 0.000000 }, // - 97
{0.098318, 0.053993, -0.001690, 90.928329, 89.237678, 0.000000 }, // - 98
{0.098318, 0.033702, -0.001690, 90.928329, 89.237678, 0.000000 }, // - 99
{0.086149, 0.042526, -0.001690, 90.928329, 77.587478, 0.000000 }, // - 100
{0.081864, 0.030555, -0.001690, 90.928329, 78.145759, 0.000000 }, // - 101
{0.081864, 0.047914, -0.005079, 90.928329, 78.145759, 0.000000 }, // - 102
{0.089607, 0.036717, -0.005079, 90.928329, 78.145759, 0.000000 }, // - 103
{0.079655, 0.042021, -0.005079, 90.928329, 78.145759, 0.000000 }, // - 104
{0.091779, 0.037620, -0.005079, 90.928329, 78.145759, 0.000000 }, // - 105
{0.084179, 0.035251, -0.005079, 90.928329, 78.145759, 0.000000 }, // - 106
{0.089387, 0.040297, -0.006006, 90.928329, 78.145759, 0.000000 }, // - 107
{0.081930, 0.030756, 0.001523, 90.928329, 78.145759, 0.000000 },  // - 108
{0.092857, 0.043070, -0.006084, 90.928329, 85.326652, 0.000000 }, // - 109
{0.092857, 0.043070, -0.006084, 90.928329, 85.326652, 0.000000 }, // - 110
{0.106601, 0.028021, -0.003537, 90.928329, 90.217376, 0.000000 }, // - 111
{0.096335, 0.015873, -0.003537, 90.928329, 90.217376, 0.000000 }, // - 112
{0.105827, 0.046620, -0.001395, 90.928329, 90.217376, 0.000000 }, // - 113
{0.097520, 0.044296, -0.007286, 90.928329, 90.217376, 0.000000 }, // - 114
{0.097408, 0.043470, -0.007286, 90.928329, 90.217376, 0.000000 }, // - 115
{0.092588, 0.049832, -0.007286, 90.928329, 90.217376, 0.000000 }, // - 116
{0.081444, 0.037602, -0.003125, 90.928329, 90.217376, 0.000000 }, // - 117
{0.078678, 0.037602, -0.001816, 90.928329, 90.217376, 0.000000 }, // - 118
{0.0, 0.0, 0.0, 0.0, 0.0, 0.0},                                   // - 119
{0.089214, 0.029291, -0.000784, 90.928329, 84.624763, 0.000000 }, // - 120
{0.086825, 0.033424, -0.000784, 90.928329, 77.233818, 0.000000 }, // - 121
{0.082869, 0.030783, -0.000950, 90.928329, 77.233818, 0.000000 }, // - 122
{0.096117, 0.048957, -0.006245, 90.928329, 87.579650, 0.000000 }, // - 123
{0.103663, 0.040022, 0.000449, 90.928329, 87.579650, 0.000000 },  // - 124
{0.099326, 0.031202, -0.001180, 90.928329, 87.579650, 0.000000 }, // - 125
{0.099326, 0.031132, -0.001180, 90.928329, 87.579650, 0.000000 }, // - 126
{0.099326, 0.039279, -0.001180, 90.928329, 87.579650, 0.000000 }, // - 127
{0.099326, 0.047422, -0.001180, 90.928329, 87.579650, 0.000000 }, // - 128
{0.088817, 0.021210, 0.000730, 90.928329, 87.579650, 0.000000 },  // - 129
{0.025784, 0.028323, 0.000730, 90.928329, 59.394767, 0.000000 },  // - 130
{0.068455, 0.031841, -0.004470, 90.928329, 79.979003, 0.000000 }, // - 131
{0.012930, 0.008392, -0.004470, 90.928329, 72.129173, 0.000000 }, // - 132
{0.102457, 0.032260, -0.003338, 90.928329, 84.534217, 0.000000 }, // - 133
{0.085976, 0.014956, -0.003338, 90.928329, 80.308830, 0.000000 }, // - 134
{0.071574, 0.028186, -0.001588, 90.928329, 80.308830, 0.000000 }, // - 135
{0.085219, 0.016666, -0.000738, 90.928329, 80.308830, 0.000000 }, // - 136
{0.065114, 0.009318, -0.000738, 90.928329, 80.308830, 0.000000 }, // - 137
{0.066890, 0.040024, -0.000738, 90.928329, 87.341934, 0.000000 }, // - 138
{0.072037, 0.036141, -0.000702, 90.928329, 87.341934, 0.000000 }, // - 139
{0.069108, 0.042194, -0.000436, 90.928329, 87.341934, 0.000000 }, // - 140
{0.058717, 0.043547, -0.000436, 90.928329, 87.209770, 0.000000 }, // - 141
{0.104196, 0.039601, -0.005481, 90.928329, 87.209770, 0.000000 }, // - 142
{0.090929, 0.045881, -0.012780, 90.928329, 87.209770, 0.000000 }, // - 143
{0.098291, 0.042464, -0.006952, 90.928329, 83.081665, 0.000000 }, // - 144
{0.080087, 0.030122, 0.000606, 90.928329, 83.081665, 0.000000 },  // - 145
{0.093500, 0.030690, -0.001545, 90.928329, 83.081665, 0.000000 }, // - 146
{0.079566, 0.020138, 0.004838, 90.928329, 73.715591, 0.000000 },  // - 147
{0.073564, 0.028430, -0.000527, 90.928329, 88.295433, 0.000000 }, // - 148
{0.0, 0.0, 0.0, 0.0, 0.0, 0.0},                                   // - 149
{0.073564, 0.028430, -0.000527, 90.928329, 88.295433, 0.000000 }, // - 150
{0.083426, 0.032359, -0.005717, 90.928329, 88.295433, 0.000000 }, // - 151
{0.072349, 0.019623, -0.000747, 90.928329, 82.624351, 0.000000 }, // - 152
{0.075065, 0.015351, 0.006545, 90.928329, 71.041442, 0.000000 },  // - 153
{0.062227, 0.029731, -0.004938, 90.928329, 84.602760, 0.000000 }, // - 154
{0.0, 0.0, 0.0, 0.0, 0.0, 0.0},                                   // - 155
{0.079936, 0.049000, -0.000304, 90.928329, 82.926010, 0.000000 }, // - 156
{0.067550, 0.035686, -0.000017, 90.928329, 82.926010, 0.000000 }, // - 157
{0.090676, 0.039383, -0.001726, 90.928329, 88.667900, 0.000000 }, // - 158
{0.090676, 0.039383, -0.003532, 90.928329, 88.667900, 0.000000 }, // - 159
{0.098662, 0.017441, -0.001589, 90.928329, 88.667900, 0.000000 }, // - 160
{0.105388, 0.038409, 0.003155, 90.928329, 88.667900, 0.000000 },  // - 161
{0.097415, 0.036904, -0.000525, 90.928329, 88.667900, 0.000000 }, // - 162
{0.088934, 0.023302, -0.004153, 90.928329, 80.393875, 0.000000 }, // - 163
{0.088934, 0.023302, -0.004153, 90.928329, 80.393875, 0.000000 }, // - 164
{0.087018, 0.051364, 0.000484, 90.928329, 94.584838, 0.000000 },  // - 165
{0.087018, 0.051364, 0.000484, 90.928329, 94.584838, 0.000000 },  // - 166
{0.095996, 0.038787, 0.000484, 90.928329, 84.315711, 0.000000 },  // - 167
{0.089094, 0.034001, -0.006451, 90.928329, 84.315711, 0.000000 }, // - 168
{0.075700, 0.028082, -0.006451, 90.928329, 84.315711, 0.000000 }, // - 169
{0.093751, 0.041968, -0.005545, 90.928329, 84.315711, 0.000000 }, // - 170
{0.090124, 0.031055, -0.000505, 90.928329, 84.315711, 0.000000 }, // - 171
{0.066033, 0.032915, -0.002713, 90.928329, 84.315711, 0.000000 }, // - 172
{0.088287, 0.045350, -0.005384, 90.928329, 84.315711, 0.000000 }, // - 173
{0.087750, 0.042129, -0.005384, 90.928329, 84.315711, 0.000000 }, // - 174
{0.092384, 0.039294, -0.005384, 90.928329, 84.315711, 0.000000 }, // - 175
{0.097661, 0.039065, -0.006344, 90.928329, 80.736480, 0.000000 }, // - 176
{0.097114, 0.039641, -0.006692, 90.928329, 80.736480, 0.000000 }, // - 177
{0.069354, 0.039641, -0.000474, 90.928329, 80.736480, 0.000000 }, // - 178
{0.091414, 0.039641, -0.005617, 90.928329, 80.736480, 0.000000 }, // - 179
{0.094914, 0.039641, -0.005617, 90.928329, 80.736480, 0.000000 }, // - 180
{0.117232, 0.033217, -0.001099, 90.928329, 82.396362, 0.000000 }, // - 181
{0.082569, 0.032748, -0.003248, 90.928329, 87.394371, 0.000000 }, // - 182
{0.095527, 0.027237, -0.001960, 90.928329, 86.443649, 0.000000 }, // - 183
{0.095527, 0.040994, -0.006878, 90.928329, 86.443649, 0.000000 }, // - 184
{0.085663, 0.030601, -0.002345, 90.928329, 81.496513, 0.000000 }, // - 185
{0.085663, 0.030601, -0.001015, 90.928329, 81.496513, 0.000000 }, // - 186
{0.076527, 0.027211, 0.008500, 90.928329, 74.401092, 0.000000 },  // - 187
{0.096669, 0.032578, 0.001662, 90.928329, 83.502502, 0.000000 },  // - 188
{0.098753, 0.032129, -0.001659, 90.928329, 90.153724, 0.000000 }, // - 189
{0.092821, 0.035572, -0.001659, 90.928329, 90.153724, 0.000000 }, // - 190
{0.092821, 0.035572, -0.001132, 90.928329, 90.153724, 0.000000 }, // - 191
{0.092821, 0.035572, -0.001132, 90.928329, 90.153724, 0.000000 }, // - 192
{0.092821, 0.035572, -0.001132, 90.928329, 90.153724, 0.000000 }, // - 193
{0.092821, 0.035572, -0.001132, 90.928329, 90.153724, 0.000000 }, // - 194
{0.092821, 0.035572, -0.001132, 90.928329, 90.153724, 0.000000 }, // - 195
{0.092821, 0.035572, -0.001132, 90.928329, 90.153724, 0.000000 }, // - 196
{0.100630, 0.020568, -0.001132, 90.928329, 90.153724, 0.000000 }, // - 197
{0.077905, 0.028523, 0.000000, 89.675476, 89.270309, 0.000000 },  // - 198
{0.099095, 0.022463, 0.000000, 89.675476, 89.270309, 0.000000 },  // - 199
{0.103182, 0.031106, 0.000000, 89.675476, 89.270309, 0.000000 },  // - 200
{0.078426, 0.038546, 0.000000, 89.675476, 89.270309, 0.000000 },  // - 201
{0.101092, 0.035797, -0.002997, 89.675476, 82.081153, 0.000000 }, // - 202
{0.092009, 0.042780, -0.005841, 89.675476, 84.463294, 0.000000 }, // - 203
{0.092009, 0.042780, -0.005841, 89.675476, 84.463294, 0.000000 }, // - 204
{0.092969, 0.027782, -0.002959, 89.675476, 84.463294, 0.000000 }, // - 205
{0.105109, 0.036128, -0.000471, 89.675476, 84.463294, 0.000000 }, // - 206
{0.066892, 0.024410, -0.002792, 89.675476, 84.463294, 0.000000 }, // - 207
{0.0, 0.0, 0.0, 0.0, 0.0, 0.0},                                   // - 208
{0.084046, 0.013608, -0.002792, 89.675476, 81.667831, 0.000000 }, // - 209
{0.084046, 0.013608, -0.001034, 89.675476, 81.667831, 0.000000 }, // - 210
{0.067610, 0.033777, -0.001034, 89.675476, 85.214485, 0.000000 }, // - 211
{0.094159, 0.020717, 0.000715, 89.675476, 85.214485, 0.000000 },  // - 212
{0.098744, 0.036786, -0.001770, 89.675476, 85.214485, 0.000000 }, // - 213
{0.068755, 0.036786, -0.001770, 89.675476, 85.214485, 0.000000 }, // - 214
{0.068755, 0.026863, -0.001770, 89.675476, 85.214485, 0.000000 }, // - 215
{0.068755, 0.026863, -0.001770, 89.675476, 85.214485, 0.000000 }, // - 216
{0.095765, 0.030034, -0.001770, 89.675476, 85.214485, 0.000000 }, // - 217
{0.085486, 0.039427, -0.003311, 89.675476, 85.214485, 0.000000 }, // - 218
{0.068874, 0.027850, -0.001021, 89.675476, 85.214485, 0.000000 }, // - 219
{0.052931, 0.050390, -0.002062, 89.675476, 88.113647, 0.000000 }, // - 220
{0.094479, 0.034432, 0.000875, 89.675476, 83.572830, 0.000000 },  // - 221
{0.094479, 0.034432, -0.000596, 89.675476, 83.572830, 0.000000 }, // - 222
{0.094479, 0.062073, -0.003098, 89.675476, 83.572830, 0.000000 }, // - 223
{0.064458, 0.029760, -0.001460, 89.675476, 83.572830, 0.000000 }, // - 224
{0.064458, 0.029760, -0.001460, 89.675476, 83.572830, 0.000000 }, // - 225
{0.072095, 0.029760, -0.001460, 89.675476, 83.572830, 0.000000 }, // - 226
{0.110619, 0.043037, -0.001466, 89.675476, 86.927627, 0.000000 }, // - 227
{0.099446, 0.050772, -0.001466, 89.675476, 85.103805, 0.000000 }, // - 228
{0.078635, 0.023680, -0.000275, 89.675476, 73.445220, 0.000000 }, // - 229
{0.043357, 0.028726, -0.000275, 89.675476, 73.445220, 0.000000 }, // - 230
{0.092488, 0.049972, -0.000275, 89.675476, 88.981941, 0.000000 }, // - 231
{0.092488, 0.016739, -0.000275, 89.675476, 88.981941, 0.000000 }, // - 232
{0.071677, 0.037055, -0.002878, 89.675476, 88.981941, 0.000000 }, // - 233
{0.082745, 0.004209, -0.002878, 89.675476, 88.981941, 0.000000 }, // - 234
{0.057909, 0.021331, -0.002878, 89.675476, 88.981941, 0.000000 }, // - 235
{0.079016, 0.021331, -0.000419, 89.675476, 77.678733, 0.000000 }, // - 236
{0.074572, 0.021331, -0.000419, 89.675476, 84.527442, 0.000000 }, // - 237
{0.074572, 0.038346, -0.001500, 89.675476, 84.527442, 0.000000 }, // - 238
{0.111645, 0.011549, 0.006237, 89.675476, 84.527442, 0.000000 },  // - 239
{0.090766, 0.044221, -0.000423, 89.675476, 89.461883, 0.000000 }, // - 240
{0.069491, 0.049021, -0.000423, 89.675476, 89.461883, 0.000000 }, // - 241
{0.059706, 0.031911, -0.000423, 89.675476, 89.461883, 0.000000 }, // - 242
{0.065242, 0.031911, -0.000423, 89.675476, 89.461883, 0.000000 }, // - 243
{0.065242, 0.051077, -0.001103, 89.675476, 89.461883, 0.000000 }, // - 244
{0.082393, 0.038233, 0.000410, 89.675476, 89.461883, 0.000000 },  // - 245
{0.079338, 0.044859, -0.002535, 89.675476, 89.461883, 0.000000 }, // - 246
{0.101566, 0.037019, 0.000750, 89.675476, 83.514060, 0.000000 },  // - 247
{0.091887, 0.047776, -0.000040, 89.675476, 83.514060, 0.000000 }, // - 248
{0.089745, 0.044044, 0.004071, 89.675476, 83.514060, 0.000000 },  // - 249
{0.094214, 0.044044, -0.007274, 89.675476, 83.514060, 0.000000 }, // - 250
{0.072282, 0.044044, -0.001468, 89.675476, 90.444763, 0.000000 }, // - 251
{0.095764, 0.034224, -0.000264, 89.675476, 82.959915, 0.000000 }, // - 252
{0.087454, 0.026208, -0.000264, 89.675476, 82.959915, 0.000000 }, // - 253
{0.099198, 0.037362, -0.000264, 89.675476, 82.959915, 0.000000 }, // - 254
{0.070845, 0.019943, 0.003505, 89.675476, 73.529716, 0.000000 },  // - 255
{0.065373, 0.033656, -0.001141, 89.675476, 83.002151, 0.000000 }, // - 256
{0.070077, 0.033656, -0.001141, 89.675476, 83.002151, 0.000000 }, // - 257
{0.089536, 0.041904, 0.000715, 89.675476, 83.002151, 0.000000 },  // - 258
{0.084822, 0.041904, 0.000715, 89.675476, 83.002151, 0.000000 },  // - 259
{0.093009, 0.031491, -0.001568, 89.675476, 83.002151, 0.000000 }, // - 260
{0.093009, 0.015023, -0.001477, 89.675476, 83.002151, 0.000000 }, // - 261
{0.076580, 0.039782, -0.001477, 89.675476, 88.620780, 0.000000 }, // - 262
{0.076580, 0.028967, -0.001477, 89.675476, 88.620780, 0.000000 }, // - 263
{0.075424, 0.043059, -0.001477, 89.675476, 88.620780, 0.000000 }, // - 264
{0.089655, 0.021726, -0.001477, 89.675476, 88.620780, 0.000000 }, // - 265
{0.096792, 0.014114, -0.003062, 89.675476, 85.166038, 0.000000 }, // - 266
{0.094886, 0.024989, -0.003184, 89.675476, 85.166038, 0.000000 }, // - 267
{0.094886, 0.024989, -0.003184, 89.675476, 85.166038, 0.000000 }, // - 268
{0.102252, 0.024989, -0.003184, 89.675476, 85.166038, 0.000000 }, // - 269
{0.102252, 0.024989, 0.000529, 89.675476, 85.166038, 0.000000 },  // - 270
{0.096134, 0.025462, 0.000529, 89.675476, 79.225112, 0.000000 },  // - 271
{0.099226, 0.032663, 0.000529, 89.675476, 79.225112, 0.000000 },  // - 272
{0.0, 0.0, 0.0, 0.0, 0.0, 0.0},                                   // - 273
{0.089833, 0.022466, -0.001590, 89.675476, 88.636062, 0.000000 }, // - 274
{0.089833, 0.022466, -0.001590, 89.675476, 88.636062, 0.000000 }, // - 275
{0.089833, 0.022466, -0.001590, 89.675476, 88.636062, 0.000000 }, // - 276
{0.082718, 0.062596, -0.000201, 89.675476, 88.636062, 0.000000 }, // - 277
{0.082718, 0.062596, -0.000201, 89.675476, 88.636062, 0.000000 }, // - 278
{0.087652, 0.059379, -0.000201, 89.675476, 88.636062, 0.000000 }, // - 279
{0.087652, 0.023702, -0.003091, 89.675476, 88.636062, 0.000000 }, // - 280
{0.087652, 0.023702, -0.003091, 89.675476, 88.636062, 0.000000 }, // - 281
{0.090877, 0.026643, -0.003091, 89.675476, 88.636062, 0.000000 }, // - 282
{0.090877, 0.026643, -0.003091, 89.675476, 88.636062, 0.000000 }, // - 283
{0.090877, 0.053674, 0.009879, 89.675476, 88.636062, 0.000000 },  // - 284
{0.104320, 0.041487, 0.008021, 89.675476, 88.636062, 0.000000 },  // - 285
{0.087062, 0.021779, -0.003307, 89.675476, 88.636062, 0.000000 }, // - 286
{0.073173, 0.048856, 0.005337, 89.675476, 92.561180, 0.000000 },  // - 287
{0.090294, 0.027592, -0.003497, 89.675476, 92.561180, 0.000000 }, // - 288
{0.0, 0.0, 0.0, 0.0, 0.0, 0.0},                                   // - 289
{0.086562, 0.042698, -0.000612, 89.675476, 92.561180, 0.000000 }, // - 290
{0.096768, 0.039233, -0.000612, 89.675476, 83.550270, 0.000000 }, // - 291
{0.079939, 0.020731, -0.005162, 89.675476, 83.550270, 0.000000 }, // - 292
{0.097107, 0.027826, -0.005162, 89.675476, 88.505996, 0.000000 }, // - 293
{0.097107, 0.037636, 0.000618, 89.675476, 88.505996, 0.000000 },  // - 294
{0.079985, 0.035006, -0.000826, 89.675476, 87.533462, 0.000000 }, // - 295
{0.088445, 0.024209, -0.002076, 89.675476, 73.285072, 0.000000 }, // - 296
{0.094039, 0.035411, 0.000490, 89.675476, 84.277572, 0.000000 },  // - 297
{0.099553, 0.024683, -0.002919, 89.675476, 84.277572, 0.000000 }, // - 298
{0.099553, 0.044356, -0.000285, 89.675476, 84.277572, 0.000000 }  // - 299
};
enum SAZONE_MAIN {
	SAZONE_NAME[28],
	Float:SAZONE_AREA[6]
};
static const gSAZones[][SAZONE_MAIN] = {
        //      NAME                            AREA (Xmin,Ymin,Zmin,Xmax,Ymax,Zmax)
        {"The Big Ear",                 {-410.00,1403.30,-3.00,-137.90,1681.20,200.00}},
        {"Aldea Malvada",               {-1372.10,2498.50,0.00,-1277.50,2615.30,200.00}},
        {"Angel Pine",                  {-2324.90,-2584.20,-6.10,-1964.20,-2212.10,200.00}},
        {"Arco del Oeste",              {-901.10,2221.80,0.00,-592.00,2571.90,200.00}},
        {"Avispa Country Club",         {-2646.40,-355.40,0.00,-2270.00,-222.50,200.00}},
        {"Avispa Country Club",         {-2831.80,-430.20,-6.10,-2646.40,-222.50,200.00}},
        {"Avispa Country Club",         {-2361.50,-417.10,0.00,-2270.00,-355.40,200.00}},
        {"Avispa Country Club",         {-2667.80,-302.10,-28.80,-2646.40,-262.30,71.10}},
        {"Avispa Country Club",         {-2470.00,-355.40,0.00,-2270.00,-318.40,46.10}},
        {"Avispa Country Club",         {-2550.00,-355.40,0.00,-2470.00,-318.40,39.70}},
        {"Back o Beyond",               {-1166.90,-2641.10,0.00,-321.70,-1856.00,200.00}},
        {"Battery Point",               {-2741.00,1268.40,-4.50,-2533.00,1490.40,200.00}},
        {"Bayside",                     {-2741.00,2175.10,0.00,-2353.10,2722.70,200.00}},
        {"Bayside Marina",              {-2353.10,2275.70,0.00,-2153.10,2475.70,200.00}},
        {"Beacon Hill",                 {-399.60,-1075.50,-1.40,-319.00,-977.50,198.50}},
        {"Blackfield",                  {964.30,1203.20,-89.00,1197.30,1403.20,110.90}},
        {"Blackfield",                  {964.30,1403.20,-89.00,1197.30,1726.20,110.90}},
        {"Blackfield Chapel",           {1375.60,596.30,-89.00,1558.00,823.20,110.90}},
        {"Blackfield Chapel",           {1325.60,596.30,-89.00,1375.60,795.00,110.90}},
        {"Blackfield Intersection",     {1197.30,1044.60,-89.00,1277.00,1163.30,110.90}},
        {"Blackfield Intersection",     {1166.50,795.00,-89.00,1375.60,1044.60,110.90}},
        {"Blackfield Intersection",     {1277.00,1044.60,-89.00,1315.30,1087.60,110.90}},
        {"Blackfield Intersection",     {1375.60,823.20,-89.00,1457.30,919.40,110.90}},
        {"Blueberry",                   {104.50,-220.10,2.30,349.60,152.20,200.00}},
        {"Blueberry",                   {19.60,-404.10,3.80,349.60,-220.10,200.00}},
        {"Blueberry Acres",             {-319.60,-220.10,0.00,104.50,293.30,200.00}},
        {"Caligula's Palace",           {2087.30,1543.20,-89.00,2437.30,1703.20,110.90}},
        {"Caligula's Palace",           {2137.40,1703.20,-89.00,2437.30,1783.20,110.90}},
        {"Calton Heights",              {-2274.10,744.10,-6.10,-1982.30,1358.90,200.00}},
        {"Chinatown",                   {-2274.10,578.30,-7.60,-2078.60,744.10,200.00}},
        {"City Hall",                   {-2867.80,277.40,-9.10,-2593.40,458.40,200.00}},
        {"Come-A-Lot",                  {2087.30,943.20,-89.00,2623.10,1203.20,110.90}},
        {"Commerce",                    {1323.90,-1842.20,-89.00,1701.90,-1722.20,110.90}},
        {"Commerce",                    {1323.90,-1722.20,-89.00,1440.90,-1577.50,110.90}},
        {"Commerce",                    {1370.80,-1577.50,-89.00,1463.90,-1384.90,110.90}},
        {"Commerce",                    {1463.90,-1577.50,-89.00,1667.90,-1430.80,110.90}},
        {"Commerce",                    {1583.50,-1722.20,-89.00,1758.90,-1577.50,110.90}},
        {"Commerce",                    {1667.90,-1577.50,-89.00,1812.60,-1430.80,110.90}},
        {"Conference Center",           {1046.10,-1804.20,-89.00,1323.90,-1722.20,110.90}},
        {"Conference Center",           {1073.20,-1842.20,-89.00,1323.90,-1804.20,110.90}},
        {"Cranberry Station",           {-2007.80,56.30,0.00,-1922.00,224.70,100.00}},
        {"Creek",                       {2749.90,1937.20,-89.00,2921.60,2669.70,110.90}},
        {"Dillimore",                   {580.70,-674.80,-9.50,861.00,-404.70,200.00}},
        {"Doherty",                     {-2270.00,-324.10,-0.00,-1794.90,-222.50,200.00}},
        {"Doherty",                     {-2173.00,-222.50,-0.00,-1794.90,265.20,200.00}},
        {"Downtown",                    {-1982.30,744.10,-6.10,-1871.70,1274.20,200.00}},
        {"Downtown",                    {-1871.70,1176.40,-4.50,-1620.30,1274.20,200.00}},
        {"Downtown",                    {-1700.00,744.20,-6.10,-1580.00,1176.50,200.00}},
        {"Downtown",                    {-1580.00,744.20,-6.10,-1499.80,1025.90,200.00}},
        {"Downtown",                    {-2078.60,578.30,-7.60,-1499.80,744.20,200.00}},
        {"Downtown",                    {-1993.20,265.20,-9.10,-1794.90,578.30,200.00}},
        {"Downtown Los Santos",         {1463.90,-1430.80,-89.00,1724.70,-1290.80,110.90}},
        {"Downtown Los Santos",         {1724.70,-1430.80,-89.00,1812.60,-1250.90,110.90}},
        {"Downtown Los Santos",         {1463.90,-1290.80,-89.00,1724.70,-1150.80,110.90}},
        {"Downtown Los Santos",         {1370.80,-1384.90,-89.00,1463.90,-1170.80,110.90}},
        {"Downtown Los Santos",         {1724.70,-1250.90,-89.00,1812.60,-1150.80,110.90}},
        {"Downtown Los Santos",         {1370.80,-1170.80,-89.00,1463.90,-1130.80,110.90}},
        {"Downtown Los Santos",         {1378.30,-1130.80,-89.00,1463.90,-1026.30,110.90}},
        {"Downtown Los Santos",         {1391.00,-1026.30,-89.00,1463.90,-926.90,110.90}},
        {"Downtown Los Santos",         {1507.50,-1385.20,110.90,1582.50,-1325.30,335.90}},
        {"East Beach",                  {2632.80,-1852.80,-89.00,2959.30,-1668.10,110.90}},
        {"East Beach",                  {2632.80,-1668.10,-89.00,2747.70,-1393.40,110.90}},
        {"East Beach",                  {2747.70,-1668.10,-89.00,2959.30,-1498.60,110.90}},
        {"East Beach",                  {2747.70,-1498.60,-89.00,2959.30,-1120.00,110.90}},
        {"East Los Santos",             {2421.00,-1628.50,-89.00,2632.80,-1454.30,110.90}},
        {"East Los Santos",             {2222.50,-1628.50,-89.00,2421.00,-1494.00,110.90}},
        {"East Los Santos",             {2266.20,-1494.00,-89.00,2381.60,-1372.00,110.90}},
        {"East Los Santos",             {2381.60,-1494.00,-89.00,2421.00,-1454.30,110.90}},
        {"East Los Santos",             {2281.40,-1372.00,-89.00,2381.60,-1135.00,110.90}},
        {"East Los Santos",             {2381.60,-1454.30,-89.00,2462.10,-1135.00,110.90}},
        {"East Los Santos",             {2462.10,-1454.30,-89.00,2581.70,-1135.00,110.90}},
        {"Easter Basin",                {-1794.90,249.90,-9.10,-1242.90,578.30,200.00}},
        {"Easter Basin",                {-1794.90,-50.00,-0.00,-1499.80,249.90,200.00}},
        {"Easter Bay Airport",          {-1499.80,-50.00,-0.00,-1242.90,249.90,200.00}},
        {"Easter Bay Airport",          {-1794.90,-730.10,-3.00,-1213.90,-50.00,200.00}},
        {"Easter Bay Airport",          {-1213.90,-730.10,0.00,-1132.80,-50.00,200.00}},
        {"Easter Bay Airport",          {-1242.90,-50.00,0.00,-1213.90,578.30,200.00}},
        {"Easter Bay Airport",          {-1213.90,-50.00,-4.50,-947.90,578.30,200.00}},
        {"Easter Bay Airport",          {-1315.40,-405.30,15.40,-1264.40,-209.50,25.40}},
        {"Easter Bay Airport",          {-1354.30,-287.30,15.40,-1315.40,-209.50,25.40}},
        {"Easter Bay Airport",          {-1490.30,-209.50,15.40,-1264.40,-148.30,25.40}},
        {"Easter Bay Chemicals",        {-1132.80,-768.00,0.00,-956.40,-578.10,200.00}},
        {"Easter Bay Chemicals",        {-1132.80,-787.30,0.00,-956.40,-768.00,200.00}},
        {"El Castillo del Diablo",      {-464.50,2217.60,0.00,-208.50,2580.30,200.00}},
        {"El Castillo del Diablo",      {-208.50,2123.00,-7.60,114.00,2337.10,200.00}},
        {"El Castillo del Diablo",      {-208.50,2337.10,0.00,8.40,2487.10,200.00}},
        {"El Corona",                   {1812.60,-2179.20,-89.00,1970.60,-1852.80,110.90}},
        {"El Corona",                   {1692.60,-2179.20,-89.00,1812.60,-1842.20,110.90}},
        {"El Quebrados",                {-1645.20,2498.50,0.00,-1372.10,2777.80,200.00}},
        {"Esplanade East",              {-1620.30,1176.50,-4.50,-1580.00,1274.20,200.00}},
        {"Esplanade East",              {-1580.00,1025.90,-6.10,-1499.80,1274.20,200.00}},
        {"Esplanade East",              {-1499.80,578.30,-79.60,-1339.80,1274.20,20.30}},
        {"Esplanade North",             {-2533.00,1358.90,-4.50,-1996.60,1501.20,200.00}},
        {"Esplanade North",             {-1996.60,1358.90,-4.50,-1524.20,1592.50,200.00}},
        {"Esplanade North",             {-1982.30,1274.20,-4.50,-1524.20,1358.90,200.00}},
        {"Fallen Tree",                 {-792.20,-698.50,-5.30,-452.40,-380.00,200.00}},
        {"Fallow Bridge",               {434.30,366.50,0.00,603.00,555.60,200.00}},
        {"Fern Ridge",                  {508.10,-139.20,0.00,1306.60,119.50,200.00}},
        {"Financial",                   {-1871.70,744.10,-6.10,-1701.30,1176.40,300.00}},
        {"Fisher's Lagoon",             {1916.90,-233.30,-100.00,2131.70,13.80,200.00}},
        {"Flint Intersection",          {-187.70,-1596.70,-89.00,17.00,-1276.60,110.90}},
        {"Flint Range",                 {-594.10,-1648.50,0.00,-187.70,-1276.60,200.00}},
        {"Fort Carson",                 {-376.20,826.30,-3.00,123.70,1220.40,200.00}},
        {"Foster Valley",               {-2270.00,-430.20,-0.00,-2178.60,-324.10,200.00}},
        {"Foster Valley",               {-2178.60,-599.80,-0.00,-1794.90,-324.10,200.00}},
        {"Foster Valley",               {-2178.60,-1115.50,0.00,-1794.90,-599.80,200.00}},
        {"Foster Valley",               {-2178.60,-1250.90,0.00,-1794.90,-1115.50,200.00}},
        {"Frederick Bridge",            {2759.20,296.50,0.00,2774.20,594.70,200.00}},
        {"Gant Bridge",                 {-2741.40,1659.60,-6.10,-2616.40,2175.10,200.00}},
        {"Gant Bridge",                 {-2741.00,1490.40,-6.10,-2616.40,1659.60,200.00}},
        {"Ganton",                      {2222.50,-1852.80,-89.00,2632.80,-1722.30,110.90}},
        {"Ganton",                      {2222.50,-1722.30,-89.00,2632.80,-1628.50,110.90}},
        {"Garcia",                      {-2411.20,-222.50,-0.00,-2173.00,265.20,200.00}},
        {"Garcia",                      {-2395.10,-222.50,-5.30,-2354.00,-204.70,200.00}},
        {"Garver Bridge",               {-1339.80,828.10,-89.00,-1213.90,1057.00,110.90}},
        {"Garver Bridge",               {-1213.90,950.00,-89.00,-1087.90,1178.90,110.90}},
        {"Garver Bridge",               {-1499.80,696.40,-179.60,-1339.80,925.30,20.30}},
        {"Glen Park",                   {1812.60,-1449.60,-89.00,1996.90,-1350.70,110.90}},
        {"Glen Park",                   {1812.60,-1100.80,-89.00,1994.30,-973.30,110.90}},
        {"Glen Park",                   {1812.60,-1350.70,-89.00,2056.80,-1100.80,110.90}},
        {"Green Palms",                 {176.50,1305.40,-3.00,338.60,1520.70,200.00}},
        {"Greenglass College",          {964.30,1044.60,-89.00,1197.30,1203.20,110.90}},
        {"Greenglass College",          {964.30,930.80,-89.00,1166.50,1044.60,110.90}},
        {"Hampton Barns",               {603.00,264.30,0.00,761.90,366.50,200.00}},
        {"Hankypanky Point",            {2576.90,62.10,0.00,2759.20,385.50,200.00}},
        {"Harry Gold Parkway",          {1777.30,863.20,-89.00,1817.30,2342.80,110.90}},
        {"Hashbury",                    {-2593.40,-222.50,-0.00,-2411.20,54.70,200.00}},
        {"Hilltop Farm",                {967.30,-450.30,-3.00,1176.70,-217.90,200.00}},
        {"Hunter Quarry",               {337.20,710.80,-115.20,860.50,1031.70,203.70}},
        {"Idlewood",                    {1812.60,-1852.80,-89.00,1971.60,-1742.30,110.90}},
        {"Idlewood",                    {1812.60,-1742.30,-89.00,1951.60,-1602.30,110.90}},
        {"Idlewood",                    {1951.60,-1742.30,-89.00,2124.60,-1602.30,110.90}},
        {"Idlewood",                    {1812.60,-1602.30,-89.00,2124.60,-1449.60,110.90}},
        {"Idlewood",                    {2124.60,-1742.30,-89.00,2222.50,-1494.00,110.90}},
        {"Idlewood",                    {1971.60,-1852.80,-89.00,2222.50,-1742.30,110.90}},
        {"Jefferson",                   {1996.90,-1449.60,-89.00,2056.80,-1350.70,110.90}},
        {"Jefferson",                   {2124.60,-1494.00,-89.00,2266.20,-1449.60,110.90}},
        {"Jefferson",                   {2056.80,-1372.00,-89.00,2281.40,-1210.70,110.90}},
        {"Jefferson",                   {2056.80,-1210.70,-89.00,2185.30,-1126.30,110.90}},
        {"Jefferson",                   {2185.30,-1210.70,-89.00,2281.40,-1154.50,110.90}},
        {"Jefferson",                   {2056.80,-1449.60,-89.00,2266.20,-1372.00,110.90}},
        {"Julius Thruway East",         {2623.10,943.20,-89.00,2749.90,1055.90,110.90}},
        {"Julius Thruway East",         {2685.10,1055.90,-89.00,2749.90,2626.50,110.90}},
        {"Julius Thruway East",         {2536.40,2442.50,-89.00,2685.10,2542.50,110.90}},
        {"Julius Thruway East",         {2625.10,2202.70,-89.00,2685.10,2442.50,110.90}},
        {"Julius Thruway North",        {2498.20,2542.50,-89.00,2685.10,2626.50,110.90}},
        {"Julius Thruway North",        {2237.40,2542.50,-89.00,2498.20,2663.10,110.90}},
        {"Julius Thruway North",        {2121.40,2508.20,-89.00,2237.40,2663.10,110.90}},
        {"Julius Thruway North",        {1938.80,2508.20,-89.00,2121.40,2624.20,110.90}},
        {"Julius Thruway North",        {1534.50,2433.20,-89.00,1848.40,2583.20,110.90}},
        {"Julius Thruway North",        {1848.40,2478.40,-89.00,1938.80,2553.40,110.90}},
        {"Julius Thruway North",        {1704.50,2342.80,-89.00,1848.40,2433.20,110.90}},
        {"Julius Thruway North",        {1377.30,2433.20,-89.00,1534.50,2507.20,110.90}},
        {"Julius Thruway South",        {1457.30,823.20,-89.00,2377.30,863.20,110.90}},
        {"Julius Thruway South",        {2377.30,788.80,-89.00,2537.30,897.90,110.90}},
        {"Julius Thruway West",         {1197.30,1163.30,-89.00,1236.60,2243.20,110.90}},
        {"Julius Thruway West",         {1236.60,2142.80,-89.00,1297.40,2243.20,110.90}},
        {"Juniper Hill",                {-2533.00,578.30,-7.60,-2274.10,968.30,200.00}},
        {"Juniper Hollow",              {-2533.00,968.30,-6.10,-2274.10,1358.90,200.00}},
        {"K.A.C.C. Military Fuels",     {2498.20,2626.50,-89.00,2749.90,2861.50,110.90}},
        {"Kincaid Bridge",              {-1339.80,599.20,-89.00,-1213.90,828.10,110.90}},
        {"Kincaid Bridge",              {-1213.90,721.10,-89.00,-1087.90,950.00,110.90}},
        {"Kincaid Bridge",              {-1087.90,855.30,-89.00,-961.90,986.20,110.90}},
        {"King's",                      {-2329.30,458.40,-7.60,-1993.20,578.30,200.00}},
        {"King's",                      {-2411.20,265.20,-9.10,-1993.20,373.50,200.00}},
        {"King's",                      {-2253.50,373.50,-9.10,-1993.20,458.40,200.00}},
        {"LVA Freight Depot",           {1457.30,863.20,-89.00,1777.40,1143.20,110.90}},
        {"LVA Freight Depot",           {1375.60,919.40,-89.00,1457.30,1203.20,110.90}},
        {"LVA Freight Depot",           {1277.00,1087.60,-89.00,1375.60,1203.20,110.90}},
        {"LVA Freight Depot",           {1315.30,1044.60,-89.00,1375.60,1087.60,110.90}},
        {"LVA Freight Depot",           {1236.60,1163.40,-89.00,1277.00,1203.20,110.90}},
        {"Las Barrancas",               {-926.10,1398.70,-3.00,-719.20,1634.60,200.00}},
        {"Las Brujas",                  {-365.10,2123.00,-3.00,-208.50,2217.60,200.00}},
        {"Las Colinas",                 {1994.30,-1100.80,-89.00,2056.80,-920.80,110.90}},
        {"Las Colinas",                 {2056.80,-1126.30,-89.00,2126.80,-920.80,110.90}},
        {"Las Colinas",                 {2185.30,-1154.50,-89.00,2281.40,-934.40,110.90}},
        {"Las Colinas",                 {2126.80,-1126.30,-89.00,2185.30,-934.40,110.90}},
        {"Las Colinas",                 {2747.70,-1120.00,-89.00,2959.30,-945.00,110.90}},
        {"Las Colinas",                 {2632.70,-1135.00,-89.00,2747.70,-945.00,110.90}},
        {"Las Colinas",                 {2281.40,-1135.00,-89.00,2632.70,-945.00,110.90}},
        {"Las Payasadas",               {-354.30,2580.30,2.00,-133.60,2816.80,200.00}},
        {"Las Venturas Airport",        {1236.60,1203.20,-89.00,1457.30,1883.10,110.90}},
        {"Las Venturas Airport",        {1457.30,1203.20,-89.00,1777.30,1883.10,110.90}},
        {"Las Venturas Airport",        {1457.30,1143.20,-89.00,1777.40,1203.20,110.90}},
        {"Las Venturas Airport",        {1515.80,1586.40,-12.50,1729.90,1714.50,87.50}},
        {"Last Dime Motel",             {1823.00,596.30,-89.00,1997.20,823.20,110.90}},
        {"Leafy Hollow",                {-1166.90,-1856.00,0.00,-815.60,-1602.00,200.00}},
        {"Liberty City",                {-1000.00,400.00,1300.00,-700.00,600.00,1400.00}},
        {"Lil' Probe Inn",              {-90.20,1286.80,-3.00,153.80,1554.10,200.00}},
        {"Linden Side",                 {2749.90,943.20,-89.00,2923.30,1198.90,110.90}},
        {"Linden Station",              {2749.90,1198.90,-89.00,2923.30,1548.90,110.90}},
        {"Linden Station",              {2811.20,1229.50,-39.50,2861.20,1407.50,60.40}},
        {"Little Mexico",               {1701.90,-1842.20,-89.00,1812.60,-1722.20,110.90}},
        {"Little Mexico",               {1758.90,-1722.20,-89.00,1812.60,-1577.50,110.90}},
        {"Los Flores",                  {2581.70,-1454.30,-89.00,2632.80,-1393.40,110.90}},
        {"Los Flores",                  {2581.70,-1393.40,-89.00,2747.70,-1135.00,110.90}},
        {"Los Santos International",    {1249.60,-2394.30,-89.00,1852.00,-2179.20,110.90}},
        {"Los Santos International",    {1852.00,-2394.30,-89.00,2089.00,-2179.20,110.90}},
        {"Los Santos International",    {1382.70,-2730.80,-89.00,2201.80,-2394.30,110.90}},
        {"Los Santos International",    {1974.60,-2394.30,-39.00,2089.00,-2256.50,60.90}},
        {"Los Santos International",    {1400.90,-2669.20,-39.00,2189.80,-2597.20,60.90}},
        {"Los Santos International",    {2051.60,-2597.20,-39.00,2152.40,-2394.30,60.90}},
        {"Marina",                      {647.70,-1804.20,-89.00,851.40,-1577.50,110.90}},
        {"Marina",                      {647.70,-1577.50,-89.00,807.90,-1416.20,110.90}},
        {"Marina",                      {807.90,-1577.50,-89.00,926.90,-1416.20,110.90}},
        {"Market",                      {787.40,-1416.20,-89.00,1072.60,-1310.20,110.90}},
        {"Market",                      {952.60,-1310.20,-89.00,1072.60,-1130.80,110.90}},
        {"Market",                      {1072.60,-1416.20,-89.00,1370.80,-1130.80,110.90}},
        {"Market",                      {926.90,-1577.50,-89.00,1370.80,-1416.20,110.90}},
        {"Market Station",              {787.40,-1410.90,-34.10,866.00,-1310.20,65.80}},
        {"Martin Bridge",               {-222.10,293.30,0.00,-122.10,476.40,200.00}},
        {"Missionary Hill",             {-2994.40,-811.20,0.00,-2178.60,-430.20,200.00}},
        {"Montgomery",                  {1119.50,119.50,-3.00,1451.40,493.30,200.00}},
        {"Montgomery",                  {1451.40,347.40,-6.10,1582.40,420.80,200.00}},
        {"Montgomery Intersection",     {1546.60,208.10,0.00,1745.80,347.40,200.00}},
        {"Montgomery Intersection",     {1582.40,347.40,0.00,1664.60,401.70,200.00}},
        {"Mulholland",                  {1414.00,-768.00,-89.00,1667.60,-452.40,110.90}},
        {"Mulholland",                  {1281.10,-452.40,-89.00,1641.10,-290.90,110.90}},
        {"Mulholland",                  {1269.10,-768.00,-89.00,1414.00,-452.40,110.90}},
        {"Mulholland",                  {1357.00,-926.90,-89.00,1463.90,-768.00,110.90}},
        {"Mulholland",                  {1318.10,-910.10,-89.00,1357.00,-768.00,110.90}},
        {"Mulholland",                  {1169.10,-910.10,-89.00,1318.10,-768.00,110.90}},
        {"Mulholland",                  {768.60,-954.60,-89.00,952.60,-860.60,110.90}},
        {"Mulholland",                  {687.80,-860.60,-89.00,911.80,-768.00,110.90}},
        {"Mulholland",                  {737.50,-768.00,-89.00,1142.20,-674.80,110.90}},
        {"Mulholland",                  {1096.40,-910.10,-89.00,1169.10,-768.00,110.90}},
        {"Mulholland",                  {952.60,-937.10,-89.00,1096.40,-860.60,110.90}},
        {"Mulholland",                  {911.80,-860.60,-89.00,1096.40,-768.00,110.90}},
        {"Mulholland",                  {861.00,-674.80,-89.00,1156.50,-600.80,110.90}},
        {"Mulholland Intersection",     {1463.90,-1150.80,-89.00,1812.60,-768.00,110.90}},
        {"North Rock",                  {2285.30,-768.00,0.00,2770.50,-269.70,200.00}},
        {"Ocean Docks",                 {2373.70,-2697.00,-89.00,2809.20,-2330.40,110.90}},
        {"Ocean Docks",                 {2201.80,-2418.30,-89.00,2324.00,-2095.00,110.90}},
        {"Ocean Docks",                 {2324.00,-2302.30,-89.00,2703.50,-2145.10,110.90}},
        {"Ocean Docks",                 {2089.00,-2394.30,-89.00,2201.80,-2235.80,110.90}},
        {"Ocean Docks",                 {2201.80,-2730.80,-89.00,2324.00,-2418.30,110.90}},
        {"Ocean Docks",                 {2703.50,-2302.30,-89.00,2959.30,-2126.90,110.90}},
        {"Ocean Docks",                 {2324.00,-2145.10,-89.00,2703.50,-2059.20,110.90}},
        {"Ocean Flats",                 {-2994.40,277.40,-9.10,-2867.80,458.40,200.00}},
        {"Ocean Flats",                 {-2994.40,-222.50,-0.00,-2593.40,277.40,200.00}},
        {"Ocean Flats",                 {-2994.40,-430.20,-0.00,-2831.80,-222.50,200.00}},
        {"Octane Springs",              {338.60,1228.50,0.00,664.30,1655.00,200.00}},
        {"Old Venturas Strip",          {2162.30,2012.10,-89.00,2685.10,2202.70,110.90}},
        {"Palisades",                   {-2994.40,458.40,-6.10,-2741.00,1339.60,200.00}},
        {"Palomino Creek",              {2160.20,-149.00,0.00,2576.90,228.30,200.00}},
        {"Paradiso",                    {-2741.00,793.40,-6.10,-2533.00,1268.40,200.00}},
        {"Pershing Square",             {1440.90,-1722.20,-89.00,1583.50,-1577.50,110.90}},
        {"Pilgrim",                     {2437.30,1383.20,-89.00,2624.40,1783.20,110.90}},
        {"Pilgrim",                     {2624.40,1383.20,-89.00,2685.10,1783.20,110.90}},
        {"Pilson Intersection",         {1098.30,2243.20,-89.00,1377.30,2507.20,110.90}},
        {"Pirates in Men's Pants",      {1817.30,1469.20,-89.00,2027.40,1703.20,110.90}},
        {"Playa del Seville",           {2703.50,-2126.90,-89.00,2959.30,-1852.80,110.90}},
        {"Prickle Pine",                {1534.50,2583.20,-89.00,1848.40,2863.20,110.90}},
        {"Prickle Pine",                {1117.40,2507.20,-89.00,1534.50,2723.20,110.90}},
        {"Prickle Pine",                {1848.40,2553.40,-89.00,1938.80,2863.20,110.90}},
        {"Prickle Pine",                {1938.80,2624.20,-89.00,2121.40,2861.50,110.90}},
        {"Queens",                      {-2533.00,458.40,0.00,-2329.30,578.30,200.00}},
        {"Queens",                      {-2593.40,54.70,0.00,-2411.20,458.40,200.00}},
        {"Queens",                      {-2411.20,373.50,0.00,-2253.50,458.40,200.00}},
        {"Randolph Industrial Estate",  {1558.00,596.30,-89.00,1823.00,823.20,110.90}},
        {"Redsands East",               {1817.30,2011.80,-89.00,2106.70,2202.70,110.90}},
        {"Redsands East",               {1817.30,2202.70,-89.00,2011.90,2342.80,110.90}},
        {"Redsands East",               {1848.40,2342.80,-89.00,2011.90,2478.40,110.90}},
        {"Redsands West",               {1236.60,1883.10,-89.00,1777.30,2142.80,110.90}},
        {"Redsands West",               {1297.40,2142.80,-89.00,1777.30,2243.20,110.90}},
        {"Redsands West",               {1377.30,2243.20,-89.00,1704.50,2433.20,110.90}},
        {"Redsands West",               {1704.50,2243.20,-89.00,1777.30,2342.80,110.90}},
        {"Regular Tom",                 {-405.70,1712.80,-3.00,-276.70,1892.70,200.00}},
        {"Richman",                     {647.50,-1118.20,-89.00,787.40,-954.60,110.90}},
        {"Richman",                     {647.50,-954.60,-89.00,768.60,-860.60,110.90}},
        {"Richman",                     {225.10,-1369.60,-89.00,334.50,-1292.00,110.90}},
        {"Richman",                     {225.10,-1292.00,-89.00,466.20,-1235.00,110.90}},
        {"Richman",                     {72.60,-1404.90,-89.00,225.10,-1235.00,110.90}},
        {"Richman",                     {72.60,-1235.00,-89.00,321.30,-1008.10,110.90}},
        {"Richman",                     {321.30,-1235.00,-89.00,647.50,-1044.00,110.90}},
        {"Richman",                     {321.30,-1044.00,-89.00,647.50,-860.60,110.90}},
        {"Richman",                     {321.30,-860.60,-89.00,687.80,-768.00,110.90}},
        {"Richman",                     {321.30,-768.00,-89.00,700.70,-674.80,110.90}},
        {"Robada Intersection",         {-1119.00,1178.90,-89.00,-862.00,1351.40,110.90}},
        {"Roca Escalante",              {2237.40,2202.70,-89.00,2536.40,2542.50,110.90}},
        {"Roca Escalante",              {2536.40,2202.70,-89.00,2625.10,2442.50,110.90}},
        {"Rockshore East",              {2537.30,676.50,-89.00,2902.30,943.20,110.90}},
        {"Rockshore West",              {1997.20,596.30,-89.00,2377.30,823.20,110.90}},
        {"Rockshore West",              {2377.30,596.30,-89.00,2537.30,788.80,110.90}},
        {"Rodeo",                       {72.60,-1684.60,-89.00,225.10,-1544.10,110.90}},
        {"Rodeo",                       {72.60,-1544.10,-89.00,225.10,-1404.90,110.90}},
        {"Rodeo",                       {225.10,-1684.60,-89.00,312.80,-1501.90,110.90}},
        {"Rodeo",                       {225.10,-1501.90,-89.00,334.50,-1369.60,110.90}},
        {"Rodeo",                       {334.50,-1501.90,-89.00,422.60,-1406.00,110.90}},
        {"Rodeo",                       {312.80,-1684.60,-89.00,422.60,-1501.90,110.90}},
        {"Rodeo",                       {422.60,-1684.60,-89.00,558.00,-1570.20,110.90}},
        {"Rodeo",                       {558.00,-1684.60,-89.00,647.50,-1384.90,110.90}},
        {"Rodeo",                       {466.20,-1570.20,-89.00,558.00,-1385.00,110.90}},
        {"Rodeo",                       {422.60,-1570.20,-89.00,466.20,-1406.00,110.90}},
        {"Rodeo",                       {466.20,-1385.00,-89.00,647.50,-1235.00,110.90}},
        {"Rodeo",                       {334.50,-1406.00,-89.00,466.20,-1292.00,110.90}},
        {"Royal Casino",                {2087.30,1383.20,-89.00,2437.30,1543.20,110.90}},
        {"San Andreas Sound",           {2450.30,385.50,-100.00,2759.20,562.30,200.00}},
        {"Santa Flora",                 {-2741.00,458.40,-7.60,-2533.00,793.40,200.00}},
        {"Santa Maria Beach",           {342.60,-2173.20,-89.00,647.70,-1684.60,110.90}},
        {"Santa Maria Beach",           {72.60,-2173.20,-89.00,342.60,-1684.60,110.90}},
        {"Shady Cabin",                 {-1632.80,-2263.40,-3.00,-1601.30,-2231.70,200.00}},
        {"Shady Creeks",                {-1820.60,-2643.60,-8.00,-1226.70,-1771.60,200.00}},
        {"Shady Creeks",                {-2030.10,-2174.80,-6.10,-1820.60,-1771.60,200.00}},
        {"Sobell Rail Yards",           {2749.90,1548.90,-89.00,2923.30,1937.20,110.90}},
        {"Spinybed",                    {2121.40,2663.10,-89.00,2498.20,2861.50,110.90}},
        {"Starfish Casino",             {2437.30,1783.20,-89.00,2685.10,2012.10,110.90}},
        {"Starfish Casino",             {2437.30,1858.10,-39.00,2495.00,1970.80,60.90}},
        {"Starfish Casino",             {2162.30,1883.20,-89.00,2437.30,2012.10,110.90}},
        {"Temple",                      {1252.30,-1130.80,-89.00,1378.30,-1026.30,110.90}},
        {"Temple",                      {1252.30,-1026.30,-89.00,1391.00,-926.90,110.90}},
        {"Temple",                      {1252.30,-926.90,-89.00,1357.00,-910.10,110.90}},
        {"Temple",                      {952.60,-1130.80,-89.00,1096.40,-937.10,110.90}},
        {"Temple",                      {1096.40,-1130.80,-89.00,1252.30,-1026.30,110.90}},
        {"Temple",                      {1096.40,-1026.30,-89.00,1252.30,-910.10,110.90}},
        {"The Camel's Toe",             {2087.30,1203.20,-89.00,2640.40,1383.20,110.90}},
        {"The Clown's Pocket",          {2162.30,1783.20,-89.00,2437.30,1883.20,110.90}},
        {"The Emerald Isle",            {2011.90,2202.70,-89.00,2237.40,2508.20,110.90}},
        {"The Farm",                    {-1209.60,-1317.10,114.90,-908.10,-787.30,251.90}},
        {"The Four Dragons Casino",     {1817.30,863.20,-89.00,2027.30,1083.20,110.90}},
        {"The High Roller",             {1817.30,1283.20,-89.00,2027.30,1469.20,110.90}},
        {"The Mako Span",               {1664.60,401.70,0.00,1785.10,567.20,200.00}},
        {"The Panopticon",              {-947.90,-304.30,-1.10,-319.60,327.00,200.00}},
        {"The Pink Swan",               {1817.30,1083.20,-89.00,2027.30,1283.20,110.90}},
        {"The Sherman Dam",             {-968.70,1929.40,-3.00,-481.10,2155.20,200.00}},
        {"The Strip",                   {2027.40,863.20,-89.00,2087.30,1703.20,110.90}},
        {"The Strip",                   {2106.70,1863.20,-89.00,2162.30,2202.70,110.90}},
        {"The Strip",                   {2027.40,1783.20,-89.00,2162.30,1863.20,110.90}},
        {"The Strip",                   {2027.40,1703.20,-89.00,2137.40,1783.20,110.90}},
        {"The Visage",                  {1817.30,1863.20,-89.00,2106.70,2011.80,110.90}},
        {"The Visage",                  {1817.30,1703.20,-89.00,2027.40,1863.20,110.90}},
        {"Unity Station",               {1692.60,-1971.80,-20.40,1812.60,-1932.80,79.50}},
        {"Valle Ocultado",              {-936.60,2611.40,2.00,-715.90,2847.90,200.00}},
        {"Verdant Bluffs",              {930.20,-2488.40,-89.00,1249.60,-2006.70,110.90}},
        {"Verdant Bluffs",              {1073.20,-2006.70,-89.00,1249.60,-1842.20,110.90}},
        {"Verdant Bluffs",              {1249.60,-2179.20,-89.00,1692.60,-1842.20,110.90}},
        {"Verdant Meadows",             {37.00,2337.10,-3.00,435.90,2677.90,200.00}},
        {"Verona Beach",                {647.70,-2173.20,-89.00,930.20,-1804.20,110.90}},
        {"Verona Beach",                {930.20,-2006.70,-89.00,1073.20,-1804.20,110.90}},
        {"Verona Beach",                {851.40,-1804.20,-89.00,1046.10,-1577.50,110.90}},
        {"Verona Beach",                {1161.50,-1722.20,-89.00,1323.90,-1577.50,110.90}},
        {"Verona Beach",                {1046.10,-1722.20,-89.00,1161.50,-1577.50,110.90}},
        {"Vinewood",                    {787.40,-1310.20,-89.00,952.60,-1130.80,110.90}},
        {"Vinewood",                    {787.40,-1130.80,-89.00,952.60,-954.60,110.90}},
        {"Vinewood",                    {647.50,-1227.20,-89.00,787.40,-1118.20,110.90}},
        {"Vinewood",                    {647.70,-1416.20,-89.00,787.40,-1227.20,110.90}},
        {"Whitewood Estates",           {883.30,1726.20,-89.00,1098.30,2507.20,110.90}},
        {"Whitewood Estates",           {1098.30,1726.20,-89.00,1197.30,2243.20,110.90}},
        {"Willowfield",                 {1970.60,-2179.20,-89.00,2089.00,-1852.80,110.90}},
        {"Willowfield",                 {2089.00,-2235.80,-89.00,2201.80,-1989.90,110.90}},
        {"Willowfield",                 {2089.00,-1989.90,-89.00,2324.00,-1852.80,110.90}},
        {"Willowfield",                 {2201.80,-2095.00,-89.00,2324.00,-1989.90,110.90}},
        {"Willowfield",                 {2541.70,-1941.40,-89.00,2703.50,-1852.80,110.90}},
        {"Willowfield",                 {2324.00,-2059.20,-89.00,2541.70,-1852.80,110.90}},
        {"Willowfield",                 {2541.70,-2059.20,-89.00,2703.50,-1941.40,110.90}},
        {"Yellow Bell Station",         {1377.40,2600.40,-21.90,1492.40,2687.30,78.00}},
        // Main Zones
        {"Los Santos",                  {44.60,-2892.90,-242.90,2997.00,-768.00,900.00}},
        {"Las Venturas",                {869.40,596.30,-242.90,2997.00,2993.80,900.00}},
        {"Bone County",                 {-480.50,596.30,-242.90,869.40,2993.80,900.00}},
        {"Tierra Robada",               {-2997.40,1659.60,-242.90,-480.50,2993.80,900.00}},
        {"Tierra Robada",               {-1213.90,596.30,-242.90,-480.50,1659.60,900.00}},
        {"San Fierro",                  {-2997.40,-1115.50,-242.90,-1213.90,1659.60,900.00}},
        {"Red County",                  {-1213.90,-768.00,-242.90,2997.00,596.30,900.00}},
        {"Flint County",                {-1213.90,-2892.90,-242.90,44.60,-768.00,900.00}},
        {"Whetstone",                   {-2997.40,-2892.90,-242.90,-1213.90,-1115.50,900.00}}
};
stock GetPlayer3DZone(playerid, zone[], len) //Credits to Cueball, Betamaster, Mabako, and Simon (for finetuning).
{
    new Float:x, Float:y, Float:z;
    GetPlayerPos(playerid, x, y, z);
    for(new i = 0; i != sizeof(gSAZones); i++ )
    {
		if(x >= gSAZones[i][SAZONE_AREA][0] && x <= gSAZones[i][SAZONE_AREA][3] && y >= gSAZones[i][SAZONE_AREA][1] && y <= gSAZones[i][SAZONE_AREA][4] && z >= gSAZones[i][SAZONE_AREA][2] && z <= gSAZones[i][SAZONE_AREA][5])
        {
            return format(zone, len, gSAZones[i][SAZONE_NAME], 0);
        }
    }
    return 0;
}

stock GetClosestVehicle2(playerid, Float:dis)
{
	new Float:X,
		Float:Y,
		Float:Z;
	if(GetPlayerPos(playerid, X, Y, Z))
	{
		new vehicleid = INVALID_VEHICLE_ID;
		for(new v, Float:temp, Float:VX, Float:VY, Float:VZ; v != MAX_VEHICLES; v++)
		{
			if(GetVehiclePos(v, VX, VY, VZ))
			{
				VX -= X, VY -= Y, VZ -= Z;
				temp = VX * VX + VY * VY + VZ * VZ;
				if(temp < dis) dis = temp, vehicleid = v;
			}
		}
		dis = floatpower(dis, 0.5);
		return vehicleid;
	}
	return INVALID_VEHICLE_ID;
}

stock GetPlayer3DZone2(Float:x, Float:y, Float:z, zone[], len) //Credits to Cueball, Betamaster, Mabako, and Simon (for finetuning).
{
    for(new i = 0; i != sizeof(gSAZones); i++ )
    {
        if(x >= gSAZones[i][SAZONE_AREA][0] && x <= gSAZones[i][SAZONE_AREA][3] && y >= gSAZones[i][SAZONE_AREA][1] && y <= gSAZones[i][SAZONE_AREA][4] && z >= gSAZones[i][SAZONE_AREA][2] && z <= gSAZones[i][SAZONE_AREA][5])
        {
            return format(zone, len, gSAZones[i][SAZONE_NAME], 0);
        }
    }
    return 0;
}

new JobWorking[MAX_PLAYERS];
new JobVehicle[MAX_PLAYERS];
new TruckerRoute[MAX_PLAYERS];
new Trailer[MAX_PLAYERS];

new Float:TruckerPos[12][3] = {
	{558.7788,-1258.9542,17.2422}, // masini rent ls
    {2001.4672,-2257.6196,13.5469}, // piese aeroport
    {2766.3508,-2495.0942,13.6688}, // ocean docks
    {1193.0354,-887.6928,43.0705}, // mancare vinewood
    {1615.7855,1643.1414,10.8203}, // aeroport lv
    {2538.1497,2822.1428,10.8203}, // baza militara lv
    {1658.9799,707.8843,10.8203}, // depozit amazon lv
	{2822.0254, 910.9764, 10.7594},
    {-1202.2438,-128.8123,14.1440}, // aeroport sf
    {-1432.9597,973.9499,7.1875}, // docks sf
    {-2905.8838,460.5699,4.9141}, // vest sf
	{-2076.6067, -2540.0500, 30.4246}	
};

new TruckerStep[MAX_PLAYERS];
new EditJob[MAX_PLAYERS];
new EditJobID[MAX_PLAYERS];
new SQL = -1;

forward DeAMXI(playerid);
public DeAMXI(playerid)
{
 	AntiDeAMX();
	return 1;
}

// DS TDSF
new DSTimer[MAX_PLAYERS], TestingModel[MAX_PLAYERS];
new DealerCarType[MAX_PLAYERS], SelectedCar[MAX_PLAYERS][150], TotalDealerCars[MAX_PLAYERS], LastDealerCar[MAX_PLAYERS];
new DealerCar[MAX_PLAYERS], DealerCategory[MAX_PLAYERS], DealerCarColor1[MAX_PLAYERS], DealerCarColor2[MAX_PLAYERS], Float:DealerCarAngle[MAX_PLAYERS];

new Float: BoatVehPos[7][4] = {
{179.0296, -1916.2565, -0.0159},
{187.7530, -1916.3357, -0.0159},
{202.3899, -1916.0319, -0.0159},
{209.8458, -1915.7878, -0.0159},
{227.6768, -1916.4446, -0.0159},
{253.8787, -1915.4661, -0.0159},
{279.1484, -1941.1598, -0.0159}
};

new Float: HeliVehPos[7][4] = {
{-1256.2849, -41.0140, 14.6912},
{-1281.7654, -9.5575, 14.6912},
{-1295.4089, -22.2600, 14.6912},
{-1304.4703, 24.8014, 14.6912},
{-1321.0928, 9.4536, 14.6912},
{-1310.6278, 62.2550, 14.6912},
{-1330.3777, 41.6995, 14.6912}
};

new Float: DealerCarPos[14][4] = {
{291.3021, -1544.7201, 24.2610, 54.1800},
{294.9687, -1540.2516, 24.2610, 54.1800},
{298.0962, -1535.8396, 24.2610, 54.1800},
{279.2522, -1536.5909, 24.2610, -124.6800},
{282.3263, -1531.7701, 24.2610, -124.6800},
{285.4335, -1527.2410, 24.2610, -125.9400},
{288.7711, -1522.6432, 24.2610, -125.8200},
{291.8010, -1518.1920, 24.2610, -125.8200},
{294.8029, -1513.6710, 24.2610, -125.8200},
{298.0221, -1509.1865, 24.2610, -125.8200},
{301.3093, -1504.7274, 24.2610, -125.8200},
{300.9553, -1491.2639, 24.2610, -125.8200},
{304.2411, -1486.4366, 24.2610, -125.8200},
{307.2958, -1482.3279, 24.2610, -125.8200}
};
new Float: DealerCarPos1[59][4] = {
{1560.7488, -2309.1853, 13.4697, 91.2600},
{1560.8292, -2312.2954, 13.4697, 89.6400},
{1560.8535, -2315.5969, 13.4697, 90.4800},
{1560.8591, -2318.7361, 13.4697, 90.9600},
{1560.7439, -2322.0557, 13.4697, 90.5400},
{1560.7086, -2325.1951, 13.4697, 89.6400},
{1560.8920, -2328.6726, 13.4697, 90.1800},
{1560.7319, -2331.8313, 13.4697, 89.6400},
{1560.8680, -2335.2727, 13.4697, 90.9600},
{1560.7294, -2338.3315, 13.4697, 91.6200},
{1556.0094, -2360.2930, 13.4697, 1.4400},
{1552.7090, -2360.3101, 13.4697, 1.2600},
{1549.6885, -2360.2734, 13.4697, 0.5400},
{1546.1569, -2360.2466, 13.4697, 2.4600},
{1542.6821, -2360.1978, 13.4697, 1.5600},
{1539.5872, -2360.1389, 13.4697, 2.2800},
{1536.2216, -2360.1794, 13.4697, -0.7800},
{1533.1910, -2360.1997, 13.4697, -0.3600},
{1529.8311, -2360.1128, 13.4697, -0.9000},
{1526.5330, -2360.3582, 13.4697, -0.7800},
{1521.6487, -2360.5554, 13.6076, 4.1400},
{1518.5237, -2360.4187, 13.3319, 0.4200},
{1515.2311, -2360.5193, 13.3625, -0.7800},
{1511.8954, -2360.3044, 13.4697, 0.3000},
{1508.7291, -2360.2893, 13.4697, -1.5600},
{1505.4397, -2360.3911, 13.3391, -1.2600},
{1502.1620, -2360.3535, 13.2486, 0.1200},
{1498.7660, -2360.5403, 13.2486, 0.2400},
{1495.4330, -2360.6704, 13.2486, -0.6600},
{1492.5824, -2360.4260, 13.2486, 0.1200},
{1560.0502, -2263.9460, 13.1787, 90.0000},
{1560.0388, -2260.6628, 13.1787, 90.3600},
{1560.0084, -2257.5354, 13.1787, 90.0000},
{1559.9011, -2254.2002, 13.1787, 90.3600},
{1559.8909, -2251.0781, 13.1787, 90.0600},
{1559.7714, -2247.7393, 13.1787, 90.0600},
{1559.9799, -2244.5044, 13.1787, 90.0600},
{1560.1761, -2241.1511, 13.1787, 90.7800},
{1559.8840, -2237.8013, 13.1787, 90.7800},
{1559.8400, -2234.6873, 13.1787, 90.8400},
{1556.0532, -2212.1360, 13.1787, 180.1199},
{1552.7858, -2212.0110, 13.1787, 181.1999},
{1549.5490, -2212.0024, 13.1787, 180.1799},
{1546.0779, -2211.9202, 13.1787, 181.3799},
{1542.8615, -2212.0601, 13.1787, 181.6199},
{1539.5221, -2212.1584, 13.1787, 182.2199},
{1536.2330, -2212.0190, 13.1787, 182.3399},
{1532.9240, -2211.8601, 13.1787, 183.9599},
{1529.6240, -2211.9080, 13.1787, 181.7999},
{1518.6613, -2212.4253, 13.1787, 181.7999},
{1522.0779, -2212.2058, 13.1787, 181.7999},
{1515.6520, -2212.1309, 13.1787, 181.7999},
{1512.1538, -2212.3394, 13.1787, 180.8398},
{1508.7324, -2212.3230, 13.1787, 180.8398},
{1505.6443, -2212.4609, 13.1787, 180.8398},
{1502.1613, -2212.4639, 13.1787, 180.9598},
{1498.9487, -2212.2224, 13.1787, 180.9598},
{1495.5121, -2212.0723, 13.1787, 179.9998},
{1492.3048, -2212.1719, 13.1787, 181.0798}
};

new DealerID[MAX_PLAYERS], InDealer[MAX_PLAYERS];
new dsvehs;
new DespawnCar[MAX_PLAYERS][10];

new sVehicle[6][MAX_PLAYERS];
enum cInfo
{
	cID,
	cModel,
	Float:cLocationx,
	Float:cLocationy,
	Float:cLocationz,
	Float:cAngle,
	cColorOne,
	cColorTwo,
	cOwner[25],
	cValue,
	cLicense[14],
	cAlarm,
	cLock,
	mod0,
	mod1,
	mod2,
	mod3,
	mod4,
	mod5,
	mod6,
	mod7,
	mod8,
	mod9,
	mod10,
	mod11,
	mod12,
	mod13,
	paintjob,
	Float:KM,
	Userid,
	Confiscated,
	Spawned,
	cSpecial
};

new CarInfo[400][cInfo];

static const HudName[7][256] = {
	{"{FFFFFF}Dezactivat"},
	{"{B8BFC2}Gri"},
	{"{FF0000}Rosu"},
	{"{00FF2F}Verde"},
	{"{0022FF}Albastru"},
	{"{FFFB00}Galben"},
	{"{8000FF}Mov"}
};
	
#define MAX_PICKUPSW 500
enum pPickups
{
	psID,
	Float: psX,
	Float: psY,
	Float: psZ,
	psType,
	psWeapon,
	psAmmo,
	psWar
}
new Pickups[MAX_PICKUPSW][pPickups];


#define MAX_FURNITURE 3000
enum furInfo
{
	fiID,
	fiModel,
	Float: fiX,
	Float: fiY,
	Float: fiZ,
	Float: fiRotX,
	Float: fiRotY,
	Float: fiRotZ,
	fiVirtual,
	fiHouse,
	fiObject
}
new FurnitureInfo[MAX_FURNITURE][furInfo];
new furnitures = mS_INVALID_LISTID;

enum ffInfo
{
	fID,
	fRank1,
	fRank2,
	fRank3,
	fRank4,
	fRank5,
	fRank6
}
new FactionInfo[26][ffInfo];

enum dInfo
{
	dID,
	dModel,
	dPrice,
	dDoors,
	dType,
	dPremium,
	dMaxSpeed,
	dGold
};
new DSModels[212][dInfo];

#define MAX_SAFEZONES 100
enum szInfo
{
	szID,
	Float: szX,
	Float: szY,
	Float: szZ,
	szRange
}
new SafeZone[MAX_SAFEZONES][szInfo];

enum gfInfo
{
	gfID,
	Float:gfX,
	Float:gfY,
	Float:gfZ,
	Float:gfRot,
	gfOwned,

	gfObject,
	gfAttacked
}
new GraffitiInfo[500][gfInfo];

#define RC_BANDIT     441
#define RC_BARON  	  464
#define RC_GOBLIN  	  501
#define RC_RAIDER     465
#define D_TRAM        449
#define RC_MINITANK   564
#define RC_CAM        594

IsVehicleRc( vehicleid ){//defines the RC vehicles.
  new model = GetVehicleModel(vehicleid);
  switch(model){
  case RC_GOBLIN, RC_BARON, RC_BANDIT, RC_RAIDER, RC_MINITANK: return 1;
  default: return 0;
    }

  return 0;

}

#define MAX_CLANS 30

// enum
enum clInfo {
	clName[64],
	clOwner[MAX_PLAYER_NAME],
	clMotd[256],
	clTag[32],
	clTagType,
	clRankName1[64],
	clRankName2[64],
	clRankName3[64],
	clRankName4[64],
	clRankName5[64],
	clRankName6[64],
 	clColor[7],
	clSlots,
	clRegisterDate[256],

	clTags,
}
new sSlot[MAX_PLAYERS];
new ClanInfo[MAX_CLANS][clInfo];
new InvitedClan[MAX_PLAYERS], InvitedBy[MAX_PLAYERS];

#define MAX_JOBS 15
enum jInfo {
	jID,
	jName[128],
	jLevel,
	Float:jPosX,
	Float:jPosY,
	Float:jPosZ,
	jLegal,
	jSkill1Veh,
	jSkill2Veh,
	jSkill3Veh,
	jSkill4Veh,
	jSkill5Veh,
	jSkill6Veh,

	Text3D: jLabel,
	jPickup
}
new JobInfo[MAX_JOBS][jInfo];

#define function%0(%1) forward %0(%1); public %0(%1) // Shortcut
//
#define AdminOnly 		"{5CAD5C}Nivelul tau de admin nu permite folosirea acestei comenzi."
#define HelperOnly 		"{5CAD5C}Nivelul tau de admin/helper nu permite folosirea acestei comenzi."
#define HelperOnly1 		"{5CAD5C}Nivelul tau de helper nu permite folosirea acestei comenzi."
// DEFINE
#define pCashx				1
#define pRP  				2
#define pBank  				3
#define pCarLicTx 			4
#define pFlyLicTx 			5
#define pBoatLicTx 			6
#define pFishLicTx 			7
#define pGunLicTx 			8
#define pRobx 				9
#define pFpunishx           10
#define pLawyerx            11
#define pConnectTimex       12
#define pTowx      			13
#define pPayDayHadx      	14
#define pPayDayx      		15
#define pPayCheckx      	16
#define pHousex      	17
#define pJailedx      		18
#define pJailTimex     		19
#define pWantedLevelx       21
#define pPhonex             22
#define pMatsx              23
#define pRobSkillx          26
#define pLevelx             28
#define pPremiumAccountx    30
#define pBizzx           31
#define pPnumberx           32
#define pRegx               33
#define pRegistredDatex     34
#define pRentedx            39
#define pCrimesx            40
#define pCrime1x            42
#define pCrime2x            43
#define pCrime3x            44
#define pVictimx            45
#define pAccusedx           46
#define pEmailx             47
#define	pBTempx             48
#define pBYearx             49
#define pBMonthx            50
#define pBDayx         		51
#define pBByx             	52
#define pBReasonx           53
#define pWarnsx             54
#define pTruckerSkillx      55
#define pGarbageSkillx      56
#define pShowJobx           57
#define pShowFPx            58
#define pShowLogox          59
#define pShowCeasx          60
#define pFarmerSkillx       61
#define pMowerSkillx        62
#define pPremiumPointsx     63
#define pShowFactionx       66
#define pConstructorSkillx  67
#define pFishSkillx			68
#define pHotSkillx          69
#define pBusSkillx          70
#define pGasCanx            71
#define pCadouLuatx         72
#define pDetectivSkillx     73
#define pPizzaSkillx        75
#define pGiftPointsx		76
#define pFactionTimex       77
#define pCarLicx            79
#define pCommandsx          80
#define pDailyMissionx      81
#define pDailyMission2x     82
#define pJackerSkillx		83
#define pCurierSkillx		84

// CARS
#define cLocationxx 			1
#define cLocationyx 			2
#define cLocationzx 			3
#define cAnglex 				4
#define cModelx                 5
#define cColorOnex              6
#define cColorTwox              7
#define cOwnerx                 8
#define cValuex                 9
#define cLicensex               10
#define cDescriptionx           11
#define cLockx                  12
#define cTimedx                 13
#define cInscarpricex           14
#define cInsurancecarx          15
#define cKMx                    16
#define cOwnedx                 17
#define cSellx                  18
#define cModsx                  19
#define cPaintJx                20

//HOUSE
#define hExitxx             1
#define hExityx             2
#define hExitzx             3
#define hInteriorx          4
#define hRadiox             5


//SBUSSINES
#define sbBalancex         1
#define sbProductsx		2

#define ResetMoneyBar    ResetPlayerMoney
#define UpdateMoneyBar   GivePlayerMoney

#define RATE_INC (500)
#define RATE_MAX (2500)
#define THRESOLD_ACTION 1
#define MAX_SWEARS 100
#define STR 100
#define MAX_NPCS 0
#define SetPlayerHoldingObject(%1,%2,%3,%4,%5,%6,%7,%8,%9) SetPlayerAttachedObject(%1,MAX_PLAYER_ATTACHED_OBJECTS-1,%2,%3,%4,%5,%6,%7,%8,%9)
#define StopPlayerHoldingObject(%1) RemovePlayerAttachedObject(%1,MAX_PLAYER_ATTACHED_OBJECTS-1)
#define IsPlayerHoldingObject(%1) IsPlayerAttachedObjectSlotUsed(%1,MAX_PLAYER_ATTACHED_OBJECTS-1)
#define SpeedCheck(%0,%1,%2,%3,%4) floatround(floatsqroot(%4?(%0*%0+%1*%1+%2*%2):(%0*%0+%1*%1) ) *%3*1.8)
#define ATTACK_TYPE_PLAYERID 1
#define ATTACK_TYPE_IP 2
#define RELEASED(%0) \
	(((newkeys & (%0)) != (%0)) && ((oldkeys & (%0)) == (%0)))

// DIALOG ID
#define DIALOG_LOGIN1 				1
#define DIALOG_LOGIN2 				2
#define DIALOG_LOGIN3 				3
#define DIALOG_PLATE 				4
#define DIALOG_LOCATIONS 			5
#define DIALOG_FARMERA 				6
#define DIALOG_BUY                  169
#define Dialog_radio 				8
#define DIALOG_PREMIUM 				9
#define Dialog_Gym 					10
#define DIALOG_PHONESTAT 			11
#define DIALOG_MUS                  12
#define DIALOG_CARDAMAGE 			19
#define DIALOG_WANTEDON 			20
#define DIALOG_TRANSFER 			21
#define DIALOG_MATSINSO 			22
#define DIALOG_JOBS1 				23
#define DIALOG_JOBS2 				24
#define DIALOG_PROF 				34
#define DIALOG_PENDEVENT 			35
#define DIALOG_LAWYERS 				36
//#define DIALOG_MECHANICS 			37
#define DIALOG_INSTRUCTORS 			38
#define DIALOG_NEWPASS 				39
#define DIALOG_BUS 					40
#define DIALOG_BUS2 				41
#define DIALOG_LINE1 				42
#define DIALOG_LINE2 				43
#define DIALOG_TRANSPORT 			44
#define DIALOG_REGISTER 			47
#define DIALOG_REGISTER2 			48
#define DIALOG_REGISTER5 			49
#define DIALOG_REGISTER4 			50
#define DIALOG_CARSELL 				55
#define DIALOG_MATERIALS 			57
#define DIALOG_DTRANSFER 			58
#define DIALOG_WALKSTYLE 			59
#define DIALOG_NEON                 60
#define DIALOG_HELP                 61
#define DIALOG_EDITJOB              62
#define DIALOG_JOBS                 64
#define DIALOG_TRUCKER              65
#define DIALOG_SHOW                 66
#define DIALOG_SHOP                 67
#define DIALOG_SHOP1                68
#define DIALOG_CLAN                 69
#define DIALOG_CLAN2                70
#define DIALOG_CLAN3                71
#define DIALOG_CLAN_GRANK           72
#define DIALOG_CLAN_MANAGE2         73
#define DIALOG_CLAN_MEMBERS         74
#define DIALOG_CLAN_COMMAND         75
#define DIALOG_CLAN_SETTINGS        76
#define DIALOG_CLAN_COLOR           77
#define DIALOG_CLAN_MOTD            78
#define DIALOG_CLAN_RANK            79
#define DIALOG_CLAN_RANK2           80
#define DIALOG_CLANTURFS            81
#define DIALOG_GARAGE               82
#define DIALOG_GARAGE1              83
#define DIALOG_SELLCAR              84
#define DIALOG_CHANGENAME           85
#define DIALOG_MEMBERS              86 
#define DIALOG_RESETKM              91
#define DIALOG_EDITSF               92
#define DIALOG_EDITSF1              93
#define DIALOG_EDITSF2              94
#define DIALOG_FRIENDS              95 
#define DIALOG_FACTION              102
#define DIALOG_FACTION1             103
#define DIALOG_EDITMOBILA           104
#define DIALOG_EDITMOBILA2          105
#define DIALOG_NEWEMAIL             113
#define DIALOG_NEWEMAIL1            114
#define DIALOG_NEWPASS1             115
#define DIALOG_MP3		            116
#define DIALOG_GPS                  177
#define DIALOG_PCOLOR				159
#define DIALOG_HUD					160
#define DIALOG_HUDSELECT			161
#define DIALOG_CHECKPOINT			162
#define DIALOG_BID					163
#define DIALOG_VOTE					164
#define DIALOG_MODE					165
#define DIALOG_FVEH					166
#define DIALOG_VSTATS				167
#define DIALOG_AVEH			   	    952
#define DIALOG_SPAWNCHANGE          953
#define DIALOG_FWARN				954
#define DIALOG_FUNWARN				955
#define DIALOG_MEMBERS2				956
#define DIALOG_MEMBERS3				957
#define DIALOG_CHANGERANK			958
#define DIALOG_FPUNINVITE			959
#define DIALOG_NOFPUNINVITE			960
#define DIALOG_INFO					961
#define DIALOG_RADARS				963
#define DIALOG_COLORID				964
#define DIALOG_SETSTATS				965
#define DIALOG_BLACKLIST 			300
#define DIALOG_GMX                  966
#define DIALOG_ANSWER               602
#define DIALOG_HELPERS              968
#define DIALOG_FCONTROL             973
#define DIALOG_ADMINS               979
#define DIALOG_FSTOCKC              550
#define DIALOG_LEADERS              540
#define DIALOG_FNAME            	530
#define DIALOG_FCOLOR            	520
#define DIALOG_FMOTD            	510
#define DIALOG_EDITFACTION         	500
#define DIALOG_FMOVE         		560
#define DIALOG_APANEL       		570
#define DIALOG_FMEMBERS             580
#define DIALOG_FLEVEL               590
#define DIALOG_FINDHOUSE            600
#define DIALOG_FINDBIZZ       	    601
#define DIALOG_HQLOCK               603
#define DIALOG_RRAPORT             	604
#define DIALOG_TRADE				607

// WALKIE TALKIE
#define MAX_CHANNEL 500

// WALKSTYLE
#define WALK_DEFAULT    0
#define WALK_NORMAL     1
#define WALK_PED        2
#define WALK_GANGSTA    3
#define WALK_GANGSTA2   4
#define WALK_OLD        5
#define WALK_FAT_OLD    6
#define WALK_FAT        7
#define WALK_LADY      	8
#define WALK_LADY2      9
#define WALK_WHORE      10
#define WALK_WHORE2     11
#define WALK_DRUNK     	12
#define WALK_BLIND     	13

#define maxobj 50
#define MAX_STRING 255
#define CHECKPOINT_NONE 0
#define CHECKPOINT_HOME 12
#define CHECKPOINT_LOCATE 53
#define KEY_AIM (128)
#define KEY_HANDBRAKE (128)
#define SCM SendClientMessage
#define SCMTA SendClientMessageToAll
#define SPECIAL_ACTION_PISSING 68

// KICK - BAN
forward Kick_Ban ( playerid, bool: kickban ); public Kick_Ban ( playerid, bool: kickban ) return ( !kickban ) ? Kick ( playerid ) : Ban ( playerid );
#define KickEx(%1) 			SetTimerEx ( "Kick_Ban", 500, false, "ii", %1, false )
#define Ban(%1) 			SetTimerEx ( "Kick_Ban", 500, false, "ii", %1, true )

// COLOR
#define COLOR_GOLD          0xF2BC46FF
#define COLOR_MONEY 		0x25B336FF
#define COLOR_CLIENT        0xA9C4E4FF
#define COLOR_SERVER        0x67aab1FF
#define COLOR_YELLOW2       0xFFFABAFF
#define COLOR_WARNING 		0xe00000FF
#define COLOR_ADMCHAT 		0xFFC266AA
#define COLOR_HOUSED 		0x2DFF00FF
#define COLOR_BIZ 			0x00FFFFFF
#define COLOR_CHAT1 		0xF9B7FFAA
#define COLOR_CHAT2 		0xE6A9ECAA
#define COLOR_CHAT3 		0xC38EC7AA
#define COLOR_CHAT4 		0xD2B9D3AA
#define COLOR_CHAT5 		0xC6AEC7AA
#define COLOR_AFK 			0x565656FF
#define COLOR_GRAD1 		0xB4B5B7FF
#define COLOR_GRAD2 		0xBFC0C2FF
#define COLOR_GRAD3 		0xCBCCCEFF
#define COLOR_GRAD4 		0xD8D8D8FF
#define COLOR_GRAD5 		0xE3E3E3FF
#define COLOR_DARKNICERED 	0x9D000096
#define COLOR_RED1  		0x80404000
#define COLOR_GRAD6 		0xF0F0F0FF
#define COLOR_GREY 			0xAFAFAFAA
#define COLOR_GREEN 		0x33AA33AA
#define COLOR_SYSTEM 		0xEFEFF7AA
#define COLOR_RED 			0xAA3333AA
#define TEAM_RADIO_COLOR 	0xF2D068FF
#define COLOR_LIGHTRED 		0xFF6347AA 
#define COLOR_NEWS 			0xFFA500AA
#define COLOR_LIGHTBLUE 	0x33CCFFAA
#define COLOR_LIGHTBLUE1    0x00ACE6AA
#define COLOR_LK 			0x80FFFFFF
#define COLOR_LOGIN 		0x00D269FF
#define COLOR_CRIPS 		0xFF80FF96
#define COLOR_LIGHTGREEN 	0x9ACD32AA
#define COLOR_ADMIN 		0xC46200FF
#define COLOR_DEPAR 		0x4646FFFF
#define COLOR_YELLOW 		0xFFFF00AA
#define COLOR_WHITE 		0xFFFFFFFF
#define COLOR_WHITE1 		0xFFFFFF00
#define COLOR_FADE1 		0xE6E6E6E6
#define COLOR_FADE2 		0xC8C8C8C8
#define COLOR_FADE3 		0xAAAAAAAA
#define COLOR_FADE4 		0x8C8C8C8C
#define COLOR_FADE5 		0x6E6E6E6E
#define COLOR_PURPLE 		0xC2A2DAAA
#define COLOR_DBLUE 		0x2641FEAA
#define COLOR_ALLDEPT 		0xFF8282AA
#define COLOR_NEWS 			0xFFA500AA
#define COLOR_OOC 			0xE0FFFFAA
#define OBJECTIVE_COLOR 	0x64000064
#define TEAM_GREEN_COLOR 	0xFFFFFF99
#define TEAM_JOB_COLOR 		0xFFB6C1AA
#define TEAM_HIT_COLOR 		0xFFFFFF00
#define TEAM_BLUE_COLOR 	0x8D8DFF00
#define COLOR_ADD 			0x63FF60AA
#define TEAM_GROVE_COLOR 	0x00D900C8
#define TEAM_VAGOS_COLOR 	0xFFC801C8
#define TEAM_GROVE_COLORFF 	0x034F23AA
#define TEAM_BALLAS_COLOR 	0x00FF0DFF
#define TEAM_AZTECAS_COLOR 	0x01FCFFC8
#define TEAM_CYAN_COLOR 	0xFF8282AA
#define TEAM_ORANGE_COLOR 	0xFF830000
#define TEAM_COR_COLOR 		0x39393900
#define TEAM_BAR_COLOR 		0x00D90000
#define TEAM_TAT_COLOR 		0xBDCB9200
#define TEAM_CUN_COLOR 		0xD900D300
#define TEAM_STR_COLOR 		0x01FCFF00
#define TEAM_ADMIN_COLOR 	0x00808000
#define COLOR_INVIS 		0xAFAFAF00
#define COLOR_SPEC 			0xBFC0C200
#define COLOR_TUTORIAL 		0x6BD700FF
#define COLOR_PD 			0x1732E8FF
#define COLOR_FBI		 	0x1732E8FF
#define COLOR_NG 			0x1732E8FF
#define COLOR_GROVE 		0x00E800FF
#define COLOR_FlamingCobras 0xBFBFBFFF
#define COLOR_MAFIA 		0x000000FF
#define COLOR_TRIADS 		0x80FFFFFF
#define COLOR_YAMAGUCHI 	0x808000FF
#define COLOR_DEPART 		0xFF8040FF
#define COLOR_ColoFamiglia  0x00FF0DFF
#define COLOR_SI 			0x03FCFCFF
#define COLOR_GMOD 			0x510181FF
#define COLOR_AOD 			0xA3F803FF
#define COLOR_LIDERCHAT 	0xA3FD48FF
#define COLOR_OOCL 			0xC0C0C0FF
#define COLOR_COMMANDS 		0xFF8000FF
#define COLOR_DEPART2 		0xff3535FF
#define CRISTIAN 			0x0DC013AA
#define COLOR_ERROR 		0x5CAD5CFF
#define COLOR_SYN 			0xB8DBFFFF
#define COLOR_SYN2 			0xA9C4E4FF
#define COLOR_YELLOW3       0xFFFF00FF
#define COLOR_LGREEN 		0xC9FFA6FF
#define COLOR_ORANGE        0xFFA500FF
#define COLOR_GENANNOUNCE   0xA9C4E4FF
#define COLOR_GENANNOUNCE2  0xFF8080FF
#define COLOR_SYNTAX        0xB8DBFFFF
#define COLOR_LOGS 			0xFF6347AA
#define COLOR_AHH 			0xB4B5B7FF
#define COLOR_SERVER1 		0x33AA33AA
#define COLOR_GOV           0x9ACD32AA
#define COLOR_BZYELLOW      0xFFB870AA
#define COLOR_HELPERC       0xD66020AA
#define COLOR_NOON			0x669900FF
#define COLOR_BZWHITE       0xFFFFCCFF
#define COLOR_BBLUE			0x3385FFFF
#define COLOR_BZYELLOW2     0xFFFF45FF

// TEAM
#define TEAM_CYAN 	1
#define TEAM_BLUE 	2
#define TEAM_GREEN 	3
#define TEAM_ORANGE 4
#define TEAM_COR 	5
#define TEAM_BAR 	6
#define TEAM_TAT 	7
#define TEAM_CUN 	8
#define TEAM_STR 	9
#define TEAM_HIT 	10
#define TEAM_ADMIN 	11

// VARIABILE
new painttime=0;
new KillP[MAX_PLAYERS],DeathP[MAX_PLAYERS];
new tuningenter[MAX_PLAYERS];
new PlayerEnterTime[MAX_PLAYERS];
new shotTime[MAX_PLAYERS];
new shot[MAX_PLAYERS];
new WantedName[MAX_PLAYERS][256];
new WantedReason[MAX_PLAYERS];
new WantedTimer[MAX_PLAYERS];
new Wartimeon[MAX_PLAYERS];
new taxim[MAX_PLAYERS];
new towcarm[MAX_PLAYERS];
new Text3D:areap,areape = 0;
new explosion[MAX_PLAYERS];
new toglc[MAX_PLAYERS];
new Carspawn[MAX_VEHICLES];
new Destroycar = 0;
new pingsound[MAX_PLAYERS];
new AdvMSG[10][256];
new AdvPlayer[10][24];
new Diceid[MAX_PLAYERS];
new Dicem[MAX_PLAYERS];
new wantedlost[MAX_PLAYERS];
new balem[MAX_PLAYERS];
new Radarlimit[MAX_PLAYERS];
new Radaron[MAX_PLAYERS];
new Float:Health[MAX_PLAYERS];
new Float:Armour[MAX_PLAYERS];
new SpamCheck2[MAX_PLAYERS];
new alhamusic[100];
new login[MAX_PLAYERS];
new Clanidoff[MAX_PLAYERS];
new Float: Aimx[MAX_PLAYERS],Float: Aimy[MAX_PLAYERS],Float: Aimz[MAX_PLAYERS];
new Speedlimit[MAX_PLAYERS];
new togip[MAX_PLAYERS];
new tazer[MAX_PLAYERS];
new curatj[MAX_PLAYERS];
new XDeaths[MAX_PLAYERS];
new LastDeath[MAX_PLAYERS];
new playerDeath[MAX_PLAYERS];
new drug[MAX_PLAYERS];
new bizid[MAX_PLAYERS];
new bizprice[MAX_PLAYERS];
new biztype[MAX_PLAYERS];
new bizoffer[MAX_PLAYERS];
new bool:WeaponData[MAX_PLAYERS][13];
new TimerAtuPlayer[MAX_PLAYERS];
new Cash[MAX_PLAYERS];
new SwitchKey[MAX_PLAYERS];
new bussines,housess;
new togfind[MAX_PLAYERS];
new language[MAX_PLAYERS];
new IsSmoking[MAX_PLAYERS];
new walktime[MAX_PLAYERS];
new WalkStyle[MAX_PLAYERS];
new targetfind[MAX_PLAYERS];
new InHouse[MAX_PLAYERS];
new InBussines[MAX_PLAYERS];
new InHQ[MAX_PLAYERS];
new helpmeaccepted[MAX_PLAYERS] = -1;
new helpmesend[MAX_PLAYERS] = -1;
new adminacceptedhelp[MAX_PLAYERS] = -1;
new playerhavehelp[MAX_PLAYERS] = -1;
new licenseaccepted[MAX_PLAYERS] = -1;
new licensesend[MAX_PLAYERS] = -1;
new bool: WTToggle[MAX_PLAYERS] = false;
new Float:WTChannel[MAX_PLAYERS] = 0.0;
new arrestcop[MAX_PLAYERS] = -1;
new eventorganizer[MAX_PLAYERS];
new requestingevent[MAX_PLAYERS];
new requestingtitle[MAX_PLAYERS][50];
new requestinglocation[MAX_PLAYERS][50];
new requestingdescription[MAX_PLAYERS][100];
new requestingprize[MAX_PLAYERS];
new requestingtime[MAX_PLAYERS][50];
new activeevent;
new eventtitle[50];
new eventlocation[50];
new eventdescription[100];
new eventprize;
new eventtime[50];
new gatelspd,gateng,lspdbar,gatesfpd1,gatesfpd2,gatelvpd1,gatelvpd2,gatefbi,area51gate1,area51gate2;
new UsingDrugs[MAX_PLAYERS];
new vehEngine[MAX_VEHICLES];
// GARBAGE
new IsCollectingRubbish[MAX_PLAYERS];
new GarbageEndTime[MAX_PLAYERS];
new GarbageTime[MAX_PLAYERS];
new BinTime[MAX_PLAYERS];

new gPlayerUsingLoopingAnim[MAX_PLAYERS];
new gPlayerAnimLibsPreloaded[MAX_PLAYERS];

new Swears[MAX_SWEARS][STR];
new num_words = 0;

// ACCEPT VARIABILE
new AcceptOffer[MAX_PLAYERS];
new AcceptPrice[MAX_PLAYERS];
new FreeOffer[MAX_PLAYERS];
new FreePrice[MAX_PLAYERS];
new MatsOffer[MAX_PLAYERS];
new MatsPrice[MAX_PLAYERS];
new MatsAmmo[MAX_PLAYERS];
new SellgunOffer[MAX_PLAYERS];
new SellgunPrice[MAX_PLAYERS];
new SellgunMats[MAX_PLAYERS];
new SellgunAmmo[MAX_PLAYERS];
new SellgunID[MAX_PLAYERS];
new HouseID[MAX_PLAYERS];
new HouseOffer[MAX_PLAYERS];
new HousePrice[MAX_PLAYERS];

// TEXT

new Float:posxxx[MAX_PLAYERS];
new Float:posyyy[MAX_PLAYERS];
new Float:poszzz[MAX_PLAYERS];

// CARS
new civilcar[4];
new hotc[3];
new airls1,airls2,airls3,airls4;
#pragma unused airls1,airls2,airls3,airls4
new scooter[11];
new rentls[16];
new masinils[6];
new bike[7];

new AfterTutorial[MAX_PLAYERS];

// TAX
new TaxValue;

// MEDIC - MECANIC - TAXI ( JOB DUTY )
new MedicCall[MAX_PLAYERS];
new MedicCallTime[MAX_PLAYERS];
new MechanicCall[MAX_PLAYERS];
new MechanicCallTime[MAX_PLAYERS];
new TaxiDrivers = 0;
new LicensesCall[MAX_PLAYERS];
new LicensesCallTime[MAX_PLAYERS];
new LicensesAccepted[MAX_PLAYERS];
new TaxiCall[MAX_PLAYERS];
new TaxiCallTime[MAX_PLAYERS];
new TaxiAccepted[MAX_PLAYERS];
new TransportDuty[MAX_PLAYERS];
new TransportValue[MAX_PLAYERS];
new TransportMoney[MAX_PLAYERS];
new TransportCost[MAX_PLAYERS];
new TransportDriver[MAX_PLAYERS];
new MedicTime[MAX_PLAYERS];
new NeedMedicTime[MAX_PLAYERS];
new RegistrationStep[MAX_PLAYERS];
new TakingLesson[MAX_PLAYERS];
new UsedFind[MAX_PLAYERS];
new NoFuel[MAX_PLAYERS];
new MatsHolding[MAX_PLAYERS];

// TICKET
new TicketOffer[MAX_PLAYERS];
new TicketMoney[MAX_PLAYERS];
new PlayerStoned[MAX_PLAYERS];
new ConsumingMoney[MAX_PLAYERS];
new SpawnChange[MAX_PLAYERS];
new TutTime[MAX_PLAYERS];
new PlayerDrunk[MAX_PLAYERS];
new PlayerDrunkTime[MAX_PLAYERS];

// CUFF - TIE - TAZER
new PlayerTied[MAX_PLAYERS];
new PlayerCuffed[MAX_PLAYERS];
new PlayerCuffed2[MAX_PLAYERS];
new PlayerCuffedTime[MAX_PLAYERS];
new PlayerTazeTime[MAX_PLAYERS];
new LiveOffer[MAX_PLAYERS];
new TalkingLive[MAX_PLAYERS];
new PlacedNews[MAX_PLAYERS];
new CurrentMoney[MAX_PLAYERS];
new CP[MAX_PLAYERS];

// REPAIR
new RepairOffer[MAX_PLAYERS];
new RepairPrice[MAX_PLAYERS];
new RefillOffer[MAX_PLAYERS];
new RefillPrice[MAX_PLAYERS];
new RepairCar[MAX_PLAYERS];
new Rapairx[MAX_PLAYERS];
new Refillx[MAX_PLAYERS];

// TRANSFER MONEY
new TransferOffer[MAX_PLAYERS];
new TransferMoney[MAX_PLAYERS];

// DRUGS
new DrugOffer[MAX_PLAYERS];
new DrugPrice[MAX_PLAYERS];
new DrugGram[MAX_PLAYERS];

// BAIL PRICE
new JailPrice[MAX_PLAYERS];

// COPS
new WantedPoints[MAX_PLAYERS];
new OnDuty[MAX_PLAYERS];

new gPlayerCheckpointStatus[MAX_PLAYERS];
new IsPlayerLogged[MAX_PLAYERS];
new gPlayerLogTries[MAX_PLAYERS];
new gPlayerSpawned[MAX_PLAYERS];
new gLastCar[600];
new gNews[MAX_PLAYERS];
new gFam[MAX_PLAYERS];
new BigEar[MAX_PLAYERS];
new Spectate[MAX_PLAYERS];
new CellTime[MAX_PLAYERS];
new HireCar[MAX_PLAYERS];
new SafeTime[MAX_PLAYERS];
new HidePM[MAX_PLAYERS];
new PhoneOnline[MAX_PLAYERS];
new TurfsDisp[MAX_PLAYERS];
new gDice[MAX_PLAYERS];
new FirstSpawn[MAX_PLAYERS];
new Mobile[MAX_PLAYERS];
new gPlayerAccount[MAX_PLAYERS];
new gLastDriver[600];
new gCarLock[600];

// VARIABILE GLOBALE
new objstore[128];
new cbjstore[128];
new ghour = 0;
new gminute = 0;
new gsecond = 0;
new dollah = 100000;
new realtime = 1;
new wotime = 15;
new levelcost = 500;
new realchat = 1;
new timeshift = -1;
new shifthour;
new othtimer;
new synctimer;
new unjailtimer;
new taxitimer;
new pickuptimer;
new spectatetimer;
new productiontimer;
new checkgastimer;
new checkvehinfotimer;
new stoppedvehtimer;
new cartimer;
new levelexp = 3;
new Float:TeleportDest[MAX_PLAYERS][3];
new Float:TelePos[MAX_PLAYERS][6];

// JAIL SPAWN
new Float:JailPos[3][3] = {
{264.5371, 77.5724, 1001.0608},
{264.5338, 82.2195, 1001.0608},
{264.4940, 86.6974, 1001.0608}
};

// TOW CAR CHECKPOINT
new Float:TowCarCk[3][3] = {
{-85.4125,-1583.0122,2.6107},
{2409.1277,-1411.2325,24.0956},
{2489.0566,-1949.6262,13.4588}
};

// VEHICLE FUEL
#define GasMax 100
#define RunOutTime 20000
#define RefuelWait 5000

#define CAR_AMOUNT 1000
new Gas[CAR_AMOUNT];

new Refueling[MAX_PLAYERS];

// VEHICLE NAME
new aVehicleNames[][] =
{
    "Landstalker", "Bravura", "Buffalo", "Linerunner", "Perrenial", "Sentinel",
	"Dumper", "Firetruck", "Trashmaster", "Stretch", "Manana", "Infernus",
	"Voodoo", "Pony", "Mule", "Cheetah", "Ambulance", "Leviathan", "Moonbeam",
    "Esperanto", "Taxi", "Washington", "Bobcat", "Whoopee", "BF Injection",
	"Hunter", "Premier", "Enforcer", "Securicar", "Banshee", "Predator", "Bus",
	"Rhino", "Barracks", "Hotknife", "Trailer", "Previon", "Coach", "Cabbie",
	"Stallion", "Rumpo", "RC Bandit", "Romero", "Packer", "Monster", "Admiral",
	"Squalo", "Seasparrow", "Pizzaboy", "Tram", "Trailer", "Turismo", "Speeder",
	"Reefer", "Tropic", "Flatbed", "Yankee", "Caddy", "Solair", "Berkley's RC Van",
	"Skimmer", "PCJ-600", "Faggio", "Freeway", "RC Baron", "RC Raider", "Glendale",
	"Oceanic","Sanchez", "Sparrow", "Patriot", "Quad", "Coastguard", "Dinghy",
	"Hermes", "Sabre", "Rustler", "ZR-350", "Walton", "Regina", "Comet", "BMX",
	"Burrito", "Camper", "Marquis", "Baggage", "Dozer", "Maverick", "News Chopper",
	"Rancher", "FBI Rancher", "Virgo", "Greenwood", "Jetmax", "Hotring", "Sandking",
	"Blista Compact", "Police Maverick", "Boxville", "Benson", "Mesa", "RC Goblin",
	"Hotring Racer A", "Hotring Racer B", "Bloodring Banger", "Rancher", "Super GT",
	"Elegant", "Journey", "Bike", "Mountain Bike", "Beagle", "Cropduster", "Stunt",
 	"Tanker", "Roadtrain", "Nebula", "Majestic", "Buccaneer", "Shamal", "Hydra",
 	"FCR-900", "NRG-500", "HPV1000", "Cement Truck", "Tow Truck", "Fortune",
 	"Cadrona", "FBI Truck", "Willard", "Forklift", "Tractor", "Combine", "Feltzer",
 	"Remington", "Slamvan", "Blade", "Freight", "Streak", "Vortex", "Vincent",
    "Bullet", "Clover", "Sadler", "Firetruck", "Hustler", "Intruder", "Primo",
	"Cargobob", "Tampa", "Sunrise", "Merit", "Utility", "Nevada", "Yosemite",
	"Windsor", "Monster", "Monster", "Uranus", "Jester", "Sultan", "Stratium",
	"Elegy", "Raindance", "RC Tiger", "Flash", "Tahoma", "Savanna", "Bandito",
    "Freight Flat", "Streak Carriage", "Kart", "Mower", "Dune", "Sweeper",
	"Broadway", "Tornado", "AT-400", "DFT-30", "Huntley", "Stafford", "BF-400",
	"News Van", "Tug", "Trailer", "Emperor", "Wayfarer", "Euros", "Hotdog", "Club",
	"Freight Box", "Trailer", "Andromada", "Dodo", "RC Cam", "Launch", "Police Car",
 	"Police Car", "Police Car", "Police Ranger", "Picador", "S.W.A.T", "Alpha",
 	"Phoenix", "Glendale", "Sadler", "Luggage", "Luggage", "Stairs", "Boxville",
 	"Tiller", "Utility Trailer"
};

// GETDISTANCEBETWEENPLAYERS
function Float:GetDistanceBetweenPlayers(p1,p2)
{
	new Float:x1,Float:y1,Float:z1,Float:x2,Float:y2,Float:z2;
	if(!IsPlayerConnected(p1) || !IsPlayerConnected(p2))
	{
		return -1.00;
	}
	GetPlayerPos(p1,x1,y1,z1);
	GetPlayerPos(p2,x2,y2,z2);
	return floatsqroot(floatpower(floatabs(floatsub(x2,x1)),2)+floatpower(floatabs(floatsub(y2,y1)),2)+floatpower(floatabs(floatsub(z2,z1)),2));
}

// GETDISTANCE2
stock GetDistance2( Float:x1, Float:y1, Float:z1, Float:x2, Float:y2, Float:z2 )
{
   return floatround( floatsqroot( ( ( x1 - x2 ) * ( x1 - x2 ) ) + ( ( y1 - y2 ) * ( y1 - y2 ) ) + ( ( z1 - z2 ) * ( z1 - z2 ) ) ) );
}

// GETDISTANCEBETWEENPOINTS
stock Float:GetDistanceBetweenPoints(Float:x1,Float:y1,Float:z1,Float:x2,Float:y2,Float:z2)
{
    return floatsqroot(floatpower(floatabs(floatsub(x2,x1)),2)+floatpower(floatabs(floatsub(y2,y1)),2)+floatpower(floatabs(floatsub(z2,z1)),2));
}

// GANG TURFS - WAR
enum zInfo
{
    zID,
    zOwned,
    zTime,
    Float:zMinX,
    Float:zMinY,
    Float:zMaxX,
    Float:zMaxY
};
new TurfInfo[74][zInfo];
new Turfs[74];

enum wInfo
{
    wFaction,
	wAttacker,
	wTime,
};
new WarInfo[sizeof(TurfInfo)][wInfo];
new Float: WarScoreF[27][sizeof(TurfInfo)];
new ucideri[MAX_PLAYERS][sizeof(TurfInfo)];
new decese[MAX_PLAYERS][sizeof(TurfInfo)];
new worstscoreat[sizeof(TurfInfo)];
new worstmemberat[sizeof(TurfInfo)];
new worstscoredf[sizeof(TurfInfo)];
new worstmemberdf[sizeof(TurfInfo)];
new bestscoreat[sizeof(TurfInfo)];
new bestmemberat[sizeof(TurfInfo)];
new bestscoredf[sizeof(TurfInfo)];
new bestmemberdf[sizeof(TurfInfo)];
new InWar[27];

enum zoneInfo
{
	bool:exista,
	linie[4],
}
new MGangZones[400][zoneInfo];

// SPECTATOR
enum pSpec
{
	Float:Coords[3],
	Float:sPx,
	Float:sPy,
	Float:sPz,
	sPint,
	sLocal,
	sCam,
};

new Unspec[MAX_PLAYERS][pSpec];

// HITMAN
enum hNews
{
	hTaken1,
	hTaken2,
	hTaken3,
	hTaken4,
	hTaken5,
	hAdd1[128],
	hAdd2[128],
	hAdd3[128],
	hAdd4[128],
	hAdd5[128],
	hContact1[128],
	hContact2[128],
	hContact3[128],
	hContact4[128],
	hContact5[128],
};
new News[hNews];

new ReportTimer[MAX_PLAYERS];
// PLAYER ACCOUNT
enum pInfo
{
	pGiftPoints,
	pSlot[5],
	pGlasses,
	pShowGlasses,
	pHat,
	pShowHat,

	pShowHud[5],
	pNewbieMute,
	pHelpedPlayers,
	pReportTime,
	pColor,
	pTotalGold,
	pGPS,
    pPizzaSkill,
    pJackerSkill,
    pCurierSkill,
	pUsername[MAX_PLAYER_NAME],
	pKey[128],
	pLevel,
	pAdmin,
	pHelper,
	pPremiumAccount,
	Float: pConnectTime,
	pReg,
	pSex,
	pAge,
	pMuted,
	pMuteTime,
	pExp,
	pCash,
	pBanned,
	pAccount,
	pCrimes,
	pKills,
	pDeaths,
	pArrested,
	pWantedDeaths,
	pPhone,
 	pWantedLevel,
	pJob,
	pPayCheck,
	pJailed,
	pJailTime,
	pMats,
	pDrugs,
	pLeader,
	pMember,
	pRank,
	pChar,
	pFACWarns,
	pFpunish,
	pLawyer,
	pLawSkill,
	pMechSkill,
	pDrugsSkill,
	pGarbageSkill,
	pTruckerSkill,
	pMowerSkill,
	pFarmerSkill,
	pFishSkill,
	pMatSkill,
	Float:pSHealth,
	pInt,
	pLocal,
	pRequestingBackup,
	pModel,
	pPnumber,
	pHouse,
	pBizz,
	Float:pPos_x,
	Float:pPos_y,
	Float:pPos_z,
	pCarLicT,
	pCarLic,
	pFlyLicT,
	pFlyLic,
	pBoatLicT,
	pBoatLic,
	pFishLicT,
	pFishLic,
	pGunLicT,
	pGunLic,
	pPayDay,
	pPayDayHad,
 	pRobSkill,
	pRob,
	pTut,
	pWarns,
	pFuel,
    pSleeping,
	pGarbageTime,
	pTow,
    pRented,
    pSpeaker,
    pWTalkie,
   	pLighter,
	pCigarettes,
   	pEmail[200],
    pRegistredDate[200],
	pRadio,
 	pCRank,
	pSQLID,
    pVictim[64],
    pAccused[64],
	pCrime1[184],
	pCrime2[184],
	pCrime3[184],
	pBTemp,
	pBYear,
	pBMonth,
	pBDay,
	pBBy[25],
	pBReason[184],
	pALeader,

	pShowJob,
	pShowFaction,
	pShowFP,
	pShowLogo,
	pShowCeas,

	pPremiumPoints,
	pClan,
	pClanRank,

	pCarKey[10],

	Float: pSeconds,
	pCommands,
	
	pConstructorSkill,
	pHotSkill,
	pBusSkill,
	pGasCan,
	pCadouLuat,
	pDetectivSkill,
	pFactionTime,
	pAdminCode,
	pPin[5],
    pPinLogged,
    pDailyMission[2]
};
new PlayerInfo[MAX_PLAYERS][pInfo];

new lasttime[MAX_PLAYERS], lastpremium[MAX_PLAYERS];
// HOUSE
enum hInfo
{
	hID,
 	Float:hEntrancex,
	Float:hEntrancey,
	Float:hEntrancez,
	Float:hExitx,
	Float:hExity,
	Float:hExitz,
	hOwner[25],
	hDiscription[64],
	hValue,
	hHel,
	hArm,
	hInterior,
	hLock,
	hOwned,
	hRent,
	hRentabil,
	hTakings,
	hLevel,
	hVirtual,
	hPickupID,
	hRadio
};
new HouseInfo[300][hInfo];
new Text3D:HouseLabel[sizeof(HouseInfo)];

// BUSSINES
enum bInfo
{
	bID,
    bOwned,
	bOwner[25],
	bMessage[50],
	Float:bEntranceX,
	Float:bEntranceY,
	Float:bEntranceZ,
	Float:bExitX,
	Float:bExitY,
	Float:bExitZ,
	bLevelNeeded,
	bBuyPrice,
	bFee,
	bBalance,
	bLocked,
	bInterior,
	bProducts,
	bMaxProducts,
	bPriceProd,
	bVirtual,
	bStatic,
	bGas,
	bPickup
};
new BizzInfo[200][bInfo];
new Text3D:BizzLabel[sizeof(BizzInfo)];

// FACTIONS
enum Factions
{
	fID,
	fName[128],
	Float:fcX,
	Float:fcY,
	Float:fcZ,
	Float:extX,
	Float:extY,
	Float:extZ,
	fVW,
	fInterior,
	fMats,
	fDrugs,
	fBank,
	fAnn[128],
	fApp,
	fMaxMembers,
	fMinimLevel,
	fFactionColor[8],
	fHQStats
};
new DynamicFactions[50][Factions], fRankNames[50][7][180];
// GUN NAME
new GunNames[48][] =
{
	"Nothink",
	"Brass Knuckles",
	"Golf Club",
	"Nitestick",
	"Knife",
	"Baseball Bat",
	"Showel",
	"Pool Cue",
	"Katana",
	"Chainsaw",
	"Purple Dildo",
	"Small White Dildo",
	"Long White Dildo",
	"Vibrator",
	"Flowers",
	"Cane",
	"Grenade",
	"Tear Gas",
	"Molotov",
	"Vehicle Missile",
	"Hydra Flare",
	"Jetpack",
	"Glock",
	"Silenced Colt",
	"Desert Eagle",
	"Shotgun",
	"Sawn Off",
	"Combat Shotgun",
	"Micro UZI",
	"MP5",
	"AK47",
	"M4",
	"Tec9",
	"Rifle",
	"Sniper Rifle",
	"Rocket Launcher",
	"HS Rocket Launcher",
	"Flamethrower",
	"Minigun",
	"Satchel Charge",
	"Detonator",
	"Spraycan",
	"Fire Extinguisher",
	"Camera",
	"Nightvision",
	"Infrared Vision",
	"Parachute",
	"Fake Pistol"
};

new Peds[115][1] = {
{1},{2},{6},{7},{9},{10},{14},{15},{16},{18},{19},{20},{21},{22},{23},{24},{25},{26},{27},{28},
{29},{30},{31},{32},{33},{34},{35},{36},{37},{38},{39},{41},{43},{44},{45},{47},{48},{49},{51},
{52},{53},{54},{63},{64},{66},{67},{68},{69},{73},{75},{77},{78},{79},{80},{81},{82},{83},{84},
{87},{88},{89},{94},{95},{96},{97},{99},{100},{101},{128},{129},{130},{131},{132},{133},{134},
{135},{136},{137},{138},{139},{140},{142},{143},{144},{145},{146},{154},{162},{170},{180},{177},
{176},{181},{182},{183},{184},{193},{201},{202},{203},{204},{221},{230},{234},{237},{241},{242},
{247},{248},{249},{250},{252},{254},{299},{293}
};

enum LIST_ANTIFLOOD
{
	lastCheck,
	floodRate
}
new AntiFlood_Data[MAX_PLAYERS][LIST_ANTIFLOOD];
function GiveBiz(id, biz) {
	PlayerInfo[id][pBizz] = biz;
	UpdateVar(id, "Bizz", biz);
	BizzInfo[biz][bOwned] = 1;
	format(BizzInfo[biz][bOwner], 256, GetName(id));
	BizzInfo[biz][bBuyPrice] = 0;
	UpdateLabel(2, biz);
	new query[180];
	format(query, sizeof(query), "UPDATE `bizz` SET `Owned`='1', `Owner`='%s', `BuyPrice`='0' WHERE `ID`='%d'", GetName(id), biz);
	mysql_tquery(SQL, query, "", "");
	return 1;
}

function GiveHouse(id, house) {
	PlayerInfo[id][pHouse] = house;
	UpdateVar(id, "House", house);
	HouseInfo[house][hOwned] = 1;
	format(HouseInfo[house][hOwner], 256, GetName(id));
	HouseInfo[house][hValue] = 0;
	UpdateLabel(1, house);
	new query[180];
	format(query, sizeof(query), "UPDATE `houses` SET `Owned`='1', `Owner`='%s', `Value`='0' WHERE `ID`='%d'", GetName(id), house);
	mysql_query(SQL, query);
	return 1;
}
function ShowTradeTDs(playerid) {
	PlayerTextDrawSetString(playerid, TradePTD[4], "~r~nepregatit");
	PlayerTextDrawSetString(playerid, TradePTD[5], "~r~nepregatit");
	for(new i = 0; i < sizeof(TradePTD); i++) if(i < 6) PlayerTextDrawShow(playerid, TradePTD[i]);
	for(new i = 0; i < sizeof(TradeTD); i++) if(i < 11) TextDrawShowForPlayer(playerid, TradeTD[i]);
	SelectTextDraw(playerid, 0x00BFFFFF);
	return 1;
}

function HideTradeTDs(playerid) {
	for(new i = 0; i < sizeof(TradePTD); i++) PlayerTextDrawHide(playerid, TradePTD[i]);
	for(new i = 0; i < sizeof(TradeTD); i++) TextDrawHideForPlayer(playerid, TradeTD[i]);
	TradeID[playerid] = -1;
	TradePlayer[playerid] = -1;
	TradeTime[playerid] = 0;
	return 1;
}

function HideTradeItems(playerid) {
	DeletePVar(playerid, "MoneyTrade");
	DeletePVar(playerid, "HouseTrade");
	DeletePVar(playerid, "BusinessTrade");
	SetPVarInt(playerid, "CarTrade", -1);

	new id = TradeID[playerid];
	if(GetPVarInt(playerid, "TradeAccepted")  == 0) {
		for(new i = 0; i < sizeof(TradeTitle); i++) {
			if(i >= 0 && i < 5) {
				PlayerTextDrawHide(playerid, TradeTitle[i]);
				PlayerTextDrawHide(id, TradeTitle[i]);
			}
		}
		for(new i = 0; i < sizeof(TradeIcon); i++) {
			if(i >= 0 && i < 5) {
				PlayerTextDrawHide(playerid, TradeIcon[i]);
				PlayerTextDrawHide(id, TradeIcon[i]);
			}
		}
		for(new i = 0; i < sizeof(TradeTD); i++) {
			if(i >= 11 && i < 16) {
				TextDrawHideForPlayer(playerid, TradeTD[i]);
				TextDrawHideForPlayer(id, TradeTD[i]);
			}
		}
	}
	if(GetPVarInt(playerid, "TradeAccepted")  == 1) {
		for(new i = 0; i < sizeof(TradeTitle); i++) {
			if(i >= 5 && i < 10) {
				PlayerTextDrawHide(playerid, TradeTitle[i]);
				PlayerTextDrawHide(id, TradeTitle[i]);
			}
		}
		for(new i = 0; i < sizeof(TradeIcon); i++) {
			if(i >= 5 && i < 10) {
				PlayerTextDrawHide(playerid, TradeIcon[i]);
				PlayerTextDrawHide(id, TradeIcon[i]);
			}
		}
		for(new i = 0; i < sizeof(TradeTD); i++) {
			if(i >= 16 && i < 21) {
				TextDrawHideForPlayer(playerid, TradeTD[i]);
				TextDrawHideForPlayer(id, TradeTD[i]);
			}
		}
	}
	TradeItems[playerid] = 0;
	return 1;
}
function AddTradeItem(playerid, type, amount) {
	new tid, pid;
	if(TradeItems[playerid] == 5) return 1;
	if(GetPVarInt(playerid, "TradeAccepted") == 0) {
		tid = TradeItems[playerid]+11;
		pid = TradeItems[playerid];
	}
	if(GetPVarInt(playerid, "TradeAccepted") == 1) {
		tid = TradeItems[playerid]+16;
		pid = TradeItems[playerid]+5;
	}
	TradeItems[playerid] ++;
	new id = TradeID[playerid];
	TextDrawShowForPlayer(playerid, TradeTD[tid]);
	TextDrawShowForPlayer(id, TradeTD[tid]);
	switch(type) {
		case 0: {
			SetPVarInt(playerid, "MoneyTrade", amount);
			format(szGlobal, sizeof(szGlobal), "$%s", FormatNumber(amount));
			PlayerTextDrawSetString(playerid, TradeTitle[pid], szGlobal);
			PlayerTextDrawSetString(id, TradeTitle[pid], szGlobal);
			PlayerTextDrawSetPreviewModel(playerid, TradeIcon[pid], 1212);
			PlayerTextDrawSetPreviewModel(id, TradeIcon[pid], 1212);
		}
		case 1: {
			SetPVarInt(playerid, "HouseTrade", PlayerInfo[playerid][pHouse]);
			format(szGlobal, sizeof(szGlobal), "House %d", PlayerInfo[playerid][pHouse]);
			PlayerTextDrawSetString(playerid, TradeTitle[pid], szGlobal);
			PlayerTextDrawSetString(id, TradeTitle[pid], szGlobal);
			PlayerTextDrawSetPreviewModel(playerid, TradeIcon[pid], 1273);
			PlayerTextDrawSetPreviewModel(id, TradeIcon[pid], 1273);
		}
		case 2: {
			SetPVarInt(playerid, "BusinessTrade", PlayerInfo[playerid][pBizz]);
			format(szGlobal, sizeof(szGlobal), "Business %d", PlayerInfo[playerid][pBizz]);
			PlayerTextDrawSetString(playerid, TradeTitle[pid], szGlobal);
			PlayerTextDrawSetString(id, TradeTitle[pid], szGlobal);
			PlayerTextDrawSetPreviewModel(playerid, TradeIcon[pid], 1272);
			PlayerTextDrawSetPreviewModel(id, TradeIcon[pid], 1272);
		}
		case 3: {
			SetPVarInt(playerid, "CarTrade", amount);
			new idd = PlayerInfo[playerid][pCarKey][amount];
			new model = CarInfo[idd][cModel];
			format(szGlobal, sizeof(szGlobal), "%s~n~%0.2f km > Colors: %d, %d", aVehicleNames[model-400], CarInfo[idd][KM], CarInfo[idd][cColorOne], CarInfo[idd][cColorTwo]);
			PlayerTextDrawSetString(playerid, TradeTitle[pid], szGlobal);
			PlayerTextDrawSetString(id, TradeTitle[pid], szGlobal);
			PlayerTextDrawSetPreviewModel(playerid, TradeIcon[pid], model);
			PlayerTextDrawSetPreviewVehCol(playerid, TradeIcon[pid], CarInfo[idd][cColorOne], CarInfo[idd][cColorTwo]);
			PlayerTextDrawSetPreviewModel(id, TradeIcon[pid], model);
			PlayerTextDrawSetPreviewVehCol(id, TradeIcon[pid], CarInfo[idd][cColorOne], CarInfo[idd][cColorTwo]);
		}
	}
	PlayerTextDrawShow(playerid, TradeTitle[pid]);
	PlayerTextDrawShow(id, TradeTitle[pid]);
	PlayerTextDrawShow(playerid, TradeIcon[pid]);
	PlayerTextDrawShow(id, TradeIcon[pid]);
	return 1;
}
function FinishTrade(playerid) {
	new id = TradeID[playerid],string2[256], query[256], log[300], items[128];
	SCM(playerid, COLOR_GOLD, "Afacerea a fost finalizata cu succes!");
	SCM(id, COLOR_GOLD, "Afacerea a fost finalizata cu succes!");
	strcat(szGlobal, "Ai primit: ");
	if(GetPVarInt(playerid, "MoneyTrade") != 0) {
		GivePlayerCash(id, GetPVarInt(playerid, "MoneyTrade"));
		GivePlayerCash(playerid, -GetPVarInt(playerid, "MoneyTrade"));
		format(string2, sizeof(string2), "$%s ", FormatNumber(GetPVarInt(playerid, "MoneyTrade")));
		strcat(szGlobal, string2);
		strcat(items, string2);
	}
	if(GetPVarInt(playerid, "HouseTrade") != 0) {
		format(string2, sizeof(string2), "House %d ", GetPVarInt(playerid, "HouseTrade"));
		strcat(szGlobal, string2);
		strcat(items, string2);

		if(GetPVarInt(id, "HouseTrade") == 0) {
			PlayerInfo[playerid][pHouse] = 999;
			UpdateVar(playerid, "House", 999);
		}

		GiveHouse(id, GetPVarInt(playerid, "HouseTrade"));
	}
	if(GetPVarInt(playerid, "BusinessTrade") != 0) {
		format(string2, sizeof(string2), "Business %d ", GetPVarInt(playerid, "BusinessTrade"));
		strcat(szGlobal, string2);
		strcat(items, string2);

		if(GetPVarInt(id, "BusinessTrade") == 0) {
			PlayerInfo[playerid][pBizz] = 255;
			UpdateVar(playerid, "Bizz", 255);
		}
		GiveBiz(id, GetPVarInt(playerid, "BusinessTrade"));
	}
	if(GetPVarInt(playerid, "CarTrade") != -1) {
		new x = GetPVarInt(playerid, "CarTrade");
		new idd = PlayerInfo[playerid][pCarKey][x];
		format(string2, sizeof(string2), "Vehicul %s (%d) ", aVehicleNames[CarInfo[idd][cModel]-400], idd);
		strcat(szGlobal, string2);
		strcat(items, string2);
		PlayerInfo[playerid][pCarKey][x] = 0;
		format(query, sizeof(query), "UPDATE `users` SET `CarKey%d`='0' WHERE `ID`='%d'", x+1, PlayerInfo[playerid][pSQLID]);
		mysql_query(SQL, query);
		new key = FindCSlot(id);
		PlayerInfo[id][pCarKey][key-1] = idd;
		format(CarInfo[idd][cOwner], 64, GetName(id));
		CarInfo[idd][Userid] = PlayerInfo[id][pSQLID];
		format(query, sizeof(query), "UPDATE `cars` SET `Owner`='%s', `Userid`='%d' WHERE `ID`='%d'", GetName(id), PlayerInfo[id][pSQLID], idd);
		mysql_query(SQL, query);
		format(query, sizeof(query), "UPDATE `users` SET `CarKey%d`='%d' WHERE `ID`='%d'", key, idd, PlayerInfo[id][pSQLID]);
		mysql_query(SQL, query);
	}
	SCM(id, COLOR_GOLD, szGlobal);
	format(log, sizeof(log), "%s a dat [%s]", GetName(playerid), items);
	items = "";
	szGlobal = "Ai primit: ";
	if(GetPVarInt(id, "MoneyTrade") != 0) {
		GivePlayerCash(playerid, GetPVarInt(id, "MoneyTrade"));
		GivePlayerCash(id, -GetPVarInt(id, "MoneyTrade"));
		format(string2, sizeof(string2), "$%s |", FormatNumber(GetPVarInt(id, "MoneyTrade")));
		strcat(szGlobal, string2);
		strcat(items, string2);
	}
	if(GetPVarInt(id, "HouseTrade") != 0) {
		format(string2, sizeof(string2), "House %d ", GetPVarInt(id, "HouseTrade"));
		strcat(szGlobal, string2);
		strcat(items, string2);

		if(GetPVarInt(playerid, "HouseTrade") == 0) {
			PlayerInfo[id][pHouse] = 999;
			UpdateVar(id, "House", 999);
		}

		GiveHouse(playerid, GetPVarInt(id, "HouseTrade"));
	}
	if(GetPVarInt(id, "BusinessTrade") != 0) {
		format(string2, sizeof(string2), "Business %d ", GetPVarInt(id, "BusinessTrade"));
		strcat(szGlobal, string2);
		strcat(items, string2);

		if(GetPVarInt(playerid, "BusinessTrade") == 0) {
			PlayerInfo[id][pBizz] = 255;
			UpdateVar(id, "Bizz", 255);
		}

		GiveBiz(playerid, GetPVarInt(id, "BusinessTrade"));
	}
	if(GetPVarInt(id, "CarTrade") != -1) {
		new x = GetPVarInt(id, "CarTrade");
		new idd = PlayerInfo[id][pCarKey][x];
		format(string2, sizeof(string2), "Vehicul %s (%d) ", aVehicleNames[CarInfo[idd][cModel]-400], idd);
		strcat(szGlobal, string2);
		strcat(items, string2);
		PlayerInfo[id][pCarKey][x] = 0;
		format(query, sizeof(query), "UPDATE `users` SET `CarKey%d`='0' WHERE `ID`='%d'", x+1, PlayerInfo[id][pSQLID]);
		mysql_query(SQL, query);
		new key = FindCSlot(playerid);
		PlayerInfo[playerid][pCarKey][key-1] = idd;
		format(CarInfo[idd][cOwner], 64, GetName(playerid));
		CarInfo[idd][Userid] = PlayerInfo[playerid][pSQLID];
		format(query, sizeof(query), "UPDATE `cars` SET `Owner`='%s', `Userid`='%d' WHERE `ID`='%d'", GetName(playerid), PlayerInfo[playerid][pSQLID], idd);
		mysql_query(SQL, query);
		format(query, sizeof(query), "UPDATE `users` SET `CarKey%d`='%d' WHERE `ID`='%d'", key, idd, PlayerInfo[playerid][pSQLID]);
		mysql_query(SQL, query);
	}
	SCM(playerid, COLOR_GOLD, szGlobal);

	format(log, sizeof(log), "%s pe [%s], lui %s (user:%d).", log, items, GetName(id), PlayerInfo[id][pSQLID]);

	CancelSelectTextDraw(playerid);
	HideTradeItems(playerid);
	HideTradeTDs(playerid);

	CancelSelectTextDraw(id);
	HideTradeItems(id);
 	HideTradeTDs(id);
	return 1;
}
function GetVehicleID(vehicleid) {
	for(new i = 0; i < MAX_SVEHICLES; i++) {
		if(ServerVehicles[i][vSpawned] == vehicleid) return i;
	}
	return 0;
}
function GetServerVehicles() {
	new szQuery[256], vehicles;
    format(szQuery, sizeof(szQuery), "SELECT * FROM `svehicles`");
    new Cache: result = mysql_query(SQL, szQuery);
    vehicles = cache_get_row_count ();
    cache_delete(result);
	return vehicles;
}
// HOUSE SAVE
function GetModelIDFromName(const string[])
{
    for(new i = 0, g = 211; i < g; i++) if(strfind(aVehicleNames[i], string, true) != -1) return i + 400;
    return -1;
}
function HUpdate(hid, type)
{
	new var[256];
	switch(type)
	{
	    case hExitxx:
	    {
			format(var, sizeof(var), "UPDATE `houses` SET `Exitx`='%f' WHERE `ID`='%d'",HouseInfo[hid][hExitx], hid);
			mysql_query(SQL ,var);
	    }
	    case hExityx:
	    {
			format(var, sizeof(var), "UPDATE `houses` SET `Exity`='%f' WHERE `ID`='%d'",HouseInfo[hid][hExity], hid);
			mysql_query(SQL ,var);
	    }
	    case hExitzx:
	    {
			format(var, sizeof(var), "UPDATE `houses` SET `Exitz`='%f' WHERE `ID`='%d'",HouseInfo[hid][hExitz], hid);
			mysql_query(SQL ,var);
	    }
	    case hInteriorx:
	    {
			format(var, sizeof(var), "UPDATE `houses` SET `Interior`='%d' WHERE `ID`='%d'",HouseInfo[hid][hInterior], hid);
			mysql_query(SQL ,var);
	    }
	    case hRadiox: {
			format(var, sizeof(var), "UPDATE `houses` SET `Radio`='%d' WHERE `ID`='%d'",HouseInfo[hid][hRadio], hid);
			mysql_query(SQL ,var);
	    }
	}
	return 1;
}
//Announces
function SendMSG(playerid) {
	new randMSG = random(sizeof(RandomMSG));
	SendClientMessageToAll(COLOR_WHITE, RandomMSG[randMSG]);
}
function ClearVote() {
	format(Answers[0], 25, " ");
	format(Answers[1], 25, " ");
	format(Answers[2], 25, " ");
	format(QuestionVote, 64, " ");
	TotalAnswers = 0;
	FactionVote = -1;
	return 1;
}
function GetFactionMembers(fid) {
	new membrii;
	new szQuery[256];
    format(szQuery, sizeof(szQuery), "SELECT * FROM `users` WHERE `Member` = '%d' LIMIT 1", fid);
    new Cache: result = mysql_query(SQL, szQuery);
    for(new i, j = cache_get_row_count (); i < j; i++)
    {
 		membrii++;
    }
    cache_delete(result);
	return membrii;
}
function Rac() {
	new bool:unwanted[CAR_AMOUNT];
    for(new player=0; player<MAX_PLAYERS; player++)
 	{
         if(IsPlayerInAnyVehicle(player))
		 {
		 	unwanted[GetPlayerVehicleID(player)]=true;
		 }
 	}
	for(new car = 1; car <= 420; car++)
	{
	    if(!unwanted[car]) SetVehicleToRespawn(car), Gas[car] = 100;
	}
}
// PLAYER SAVE
function Update(playerid, type) {
	new var[256];
	switch(type) {
		case pCashx: format(var, sizeof(var), "UPDATE `users` SET `Money`='%d' WHERE `ID`='%d'",GetPlayerCash(playerid), PlayerInfo[playerid][pSQLID]);
		case pRP: format(var, sizeof(var), "UPDATE `users` SET `Respect`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pExp], PlayerInfo[playerid][pSQLID]);
		case pBank: format(var, sizeof(var), "UPDATE `users` SET `Bank`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pAccount], PlayerInfo[playerid][pSQLID]);
		case pCarLicTx: format(var, sizeof(var), "UPDATE `users` SET `CarLicT`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pCarLicT], PlayerInfo[playerid][pSQLID]);
		case pCarLicx: format(var, sizeof(var), "UPDATE `users` SET `CarLic`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pCarLic], PlayerInfo[playerid][pSQLID]);
		case pFlyLicTx: format(var, sizeof(var), "UPDATE `users` SET `FlyLicT`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pFlyLicT], PlayerInfo[playerid][pSQLID]);
		case pBoatLicTx: format(var, sizeof(var), "UPDATE `users` SET `BoatLicT`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pBoatLicT], PlayerInfo[playerid][pSQLID]);
		case pFishLicTx: format(var, sizeof(var), "UPDATE `users` SET `FishLicT`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pFishLicT], PlayerInfo[playerid][pSQLID]);
		case pGunLicTx: format(var, sizeof(var), "UPDATE `users` SET `GunLicT`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pGunLicT], PlayerInfo[playerid][pSQLID]);
		case pRobx: format(var, sizeof(var), "UPDATE `users` SET `Rob`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pRob], PlayerInfo[playerid][pSQLID]);
		case pFpunishx: format(var, sizeof(var), "UPDATE `users` SET `FPunish`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pFpunish], PlayerInfo[playerid][pSQLID]);
		case pLawyerx: format(var, sizeof(var), "UPDATE `users` SET `Acceptpoints`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pLawyer], PlayerInfo[playerid][pSQLID]);
		case pConnectTimex: format(var, sizeof(var), "UPDATE `users` SET `ConnectedTime`='%0.3f' WHERE `ID`='%d'",PlayerInfo[playerid][pConnectTime], PlayerInfo[playerid][pSQLID]);
		case pTowx: format(var, sizeof(var), "UPDATE `users` SET `Tow`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pTow], PlayerInfo[playerid][pSQLID]);
		case pPayDayHadx: format(var, sizeof(var), "UPDATE `users` SET `PayDayHad`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pPayDayHad], PlayerInfo[playerid][pSQLID]);
		case pPayDayx: format(var, sizeof(var), "UPDATE `users` SET `PayDay`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pPayDay], PlayerInfo[playerid][pSQLID]);
		case pPayCheckx: format(var, sizeof(var), "UPDATE `users` SET `Paycheck`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pPayCheck], PlayerInfo[playerid][pSQLID]);
		case pHousex: format(var, sizeof(var), "UPDATE `users` SET `House`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pHouse], PlayerInfo[playerid][pSQLID]);
		case pJailedx: format(var, sizeof(var), "UPDATE `users` SET `Jailed`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pJailed], PlayerInfo[playerid][pSQLID]);
		case pJailTimex: format(var, sizeof(var), "UPDATE `users` SET `JailTime`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pJailTime], PlayerInfo[playerid][pSQLID]);
		case pWantedLevelx: format(var, sizeof(var), "UPDATE `users` SET `WantedLevel`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pWantedLevel], PlayerInfo[playerid][pSQLID]);
		case pPhonex: format(var, sizeof(var), "UPDATE `users` SET `Phone`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pPhone], PlayerInfo[playerid][pSQLID]);
		case pMatsx: format(var, sizeof(var), "UPDATE `users` SET `Materials`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pMats], PlayerInfo[playerid][pSQLID]);
		case pRobSkillx: format(var, sizeof(var), "UPDATE `users` SET `RobSkill`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pRobSkill], PlayerInfo[playerid][pSQLID]);
		case pLevelx: format(var, sizeof(var), "UPDATE `users` SET `Level`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pLevel], PlayerInfo[playerid][pSQLID]);
		case pPremiumAccountx: format(var, sizeof(var), "UPDATE `users` SET `Premium`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pPremiumAccount], PlayerInfo[playerid][pSQLID]);
		case pBizzx: format(var, sizeof(var), "UPDATE `users` SET `Bizz`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pBizz], PlayerInfo[playerid][pSQLID]);
		case pPnumberx: format(var, sizeof(var), "UPDATE `users` SET `PhoneNr`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pPnumber], PlayerInfo[playerid][pSQLID]);
		case pRegx: format(var, sizeof(var), "UPDATE `users` SET `Registered`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pReg], PlayerInfo[playerid][pSQLID]);
		case pRegistredDatex: format(var, sizeof(var), "UPDATE `users` SET `RegisterDate`='%s' WHERE `ID`='%d'",PlayerInfo[playerid][pRegistredDate], PlayerInfo[playerid][pSQLID]);
		case pRentedx: format(var, sizeof(var), "UPDATE `users` SET `Rented`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pRented], PlayerInfo[playerid][pSQLID]);
		case pCrimesx: format(var, sizeof(var), "UPDATE `users` SET `Crimes`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pCrimes], PlayerInfo[playerid][pSQLID]);
		case pCrime1x: format(var, sizeof(var), "UPDATE `users` SET `Crime1`='%s' WHERE `ID`='%d'",PlayerInfo[playerid][pCrime1], PlayerInfo[playerid][pSQLID]);
		case pCrime2x: format(var, sizeof(var), "UPDATE `users` SET `Crime2`='%s' WHERE `ID`='%d'",PlayerInfo[playerid][pCrime2], PlayerInfo[playerid][pSQLID]);
		case pCrime3x: format(var, sizeof(var), "UPDATE `users` SET `Crime3`='%s' WHERE `ID`='%d'",PlayerInfo[playerid][pCrime3], PlayerInfo[playerid][pSQLID]);
		case pVictimx: format(var, sizeof(var), "UPDATE `users` SET `Victim`='%s' WHERE `ID`='%d'",PlayerInfo[playerid][pVictim], PlayerInfo[playerid][pSQLID]);
		case pAccusedx: format(var, sizeof(var), "UPDATE `users` SET `Accused`='%s' WHERE `ID`='%d'",PlayerInfo[playerid][pAccused], PlayerInfo[playerid][pSQLID]);
		case pEmailx: format(var, sizeof(var), "UPDATE `users` SET `Email`='%s' WHERE `ID`='%d'",PlayerInfo[playerid][pEmail], PlayerInfo[playerid][pSQLID]);
		case pBTempx: format(var, sizeof(var), "UPDATE `users` SET `BTemp`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pBTemp], PlayerInfo[playerid][pSQLID]);
		case pBYearx: format(var, sizeof(var), "UPDATE `users` SET `BYear`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pBYear], PlayerInfo[playerid][pSQLID]);
		case pBMonthx: format(var, sizeof(var), "UPDATE `users` SET `BMonth`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pBMonth], PlayerInfo[playerid][pSQLID]);
		case pBDayx: format(var, sizeof(var), "UPDATE `users` SET `BDay`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pBDay], PlayerInfo[playerid][pSQLID]);
		case pBByx: format(var, sizeof(var), "UPDATE `users` SET `BBy`='%s' WHERE `ID`='%d'",PlayerInfo[playerid][pBBy], PlayerInfo[playerid][pSQLID]);
		case pBReasonx: format(var, sizeof(var), "UPDATE `users` SET `BReason`='%s' WHERE `ID`='%d'",PlayerInfo[playerid][pBReason], PlayerInfo[playerid][pSQLID]);
		case pWarnsx: format(var, sizeof(var), "UPDATE `users` SET `Warnings`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pWarns], PlayerInfo[playerid][pSQLID]);
		case pTruckerSkillx: format(var, sizeof(var), "UPDATE `users` SET `TruckerSkill`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pTruckerSkill], PlayerInfo[playerid][pSQLID]);
		case pGarbageSkillx: format(var, sizeof(var), "UPDATE `users` SET `GarbageSkill`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pGarbageSkill], PlayerInfo[playerid][pSQLID]);
		case pShowJobx: format(var, sizeof(var), "UPDATE `users` SET `ShowJob`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pShowJob], PlayerInfo[playerid][pSQLID]);
		case pShowFPx: format(var, sizeof(var), "UPDATE `users` SET `ShowFP`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pShowFP], PlayerInfo[playerid][pSQLID]);
		case pShowLogox: format(var, sizeof(var), "UPDATE `users` SET `ShowLogo`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pShowLogo], PlayerInfo[playerid][pSQLID]);
		case pShowCeasx: format(var, sizeof(var), "UPDATE `users` SET `ShowCeas`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pShowCeas], PlayerInfo[playerid][pSQLID]);
		case pFarmerSkillx: format(var, sizeof(var), "UPDATE `users` SET `FarmerSkill`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pFarmerSkill], PlayerInfo[playerid][pSQLID]);
		case pMowerSkillx: format(var, sizeof(var), "UPDATE `users` SET `MowerSkill`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pMowerSkill], PlayerInfo[playerid][pSQLID]);
		case pPremiumPointsx: format(var, sizeof(var), "UPDATE `users` SET `GoldPoints`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pPremiumPoints], PlayerInfo[playerid][pSQLID]);
		case pShowFactionx: format(var, sizeof(var), "UPDATE `users` SET `ShowFaction`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pShowFaction], PlayerInfo[playerid][pSQLID]);
		case pConstructorSkillx:  format(var, sizeof(var), "UPDATE `users` SET `ConstructorSkill`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pConstructorSkill], PlayerInfo[playerid][pSQLID]);
		case pFishSkillx: format(var, sizeof(var), "UPDATE `users` SET `FishSkill`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pFishSkill], PlayerInfo[playerid][pSQLID]);
		case pHotSkillx: format(var, sizeof(var), "UPDATE `users` SET `HotSkill`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pHotSkill], PlayerInfo[playerid][pSQLID]);
		case pBusSkillx: format(var, sizeof(var), "UPDATE `users` SET `BusSkill`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pBusSkill], PlayerInfo[playerid][pSQLID]);
		case pGasCanx: format(var, sizeof(var), "UPDATE `users` SET `GasCan`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pGasCan], PlayerInfo[playerid][pSQLID]);
		case pCadouLuatx: format(var, sizeof(var), "UPDATE `users` SET `CadouLuat`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pCadouLuat], PlayerInfo[playerid][pSQLID]);
		case pDetectivSkillx: format(var, sizeof(var), "UPDATE `users` SET `DetectivSkill`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pDetectivSkill], PlayerInfo[playerid][pSQLID]);
		case pPizzaSkillx: format(var, sizeof(var), "UPDATE `users` SET `PizzaSkill`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pPizzaSkill], PlayerInfo[playerid][pSQLID]);
		case pJackerSkillx: format(var, sizeof(var), "UPDATE `users` SET `JackerSkill`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pJackerSkill], PlayerInfo[playerid][pSQLID]);
		case pGiftPointsx: format(var, sizeof(var), "UPDATE `users` SET `GiftPoints`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pGiftPoints], PlayerInfo[playerid][pSQLID]);
        case pCommandsx: format(var, sizeof(var), "UPDATE `users` SET `Commands`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pCommands], PlayerInfo[playerid][pSQLID]);
		case pFactionTimex: format(var, sizeof(var), "UPDATE `users` SET `FactionTime`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pFactionTime], PlayerInfo[playerid][pSQLID]);
 		case pDailyMissionx: format(var, sizeof(var), "UPDATE `users` SET `DailyMission`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pDailyMission][0], PlayerInfo[playerid][pSQLID]);
 		case pDailyMission2x: format(var, sizeof(var), "UPDATE `users` SET `DailyMission2`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pDailyMission][1], PlayerInfo[playerid][pSQLID]);
		case pCurierSkillx: format(var, sizeof(var), "UPDATE `users` SET `CurierSkill`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pCurierSkill], PlayerInfo[playerid][pSQLID]);
 							

	}
	mysql_query(SQL ,var);
	return 1;
}
function RemoveFromCar(id) {
	RemovePlayerFromVehicle(id);
	ClearAnimations(id);
	return 1;
}
function MySQLCheckAccount(sqlplayersname[]) {
	new query[128];
	new escstr[MAX_PLAYER_NAME];
	mysql_real_escape_string(sqlplayersname, escstr);
	format(query, sizeof(query), "SELECT `ID` FROM users WHERE `name`='%s'", escstr);
	mysql_query(SQL,query);
	mysql_store_result();
	if (mysql_num_rows()==0) {
	    mysql_free_result();
		return 0;
	}
	else {
		new strid[32];
		new intid;
		mysql_fetch_row(strid);
		intid = strval(strid);
	    mysql_free_result();
		return intid;
	}
}
function aimback(playerid) {
    SetPlayerPosEx(playerid,Aimx[playerid],Aimy[playerid],Aimz[playerid]);
	return 1;
}
function  WalkAnim(playerid) {
	new keys, updown, leftright;
	GetPlayerKeys(playerid,keys,updown,leftright);
	if (GetPlayerWalkingStyle(playerid) == WALK_NORMAL) {
 	 	if ((keys & KEY_WALK && updown & KEY_UP) || (keys & KEY_WALK && updown & KEY_DOWN) || (keys & KEY_WALK && leftright & KEY_LEFT) || (keys & KEY_WALK && leftright & KEY_RIGHT)) {
		   	KillTimer(walktime[playerid]);
			ApplyAnimation(playerid,"PED","WALK_player",4.1,1,1,1,1,1);
			walktime[playerid] = SetTimerEx("WalkAnim",200,0,"d",playerid);
		}
		else ApplyAnimation(playerid,"PED","WALK_player",4.0,0,0,0,0,1), KillTimer(walktime[playerid]);
	}
	else if (GetPlayerWalkingStyle(playerid) == WALK_PED)
	{
 	 	if ((keys & KEY_WALK && updown & KEY_UP) || (keys & KEY_WALK && updown & KEY_DOWN) || (keys & KEY_WALK && leftright & KEY_LEFT) || (keys & KEY_WALK && leftright & KEY_RIGHT))
		{
		   	KillTimer(walktime[playerid]);
			ApplyAnimation(playerid,"PED","WALK_civi",4.1,1,1,1,1,1);
			walktime[playerid] = SetTimerEx("WalkAnim",200,0,"d",playerid);
		}
		else ApplyAnimation(playerid,"PED","WALK_civi",4.0,0,0,0,0,1), KillTimer(walktime[playerid]);
	}
 	else if (GetPlayerWalkingStyle(playerid) == WALK_GANGSTA)
	{
 	 	if ((keys & KEY_WALK && updown & KEY_UP) || (keys & KEY_WALK && updown & KEY_DOWN) || (keys & KEY_WALK && leftright & KEY_LEFT) || (keys & KEY_WALK && leftright & KEY_RIGHT))
		{
		   	KillTimer(walktime[playerid]);
			ApplyAnimation(playerid,"PED","WALK_gang1",4.1,1,1,1,1,1);
			walktime[playerid] = SetTimerEx("WalkAnim",200,0,"d",playerid);
		}
		else ApplyAnimation(playerid,"PED","WALK_gang1",4.0,0,0,0,0,1), KillTimer(walktime[playerid]);
	}
	else if (GetPlayerWalkingStyle(playerid) == WALK_GANGSTA2)
	{
 	 	if ((keys & KEY_WALK && updown & KEY_UP) || (keys & KEY_WALK && updown & KEY_DOWN) || (keys & KEY_WALK && leftright & KEY_LEFT) || (keys & KEY_WALK && leftright & KEY_RIGHT))
		{
		   	KillTimer(walktime[playerid]);
			ApplyAnimation(playerid,"PED","WALK_gang2",4.1,1,1,1,1,1);
			walktime[playerid] = SetTimerEx("WalkAnim",200,0,"d",playerid);
		}
		else ApplyAnimation(playerid,"PED","WALK_gang2",4.0,0,0,0,0,1), KillTimer(walktime[playerid]);
	}
	else if (GetPlayerWalkingStyle(playerid) == WALK_OLD)
	{
 	 	if ((keys & KEY_WALK && updown & KEY_UP) || (keys & KEY_WALK && updown & KEY_DOWN) || (keys & KEY_WALK && leftright & KEY_LEFT) || (keys & KEY_WALK && leftright & KEY_RIGHT))
		{
		   	KillTimer(walktime[playerid]);
			ApplyAnimation(playerid,"PED","WALK_old",4.1,1,1,1,1,1);
			walktime[playerid] = SetTimerEx("WalkAnim",200,0,"d",playerid);
		}
		else ApplyAnimation(playerid,"PED","WALK_old",4.0,0,0,0,0,1), KillTimer(walktime[playerid]);
	}
	else if (GetPlayerWalkingStyle(playerid) == WALK_FAT_OLD)
	{
 	 	if ((keys & KEY_WALK && updown & KEY_UP) || (keys & KEY_WALK && updown & KEY_DOWN) || (keys & KEY_WALK && leftright & KEY_LEFT) || (keys & KEY_WALK && leftright & KEY_RIGHT))
		{
		   	KillTimer(walktime[playerid]);
			ApplyAnimation(playerid,"PED","WALK_fatold",4.1,1,1,1,1,1);
			walktime[playerid] = SetTimerEx("WalkAnim",200,0,"d",playerid);
		}
		else ApplyAnimation(playerid,"PED","WALK_fatold",4.0,0,0,0,0,1), KillTimer(walktime[playerid]);
	}
	else if (GetPlayerWalkingStyle(playerid) == WALK_FAT)
	{
 	 	if ((keys & KEY_WALK && updown & KEY_UP) || (keys & KEY_WALK && updown & KEY_DOWN) || (keys & KEY_WALK && leftright & KEY_LEFT) || (keys & KEY_WALK && leftright & KEY_RIGHT))
		{
		   	KillTimer(walktime[playerid]);
			ApplyAnimation(playerid,"PED","WALK_fat",4.1,1,1,1,1,1);
			walktime[playerid] = SetTimerEx("WalkAnim",200,0,"d",playerid);
		}
		else ApplyAnimation(playerid,"PED","WALK_fat",4.0,0,0,0,0,1), KillTimer(walktime[playerid]);
	}
	else if (GetPlayerWalkingStyle(playerid) == WALK_LADY)
	{
 	 	if ((keys & KEY_WALK && updown & KEY_UP) || (keys & KEY_WALK && updown & KEY_DOWN) || (keys & KEY_WALK && leftright & KEY_LEFT) || (keys & KEY_WALK && leftright & KEY_RIGHT))
		{
		   	KillTimer(walktime[playerid]);
			ApplyAnimation(playerid,"PED","WOMAN_walknorm",4.1,1,1,1,1,1);
			walktime[playerid] = SetTimerEx("WalkAnim",200,0,"d",playerid);
		}
		else ApplyAnimation(playerid,"PED","WOMAN_walknorm",4.0,0,0,0,0,1), KillTimer(walktime[playerid]);
	}
	else if (GetPlayerWalkingStyle(playerid) == WALK_LADY2)
	{
 	 	if ((keys & KEY_WALK && updown & KEY_UP) || (keys & KEY_WALK && updown & KEY_DOWN) || (keys & KEY_WALK && leftright & KEY_LEFT) || (keys & KEY_WALK && leftright & KEY_RIGHT))
		{
		   	KillTimer(walktime[playerid]);
			ApplyAnimation(playerid,"PED","WOMAN_walkbusy",4.1,1,1,1,1,1);
			walktime[playerid] = SetTimerEx("WalkAnim",200,0,"d",playerid);
		}
		else ApplyAnimation(playerid,"PED","WOMAN_walkbusy",4.0,0,0,0,0,1), KillTimer(walktime[playerid]);
	}
	else if (GetPlayerWalkingStyle(playerid) == WALK_WHORE)
	{
 	 	if ((keys & KEY_WALK && updown & KEY_UP) || (keys & KEY_WALK && updown & KEY_DOWN) || (keys & KEY_WALK && leftright & KEY_LEFT) || (keys & KEY_WALK && leftright & KEY_RIGHT))
		{
		   	KillTimer(walktime[playerid]);
			ApplyAnimation(playerid,"PED","WOMAN_walkpro",4.1,1,1,1,1,1);
			walktime[playerid] = SetTimerEx("WalkAnim",200,0,"d",playerid);
		}
		else ApplyAnimation(playerid,"PED","WOMAN_walkpro",4.0,0,0,0,0,1), KillTimer(walktime[playerid]);
	}
	else if (GetPlayerWalkingStyle(playerid) == WALK_WHORE2)
	{
 	 	if ((keys & KEY_WALK && updown & KEY_UP) || (keys & KEY_WALK && updown & KEY_DOWN) || (keys & KEY_WALK && leftright & KEY_LEFT) || (keys & KEY_WALK && leftright & KEY_RIGHT))
		{
		   	KillTimer(walktime[playerid]);
			ApplyAnimation(playerid,"PED","WOMAN_walksexy",4.1,1,1,1,1,1);
			walktime[playerid] = SetTimerEx("WalkAnim",200,0,"d",playerid);
		}
		else ApplyAnimation(playerid,"PED","WOMAN_walksexy",4.0,0,0,0,0,1), KillTimer(walktime[playerid]);
	}
	else if (GetPlayerWalkingStyle(playerid) == WALK_DRUNK)
	{
 	 	if ((keys & KEY_WALK && updown & KEY_UP) || (keys & KEY_WALK && updown & KEY_DOWN) || (keys & KEY_WALK && leftright & KEY_LEFT) || (keys & KEY_WALK && leftright & KEY_RIGHT))
		{
		   	KillTimer(walktime[playerid]);
			ApplyAnimation(playerid,"PED","WALK_drunk",4.1,1,1,1,1,1);
			walktime[playerid] = SetTimerEx("WalkAnim",200,0,"d",playerid);
		}
		else ApplyAnimation(playerid,"PED","WALK_drunk",4.0,0,0,0,0,1), KillTimer(walktime[playerid]);
	}
	else if (GetPlayerWalkingStyle(playerid) == WALK_BLIND)
	{
 	 	if ((keys & KEY_WALK && updown & KEY_UP) || (keys & KEY_WALK && updown & KEY_DOWN) || (keys & KEY_WALK && leftright & KEY_LEFT) || (keys & KEY_WALK && leftright & KEY_RIGHT))
		{
		   	KillTimer(walktime[playerid]);
			ApplyAnimation(playerid,"PED","Walk_Wuzi",4.1,1,1,1,1,1);
			walktime[playerid] = SetTimerEx("WalkAnim",200,0,"d",playerid);
		}
		else ApplyAnimation(playerid,"PED","Walk_Wuzi",4.0,0,0,0,0,1), KillTimer(walktime[playerid]);
	}
	return 1;
}
stock ChangeVehicleColorEx(vehicleid, color1, color2) {
	VehicleStats[vehicleid][vColorOne] = color1;
	VehicleStats[vehicleid][vColorTwo] = color2;
	ChangeVehicleColor(vehicleid, color1, color2);
	return 1;
}
stock SetPlayerWalkingStyle(playerid, style) {
	WalkStyle[playerid] = style;
}

stock GetPlayerWalkingStyle(playerid) {
	return WalkStyle[playerid];
}

stock GetNoOfPlayersInVeh(vehicleid) {
    new x;
    for ( new i; i != MAX_PLAYERS; ++i )
    {
        if ( GetPlayerVehicleID ( i ) != vehicleid ) continue;
        x += 1;
    }
    return x;
}

stock YoutubeStreamForPlayer(playerid, vlink[]) {
    new videoid[128],mp3link[128];
    strmid(videoid,vlink,strfind(vlink,"v=")+2,strfind(vlink,"v=")+15);
    format(mp3link,128,"http://admigos.net/youtube.php?videoid=%s",videoid);
    PlayAudioStreamForPlayersInCar(GetPlayerVehicleID(playerid),mp3link);
	return 1;
}

function DrugEffectGone(playerid)
{
	if(IsPlayerConnected(playerid))
	{
	    if(UsingDrugs[playerid] == 1)
	    {
            UsingDrugs[playerid] = 0;
			ClearAnimations(playerid);
			SetPlayerDrunkLevel (playerid, 0);
            PlayerStoned[playerid] = 0;
            KillTimer(drug[playerid]);
		}
	}
	return 1;
}

stock GangZoneCreateM( Float:MinX,Float:MinY,Float:MaxX,Float:MaxY)
{
	new gangid = GangZoneCreate(MinX,MinY,MaxX,MaxY);
	MGangZones[gangid][exista] = true;
	MGangZones[gangid][linie][0] = GangZoneCreate( MinX-2.0, MinY, MinX+2.0, MaxY );
	MGangZones[gangid][linie][1] = GangZoneCreate( MinX-2.0, MaxY-2.0, MaxX, MaxY+2.0 );
	MGangZones[gangid][linie][2] = GangZoneCreate( MaxX-2.0, MinY, MaxX+2.0, MaxY );
	MGangZones[gangid][linie][3] = GangZoneCreate( MinX-2.0, MinY-2.0, MaxX, MinY+2.0 );
	return gangid;
}

stock ArataLinii(playerid)
{
	for(new i=0; i<sizeof(Turfs)*5; i++)
   	{
		if(MGangZones[i][exista])
		{
			GangZoneShowForPlayer(playerid,MGangZones[i][linie][0],0xFFFFFF99);
			GangZoneShowForPlayer(playerid,MGangZones[i][linie][1],0xFFFFFF99);
			GangZoneShowForPlayer(playerid,MGangZones[i][linie][2],0xFFFFFF99);
			GangZoneShowForPlayer(playerid,MGangZones[i][linie][3],0xFFFFFF99);
		}
   	}
}

stock AscundeLinii(playerid)
{
	for(new i=0; i<sizeof(Turfs)*5; i++)
   	{
		if(MGangZones[i][exista])
		{
			GangZoneHideForPlayer(playerid,MGangZones[i][linie][0]);
			GangZoneHideForPlayer(playerid,MGangZones[i][linie][1]);
			GangZoneHideForPlayer(playerid,MGangZones[i][linie][2]);
			GangZoneHideForPlayer(playerid,MGangZones[i][linie][3]);
		}
    }
}

function UpdatePlayer(playerid)
{
    if(GetPlayerMoney(playerid) != Cash[playerid])
    {
		ResetMoneyBar(playerid);
		UpdateMoneyBar(playerid, Cash[playerid]);
    }
    return 1;
}
stock GivePlayerCash(playerid, money) return Cash[playerid] += money;
stock GetPlayerCash(playerid) return Cash[playerid];
stock ResetPlayerCash(playerid) return Cash[playerid] = 0;
stock NumeFactiune(id) {
	format(szGlobal, 128, "%s",  DynamicFactions[id][fName]);
	return szGlobal;
} 
stock CalculeazaTimp(secunde) {
	new time = secunde;
	new ora = time/3600;
	time = time%3600;
	new minute = time/60;
	time = time%60;
	new secunde2 = time;
	format(szGlobal,sizeof(szGlobal),"%02d:%02d:%02d",ora,minute,secunde2);
	return szGlobal;
}
stock CalculeazaTimp2(secunde) {
	new time = secunde;
	time = time%3600;
	new minute = time/60;
	time = time%60;
	new secunde2 = time;
	format(szGlobal,sizeof(szGlobal),"%02d:%02d",minute,secunde2);
	return szGlobal;
}
stock GetOnLinePlayers() {
    new OnLine;
    for(new i, g = GetMaxPlayers(); i < g; i++)
        if(IsPlayerConnected(i))
            OnLine++;
    return OnLine;
}
stock GetVehicleSpeedIDCAR(vehicleid) {
    new Float:x,Float:y,Float:z,vel;
    GetVehicleVelocity( vehicleid, x, y, z );
    vel = floatround( floatsqroot( x*x + y*y + z*z ) * 180 );
    return vel;
}
stock GetVehicleSpeed(vehicleid, get3d) {
	new Float:x, Float:y, Float:z;
	GetVehicleVelocity(vehicleid, x, y, z);
	return SpeedCheck(x, y, z, 100.0, get3d);
}
stock ModifyVehicleSpeed(vehicleid,mph) {
	new Float:Vx,Float:Vy,Float:Vz,Float:DV,Float:multiple;
	GetVehicleVelocity(vehicleid,Vx,Vy,Vz);
	DV = floatsqroot(Vx*Vx + Vy*Vy + Vz*Vz);
	if(DV > 0) //Directional velocity must be greater than 0 (display strobes if 0)
	{
		multiple = ((mph + DV * 100) / (DV * 100)); //Multiplying DV by 100 calculates speed in MPH
		return SetVehicleVelocity(vehicleid,Vx*multiple,Vy*multiple,Vz*multiple);
	}
	return 0;
}

stock PlayAudioStreamForPlayersInCar(vehicleid,url[])
{
    foreach(Player,i)
    {
        if(IsPlayerInAnyVehicle(i))
        {
            if(GetPlayerVehicleID(i) == vehicleid)
            {
                PlayAudioStreamForPlayer(i,url);
            }
        }
    }
    return 1;
}

stock StopAudioStreamForPlayersInCar(vehicleid)
{
    foreach(Player,i)
    {
        if(IsPlayerInAnyVehicle(i))
        {
            if(GetPlayerVehicleID(i) == vehicleid)
            {
                StopAudioStreamForPlayer(i);
            }
        }
    }
    return 1;
}

FormatNumber(number)
{
   new Str[15];
   format(Str, 15, "%d", number);

   if (strlen(Str) < sizeof(Str))
   {
      if (number >= 1000 && number < 10000)
             strins( Str, ",", 1, sizeof(Str));

      else if (number >= 10000 && number < 100000)
           strins(Str, ",", 2, sizeof(Str));

      else if (number >= 100000 && number < 1000000)
           strins(Str, ",", 3, sizeof(Str));

      else if (number >= 1000000 && number < 10000000)
           strins(Str, ",", 1, sizeof(Str)),strins(Str, ",", 5, sizeof(Str));

      else if (number >= 10000000 && number < 100000000)
           strins(Str, ",", 2, sizeof(Str)),strins(Str, ",", 6, sizeof(Str));

      else if (number >= 100000000 && number < 1000000000)
           strins(Str, ",", 3, sizeof(Str)),strins(Str, ",", 7, sizeof(Str));

      else if (number >= 1000000000 && number < 10000000000)
           strins(Str, ",", 1, sizeof(Str)),
           strins(Str, ",", 5, sizeof(Str)),
           strins(Str, ",", 9, sizeof(Str));
      else format(Str, 10, "%d", number);
   }
   else  format( Str, 15, "<BUG>" );
   return Str;
}

stock sscanf(string[], format[], {Float,_}:...)
{
	#if defined isnull
		if (isnull(string))
	#else
		if (string[0] == 0 || (string[0] == 1 && string[1] == 0))
	#endif
		{
			return format[0];
		}
	#pragma tabsize 4
	new
		formatPos = 0,
		stringPos = 0,
		paramPos = 2,
		paramCount = numargs(),
		delim = ' ';
	while (string[stringPos] && string[stringPos] <= ' ')
	{
		stringPos++;
	}
	while (paramPos < paramCount && string[stringPos])
	{
		switch (format[formatPos++])
		{
			case '\0':
			{
				return 0;
			}
			case 'i', 'd':
			{
				new
					neg = 1,
					num = 0,
					ch = string[stringPos];
				if (ch == '-')
				{
					neg = -1;
					ch = string[++stringPos];
				}
				do
				{
					stringPos++;
					if ('0' <= ch <= '9')
					{
						num = (num * 10) + (ch - '0');
					}
					else
					{
						return -1;
					}
				}
				while ((ch = string[stringPos]) > ' ' && ch != delim);
				setarg(paramPos, 0, num * neg);
			}
			case 'h', 'x':
			{
				new
					num = 0,
					ch = string[stringPos];
				do
				{
					stringPos++;
					switch (ch)
					{
						case 'x', 'X':
						{
							num = 0;
							continue;
						}
						case '0' .. '9':
						{
							num = (num << 4) | (ch - '0');
						}
						case 'a' .. 'f':
						{
							num = (num << 4) | (ch - ('a' - 10));
						}
						case 'A' .. 'F':
						{
							num = (num << 4) | (ch - ('A' - 10));
						}
						default:
						{
							return -1;
						}
					}
				}
				while ((ch = string[stringPos]) > ' ' && ch != delim);
				setarg(paramPos, 0, num);
			}
			case 'c':
			{
				setarg(paramPos, 0, string[stringPos++]);
			}
			case 'f':
			{

				new changestr[16], changepos = 0, strpos = stringPos;
				while(changepos < 16 && string[strpos] && string[strpos] != delim)
				{
					changestr[changepos++] = string[strpos++];
    				}
				changestr[changepos] = '\0';
				setarg(paramPos,0,_:floatstr(changestr));
			}
			case 'p':
			{
				delim = format[formatPos++];
				continue;
			}
			case '\':
			{
				new
					end = formatPos - 1,
					ch;
				while ((ch = format[++end]) && ch != '\') {}
				if (!ch)
				{
					return -1;
				}
				format[end] = '\0';
				if ((ch = strfind(string, format[formatPos], false, stringPos)) == -1)
				{
					if (format[end + 1])
					{
						return -1;
					}
					return 0;
				}
				format[end] = '\';
				stringPos = ch + (end - formatPos);
				formatPos = end + 1;
			}
			case 'u':
			{
				new
					end = stringPos - 1,
					id = 0,
					bool:num = true,
					ch;
				while ((ch = string[++end]) && ch != delim)
				{
					if (num)
					{
						if ('0' <= ch <= '9')
						{
							id = (id * 10) + (ch - '0');
						}
						else
						{
							num = false;
						}
					}
				}
				if (num && IsPlayerConnected(id))
				{
					setarg(paramPos, 0, id);
				}
				else
				{
					#if !defined foreach
						#define foreach(%1,%2) for (new %2 = 0; %2 < MAX_PLAYERS; %2++) if (IsPlayerConnected(%2))
						#define __SSCANF_FOREACH__
					#endif
					string[end] = '\0';
					num = false;
					new
						name[MAX_PLAYER_NAME];
					id = end - stringPos;
					foreach (Player, playerid)
					{
						GetPlayerName(playerid, name, sizeof (name));
						if (!strcmp(name, string[stringPos], true, id))
						{
							setarg(paramPos, 0, playerid);
							num = true;
							break;
						}
					}
					if (!num)
					{
						setarg(paramPos, 0, INVALID_PLAYER_ID);
					}
					string[end] = ch;
					#if defined __SSCANF_FOREACH__
						#undef foreach
						#undef __SSCANF_FOREACH__
					#endif
				}
				stringPos = end;
			}
			case 's', 'z':
			{
				new
					i = 0,
					ch;
				if (format[formatPos])
				{
					while ((ch = string[stringPos++]) && ch != delim)
					{
						setarg(paramPos, i++, ch);
					}
					if (!i)
					{
						return -1;
					}
				}
				else
				{
					while ((ch = string[stringPos++]))
					{
						setarg(paramPos, i++, ch);
					}
				}
				stringPos--;
				setarg(paramPos, i, '\0');
			}
			default:
			{
				continue;
			}
		}
		while (string[stringPos] && string[stringPos] != delim && string[stringPos] > ' ')
		{
			stringPos++;
		}
		while (string[stringPos] && (string[stringPos] == delim || string[stringPos] <= ' '))
		{
			stringPos++;
		}
		paramPos++;
	}
	do
	{
		if ((delim = format[formatPos++]) > ' ')
		{
			if (delim == '\')
			{
				while ((delim = format[formatPos++]) && delim != '\') {}
			}
			else if (delim != 'z')
			{
				return delim;
			}
		}
	}
	while (delim > ' ');
	return 0;
}

stock right(source[], len)
{
	new retval[MAX_STRING], srclen;
	srclen = strlen(source);
	strmid(retval, source, srclen - len, srclen, MAX_STRING);
	return retval;
}

stock IsMail(email[])
{
  	new len=strlen(email);
  	new cstate=0;
  	new i;
  	for(i=0;i<len;i++)
	{
	    if ((cstate==0 || cstate==1) && (email[i]>='A' && email[i]<='Z')||(email[i]>='0' && email[i]<='9') || (email[i]>='a' && email[i]<='z')  || (email[i]=='.')  || (email[i]=='-')  || (email[i]=='_'))
	    {
	    }
		else
		{
	       // Ok no A..Z,a..z,_,.,-
	       if ((cstate==0) &&(email[i]=='@'))
		   {
	          // its an @ after the name, ok state=1;
	          cstate=1;
	       }
		   else
		   {
	          // Its stuff which is not allowed
	          return false;
	       }
	 	}
	}
  	if (cstate<1) return false;
  	if (len<6) return false;
  	// A toplevel domain has only 3 to 4 signs :-)
  	if ((email[len-3]=='.') || (email[len-4]=='.') || (email[len-5]=='.')) return true;
  	return false;
}



// FISH PLACE
function VaildFishPlace(playerid)
{
	if(IsPlayerConnected(playerid))
	{
	    if(IsPlayerInRangeOfPoint(playerid, 4,403.8266,-2088.7598,7.8359) || IsPlayerInRangeOfPoint(playerid, 4,398.7553,-2088.7490,7.8359))
		{
		    return 1;
		}
		else if(IsPlayerInRangeOfPoint(playerid, 4,396.2197,-2088.6692,7.8359) || IsPlayerInRangeOfPoint(playerid, 4,391.1094,-2088.7976,7.8359))
		{
		    return 1;
		}
		else if(IsPlayerInRangeOfPoint(playerid, 4,383.4157,-2088.7849,7.8359) || IsPlayerInRangeOfPoint(playerid, 4,374.9598,-2088.7979,7.8359))
		{
		    return 1;
		}
		else if(IsPlayerInRangeOfPoint(playerid, 4,369.8107,-2088.7927,7.8359) || IsPlayerInRangeOfPoint(playerid, 4,367.3637,-2088.7925,7.8359))
		{
		    return 1;
		}
		else if(IsPlayerInRangeOfPoint(playerid, 4,362.2244,-2088.7981,7.8359) || IsPlayerInRangeOfPoint(playerid, 4,354.5382,-2088.7979,7.8359))
		{
		    return 1;
		}
	}
	return 0;
}
function DepositMoney(playerid)
{
	if(IsPlayerConnected(playerid))
	{
	    new leader = PlayerInfo[playerid][pLeader];
	    new member = PlayerInfo[playerid][pMember];
	    if(member == 1 || member == 2 || member == 3 || member == 4 || member == 5 || member == 6 || member == 7 || member == 8 || member == 9 ||
		member == 10 || member == 11 || member == 12 || member == 13 || member == 14 || member == 15 || member == 16 || member == 17 || member == 18 ||
		member == 19 || member == 20 || member == 21 || member == 22 || member == 23 || member == 24 || member == 25)
		{
		    return 1;
		}
		if(leader == 1 || leader == 2 || leader == 3 || leader == 4 || leader == 5 || leader == 6 || leader == 7 || leader == 8 || leader == 9 ||
		leader == 10 || leader == 11 || leader == 12 || leader == 13 || leader == 14 || leader == 15 || leader == 16 || leader == 17 || leader == 18 ||
		leader == 19 || leader == 20 || leader == 21 || leader == 22 || leader == 23 || leader == 24 || leader == 25)
		{
		    return 1;
		}
	}
	return 0;
}

// MAFIA MEMBER
function IsAMember(playerid)
{
	if(IsPlayerConnected(playerid))
	{
	    new leader = PlayerInfo[playerid][pLeader], member = PlayerInfo[playerid][pMember];
	    if(member == 4 || member == 5 || member == 6 || member == 10 || member == 20 || member == 21 || member == 22 || member == 23 || member == 24)
		{
		    return 1;
		}
		if(leader==4 || leader==5 || leader==6 || leader==10 || leader==20 || leader==21 || leader==22 || leader==23 || leader==24)
		{
		    return 1;
		}
	}
	return 0;
}
function IsATaxiMember(playerid)
{
	if(IsPlayerConnected(playerid))
	{
	    if(PlayerInfo[playerid][pMember] == 13 || PlayerInfo[playerid][pMember] == 16 || PlayerInfo[playerid][pMember] == 17)
		{
		    return 1;
		}
		if(PlayerInfo[playerid][pLeader] == 13 || PlayerInfo[playerid][pLeader] == 16 || PlayerInfo[playerid][pLeader] == 17)
		{
		    return 1;
		}
	}
	return 0;
}
function IsAInstructor(playerid)
{
	if(IsPlayerConnected(playerid))
	{
	    if(PlayerInfo[playerid][pLeader] == 12 || PlayerInfo[playerid][pLeader] == 18 || PlayerInfo[playerid][pLeader] == 19)
		{
		    return 1;
		}
		if(PlayerInfo[playerid][pLeader] == 12 || PlayerInfo[playerid][pLeader] == 18 || PlayerInfo[playerid][pLeader] == 19)
		{
		    return 1;
		}
	}
	return 0;
}

// COP
function IsACop(playerid)
{
	if(IsPlayerConnected(playerid))
	{
	    new leader = PlayerInfo[playerid][pLeader];
	    new member = PlayerInfo[playerid][pMember];
	    if(member==1 || member==2 || member==3 || member==15 || member==25)
		{
		    return 1;
		}
		else if(leader==1 || leader==2 || leader==3 || leader==15 || leader==25)
		{
		    return 1;
		}
	}
	return 0;
}

// CLOTHES PLACE
function IsAtClothShop(playerid)
{
    if(IsPlayerConnected(playerid))
	{
        if(IsPlayerInRangeOfPoint(playerid, 50.0,BizzInfo[25][bExitX],BizzInfo[25][bExitY],BizzInfo[25][bExitZ]) || IsPlayerInRangeOfPoint(playerid, 50.0,BizzInfo[37][bExitX],BizzInfo[37][bExitY],BizzInfo[37][bExitZ]))
		{//Binco & Suburban
		    return 1;
		}
		else if(IsPlayerInRangeOfPoint(playerid, 50.0,214.4470,-7.6471,1001.2109) || IsPlayerInRangeOfPoint(playerid, 50.0,161.3765,-83.8416,1001.8047) || IsPlayerInRangeOfPoint(playerid, 50.0,204.2205,-168.3091,1000.5234) || IsPlayerInRangeOfPoint(playerid ,50.0, BizzInfo[38][bExitX],BizzInfo[38][bExitY],BizzInfo[38][bExitZ]))
		{//Zip & Victim
		    return 1;
		}
	}
	return 0;
}

// BANK
function IsAtBank(playerid)
{
	if(IsPlayerConnected(playerid))
	{
	    if(IsPlayerInRangeOfPoint(playerid, 50.0, BizzInfo[1][bExitX] ,BizzInfo[1][bExitY],BizzInfo[1][bExitZ]) || IsPlayerInRangeOfPoint(playerid, 50.0, BizzInfo[30][bExitX] ,BizzInfo[30][bExitY],BizzInfo[30][bExitZ]) ||
		IsPlayerInRangeOfPoint(playerid, 50.0, BizzInfo[36][bExitX] ,BizzInfo[36][bExitY],BizzInfo[36][bExitZ]))
	    {//BANK LS
	        return 1;
	    }
	}
	return 0;
}

// ORDER PLACE
function IsAtOrderPlace(playerid)
{
	if(IsPlayerConnected(playerid))
	{
	    if(IsAMember(playerid))
	    {
		    if(IsPlayerInRangeOfPoint(playerid, 60,DynamicFactions[4][fcX],DynamicFactions[4][fcY],DynamicFactions[4][fcZ]) || IsPlayerInRangeOfPoint(playerid, 60,DynamicFactions[5][fcX],DynamicFactions[5][fcY],DynamicFactions[5][fcZ]) ||
			IsPlayerInRangeOfPoint(playerid, 60,DynamicFactions[6][fcX],DynamicFactions[6][fcY],DynamicFactions[6][fcZ]) || IsPlayerInRangeOfPoint(playerid, 60,DynamicFactions[10][fcX],DynamicFactions[10][fcY],DynamicFactions[10][fcZ]) ||
		    IsPlayerInRangeOfPoint(playerid, 60,DynamicFactions[20][fcX],DynamicFactions[20][fcY],DynamicFactions[20][fcZ]) || IsPlayerInRangeOfPoint(playerid, 60,DynamicFactions[21][fcX],DynamicFactions[21][fcY],DynamicFactions[21][fcZ]) ||
			IsPlayerInRangeOfPoint(playerid, 60,DynamicFactions[22][fcX],DynamicFactions[22][fcY],DynamicFactions[22][fcZ]) || IsPlayerInRangeOfPoint(playerid, 60,DynamicFactions[23][fcX],DynamicFactions[23][fcY],DynamicFactions[23][fcZ]) ||
			IsPlayerInRangeOfPoint(playerid, 60,DynamicFactions[24][fcX],DynamicFactions[24][fcY],DynamicFactions[24][fcZ]))
		    {
		        return 1;
		    }
		}
	}
	return 0;
}

// GAS STATION PLACE
function IsAtGasStation(playerid)
{
    if(IsPlayerConnected(playerid))
	{
		if(IsPlayerInRangeOfPoint(playerid,10.0,1004.0070,-939.3102,42.1797) || IsPlayerInRangeOfPoint(playerid,10.0,1944.3260,-1772.9254,13.3906))
		{//LS
		    return 1;
		}
		else if(IsPlayerInRangeOfPoint(playerid,10.0,-90.5515,-1169.4578,2.4079) || IsPlayerInRangeOfPoint(playerid,10.0,-1609.7958,-2718.2048,48.5391))
		{//LS
		    return 1;
		}
		else if(IsPlayerInRangeOfPoint(playerid,10.0,-2029.4968,156.4366,28.9498) || IsPlayerInRangeOfPoint(playerid,10.0,-2408.7590,976.0934,45.4175))
		{//SF
		    return 1;
		}
		else if(IsPlayerInRangeOfPoint(playerid,10.0,-2243.9629,-2560.6477,31.8841) || IsPlayerInRangeOfPoint(playerid,10.0,-1676.6323,414.0262,6.9484))
		{//Between LS and SF
		    return 1;
		}
		else if(IsPlayerInRangeOfPoint(playerid,10.0,2202.2349,2474.3494,10.5258) || IsPlayerInRangeOfPoint(playerid,10.0,614.9333,1689.7418,6.6968))
		{//LV
		    return 1;
		}
		else if(IsPlayerInRangeOfPoint(playerid,10.0,-1328.8250,2677.2173,49.7665) || IsPlayerInRangeOfPoint(playerid,10.0,70.3882,1218.6783,18.5165))
		{//LV
		    return 1;
		}
		else if(IsPlayerInRangeOfPoint(playerid,10.0,2113.7390,920.1079,10.5255) || IsPlayerInRangeOfPoint(playerid,10.0,-1327.7218,2678.8723,50.0625))
		{//LV
		    return 1;
		}
	}
	return 0;
}

// ATM PLACE
function IsAtATM(playerid)
{
    if(IsPlayerConnected(playerid))
	{
        if(PlayerToPoint(2.0,playerid,1137.1111,-1630.3916,13.8810) || PlayerToPoint(2.0,playerid,1009.0426,-929.6671,42.3281) || PlayerToPoint(2.0,playerid,1110.9364,-1788.1910,16.5938) || PlayerToPoint(2.0,playerid,1832.1864,-1849.8851,13.5781) || PlayerToPoint(2.0,playerid,411.9183,-1503.4347,31.4582) || PlayerToPoint(2.0,playerid,1646.5222,-2203.6174,13.5469))
		{//ATM
		    return 1;
		}
	}
	return 0;
}

// BAR PLACE
function IsAtBar(playerid)
{
    if(IsPlayerConnected(playerid))
	{
		if(IsPlayerInRangeOfPoint(playerid,20.0,-224.8864,1404.6012,27.7734))
		{//Idlewood
		    return 1;
		}
		else if(IsPlayerInRangeOfPoint(playerid,20.0,1215.3036,-13.3529,1000.9219))
		{//PIG Pen
		    return 1;
		}
		else if(IsPlayerInRangeOfPoint(playerid,20.0,499.4840,-20.3277,1000.6797))
		{//ALHAMBRA
		    return 1;
		}
		else if(IsPlayerInRangeOfPoint(playerid,10.0,-785.8838,500.0782,1371.7422))
		{//RESTAURANT LS
		    return 1;
		}
	}
	return 0;
}

// BOAT
function IsABoat(carid)
{
	if(GetVehicleModel(carid) == 430 || GetVehicleModel(carid) == 446 || GetVehicleModel(carid) == 452 || GetVehicleModel(carid) == 453 || GetVehicleModel(carid) == 454 || GetVehicleModel(carid) == 472 || GetVehicleModel(carid) == 473 || GetVehicleModel(carid) == 484 || GetVehicleModel(carid) == 493 || GetVehicleModel(carid) == 595)
	{
		return 1;
	}
	return 0;
}

// PLANE
function IsAPlane(carid)
{
	if(GetVehicleModel(carid) == 417 || GetVehicleModel(carid) == 425 || GetVehicleModel(carid) == 447 || GetVehicleModel(carid) == 460 || GetVehicleModel(carid) == 464 || GetVehicleModel(carid) == 465 || GetVehicleModel(carid) == 469 || GetVehicleModel(carid) == 476 || GetVehicleModel(carid) == 487 || GetVehicleModel(carid) == 488 || GetVehicleModel(carid) == 497 || GetVehicleModel(carid) == 501 || GetVehicleModel(carid) == 511 || GetVehicleModel(carid) == 512 || GetVehicleModel(carid) == 513
	 || GetVehicleModel(carid) == 519 || GetVehicleModel(carid) == 520 || GetVehicleModel(carid) == 548 || GetVehicleModel(carid) == 553 || GetVehicleModel(carid) == 563 || GetVehicleModel(carid) == 577 || GetVehicleModel(carid) == 592 || GetVehicleModel(carid) == 593)
	{
		return 1;
	}
	return 0;
}

// AMBULANCE
function IsAnAmbulance(carid)
{
	if(ServerVehicles[carid][vFaction] == 14) return 1;
	return 0;
}

// TAXI CAR
function IsAnTaxi(carid)
{
	if(ServerVehicles[carid][vFaction] == 13 || ServerVehicles[carid][vFaction] == 16 || ServerVehicles[carid][vFaction] == 17) return 1;
	return 0;
}

// BIKE
function IsABike(carid)
{
	if(GetVehicleModel(carid) == 481 || GetVehicleModel(carid) == 509 || GetVehicleModel(carid) == 510)
	{
		return 1;
	}
	return 0;
}

function OnPlayerClickTextDraw(playerid, Text:clickedid)
{
    new str[256];
	if(clickedid == HiddTD[0]) {
	    if(CarColor[playerid] == 1) {
			if(pColor1[playerid] == 0) pColor1[playerid] = 127;
		    pColor1[playerid] --;
		    ChangeVehicleColor(GetPlayerVehicleID(playerid), pColor1[playerid], pColor2[playerid]);
		    format(str, sizeof(str), "Color 1: %d", pColor1[playerid]);
		    PlayerTextDrawSetString(playerid, HiddTDs[0], str);
		    PlayerTextDrawShow(playerid, HiddTDs[0]);
	    }
	    else {
			if(pColor1[playerid] == 128) pColor1[playerid] = 256;
		    pColor1[playerid] --;
		    ChangeVehicleColor(GetPlayerVehicleID(playerid), pColor1[playerid], pColor2[playerid]);
		    format(str, sizeof(str), "Color 1: %d", pColor1[playerid]);
		    PlayerTextDrawSetString(playerid, HiddTDs[0], str);
		    PlayerTextDrawShow(playerid, HiddTDs[0]);
		}
	}
	if(clickedid == TradeTD[10]) {
		if(TradeItems[playerid] == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu ai adaugat nimic in aceasta afacere!");
		if(TradeReady[playerid] == 1) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu poti sterge bunurile adaugate in timp ce timer-ul este activat!");
		HideTradeItems(playerid);
		new id = TradeID[playerid];
		format(str, sizeof(str), "%s si-a sters bunurile adaugate.", GetName(playerid));
		SCM(playerid, COLOR_GOLD, str);
		SCM(id, COLOR_GOLD, str);
	}
	if(clickedid == TradeTD[9] && TradeReady[playerid] == 0) ShowPlayerDialog(playerid, DIALOG_TRADE, DIALOG_STYLE_LIST, "Trade", "Money\nHouse\nBusiness\nVehicle", "Ok", "Cancel");

	if(clickedid == HiddTD[1]) {
	    if(CarColor[playerid] == 1) {
			if(pColor1[playerid] == 127) pColor1[playerid] = 0;
		    pColor1[playerid] ++;
		    ChangeVehicleColor(GetPlayerVehicleID(playerid), pColor1[playerid], pColor2[playerid]);
		    format(str, sizeof(str), "Color 1: %d", pColor1[playerid]);
		    PlayerTextDrawSetString(playerid, HiddTDs[0], str);
		    PlayerTextDrawShow(playerid, HiddTDs[0]);
	    }
	    else {
			if(pColor1[playerid] == 255) pColor1[playerid] = 127;
		    pColor1[playerid] ++;
		    ChangeVehicleColor(GetPlayerVehicleID(playerid), pColor1[playerid], pColor2[playerid]);
		    format(str, sizeof(str), "Color 1: %d", pColor1[playerid]);
		    PlayerTextDrawSetString(playerid, HiddTDs[0], str);
		    PlayerTextDrawShow(playerid, HiddTDs[0]);
		}
	}

	if(clickedid == HiddTD[3]) {
	    if(CarColor[playerid] == 1) {
			if(pColor2[playerid] == 0) pColor2[playerid] = 127;
		    pColor2[playerid] --;
		    ChangeVehicleColor(GetPlayerVehicleID(playerid), pColor1[playerid], pColor2[playerid]);
		    format(str, sizeof(str), "Color 2: %d", pColor2[playerid]);
		    PlayerTextDrawSetString(playerid, HiddTDs[2], str);
		    PlayerTextDrawShow(playerid, HiddTDs[2]);
	    }
	    else {
			if(pColor2[playerid] == 128) pColor2[playerid] = 256;
		    pColor2[playerid] --;
		    ChangeVehicleColor(GetPlayerVehicleID(playerid), pColor1[playerid], pColor2[playerid]);
		    format(str, sizeof(str), "Color 2: %d", pColor2[playerid]);
		    PlayerTextDrawSetString(playerid, HiddTDs[2], str);
		    PlayerTextDrawShow(playerid, HiddTDs[2]);
		}
	}
	if(clickedid == HiddTD[4]) {
	    if(CarColor[playerid] == 1) {
			if(pColor2[playerid] == 127) pColor2[playerid] = 0;
		    pColor2[playerid] ++;
		    ChangeVehicleColor(GetPlayerVehicleID(playerid), pColor1[playerid], pColor2[playerid]);
		    format(str, sizeof(str), "Color 2: %d", pColor2[playerid]);
		    PlayerTextDrawSetString(playerid, HiddTDs[2], str);
		    PlayerTextDrawShow(playerid, HiddTDs[2]);
	    }
	    else {
			if(pColor2[playerid] == 255) pColor2[playerid] = 127;
		    pColor2[playerid] ++;
		    ChangeVehicleColor(GetPlayerVehicleID(playerid), pColor1[playerid], pColor2[playerid]);
		    format(str, sizeof(str), "Color 2: %d", pColor2[playerid]);
		    PlayerTextDrawSetString(playerid, HiddTDs[2], str);
		    PlayerTextDrawShow(playerid, HiddTDs[2]);
		}
	}

	if(clickedid == HiddTD[2]) {
	    new idd = pCar[playerid];
		ChangeVehicleColor(GetPlayerVehicleID(playerid), CarInfo[idd][cColorOne], CarInfo[idd][cColorTwo]);
    	SetCameraBehindPlayer(playerid), SetPlayerInterior(playerid, pInteriorID[playerid]), SetVehiclePos(GetPlayerVehicleID(playerid), pPos[playerid][0], pPos[playerid][1], pPos[playerid][2]);
		SetPlayerVirtualWorld(playerid, 0);
		SetVehicleVirtualWorld(GetPlayerVehicleID(playerid), 0);
		TextDrawHideForPlayer(playerid, HiddTD[0]);
		TextDrawHideForPlayer(playerid, HiddTD[1]);
		TextDrawHideForPlayer(playerid, HiddTD[2]);
		TextDrawHideForPlayer(playerid, HiddTD[3]);
		TextDrawHideForPlayer(playerid, HiddTD[4]);
		PlayerTextDrawHide(playerid, HiddTDs[0]);
		PlayerTextDrawHide(playerid, HiddTDs[1]);
		PlayerTextDrawHide(playerid, HiddTDs[2]);
		InShop[playerid] = 0;
		CancelSelectTextDraw(playerid);
		SInterior[playerid] = 0;
		CarColor[playerid] = 0;
	}

	if(clickedid == Text:INVALID_TEXT_DRAW) {
	    if(InShop[playerid] == 1 || CreateHouse[playerid] == 1 || SInterior[playerid] != 0) {
			SelectTextDraw(playerid, 0xFF0000FF);
	    }
	    if(TradeID[playerid] != -1) {
			new id = TradeID[playerid];
			format(str, sizeof(str), "* %s a anulat afacerea!", GetName(playerid));
			SCM(playerid, COLOR_GOLD, str);
			SCM(id, COLOR_GOLD, str);
			HideTradeItems(playerid);
			HideTradeItems(id);
			HideTradeTDs(id);
			HideTradeTDs(playerid);
			CancelSelectTextDraw(playerid);
			CancelSelectTextDraw(id);
		}
	    if(PinStep[playerid] >= 1) {
			CancelSelectTextDraw(playerid);
			HidePinTextDraws(playerid);
			format(InputtText[playerid], 5, "");
			PinStep[playerid] = 0;
			PlayerPlaySound(playerid, 1085, 0.0, 0.0, 10.0);
		}
		if(InDealer[playerid] >= 1 && TestingModel[playerid] == 0) {
			CancelSelectTextDraw(playerid);
			HideDealershipTextdraws(playerid);
			if(InDealer[playerid] == 1) SetPlayerPosEx(playerid, 327.9443, -1512.6609, 36.1366);
			else if(InDealer[playerid] == 2) SetPlayerPosEx(playerid, 332.6239, -1506.7646, 36.0565);
			InDealer[playerid] = 0;
			DealerCategory[playerid] = 0;
			DealerCarColor1[playerid] = 0;
			DealerCarColor2[playerid] = 0;
			DealerCarAngle[playerid] = 0;
			SetCameraBehindPlayer(playerid);
			TogglePlayerControllable(playerid, 1);
			SetPlayerVirtualWorld(playerid, 0);
			SetPlayerInterior(playerid, 0);
			DestroyVehicle(DealerCar[playerid]);
			DealerCar[playerid] = 0;
			DealerCarType[playerid] = -1;
			PlayerPlaySound(playerid, 1085, 0.0, 0.0, 10.0);
		}
		return 1;
	}

	if(clickedid == ShopTD[0]) {
	// --
		if(SInterior[playerid] == 1) SInterior[playerid] = 37;
		SInterior[playerid] --;
		SetInteriorCamera(playerid);
	}
	if(clickedid == ShopTD[1]) {
	// ++
		if(SInterior[playerid] == 36) SInterior[playerid] = 0;
		SInterior[playerid] ++;
		SetInteriorCamera(playerid);
		SetPlayerVirtualWorld(playerid, pVirtual[playerid]);
	}
	if(clickedid == ShopTD[4]) HideShopTDs(playerid), SetCameraBehindPlayer(playerid), SetPlayerInterior(playerid, pInteriorID[playerid]), SetPlayerPosEx(playerid, pPos[playerid][0], pPos[playerid][1], pPos[playerid][2]), CreateHouse[playerid] = 0, SInterior[playerid] = 0;
	return 1;
}
stock MesajLung(playerid, color, text[]) {
	new szText1[180], szText2[180];
	if(strlen(text) > 100) {
		strmid(szText1, text, 100, 256);
		strmid(szText2, text, 0, 100);
		format(szGlobal, sizeof(szGlobal), "%s", szText2);
		SendClientMessage(playerid, color, szGlobal);
		format(szGlobal, sizeof(szGlobal), "... %s", szText1);
		SendClientMessage(playerid, color, szGlobal);
	}
	else SendClientMessage(playerid, color, text);
	return 1;
}
stock MesajLung2(color, text[]) {
	new szText1[180], szText2[180];
	if(strlen(text) > 100) {
		strmid(szText1, text, 100, 256);
		strmid(szText2, text, 0, 100);
		format(szGlobal, sizeof(szGlobal), "%s", szText2);
		SendClientMessageToAll(color, szGlobal);
		format(szGlobal, sizeof(szGlobal), "... %s", szText1);
		SendClientMessageToAll(color, szGlobal);
	}
	else SendClientMessageToAll(color, text);

	return 1;
}

function Advertisment(playerid) {
	if(IsPlayerConnected(playerid)) {
	    totalads --;
		format(szGlobal, 256, "Anunt functionat de %s (Telefon: {FFFFFF}%d{00FF00}): %s",GetName(playerid),PlayerInfo[playerid][pPnumber],AdText[playerid]);
		MesajLung2(0x00FF00FF, szGlobal);
		AdTimer[playerid] = 0;
	}
	return 1;
}
function SendStaffMessage(color, text[]) {
	foreach(Player, i) {
		if(PlayerInfo[i][pHelper] >= 1 || PlayerInfo[i][pAdmin] >= 1) MesajLung(i, color, text);
	}
	return 1;
}
function MesajStaff() {
	new helpss, reports;
	foreach(Player,f) {
	    if(IsPlayerConnected(f) && IsPlayerLogged[f] == 1) {
			if(Helped[f] == 1) helpss++;
			if(Ajutor[f] != 0) reports++;
		}
	}
	foreach(Player, i) {
		if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1) {
			if(PlayerInfo[i][pAdmin] != 0 || PlayerInfo[i][pHelper] != 0) {
				if(helpss != 0 || reports != 0) {
					format(szGlobal, sizeof(szGlobal), "{FFA200}**{FFFF00} In acest moment sunt %d intrebari si %d report-uri. {FFA200}**", helpss, reports);
					SendClientMessage(i, COLOR_YELLOW, szGlobal);
				}	
			}
		}
	}
	HideDeathMessage();
	return 1;
}

function CountSpawnedCars() {
	new x;
	for(new i = 1; i < MAX_VEHICLES; i++) {
		if(Carspawn[i] != 0) x++;
	}
	return x;
}

function HideDeathMessage() {
	foreach(Player, i) {
		if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1) {
			for(new x = 0; x < 10; x++)
			{
					SendDeathMessageToPlayer(i, 1001, 1001, 200);
			}
		}		
	}			
	return 1;
}
function GiveVehicle(playerid, modelid) {
	
	new idd;
	format(szGlobal, sizeof(szGlobal), "INSERT INTO cars (Model) VALUES (%d)", modelid);
	new Cache: result = mysql_query(SQL, szGlobal);
	new i = cache_insert_id();
	cache_delete(result);	
	idd = i;
	
	new key = FindCSlot(playerid);
	PlayerInfo[playerid][pCarKey][key-1] = idd;
	DespawnCar[playerid][key-1] = 1540;
	mysql_format(SQL, szGlobal, sizeof(szGlobal), "UPDATE users SET CarKey%d='%d' WHERE `ID`='%d' LIMIT 1", key, PlayerInfo[playerid][pCarKey][key-1], PlayerInfo[playerid][pSQLID]);
	mysql_tquery(SQL, szGlobal, "", "");

	CarInfo[idd][Userid] = PlayerInfo[playerid][pSQLID];
	CarInfo[idd][cID] = idd;
	CarInfo[idd][cModel] = modelid;
	CarInfo[idd][cValue] = 1;
	CarInfo[idd][cSpecial] = 1;
	new randspawn = random(sizeof(DealerCarPos1));
	CarInfo[idd][cLocationx] = DealerCarPos1[randspawn][0];	CarInfo[idd][cLocationy] = DealerCarPos1[randspawn][1];	CarInfo[idd][cLocationz] = DealerCarPos1[randspawn][2];
	CarInfo[idd][cAngle] = DealerCarPos1[randspawn][3];
	CarInfo[idd][cColorOne] = 1;	CarInfo[idd][cColorTwo] = 1;
	strmid(CarInfo[idd][cOwner], PlayerInfo[playerid][pUsername], 0, strlen(PlayerInfo[playerid][pUsername]), 255);
	strmid(CarInfo[idd][cLicense], "NewCar", 0, 6, 255);
	CarInfo[idd][cAlarm] = 0;	CarInfo[idd][cLock] = 0;
	CarInfo[idd][mod0] = 0;		CarInfo[idd][mod1] = 0;		CarInfo[idd][mod2] = 0;		CarInfo[idd][mod3] = 0;
	CarInfo[idd][mod4] = 0;		CarInfo[idd][mod5] = 0;		CarInfo[idd][mod6] = 0;		CarInfo[idd][mod7] = 0;
	CarInfo[idd][mod8] = 0;		CarInfo[idd][mod9] = 0;		CarInfo[idd][mod10] = 0;	CarInfo[idd][mod11] = 0;
	CarInfo[idd][mod12] = 0;	CarInfo[idd][mod13] = 0;	CarInfo[idd][paintjob] = 3;	CarInfo[idd][KM] = 0;

	saveCar(idd);
	mysql_tquery(SQL, szGlobal, "", "");

	CarInfo[idd][Spawned] = CreateVehicleEx(CarInfo[idd][cModel],CarInfo[idd][cLocationx],CarInfo[idd][cLocationy],CarInfo[idd][cLocationz],CarInfo[idd][cAngle],CarInfo[idd][cColorOne],CarInfo[idd][cColorTwo],-1);
	VehicleOwned[CarInfo[idd][Spawned]] = CarInfo[idd][Spawned];
	VehicleSQL[CarInfo[idd][Spawned]] = idd;	
	new e,l,aa,d,b,bo,o;
	if(modelid == 404) {
		CP[playerid] = 53;
		SCM(playerid, COLOR_SERVER, "Ai primit de la server un Perrenial. Foloseste comanda '/vehicles' pentru mai multe informatii!");
		SetPlayerCheckpointEx(playerid, CarInfo[idd][cLocationx],CarInfo[idd][cLocationy],CarInfo[idd][cLocationz], 5.0);
	}
	GetVehicleParamsEx(CarInfo[idd][Spawned],e,l,aa,d,b,bo,o);
	SetVehicleParamsEx(CarInfo[idd][Spawned],e,l,aa,1,b,bo,o);
	SetVehicleNumberPlate(CarInfo[idd][Spawned],CarInfo[idd][cLicense]);
	CarInfo[idd][cLock] = 1;
			
	mysql_format(SQL, szGlobal, sizeof(szGlobal), "UPDATE cars SET Spawned='%d' WHERE ID=%d", CarInfo[idd][Spawned], idd);
	mysql_tquery(SQL, szGlobal, "", "");
	return 1;
}


stock saveCar(idd) {
	if(idd == 0) return 1;
	new query[512];
	mysql_format(SQL, query, sizeof(query), 
		"UPDATE cars SET Model='%d', Locationx='%f', Locationy='%f', Locationz='%f', Angle='%f', ColorOne='%d', ColorTwo='%d', Owner='%s', Value='%d', License='%s', Userid='%d'  WHERE ID=%d", 
	CarInfo[idd][cModel], CarInfo[idd][cLocationx], CarInfo[idd][cLocationy], CarInfo[idd][cLocationz], CarInfo[idd][cAngle], CarInfo[idd][cColorOne], CarInfo[idd][cColorTwo], CarInfo[idd][cOwner], CarInfo[idd][cValue],
	CarInfo[idd][cLicense], CarInfo[idd][Userid], idd);
	mysql_tquery(SQL, query, "", "");
	return 1;
}	

function OnPlayerClickPlayerTextDraw(playerid, PlayerText:playertextid)
{
	new szQuery[256],szText[1024],wname[64];
    if(playertextid == BGunTD[5]) { HideGunTextdraws(playerid); SendClientMessage(playerid, -1, "Ai parasit meniul!"); DestroyPlayerObject(playerid, GunObject[playerid]); }
	if(playertextid == BGunTD[2]) {
	// left <
		if(BuyGunS[playerid] == 0) return 1;
		BuyGunS[playerid] --;
		GetWeaponName(BuyGunD[BuyGunS[playerid]][0], wname, sizeof(wname));		
		format(szGlobal, sizeof(szGlobal), "%s~n~~g~$%d", wname, BuyGunD[BuyGunS[playerid]][2]);
		PlayerTextDrawSetString(playerid, BGunTD[0], szGlobal);
		PlayerTextDrawShow(playerid, BGunTD[0]);

		DestroyPlayerObject(playerid, GunObject[playerid]);
		GunObject[playerid] = CreatePlayerObject(playerid, BuyGunD[BuyGunS[playerid]][1], 315.09949, -133.58640, 999.68811,   90.00000, 0.00000, 90.90000);
	}
	if(playertextid == TradePTD[4]) {
		if(GetPVarInt(playerid, "TradeAccepted") == 0) {
			new id = TradeID[playerid];
			switch(TradeReady[playerid]) {
				case 0: {
				    if(TradeItems[playerid] == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Trebuie sa adaugi minim un bun personal!");
					if(GetPVarInt(playerid, "MoneyTrade") > GetPlayerCash(playerid)) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu ai banii pe care i-ai pus in afacere!");
					PlayerTextDrawSetString(playerid, TradePTD[4], "~g~pregatit");
					PlayerTextDrawSetString(id, TradePTD[4], "~g~pregatit");
					PlayerTextDrawShow(playerid, TradePTD[4]);
					PlayerTextDrawShow(id, TradePTD[4]);
					TradeReady[playerid] = 1;
					if(TradeReady[id] == 1) {
						if(GetPVarInt(playerid, "CarTrade") != -1 && GetPVarInt(id, "CarTrade") == -1 && GetSlots(id) == GetVehicles(id)) return SCM(playerid, COLOR_LGREEN, "Eroare: Ai numarul maxim de vehicule! Puteti face doar schimb pe schimb.");
						if(GetPVarInt(id, "CarTrade") != -1 && GetPVarInt(playerid, "CarTrade") == -1 && GetSlots(playerid) == GetVehicles(playerid)) return SCM(playerid, COLOR_LGREEN, "Eroare: Acel player are numarul maxim de vehicule personale! Puteti face doar schimb pe schimb.");
						PlayerTextDrawSetString(playerid, TradePTD[6], "00:10");
						PlayerTextDrawSetString(id, TradePTD[6], "00:10");
						PlayerTextDrawShow(id, TradePTD[6]);
						PlayerTextDrawShow(playerid, TradePTD[6]);
						TradeTime[playerid] = 10;
						SCM(playerid, COLOR_GOLD, "Afacerea se va termina in urmatoarele 10 secunde daca cineva nu o s-o opreasca!");
						SCM(id, COLOR_GOLD, "Afacerea se va termina in urmatoarele 10 secunde daca cineva nu o s-o opreasca!");
					}
				}
				case 1: {
					PlayerTextDrawSetString(playerid, TradePTD[4], "~r~nepregatit");
					PlayerTextDrawSetString(id, TradePTD[4], "~r~nepregatit");
					PlayerTextDrawShow(playerid, TradePTD[4]);
					PlayerTextDrawShow(id, TradePTD[4]);
					TradeReady[playerid] = 0;
					if(TradeTime[id] != 0 || TradeTime[playerid] != 0) {
						PlayerTextDrawHide(id, TradePTD[6]);
						PlayerTextDrawHide(playerid, TradePTD[6]);
						TradeTime[playerid] = 0;
						TradeTime[id] = 0;
						SCM(playerid, COLOR_GOLD, "Timer-ul a fost anulat deoarece unul dintre voi nu este pregatit!");
						SCM(id, COLOR_GOLD, "Timer-ul a fost anulat deoarece unul dintre voi nu este pregatit!");
					}
				}
			}
		}
	}
	if(playertextid == TradePTD[5]) {
		if(GetPVarInt(playerid, "TradeAccepted") == 1) {
			new id = TradeID[playerid];
			switch(TradeReady[playerid]) {
				case 0: {
                    if(TradeItems[playerid] == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Trebuie sa adaugi minim un bun personal!");
					if(GetPVarInt(playerid, "MoneyTrade") > GetPlayerCash(playerid)) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu ai banii pe care i-ai pus in afacere!");
					PlayerTextDrawSetString(playerid, TradePTD[5], "~g~pregatit");
					PlayerTextDrawSetString(id, TradePTD[5], "~g~pregatit");
					PlayerTextDrawShow(playerid, TradePTD[5]);
					PlayerTextDrawShow(id, TradePTD[5]);
					TradeReady[playerid] = 1;
					if(TradeReady[id] == 1) {
						if(GetPVarInt(playerid, "CarTrade") != -1 && GetPVarInt(id, "CarTrade") == -1 && GetSlots(id) == GetVehicles(id)) return SCM(playerid, COLOR_LGREEN, "Eroare: Ai numarul maxim de vehicule! Puteti face doar schimb pe schimb.");
						if(GetPVarInt(id, "CarTrade") != -1 && GetPVarInt(playerid, "CarTrade") == -1 && GetSlots(playerid) == GetVehicles(playerid)) return SCM(playerid, COLOR_LGREEN, "Eroare: Acel player are numarul maxim de vehicule personale! Puteti face doar schimb pe schimb.");

						PlayerTextDrawSetString(playerid, TradePTD[6], "00:10");
						PlayerTextDrawSetString(id, TradePTD[6], "00:10");
						PlayerTextDrawShow(id, TradePTD[6]);
						PlayerTextDrawShow(playerid, TradePTD[6]);
						TradeTime[playerid] = 10;
						SCM(playerid, COLOR_GOLD, "Afacerea se va termina in urmatoarele 10 secunde daca cineva nu o s-o opreasca!");
						SCM(id, COLOR_GOLD, "Afacerea se va termina in urmatoarele 10 secunde daca cineva nu o s-o opreasca!");
					}
				}
				case 1: {
					PlayerTextDrawSetString(playerid, TradePTD[5], "~r~nepregatit");
					PlayerTextDrawSetString(id, TradePTD[5], "~r~nepregatit");
					PlayerTextDrawShow(playerid, TradePTD[5]);
					PlayerTextDrawShow(id, TradePTD[5]);
					TradeReady[playerid] = 0;
					if(TradeTime[id] != 0 || TradeTime[playerid] != 0) {
						PlayerTextDrawHide(id, TradePTD[6]);
						PlayerTextDrawHide(playerid, TradePTD[6]);
						TradeTime[playerid] = 0;
						TradeTime[id] = 0;
						SCM(playerid, COLOR_GOLD, "Timer-ul a fost anulat deoarece unul dintre voi nu este pregatit!");
						SCM(id, COLOR_GOLD, "Timer-ul a fost anulat deoarece unul dintre voi nu este pregatit!");
					}
				}
			}
		}
	}
	if(playertextid == TradePTD[3]) {
		if(TradeItems[playerid] == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu ai adaugat nimic in aceasta afacere!");
		if(TradeReady[playerid] == 1) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu poti sterge bunurile adaugate in timp ce timer-ul este activat!");
		HideTradeItems(playerid);
		new id = TradeID[playerid];
		format(szGlobal, sizeof(szGlobal), "%s si-a sters bunurile adaugate.", GetName(playerid));
		SCM(playerid, COLOR_GOLD, szGlobal);
		SCM(id, COLOR_GOLD, szGlobal);
	}
	if(playertextid == TradePTD[2] && TradeReady[playerid] == 0) ShowPlayerDialog(playerid, DIALOG_TRADE, DIALOG_STYLE_LIST, "Trade", "Money\nHouse\nBusiness\nVehicle", "Ok", "Cancel");
	if(playertextid == BGunTD[4]) {
	// right >
		if(BuyGunS[playerid] == 7) BuyGunS[playerid] = -1;
		BuyGunS[playerid] ++;
		GetWeaponName(BuyGunD[BuyGunS[playerid]][0], wname, sizeof(wname));		
		format(szGlobal, sizeof(szGlobal), "%s~n~~g~$%d", wname, BuyGunD[BuyGunS[playerid]][2]);
		PlayerTextDrawSetString(playerid, BGunTD[0], szGlobal);
		PlayerTextDrawShow(playerid, BGunTD[0]);		
		DestroyPlayerObject(playerid, GunObject[playerid]);
		GunObject[playerid] = CreatePlayerObject(playerid, BuyGunD[BuyGunS[playerid]][1], 315.09949, -133.58640, 999.68811,   90.00000, 0.00000, 90.90000);
	}
	if(playertextid == BGunTD[3]) {
		// buy 
		if(GetPlayerCash(playerid) < BuyGunD[BuyGunS[playerid]][2]) return SendClientMessage(playerid, -1, "* Nu ai aceasta suma de bani!");
		GivePlayerCash(playerid, -BuyGunD[BuyGunS[playerid]][2]);
		GivePlayerWeapon(playerid, BuyGunD[BuyGunS[playerid]][0], 10+random(100));
		HideGunTextdraws(playerid);
		GetWeaponName(BuyGunD[BuyGunS[playerid]][0], wname, sizeof(wname));
		format(szGlobal, sizeof(szGlobal), "Ti-ai cumparat un %s in schimbul a $%d.", wname, BuyGunD[BuyGunS[playerid]][2]);
		SCM(playerid, COLOR_WHITE, szGlobal);
		BizzInfo[2][bBalance] += BuyGunD[BuyGunS[playerid]][2];
		SBUpdate(2, sbBalancex);
		DestroyPlayerObject(playerid, GunObject[playerid]);
	}	
	if(playertextid == NextColorMain) {
		if(DealerCarColor1[playerid] == 127) DealerCarColor1[playerid] = 0;
		else if(DealerCarColor1[playerid] >= 0) DealerCarColor1[playerid] ++;
		ChangeVehicleColor(DealerCar[playerid], DealerCarColor1[playerid], DealerCarColor2[playerid]);
	}
	if(playertextid == BackColorMain) {
		if(DealerCarColor1[playerid] >= 1) DealerCarColor1[playerid] --;
		else DealerCarColor1[playerid] = 127;
		ChangeVehicleColor(DealerCar[playerid], DealerCarColor1[playerid], DealerCarColor2[playerid]);
	}
	if(playertextid == NextColorSec) {
		if(DealerCarColor2[playerid] == 127) DealerCarColor2[playerid] = 0;
		else if(DealerCarColor2[playerid] >= 0) DealerCarColor2[playerid] ++;
		ChangeVehicleColor(DealerCar[playerid], DealerCarColor1[playerid], DealerCarColor2[playerid]);
	}
	if(playertextid == BackColorSec) {
		if(DealerCarColor2[playerid] >= 1) DealerCarColor2[playerid] --;
		else DealerCarColor2[playerid] = 127;
		ChangeVehicleColor(DealerCar[playerid], DealerCarColor1[playerid], DealerCarColor2[playerid]);
	}
	if(playertextid == CarsCategory) {
		new x=0, dbID[256];
		if(DealerCarType[playerid] == 1) return PlayerPlaySound(playerid, 1085, 0.0, 0.0, 10.0);
		format(szQuery, sizeof(szQuery), "SELECT * FROM `dsveh` WHERE `Type`='1' ORDER BY `ID` ASC");
		new Cache: result = mysql_query(SQL, szQuery);
		for(new i, j = cache_get_row_count (); i != j; ++i)
		{
			cache_get_field_content(i, "ID", dbID);
			x++;
			SelectedCar[playerid][x] = strval(dbID);
			LastDealerCar[playerid] = strval(dbID);
		}
		cache_delete(result);
		TotalDealerCars[playerid] = x;
		DealerCarType[playerid] = 1;
		DealerID[playerid] = 1;
		DestroyVehicle(DealerCar[playerid]);
		DealerCarAngle[playerid] = 75.7200;
		SetPlayerInterior(playerid, 1);

		DealerCar[playerid] = CreateVehicleEx(DSModels[SelectedCar[playerid][DealerID[playerid]]][dModel],613.7783, -2.9987, 1000.5500, 75.7200, DealerCarColor1[playerid],DealerCarColor2[playerid],-1);
		Gas[DealerCar[playerid]] = 100;
		LinkVehicleToInterior(DealerCar[playerid], 1);
		SetVehicleVirtualWorld(DealerCar[playerid], playerid+1);
		PutPlayerInVehicle(playerid, DealerCar[playerid], 0);
		SetPlayerCameraPos(playerid, 604.9370, -2.9715, 1003.8300);
		SetPlayerCameraLookAt(playerid, 605.9343, -2.9241, 1003.4600);
		new szType[256];
		if(InDealer[playerid] == 1) {
			if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 0) szType = "~g~Normal";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] == 0) szType = "~r~Premium";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] >= 0) szType = "~g~Premium";
			if(GetPlayerCash(playerid) >= DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Pret: ~g~$%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]), szType);
			else if(GetPlayerCash(playerid) < DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Pret: ~r~$%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]), szType);
		}
		else if(InDealer[playerid] == 2) {
			if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 0) szType = "~g~Normal";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] == 0) szType = "~r~Premium";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] >= 0) szType = "~g~Premium";
			if(GetPlayerCash(playerid) >= DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Gold: ~g~%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]), szType);
			else if(GetPlayerCash(playerid) < DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Gold: ~r~%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]), szType);
		}
		PlayerTextDrawSetString(playerid, InfoDS, szText);
		PlayerTextDrawShow(playerid, InfoDS);
	}

	if(playertextid == BikesCategory) {
		new x=0, dbID[256];
		if(DealerCarType[playerid] == 2) return PlayerPlaySound(playerid, 1085, 0.0, 0.0, 10.0);
		format(szQuery, sizeof(szQuery), "SELECT * FROM `dsveh` WHERE `Type`='2' ORDER BY `ID` ASC");
		new Cache: result = mysql_query(SQL, szQuery);
		for(new i, j = cache_get_row_count (); i != j; ++i)
		{
			cache_get_field_content(i, "ID", dbID);
			x++;
			SelectedCar[playerid][x] = strval(dbID);
			LastDealerCar[playerid] = strval(dbID);
		}
		cache_delete(result);
		TotalDealerCars[playerid] = x;
		DealerCarType[playerid] = 2;
		DealerID[playerid] = 1;
		DestroyVehicle(DealerCar[playerid]);
		DealerCarAngle[playerid] = 75.7200;
		SetPlayerInterior(playerid, 0);
		SetPlayerInterior(playerid, 1);
		DealerCar[playerid] = CreateVehicleEx(DSModels[SelectedCar[playerid][DealerID[playerid]]][dModel],613.7783, -2.9987, 1000.5500, 75.7200, DealerCarColor1[playerid],DealerCarColor2[playerid],-1);
		Gas[DealerCar[playerid]] = 100;
		LinkVehicleToInterior(DealerCar[playerid], 1);
		SetVehicleVirtualWorld(DealerCar[playerid], playerid+1);
		PutPlayerInVehicle(playerid, DealerCar[playerid], 0);
		SetPlayerCameraPos(playerid, 604.9370, -2.9715, 1003.8300);
		SetPlayerCameraLookAt(playerid, 605.9343, -2.9241, 1003.4600);
		new szType[256];
		if(InDealer[playerid] == 1) {
			if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 0) szType = "~g~Normal";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] == 0) szType = "~r~Premium";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] >= 0) szType = "~g~Premium";
			if(GetPlayerCash(playerid) >= DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Pret: ~g~$%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]), szType);
			else if(GetPlayerCash(playerid) < DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Pret: ~r~$%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]), szType);
		}
		else if(InDealer[playerid] == 2) {
			if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 0) szType = "~g~Normal";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] == 0) szType = "~r~Premium";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] >= 0) szType = "~g~Premium";
			if(GetPlayerCash(playerid) >= DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Gold: ~g~%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]), szType);
			else if(GetPlayerCash(playerid) < DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Gold: ~r~%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]), szType);
		}
		PlayerTextDrawSetString(playerid, InfoDS, szText);
		PlayerTextDrawShow(playerid, InfoDS);
	}
	if(playertextid == BoatsCategory) {
		new x=0, dbID[256];
		if(DealerCarType[playerid] == 3) return PlayerPlaySound(playerid, 1085, 0.0, 0.0, 10.0);
		format(szQuery, sizeof(szQuery), "SELECT * FROM `dsveh` WHERE `Type`='3' ORDER BY `ID` ASC");
		new Cache: result = mysql_query(SQL, szQuery);
		for(new i, j = cache_get_row_count (); i != j; ++i)
		{
			cache_get_field_content(i, "ID", dbID);
			x++;
			SelectedCar[playerid][x] = strval(dbID);
			LastDealerCar[playerid] = strval(dbID);
		}
		cache_delete(result);
		TotalDealerCars[playerid] = x;
		DealerCarType[playerid] = 3;
		DealerID[playerid] = 1;
		DestroyVehicle(DealerCar[playerid]);
		DealerCarAngle[playerid] = 214.5153;
		SetPlayerInterior(playerid, 0);
		DealerCar[playerid] = CreateVehicleEx(DSModels[SelectedCar[playerid][DealerID[playerid]]][dModel],179.2214,-1935.9833,-0.2331, 214.5153, DealerCarColor1[playerid],DealerCarColor2[playerid],-1);
		Gas[DealerCar[playerid]] = 100;
		SetVehicleVirtualWorld(DealerCar[playerid], playerid+1);
		PutPlayerInVehicle(playerid, DealerCar[playerid], 0);
		SetPlayerCameraPos(playerid, 195.5355, -1952.8099, 8.7636);
		SetPlayerCameraLookAt(playerid, 194.7955, -1952.1398, 8.3886);
		new szType[256];
		if(InDealer[playerid] == 1) {
			if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 0) szType = "~g~Normal";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] == 0) szType = "~r~Premium";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] >= 0) szType = "~g~Premium";
			if(GetPlayerCash(playerid) >= DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Pret: ~g~$%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]), szType);
			else if(GetPlayerCash(playerid) < DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Pret: ~r~$%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]), szType);
		}
		else if(InDealer[playerid] == 2) {
			if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 0) szType = "~g~Normal";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] == 0) szType = "~r~Premium";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] >= 0) szType = "~g~Premium";
			if(GetPlayerCash(playerid) >= DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Gold: ~g~%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]), szType);
			else if(GetPlayerCash(playerid) < DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Gold: ~r~%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]), szType);
		}
		PlayerTextDrawSetString(playerid, InfoDS, szText);
		PlayerTextDrawShow(playerid, InfoDS);
	}
	if(playertextid == AirCategory) {
		new x=0, dbID[256];
		if(DealerCarType[playerid] == 4) return PlayerPlaySound(playerid, 1085, 0.0, 0.0, 10.0);
		format(szQuery, sizeof(szQuery), "SELECT * FROM `dsveh` WHERE `Type`='4' ORDER BY `ID` ASC");
		new Cache: result = mysql_query(SQL, szQuery);
		for(new i, j = cache_get_row_count (); i != j; ++i)
		{
			cache_get_field_content(i, "ID", dbID);
			x++;
			SelectedCar[playerid][x] = strval(dbID);
			LastDealerCar[playerid] = strval(dbID);
		}
		cache_delete(result);
		TotalDealerCars[playerid] = x;
		DealerCarType[playerid] = 4;
		DealerID[playerid] = 1;
		DestroyVehicle(DealerCar[playerid]);
		DealerCarAngle[playerid] = 320.7336;
		SetPlayerInterior(playerid, 0);
		DealerCar[playerid] = CreateVehicleEx(DSModels[SelectedCar[playerid][DealerID[playerid]]][dModel],1765.7640, -2286.8374, 27.4146,320.7336, DealerCarColor1[playerid],DealerCarColor2[playerid],-1);
		Gas[DealerCar[playerid]] = 100;
		SetVehicleVirtualWorld(DealerCar[playerid], playerid+1);
		PutPlayerInVehicle(playerid, DealerCar[playerid], 0);
		SetPlayerCameraPos(playerid, 1769.0742, -2266.9126, 32.7817);
		SetPlayerCameraLookAt(playerid, 1768.9325, -2267.9021, 32.4167);
		new szType[256];
		if(InDealer[playerid] == 1) {
			if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 0) szType = "~g~Normal";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] == 0) szType = "~r~Premium";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] >= 0) szType = "~g~Premium";
			if(GetPlayerCash(playerid) >= DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Pret: ~g~$%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]), szType);
			else if(GetPlayerCash(playerid) < DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Pret: ~r~$%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]), szType);
		}
		else if(InDealer[playerid] == 2) {
			if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 0) szType = "~g~Normal";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] == 0) szType = "~r~Premium";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] >= 0) szType = "~g~Premium";
			if(GetPlayerCash(playerid) >= DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Gold: ~g~%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]), szType);
			else if(GetPlayerCash(playerid) < DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Gold: ~r~%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]), szType);
		}
		PlayerTextDrawSetString(playerid, InfoDS, szText);
		PlayerTextDrawShow(playerid, InfoDS);
	}
	if(playertextid == SpecialCategory) {
		new x=0, dbID[256];
		if(DealerCarType[playerid] == 5) return PlayerPlaySound(playerid, 1085, 0.0, 0.0, 10.0);
		format(szQuery, sizeof(szQuery), "SELECT * FROM `dsveh` WHERE `Type`='5' ORDER BY `ID` ASC");
		new Cache: result = mysql_query(SQL, szQuery);
		for(new i, j = cache_get_row_count (); i != j; ++i)
		{
			cache_get_field_content(i, "ID", dbID);
			x++;
			SelectedCar[playerid][x] = strval(dbID);
			LastDealerCar[playerid] = strval(dbID);
		}
		cache_delete(result);
		TotalDealerCars[playerid] = x;
		DealerCarType[playerid] = 5;
		DealerID[playerid] = 1;
		DestroyVehicle(DealerCar[playerid]);
		DealerCarAngle[playerid] = 26.8845;
		SetPlayerInterior(playerid, 0);
		DealerCar[playerid] = CreateVehicleEx(DSModels[SelectedCar[playerid][DealerID[playerid]]][dModel],1543.3701,-1355.8428,328.6331,121.0334, DealerCarColor1[playerid],DealerCarColor2[playerid],-1);
		Gas[DealerCar[playerid]] = 100;
		SetVehicleVirtualWorld(DealerCar[playerid], playerid+1);
		PutPlayerInVehicle(playerid, DealerCar[playerid], 0);
		SetPlayerCameraPos(playerid, 1542.2255, -1370.4922, 333.8188);
		SetPlayerCameraLookAt(playerid, 1542.3651, -1369.5028, 333.4086);
		new szType[256];
		if(InDealer[playerid] == 1) {
			if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 0) szType = "~g~Normal";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] == 0) szType = "~r~Premium";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] >= 0) szType = "~g~Premium";
			if(GetPlayerCash(playerid) >= DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Pret: ~g~$%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]), szType);
			else if(GetPlayerCash(playerid) < DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Pret: ~r~$%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]), szType);
		}
		else if(InDealer[playerid] == 2) {
			if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 0) szType = "~g~Normal";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] == 0) szType = "~r~Premium";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] >= 0) szType = "~g~Premium";
			if(GetPlayerCash(playerid) >= DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Gold: ~g~%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]), szType);
			else if(GetPlayerCash(playerid) < DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Gold: ~r~%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]), szType);
		}
		PlayerTextDrawSetString(playerid, InfoDS, szText);
		PlayerTextDrawShow(playerid, InfoDS);
	}
	if(playertextid == RotLeft) {
		if(DealerCarAngle[playerid] == -330.0)  DealerCarAngle[playerid] = 30.0;
		DealerCarAngle[playerid] -= 30.0;
		SetVehicleZAngle(DealerCar[playerid], DealerCarAngle[playerid]);
	}
	if(playertextid == RotRight) {
		if(DealerCarAngle[playerid] == 330.0)  DealerCarAngle[playerid] = -30.0;
		DealerCarAngle[playerid] += 30.0;
		SetVehicleZAngle(DealerCar[playerid], DealerCarAngle[playerid]);
	}
	if(playertextid == BuyModel) {
		if(InDealer[playerid] == 0) return 1;
		if(InDealer[playerid] == 1) {
			if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice] > GetPlayerCash(playerid)) {
				SendClientMessage(playerid, COLOR_GREY, "Nu ai suficienti bani pentru a cumpara aceasta masina.");
				return 1;
			}
		}
		else if(InDealer[playerid] == 2) {
			if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold] > PlayerInfo[playerid][pPremiumPoints]) {
				SendClientMessage(playerid, COLOR_GREY, "Nu ai suficiente puncte premium.");
				return 1;
			}
		}
		if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] == 0) {
			SendClientMessage(playerid, COLOR_GREY, "Poti detine aceasta masina doar daca ai Cont Premium.");
			return 1;
		}
		else
		{
			if(GetSlots(playerid) == GetVehicles(playerid) && PlayerInfo[playerid][pPremiumAccount] != 0) return SCM(playerid, -1, "Ai numarul maxim de masini personale!"); 
			else if(GetSlots(playerid) == 8 && PlayerInfo[playerid][pPremiumAccount] == 0) return SCM(playerid, -1, "Ai numarul maxim de masini personale! Iti poti cumpara din shop inca un slot.");
			else if(GetSlots(playerid) == GetVehicles(playerid)) return SCM(playerid, -1, "Ai numarul maxim de masini personale! Iti poti cumpara din shop inca un slot.");					
			format(szGlobal, sizeof(szGlobal), "INSERT INTO cars (Model) VALUES (%d)", DSModels[DealerID[playerid]][dModel]);
			new Cache: result = mysql_query(SQL, szGlobal);
			new idd = cache_insert_id();
			cache_delete(result);				
					
			new key = FindCSlot(playerid);
			PlayerInfo[playerid][pCarKey][key-1] = idd;
			DespawnCar[playerid][key-1] = 1540;
			mysql_format(SQL, szGlobal, sizeof(szGlobal), "UPDATE users SET CarKey%d='%d' WHERE `ID`='%d' LIMIT 1", key, PlayerInfo[playerid][pCarKey][key-1], PlayerInfo[playerid][pSQLID]);
			mysql_tquery(SQL, szGlobal, "", "");
			
			CP[playerid] = 53;
			CarInfo[idd][Userid] = PlayerInfo[playerid][pSQLID];
			CarInfo[idd][cID] = idd;
			CarInfo[idd][cModel] = DSModels[SelectedCar[playerid][DealerID[playerid]]][dModel];
			
			if(IsABoat2(CarInfo[idd][cModel])) {
				CarInfo[idd][cLocationx] = 195.9016;	CarInfo[idd][cLocationy] =  -1909.8220;	CarInfo[idd][cLocationz] =  -0.0117;
				CarInfo[idd][cAngle] = -173.4001;
				SetPlayerCheckpointEx(playerid,195.9016,  -1909.8220, -0.0117,5.0);
			}
			else if(IsAPlane2(CarInfo[idd][cModel])) {
				CarInfo[idd][cLocationx] = -1249.9836;	CarInfo[idd][cLocationy] = -42.2870;	CarInfo[idd][cLocationz] =  15.8256;
				CarInfo[idd][cAngle] = 77.1000;
				SetPlayerCheckpointEx(playerid,-1249.9836, -42.2870, 15.8256,5.0);
			}
			else {
				new randspawn = random(sizeof(DealerCarPos));
				CarInfo[idd][cLocationx] = DealerCarPos[randspawn][0];	CarInfo[idd][cLocationy] = DealerCarPos[randspawn][1];	CarInfo[idd][cLocationz] = DealerCarPos[randspawn][2];
				CarInfo[idd][cAngle] = DealerCarPos[randspawn][3];
				SetPlayerCheckpointEx(playerid,CarInfo[idd][cLocationx],CarInfo[idd][cLocationy],CarInfo[idd][cLocationz],5.0);
			}
			
			CarInfo[idd][cColorOne] = DealerCarColor1[playerid];	CarInfo[idd][cColorTwo] = DealerCarColor2[playerid];
			strmid(CarInfo[idd][cOwner], PlayerInfo[playerid][pUsername], 0, strlen(PlayerInfo[playerid][pUsername]), 255);
			CarInfo[idd][cValue] = DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice];
			strmid(CarInfo[idd][cLicense], "NewCar", 0, 6, 255);
			CarInfo[idd][cAlarm] = 0;	CarInfo[idd][cLock] = 0;
			CarInfo[idd][mod0] = 0;		CarInfo[idd][mod1] = 0;		CarInfo[idd][mod2] = 0;		CarInfo[idd][mod3] = 0;
			CarInfo[idd][mod4] = 0;		CarInfo[idd][mod5] = 0;		CarInfo[idd][mod6] = 0;		CarInfo[idd][mod7] = 0;
			CarInfo[idd][mod8] = 0;		CarInfo[idd][mod9] = 0;		CarInfo[idd][mod10] = 0;	CarInfo[idd][mod11] = 0;
			CarInfo[idd][mod12] = 0;	CarInfo[idd][mod13] = 0;	CarInfo[idd][paintjob] = 3;	CarInfo[idd][KM] = 0;
			saveCar(idd);

			CarInfo[idd][Spawned] = CreateVehicleEx(CarInfo[idd][cModel],CarInfo[idd][cLocationx],CarInfo[idd][cLocationy],CarInfo[idd][cLocationz],CarInfo[idd][cAngle],CarInfo[idd][cColorOne],CarInfo[idd][cColorTwo],-1);
			VehicleOwned[CarInfo[idd][Spawned]] = CarInfo[idd][Spawned];
			VehicleSQL[CarInfo[idd][Spawned]] = idd;			
			new e,l,aa,d,b,bo,o;
			GetVehicleParamsEx(idd,e,l,aa,d,b,bo,o);
			SetVehicleParamsEx(idd,0,l,aa,d,b,bo,o);
			SetVehicleNumberPlate(CarInfo[idd][Spawned],CarInfo[idd][cLicense]);
			DestroyVehicle(DealerCar[playerid]);
			TogglePlayerControllable(playerid, 1);
			SetCameraBehindPlayer(playerid);
			SetPlayerVirtualWorld(playerid,0);
			SetPlayerPosEx(playerid, 328.7798,-1513.1049,36.0391);
			SetPlayerInterior(playerid, 0);
			
			if(InDealer[playerid] == 1) GivePlayerCash(playerid, -DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]);
			else PlayerInfo[playerid][pPremiumPoints] -= DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold];			
			if(InDealer[playerid] == 1) {
				format(szGlobal, sizeof(szGlobal), "{FFCC99}Felicitari. Ai cumparat un %s pentru %s$. ",aVehicleNames[DSModels[SelectedCar[playerid][DealerID[playerid]]][dModel]-400],FormatNumber(CarInfo[idd][cValue]));
				SendClientMessage(playerid,0xFFCC99FF,szGlobal);
			}
			
			format(szGlobal, sizeof(szGlobal), "AdmWarn: %s(%d) si-a cumparat un/o %s(%d).", GetName(playerid), playerid, aVehicleNames[DSModels[SelectedCar[playerid][DealerID[playerid]]][dModel]-400], idd);
			SendAdminMessage(COLOR_WARNING, szGlobal, 1);
			InDealer[playerid] = 0;
			SetPlayerCheckpointEx(playerid,CarInfo[idd][cLocationx],CarInfo[idd][cLocationy],CarInfo[idd][cLocationz],5.0);
			CancelSelectTextDraw(playerid);
			HideDealershipTextdraws(playerid);			
		}
	}
	if(playertextid == ExitDS) {
		CancelSelectTextDraw(playerid);
		HideDealershipTextdraws(playerid);
		if(InDealer[playerid] == 1) SetPlayerPosEx(playerid, 327.9443, -1512.6609, 36.1366);
		else if(InDealer[playerid] == 2) SetPlayerPosEx(playerid, 332.6239, -1506.7646, 36.0565);
		InDealer[playerid] = 0;
		DealerCategory[playerid] = 0;
		DealerCarColor1[playerid] = 0;
		DealerCarColor2[playerid] = 0;
		DealerCarAngle[playerid] = 0;
		SetCameraBehindPlayer(playerid);
		TogglePlayerControllable(playerid, 1);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerInterior(playerid, 0);
		DestroyVehicle(DealerCar[playerid]);
		DealerCar[playerid] = 0;
		DealerCarType[playerid] = -1;
		TestingModel[playerid] = 0;
		PlayerPlaySound(playerid, 1085, 0.0, 0.0, 10.0);
	}
	if(playertextid == BackCar) {
	    if(DealerID[playerid] == 1) DealerID[playerid] = TotalDealerCars[playerid]+1;
		DealerID[playerid] -= 1;
		DestroyVehicle(DealerCar[playerid]);
		if(DealerCarType[playerid] == 1) {
			DealerCarAngle[playerid] = 75.7200;
			DealerCar[playerid] = CreateVehicleEx(DSModels[SelectedCar[playerid][DealerID[playerid]]][dModel],613.7783, -2.9987, 1000.5500, 75.7200, DealerCarColor1[playerid],DealerCarColor2[playerid],-1);
			LinkVehicleToInterior(DealerCar[playerid], 1);
			SetVehicleVirtualWorld(DealerCar[playerid], playerid+1);
			PutPlayerInVehicle(playerid, DealerCar[playerid], 0);
			SetPlayerCameraPos(playerid, 604.9370, -2.9715, 1003.8300);
			SetPlayerCameraLookAt(playerid, 605.9343, -2.9241, 1003.4600);
		}
		if(DealerCarType[playerid] == 2) {
			DealerCarAngle[playerid] = 75.7200;
			DealerCar[playerid] = CreateVehicleEx(DSModels[SelectedCar[playerid][DealerID[playerid]]][dModel],613.7783, -2.9987, 1000.5500, 75.7200, DealerCarColor1[playerid],DealerCarColor2[playerid],-1);
			LinkVehicleToInterior(DealerCar[playerid], 1);
			SetVehicleVirtualWorld(DealerCar[playerid], playerid+1);
			PutPlayerInVehicle(playerid, DealerCar[playerid], 0);
			SetPlayerCameraPos(playerid, 604.9370, -2.9715, 1003.8300);
			SetPlayerCameraLookAt(playerid, 605.9343, -2.9241, 1003.4600);
		}
		if(DealerCarType[playerid] == 3) {
			DealerCarAngle[playerid] = 214.5153;
			DealerCar[playerid] = CreateVehicleEx(DSModels[SelectedCar[playerid][DealerID[playerid]]][dModel],179.2214,-1935.9833,-0.2331, 214.5153, DealerCarColor1[playerid],DealerCarColor2[playerid],-1);
			SetVehicleVirtualWorld(DealerCar[playerid], playerid+1);
			PutPlayerInVehicle(playerid, DealerCar[playerid], 0);
			SetPlayerCameraPos(playerid, 195.5355, -1952.8099, 8.7636);
			SetPlayerCameraLookAt(playerid, 194.7955, -1952.1398, 8.3886);
		}
		if(DealerCarType[playerid] == 4) {
			DealerCarAngle[playerid] = 320.7336;
			DealerCar[playerid] = CreateVehicleEx(DSModels[SelectedCar[playerid][DealerID[playerid]]][dModel],1765.7640, -2286.8374, 27.4146,320.7336, DealerCarColor1[playerid],DealerCarColor2[playerid],-1);
			SetVehicleVirtualWorld(DealerCar[playerid], playerid+1);
			PutPlayerInVehicle(playerid, DealerCar[playerid], 0);
			SetPlayerCameraPos(playerid, 1769.0742, -2266.9126, 32.7817);
			SetPlayerCameraLookAt(playerid, 1768.9325, -2267.9021, 32.4167);
		}
		if(DealerCarType[playerid] == 5) {
			DealerCarAngle[playerid] = 26.8845;
			DealerCar[playerid] = CreateVehicleEx(DSModels[SelectedCar[playerid][DealerID[playerid]]][dModel],1543.3701,-1355.8428,330.0876,121.0334, DealerCarColor1[playerid],DealerCarColor2[playerid],-1);
			SetVehicleVirtualWorld(DealerCar[playerid], playerid+1);
			PutPlayerInVehicle(playerid, DealerCar[playerid], 0);
			SetPlayerCameraPos(playerid, 1542.2255, -1370.4922, 333.8188);
			SetPlayerCameraLookAt(playerid, 1542.3651, -1369.5028, 333.4086);
		}
		Gas[DealerCar[playerid]] = 100;
		new szType[256];
		if(InDealer[playerid] == 1) {
			if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 0) szType = "~g~Normal";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] == 0) szType = "~r~Premium";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] >= 0) szType = "~g~Premium";
			if(GetPlayerCash(playerid) >= DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Pret: ~g~$%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]), szType);
			else if(GetPlayerCash(playerid) < DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Pret: ~r~$%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]), szType);
		}
		else if(InDealer[playerid] == 2) {
			if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 0) szType = "~g~Normal";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] == 0) szType = "~r~Premium";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] >= 0) szType = "~g~Premium";
			if(GetPlayerCash(playerid) >= DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Gold: ~g~%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]), szType);
			else if(GetPlayerCash(playerid) < DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Gold: ~r~%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]), szType);
		}
		PlayerTextDrawSetString(playerid, InfoDS, szText);
		PlayerTextDrawShow(playerid, InfoDS);
	}
	if(playertextid == NextCar) {
		if(DealerID[playerid] == TotalDealerCars[playerid]) DealerID[playerid] = 0;
        DealerID[playerid] += 1;
		DestroyVehicle(DealerCar[playerid]);
		if(DealerCarType[playerid] == 1) {
			DealerCarAngle[playerid] = 75.7200;
			DealerCar[playerid] = CreateVehicleEx(DSModels[SelectedCar[playerid][DealerID[playerid]]][dModel],613.7783, -2.9987, 1000.5500, 75.7200, DealerCarColor1[playerid],DealerCarColor2[playerid],-1);
			LinkVehicleToInterior(DealerCar[playerid], 1);
			SetVehicleVirtualWorld(DealerCar[playerid], playerid+1);
			PutPlayerInVehicle(playerid, DealerCar[playerid], 0);
			SetPlayerCameraPos(playerid, 604.9370, -2.9715, 1003.8300);
			SetPlayerCameraLookAt(playerid, 605.9343, -2.9241, 1003.4600);
		}
		if(DealerCarType[playerid] == 2) {
			DealerCarAngle[playerid] = 75.7200;
			DealerCar[playerid] = CreateVehicleEx(DSModels[SelectedCar[playerid][DealerID[playerid]]][dModel],613.7783, -2.9987, 1000.5500, 75.7200, DealerCarColor1[playerid],DealerCarColor2[playerid],-1);
			LinkVehicleToInterior(DealerCar[playerid], 1);
			SetVehicleVirtualWorld(DealerCar[playerid], playerid+1);
			PutPlayerInVehicle(playerid, DealerCar[playerid], 0);
			SetPlayerCameraPos(playerid, 604.9370, -2.9715, 1003.8300);
			SetPlayerCameraLookAt(playerid, 605.9343, -2.9241, 1003.4600);
		}
		if(DealerCarType[playerid] == 3) {
			DealerCarAngle[playerid] = 214.5153;
			DealerCar[playerid] = CreateVehicleEx(DSModels[SelectedCar[playerid][DealerID[playerid]]][dModel],179.2214,-1935.9833,-0.2331, 214.5153, DealerCarColor1[playerid],DealerCarColor2[playerid],-1);
			SetVehicleVirtualWorld(DealerCar[playerid], playerid+1);
			PutPlayerInVehicle(playerid, DealerCar[playerid], 0);
			SetPlayerCameraPos(playerid, 195.5355, -1952.8099, 8.7636);
			SetPlayerCameraLookAt(playerid, 194.7955, -1952.1398, 8.3886);
		}
		if(DealerCarType[playerid] == 4) {
			DealerCarAngle[playerid] = 320.7336;
			DealerCar[playerid] = CreateVehicleEx(DSModels[SelectedCar[playerid][DealerID[playerid]]][dModel],1765.7640, -2286.8374, 27.4146,320.7336, DealerCarColor1[playerid],DealerCarColor2[playerid],-1);
			SetVehicleVirtualWorld(DealerCar[playerid], playerid+1);
			PutPlayerInVehicle(playerid, DealerCar[playerid], 0);
			SetPlayerCameraPos(playerid, 1769.0742, -2266.9126, 32.7817);
			SetPlayerCameraLookAt(playerid, 1768.9325, -2267.9021, 32.4167);
		}
		if(DealerCarType[playerid] == 5) {
			DealerCarAngle[playerid] = 26.8845;
			DealerCar[playerid] = CreateVehicleEx(DSModels[SelectedCar[playerid][DealerID[playerid]]][dModel],1543.3701,-1355.8428,330.0876,121.0334, DealerCarColor1[playerid],DealerCarColor2[playerid],-1);
			SetVehicleVirtualWorld(DealerCar[playerid], playerid+1);
			PutPlayerInVehicle(playerid, DealerCar[playerid], 0);
			SetPlayerCameraPos(playerid, 1542.2255, -1370.4922, 333.8188);
			SetPlayerCameraLookAt(playerid, 1542.3651, -1369.5028, 333.4086);
		}
		Gas[DealerCar[playerid]] = 100;
		new szType[256];
		if(InDealer[playerid] == 1) {
			if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 0) szType = "~g~Normal";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] == 0) szType = "~r~Premium";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] >= 0) szType = "~g~Premium";
			if(GetPlayerCash(playerid) >= DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Pret: ~g~$%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]), szType);
			else if(GetPlayerCash(playerid) < DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Pret: ~r~$%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPrice]), szType);
		}
		else if(InDealer[playerid] == 2) {
			if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 0) szType = "~g~Normal";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] == 0) szType = "~r~Premium";
			else if(DSModels[SelectedCar[playerid][DealerID[playerid]]][dPremium] == 1 && PlayerInfo[playerid][pPremiumAccount] >= 0) szType = "~g~Premium";
			if(GetPlayerCash(playerid) >= DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Gold: ~g~%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]), szType);
			else if(GetPlayerCash(playerid) < DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Gold: ~r~%s~n~~w~Tip: %s", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[SelectedCar[playerid][DealerID[playerid]]][dMaxSpeed], FormatNumber(DSModels[SelectedCar[playerid][DealerID[playerid]]][dGold]), szType);
		}
		PlayerTextDrawSetString(playerid, InfoDS, szText);
		PlayerTextDrawShow(playerid, InfoDS);
	}

	if(playertextid == TestModel) {
		SendClientMessage(playerid, COLOR_YELLOW, "Ai 3 minute pentru a testa vehiculul. Nu il parasi.");
		TestingModel[playerid] = 1;
		CancelSelectTextDraw(playerid);
		HideDealershipTextdraws(playerid);
		SetCameraBehindPlayer(playerid);
		TogglePlayerControllable(playerid, 1);
		SetPlayerInterior(playerid, 0);
		LinkVehicleToInterior(DealerCar[playerid], 0);
		SetVehicleVirtualWorld(DealerCar[playerid], playerid+1);
		if(DealerCarType[playerid] == 1) SetVehiclePos(DealerCar[playerid], 386.7731,-1520.0092,31.8887), SetVehicleZAngle(DealerCar[playerid], 40.7906);
		else if(DealerCarType[playerid] == 2) SetVehiclePos(DealerCar[playerid], 386.7731,-1520.0092,31.8887), SetVehicleZAngle(DealerCar[playerid], 40.7906);
		else if(DealerCarType[playerid] == 3) SetVehiclePos(DealerCar[playerid], 138.4441,-1901.8715,-0.2312), SetVehicleZAngle(DealerCar[playerid], 177.5421);
		else if(DealerCarType[playerid] == 4) SetVehiclePos(DealerCar[playerid], 2121.3301,-2449.9683,13.5307), SetVehicleZAngle(DealerCar[playerid], 146.3989);
		else if(DealerCarType[playerid] == 5) SetVehiclePos(DealerCar[playerid], 386.7731,-1520.0092,32.9033), SetVehicleZAngle(DealerCar[playerid], 40.7906);
		Gas[DealerCar[playerid]] = 100;
		PutPlayerInVehicle(playerid, DealerCar[playerid], 0);
		DSTimer[playerid] = SetTimerEx("CancelTestDrive", 180000, 0, "d", playerid);
	}
    if(playertextid == PinNumber[0]) {
		if(strlen(InputtText[playerid]) < 4) format(InputtText[playerid], 10, "%s0", InputtText[playerid]), UpdatePinResult(playerid), PlayerPlaySound(playerid, 1083, 0.0, 0.0, 10.0);
		else PlayerPlaySound(playerid, 1085, 0.0, 0.0, 10.0);
	}
	if(playertextid == PinNumber[1]) {
		if(strlen(InputtText[playerid]) < 4) format(InputtText[playerid], 10, "%s1", InputtText[playerid]), UpdatePinResult(playerid), PlayerPlaySound(playerid, 1083, 0.0, 0.0, 10.0);
		else PlayerPlaySound(playerid, 1085, 0.0, 0.0, 10.0);
	}
	if(playertextid == PinNumber[2]) {
		if(strlen(InputtText[playerid]) < 4) format(InputtText[playerid], 10, "%s2", InputtText[playerid]), UpdatePinResult(playerid), PlayerPlaySound(playerid, 1083, 0.0, 0.0, 10.0);
		else PlayerPlaySound(playerid, 1085, 0.0, 0.0, 10.0);
	}
	if(playertextid == PinNumber[3]) {
		if(strlen(InputtText[playerid]) < 4) format(InputtText[playerid], 10, "%s3", InputtText[playerid]), UpdatePinResult(playerid), PlayerPlaySound(playerid, 1083, 0.0, 0.0, 10.0);
		else PlayerPlaySound(playerid, 1085, 0.0, 0.0, 10.0);
	}
	if(playertextid == PinNumber[4]) {
		if(strlen(InputtText[playerid]) < 4) format(InputtText[playerid], 10, "%s4", InputtText[playerid]), UpdatePinResult(playerid), PlayerPlaySound(playerid, 1083, 0.0, 0.0, 10.0);
		else PlayerPlaySound(playerid, 1085, 0.0, 0.0, 10.0);
	}
	if(playertextid == PinNumber[5]) {
		if(strlen(InputtText[playerid]) < 4) format(InputtText[playerid], 10, "%s5", InputtText[playerid]), UpdatePinResult(playerid), PlayerPlaySound(playerid, 1083, 0.0, 0.0, 10.0);
		else PlayerPlaySound(playerid, 1085, 0.0, 0.0, 10.0);
	}
	if(playertextid == PinNumber[6]) {
		if(strlen(InputtText[playerid]) < 4) format(InputtText[playerid], 10, "%s6", InputtText[playerid]), UpdatePinResult(playerid), PlayerPlaySound(playerid, 1083, 0.0, 0.0, 10.0);
		else PlayerPlaySound(playerid, 1085, 0.0, 0.0, 10.0);
	}
	if(playertextid == PinNumber[7]) {
		if(strlen(InputtText[playerid]) < 4) format(InputtText[playerid], 10, "%s7", InputtText[playerid]), UpdatePinResult(playerid), PlayerPlaySound(playerid, 1083, 0.0, 0.0, 10.0);
		else PlayerPlaySound(playerid, 1085, 0.0, 0.0, 10.0);
	}
	if(playertextid == PinNumber[8]) {
		if(strlen(InputtText[playerid]) < 4) format(InputtText[playerid], 10, "%s8", InputtText[playerid]), UpdatePinResult(playerid), PlayerPlaySound(playerid, 1083, 0.0, 0.0, 10.0);
		else PlayerPlaySound(playerid, 1085, 0.0, 0.0, 10.0);
	}
	if(playertextid == PinNumber[9]) {
		if(strlen(InputtText[playerid]) < 4) format(InputtText[playerid], 10, "%s9", InputtText[playerid]), UpdatePinResult(playerid), PlayerPlaySound(playerid, 1083, 0.0, 0.0, 10.0);
		else PlayerPlaySound(playerid, 1085, 0.0, 0.0, 10.0);
	}
	if(playertextid == RedButton) {
		InputtText[playerid] = "", PlayerTextDrawSetString(playerid, PinResult, "");
		if(strval(InputtText[playerid]) < 4) PlayerPlaySound(playerid, 1083, 0.0, 0.0, 10.0);
		else PlayerPlaySound(playerid, 1085, 0.0, 0.0, 10.0);
	}
	if(playertextid == GreenButton) {
		if(strlen(InputtText[playerid]) < 4) return 1;
		if(strlen(PlayerInfo[playerid][pPin]) == 1) {
			format(PlayerInfo[playerid][pPin], 5, InputtText[playerid]);
			format(szQuery, sizeof(szQuery), "UPDATE `users` SET `Pin`='%s' WHERE `Name`='%s'", PlayerInfo[playerid][pPin], PlayerInfo[playerid][pUsername]);
			mysql_query(SQL, szQuery);
			SendClientMessage(playerid, -1, "{FFFF45}Ai setat codul de securitate al contului.");
			PlayerInfo[playerid][pPinLogged] = 1;
		}
		else if(PinStep[playerid] == 2) {
			if(strval(PlayerInfo[playerid][pPin]) == strval(InputtText[playerid])) {
				PinStep[playerid] = 3;
				PlayerInfo[playerid][pPinLogged] = 1;
				SendClientMessage(playerid, -1, "{FFFF45}Te-ai autentificat cu succes. Te rog sa introduci noul cod PIN.");
				PlayerInfo[playerid][pPinLogged] = 1;
				InputtText[playerid] = "", PlayerTextDrawSetString(playerid, PinResult, "");
				return 1;
			}
			else {
				SendClientMessage(playerid, -1, "{CC0000}EROARE: Cod de securitate invalid.");
				InputtText[playerid] = "", PlayerTextDrawSetString(playerid, PinResult, "");
				PlayerPlaySound(playerid, 1085, 0.0, 0.0, 10.0);
				return 1;
			}
		}
		else if(PinStep[playerid] == 3) {
			if(strlen(InputtText[playerid]) < 4) return 1;
			format(PlayerInfo[playerid][pPin], 5, InputtText[playerid]);
			format(szQuery, sizeof(szQuery), "UPDATE `users` SET `Pin`='%s' WHERE `Name`='%s'", PlayerInfo[playerid][pPin], PlayerInfo[playerid][pUsername]);
			mysql_query(SQL, szQuery);
			SendClientMessage(playerid, -1, "{FFFF45}Ai setat codul de securitate al contului.");
			HidePinTextDraws(playerid), CancelSelectTextDraw(playerid);
			PlayerInfo[playerid][pPinLogged] = 1;
		}
		else if(strlen(PlayerInfo[playerid][pPin]) != 0) {
			if(strval(PlayerInfo[playerid][pPin]) == strval(InputtText[playerid])) {
				PlayerInfo[playerid][pPinLogged] = 1;
				SendClientMessage(playerid, -1, "{FFFF45}Ai validat codul de securitate al contului.");
				PlayerInfo[playerid][pPinLogged] = 1;
			}
			else {
				SendClientMessage(playerid, -1, "{CC0000}EROARE: Cod de securitate invalid.");
				return 1;
			}
 		}
		PlayerPlaySound(playerid, 1083, 0.0, 0.0, 10.0);
		PinStep[playerid] = 0, HidePinTextDraws(playerid), CancelSelectTextDraw(playerid);
	}
	if(playertextid == HiddTDs[1]) {
	    if(CarColor[playerid] == 0) {
			if(PlayerInfo[playerid][pPremiumPoints] < 1000) return SCM(playerid, COLOR_GREY, "Ai nevoie de 1000 puncte premium pentru a lua acest produs.");
			PlayerInfo[playerid][pPremiumPoints] -= 1000;
			Update(playerid, pPremiumPointsx);
		} else {
		    if(GetPlayerCash(playerid) < 350) return SCM(playerid, -1, "Nu ai $2.500!");
		    GivePlayerCash(playerid, -350);		
			BizzInfo[12][bBalance] += 350;
			format(szGlobal,sizeof(szGlobal),"UPDATE `bizz` SET `Till`='%d',`Products`='%d' WHERE `ID`='12'",BizzInfo[12][bBalance],BizzInfo[12][bProducts]);
			mysql_query(SQL,szGlobal);
		}
		CarColor[playerid] = 0;
		format(szGlobal, sizeof(szGlobal), "Felicitari! Ti-ai cumparat culorile (%d, %d) din magazin pentru vehiculul tau personal.", pColor1[playerid], pColor2[playerid]);
		SCM(playerid, COLOR_GOLD, szGlobal);
		new idd = pCar[playerid];
		CarInfo[idd][cColorOne] = pColor1[playerid];
		CarInfo[idd][cColorTwo] = pColor2[playerid];
		ChangeVehicleColor(GetPlayerVehicleID(playerid), pColor1[playerid], pColor2[playerid]);
		mysql_format(SQL, szGlobal, sizeof(szGlobal), "UPDATE cars SET ColorOne = %d, ColorTwo = %d WHERE ID=%d", pColor1[playerid], pColor2[playerid], idd);
		mysql_tquery(SQL, szGlobal, "", "");
    	SetCameraBehindPlayer(playerid), SetPlayerInterior(playerid, pInteriorID[playerid]), SetVehiclePos(GetPlayerVehicleID(playerid), pPos[playerid][0], pPos[playerid][1], pPos[playerid][2]);
		SetPlayerVirtualWorld(playerid, 0);
  		SetVehicleVirtualWorld(GetPlayerVehicleID(playerid), 0);
		TextDrawHideForPlayer(playerid, HiddTD[0]);
		TextDrawHideForPlayer(playerid, HiddTD[1]);
		TextDrawHideForPlayer(playerid, HiddTD[2]);
		TextDrawHideForPlayer(playerid, HiddTD[3]);
		TextDrawHideForPlayer(playerid, HiddTD[4]);
		PlayerTextDrawHide(playerid, HiddTDs[0]);
		PlayerTextDrawHide(playerid, HiddTDs[1]);
		PlayerTextDrawHide(playerid, HiddTDs[2]);
		InShop[playerid] = 0;
		CancelSelectTextDraw(playerid);
	}
	if(playertextid == ShopTDs[1]) {
		if(CreateHouse[playerid] == 0) {
			if(PlayerInfo[playerid][pPremiumPoints] < 2500) return SCM(playerid, COLOR_GREY, "Ai nevoie de 2500 puncte premium pentru a lua acest produs.");
			HideShopTDs(playerid), SetCameraBehindPlayer(playerid), SetPlayerPosEx(playerid, pPos[playerid][0], pPos[playerid][1], pPos[playerid][2]);
			SetPlayerVirtualWorld(playerid, pVirtual[playerid]);
			new bouse = PlayerInfo[playerid][pHouse],playername[25], i = SInterior[playerid]-1;
			GetPlayerName(playerid, playername, sizeof(playername));
			if (bouse != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0)
			{
			    PlayerInfo[playerid][pPremiumPoints] -= 2500;
			    Update(playerid, pPremiumPointsx);
				HouseInfo[bouse][hExitx] = InteriorPos[i][0];
				HouseInfo[bouse][hExity] = InteriorPos[i][1];
				HouseInfo[bouse][hExitz] = InteriorPos[i][2];
				HouseInfo[bouse][hInterior] = GetPlayerInterior(playerid);
				HUpdate(bouse, hExitxx);
				HUpdate(bouse, hExityx);
				HUpdate(bouse, hExitzx);
				HUpdate(bouse, hInteriorx);
				PlayerInfo[playerid][pPremiumPoints]-=45;
				Update(playerid, pPremiumPointsx);
				SCM(playerid, COLOR_GOLD, "Felicitari! Ti-ai cumparat un interior din magazin.");
				foreach(Player, x) {
					if(InHouse[x] == bouse && IsPlayerConnected(x)) {
						SCM(x, COLOR_YELLOW, "Ai fost teleportat intr-un nou interior deoarece propietarul casei a achizitionat unul nou din magazin.");
						SpawnPlayer(x);
					}
				}
				SetPlayerInterior(playerid, pInteriorID[playerid]);
				SInterior[playerid] = 0;
			}
			else return SendClientMessage(playerid, COLOR_GREY, "Nu detii o casa."), SetPlayerInterior(playerid, pInteriorID[playerid]);
		}
		else {
		    new x = SInterior[playerid]-1;
		    new xQuery[1024];
			mysql_format(SQL, xQuery, sizeof(xQuery),"INSERT INTO houses (`Entrancex`, `Entrancey`, `Entrancez`, `Exitx`, `Exity`, `Exitz`, `Interior`, `Level`, `Value`) VALUES ('%f', '%f', '%f', '%f', '%f', '%f', '%d', '%d', '%d')",
			pPos[playerid][0], pPos[playerid][1], pPos[playerid][2], InteriorPos[x][0], InteriorPos[x][1], InteriorPos[x][2], GetPlayerInterior(playerid), pNivel[playerid], pPret[playerid]);
			new Cache: result = mysql_query(SQL, xQuery);
			new i = cache_insert_id();
			cache_delete(result);
			HouseInfo[i][hID] = i;
			HouseInfo[i][hOwned] = 1;
			format(HouseInfo[i][hOwner], 64, "The State");
			HouseInfo[i][hExitx] = InteriorPos[x][0];
			HouseInfo[i][hExity] = InteriorPos[x][1];
			HouseInfo[i][hExitz] = InteriorPos[x][2];
			HouseInfo[i][hEntrancex] = pPos[playerid][0];
			HouseInfo[i][hEntrancey] = pPos[playerid][1];
			HouseInfo[i][hEntrancez] = pPos[playerid][2];
			HouseInfo[i][hLevel] = pNivel[playerid];
			HouseInfo[i][hVirtual] = i;
			format(szGlobal, sizeof(szGlobal), "UPDATE `houses` SET `Virtual`='%d' WHERE `ID`='%d'", i, i);
			mysql_query(SQL, szGlobal);
			HouseInfo[i][hValue] = pPret[playerid];
			HouseInfo[i][hInterior] = GetPlayerInterior(playerid);
            format(HouseInfo[i][hDiscription],64,"House Name");
            new query[128];
            mysql_format(SQL,query,sizeof(query),"UPDATE houses SET Discription='%s' WHERE ID='%d'",HouseInfo[i][hDiscription],i);
            mysql_tquery(SQL,query,"","");
			HUpdate(i, hExitxx);
			HUpdate(i, hExityx);
			HUpdate(i, hExitzx);
			HUpdate(i, hInteriorx);
			UpdateLabel(1, i);
			SCM(playerid, COLOR_GOLD, "Casa a fost creata cu succes!");
			format(szGlobal, sizeof(szGlobal), "Informatii: Interior %d, Nivel %d, Pret $%s.", x, pNivel[playerid], FormatNumber(pPret[playerid]));
			SCM(playerid, COLOR_GOLD, szGlobal);
			HideShopTDs(playerid), SetCameraBehindPlayer(playerid), SetPlayerPosEx(playerid, pPos[playerid][0], pPos[playerid][1], pPos[playerid][2]);
			SetPlayerVirtualWorld(playerid, pVirtual[playerid]);
			SetPlayerInterior(playerid, pInteriorID[playerid]);
			CreateHouse[playerid] = 0;
			SInterior[playerid] = 0;
			housess++;
			CancelSelectTextDraw(playerid);
		}
	}
    return 1;
}

function OnPlayerClickMap(playerid, Float:fX, Float:fY, Float:fZ)
{
	if(JobWorking[playerid] == 1 && PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid, COLOR_WARNING, "Nu ai voie sa faci abuz de functie!");
	if(PlayerInfo[playerid][pAdmin] > 0)
	{
	    if (GetPlayerState(playerid) == 2)
		{
			new tmpcar = GetPlayerVehicleID(playerid);
			SetVehiclePos(tmpcar, fX, fY, fZ+11);
		}
		else
		{
			SetPlayerPosFindZ(playerid, fX, fY, fZ+11);
		}
	}
    return 1;
}

function OnPlayerClickPlayer(playerid, clickedplayerid, source)
{
	if(PlayerInfo[playerid][pAdmin] >= 1 && playerid != clickedplayerid)
	{
	    if(clickedplayerid != INVALID_PLAYER_ID)
	    {
	        Spectate[playerid] = clickedplayerid;
			SpecPlayers[playerid] ++;
			if(SpecPlayers[playerid] == 1) {
				GetPlayerPos(playerid, SpecPos[playerid][0], SpecPos[playerid][1], SpecPos[playerid][2]);
				IsPlayerSpec[playerid] = 1;
				pInteriorID[playerid] = GetPlayerInterior(playerid);
				pVirtual[playerid] = GetPlayerVirtualWorld(playerid);
			}
			pInteriorID[playerid] = GetPlayerInterior(playerid);
			pVirtual[playerid] = GetPlayerVirtualWorld(playerid);
			new cash = GetPlayerCash(Spectate[playerid]);
			format(szGlobal, sizeof(szGlobal), "Watch: (%d) %s $%s",Spectate[playerid],GetName(Spectate[playerid]),FormatNumber(cash));
			SendClientMessage(playerid, COLOR_GREEN, szGlobal);
			TogglePlayerSpectating(playerid, 1);
			if(IsPlayerInAnyVehicle(Spectate[playerid]))
			{
			    new carid = GetPlayerVehicleID(Spectate[playerid]);
			    PlayerSpectateVehicle(playerid, carid);
			}
			else
			{
			    PlayerSpectatePlayer(playerid, Spectate[playerid]);
			}
		}
		else return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
    return 1;
}
function WantedTime2()
{
	foreach(Player,i)
	{
		if(IsPlayerConnected(i) && PlayerInfo[i][pWantedLevel] >= 1)
		{
			if(PlayerInfo[i][pWantedLevel] >= 1)
			{
				WantedTime[i] ++;
				
			}
		}
	}
	return 1;
}
function SyncData() {
	foreach(Player,i) {
		if(IsPlayerConnected(i)) {
        	Update(i,pCashx);
			Update(i,pRP);
			Update(i,pBank);
			Update(i,pCarLicTx);
			Update(i,pFlyLicTx);
        	Update(i,pBoatLicTx);
			Update(i,pFishLicTx);
			Update(i,pGunLicTx);
			Update(i,pRobx);
			Update(i,pFpunishx);
            Update(i,pLawyerx);
            Update(i,pConnectTimex);
            Update(i,pHousex);
            Update(i,pJailedx);
            Update(i,pJailTimex);
            Update(i,pWantedLevelx);
            Update(i,pPhonex);
            Update(i,pMatsx);
            Update(i,pRobSkillx);
            Update(i,pLevelx);
            Update(i,pPremiumAccountx);
            Update(i,pBizzx);
            Update(i,pRentedx);
            Update(i,pCrimesx);
            Update(i,pCrime1x);
            Update(i,pCrime2x);
            Update(i,pCrime3x);
            Update(i,pVictimx);
            Update(i,pAccusedx);
            Update(i,pEmailx);
            Update(i,pWarnsx);
            Update(i,pTruckerSkillx);
            Update(i,pGarbageSkillx);
            Update(i,pFarmerSkillx);
            Update(i,pMowerSkillx);
            Update(i,pPremiumPointsx);
            Update(i,pConstructorSkillx);
            Update(i,pFishSkillx);
            Update(i,pHotSkillx);
            Update(i,pBusSkillx);
            Update(i,pGasCanx);
            Update(i,pCadouLuatx);
            Update(i,pDetectivSkillx);
            Update(i,pPizzaSkillx);
            Update(i,pGiftPointsx);
            Update(i,pFactionTimex);
            Update(i,pCommandsx);
            if(PlayerInfo[i][pAdmin] >= 4) SCM(i,-1,"AutoSave: Datele tuturor jucatorilor au fost actualizate.");
           	printf("AutoSave: Datele tuturor jucatorilor au fost actualizate.");
		}
	}
}
function WantedDown()
{
	foreach(Player,i)
	{
		if(IsPlayerConnected(i))
		{
			if(PlayerInfo[i][pWantedLevel] >= 1 && WantedTime[i] == 10)
			{
			    new str[256];
       			WantedTime[i] = 0;
			    PlayerInfo[i][pWantedLevel] --;
			    Update(i,pWantedLevelx);
			    if(PlayerInfo[i][pWantedLevel] == 0)
			    {
			    	SCM(i, COLOR_YELLOW, "Acum nu mai ai wanted deoarece politia ti-a pierdut urma!");
			    	PlayerTextDrawHide(i, WantedTD[i]);
			    }
			    else
				{
					format(str, sizeof(str), "Politia iti pierde urma! Wanted Actual: %d", PlayerInfo[i][pWantedLevel]);
			    	SCM(i, COLOR_YELLOW, str);
				}
			}
		}
	}
	return 1;
}

stock hideDialog( playerid )
    return ShowPlayerDialog( playerid, -1, 0, "","", "", "" ), 1;
    
function CameraFirst(playerid) {
	TogglePlayerSpectating(playerid, false);
	InterpolateCameraPos(playerid, 77.985748, 102.263404, 40.514202, 94.969223, 118.003532, 40.116188, 20000);
	InterpolateCameraLookAt(playerid, 81.652420, 105.661659, 40.428268, 98.635894, 121.401786, 40.030254, 1000);
	return 1;
}
function CameraTwo(playerid) {
	TogglePlayerSpectating(playerid, false);
	InterpolateCameraPos(playerid, -2792.714843, -1584.149658, 327.597106, -2543.305908, -2078.650878, 327.597106, 10000);
	InterpolateCameraLookAt(playerid, -2789.558837, -1588.025024, 327.452911, -2544.082275, -2073.711669, 327.562255, 10000);
	return 1;
}
function HideCbug(playerid) {
	PlayerTextDrawHide(playerid, CbugT);
	return 1;
}
function HidePayDayText(playerid) {
	PlayerTextDrawHide(playerid, PayDayText[playerid]);
	return 1;
}
function DestroyProgress(playerid, bar) {
	HidePlayerProgressBar(playerid, HudProgress[playerid][bar]);
	PlayerTextDrawHide(playerid, HudTD[bar]);
	return 1;
}
	
function UpdateProgress(playerid, bar) {
	switch(bar) {
		case 0: {
			format(szGlobal, sizeof(szGlobal), "Level: %d-%d (%d/%d RP)", PlayerInfo[playerid][pLevel], PlayerInfo[playerid][pLevel]+1, PlayerInfo[playerid][pExp], PlayerInfo[playerid][pLevel]*levelexp);
			PlayerTextDrawSetString(playerid, HudTD[bar], szGlobal);
			PlayerTextDrawShow(playerid, HudTD[bar]);
			SetPlayerProgressBarMaxValue(playerid, HudProgress[playerid][bar], PlayerInfo[playerid][pLevel]*levelexp);
			SetPlayerProgressBarValue(playerid, HudProgress[playerid][bar], PlayerInfo[playerid][pExp]);
			SetPlayerProgressBarColor(playerid, HudProgress[playerid][bar], GetHudColor(PlayerInfo[playerid][pShowHud][3]));	
		}
		case 1: {
			if(PlayerInfo[playerid][pMember] == 0) {
				PlayerInfo[playerid][pShowHud][4] = 0;
				UpdateVar(playerid, "ShowHud4", 0);
				SCM(playerid, COLOR_GRAD2, "Optiunea de a vedea progresul raportului a fost dezactivata automat!");
				DestroyProgress(playerid, bar);
				return 1;
			}
			if(PlayerInfo[playerid][pRank] >= 5) format(szGlobal, sizeof(szGlobal), "Raport: %d (%d/%d)", PlayerInfo[playerid][pRank], PlayerInfo[playerid][pCommands], GetNeedPointsR(playerid));
			else format(szGlobal, sizeof(szGlobal), "Raport: %d-%d (%d/%d)", PlayerInfo[playerid][pRank], PlayerInfo[playerid][pRank]+1, PlayerInfo[playerid][pCommands], GetNeedPointsR(playerid));
			PlayerTextDrawSetString(playerid, HudTD[bar], szGlobal);
			PlayerTextDrawShow(playerid, HudTD[bar]);
			SetPlayerProgressBarMaxValue(playerid, HudProgress[playerid][bar], GetNeedPointsR(playerid));
			SetPlayerProgressBarValue(playerid, HudProgress[playerid][bar], PlayerInfo[playerid][pCommands]);
			SetPlayerProgressBarColor(playerid, HudProgress[playerid][bar], GetHudColor(PlayerInfo[playerid][pShowHud][4]));		
		}
	}
	ShowPlayerProgressBar(playerid, HudProgress[playerid][bar]);
	return 1;
}
	
function OnPlayerConnect(playerid)
{
	ShowBarStats(playerid);
    PlayerInfo[playerid][pPinLogged] = 0;
	GetPlayerName(playerid, PlayerInfo[playerid][pUsername], MAX_PLAYER_NAME);
	foreach(Player, i) {
		if(IsPlayerConnected(i) && i != playerid) {
			if(strcmp(GetName(playerid), GetName(i), true) == 0) Kick(playerid);
	    }
	}

	new
	    x,
		szString[256],
		szName[MAX_PLAYER_NAME],
		Cache: db = mysql_query(SQL, "SELECT * FROM `clans`");

	GetPlayerName(playerid, szName, sizeof(szName));
    for(new i, j = cache_get_row_count (); i != j; ++i)
    {
        cache_get_field_content(i, "ID", szString); x = strval(szString);
        if(strfind(szName, ClanInfo[x][clTag], true) != -1 || strfind(ClanInfo[x][clTag], szName, true) != -1) {
            SendClientMessage(playerid, COLOR_RED, "Numele tau contine tagul unui clan! Ai primit kick!");
            KickEx(playerid);
            break;
        }
    }
    cache_delete(db);

	AntiFlood_InitPlayer( playerid );
	XDeaths[playerid] = 0;
    LastDeath[playerid] = 0;
    TradeID[playerid] = -1;
    KillTimer(login[playerid]);
	RemoveObj(playerid);
	ResetVariables(playerid);
	PlayerTextdraws(playerid);
	GivePlayerCash(playerid,PlayerInfo[playerid][pCash]);

	// ANTI WEAPON CHEAT
	WeaponData[playerid][0] = false; 			WeaponData[playerid][1] = false;
	WeaponData[playerid][2] = false;			WeaponData[playerid][3] = false;
	WeaponData[playerid][4] = false; 			WeaponData[playerid][5] = false;
	WeaponData[playerid][6] = false; 			WeaponData[playerid][7] = false;
	WeaponData[playerid][8] = false; 			WeaponData[playerid][9] = false;
	WeaponData[playerid][10] = false; 			WeaponData[playerid][11] = false;
	WeaponData[playerid][12] = false;

	// ANTI MONEY CHEAT
	TimerAtuPlayer[playerid] = SetTimerEx("UpdatePlayer", 2000, true, "d", playerid);

    // COLOR ON LOGIN
	SetPlayerColor(playerid,COLOR_GRAD2);

	// RESET WANTED
	ClearWanted(playerid);

	// PLAYER LOGIN
 	new pnamee[25];
	new qstr[612];
	GetPlayerName(playerid, pnamee, sizeof(pnamee));
	format(qstr,sizeof(qstr),"SELECT * FROM users WHERE `name`='%s'",pnamee);
	mysql_query(SQL,qstr);
	mysql_store_result();
	if(mysql_num_rows()) gPlayerAccount[playerid] = 1;
	else gPlayerAccount[playerid] = 0;
	mysql_free_result();
	return 1;
}

stock RemoveObj(playerid) {
	// mower
	RemoveBuildingForPlayer(playerid, 16094, 191.1406, 1870.0391, 21.4766, 0.25);
	RemoveBuildingForPlayer(playerid, 739, 2011.2266, -1218.9844, 19.1250, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 1935.6875, -1217.3516, 17.6094, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 1953.2656, -1234.1797, 17.7422, 0.25);
	RemoveBuildingForPlayer(playerid, 645, 2004.3516, -1240.0938, 20.6953, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 2029.7500, -1227.7031, 19.7656, 0.25);
	RemoveBuildingForPlayer(playerid, 673, 1990.1250, -1226.6875, 19.1953, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 2036.6953, -1214.1875, 21.1875, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 2009.7422, -1212.5156, 17.9922, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 2018.4297, -1206.6563, 19.2344, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 1927.5156, -1191.4922, 18.8125, 0.25);
	RemoveBuildingForPlayer(playerid, 700, 1989.0469, -1171.1172, 19.4922, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 1998.6328, -1177.2188, 17.8594, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 1998.6641, -1168.8828, 19.5781, 0.25);
	RemoveBuildingForPlayer(playerid, 714, 1906.4141, -1152.2578, 22.0234, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 1880.1250, -1152.1328, 20.8047, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1871.6563, -1147.4063, 26.1016, 0.25);
	//farm
	RemoveBuildingForPlayer(playerid, 3276, -94.5234, 31.6172, 2.8828, 0.25);
	RemoveBuildingForPlayer(playerid, 3276, -90.5313, 42.1484, 2.8828, 0.25);
	RemoveBuildingForPlayer(playerid, 3276, -81.8984, 56.8516, 2.8828, 0.25);
	RemoveBuildingForPlayer(playerid, 3276, -71.8359, 58.8750, 2.8828, 0.25);
	RemoveBuildingForPlayer(playerid, 3374, -92.8672, 58.3438, 3.5703, 0.25);
	RemoveBuildingForPlayer(playerid, 3374, -91.9453, 47.8125, 3.5703, 0.25);
	//
	//lvsi
	RemoveBuildingForPlayer(playerid, 8229, 1142.0313, 1362.5000, 12.4844, 0.25);
	//
	RemoveBuildingForPlayer(playerid, 3574, 2092.6875, -2043.3984, 15.0703, 0.25); // garbage
    RemoveBuildingForPlayer(playerid, 12956, 96.3281, -261.1953, 3.8594, 0.25); // job trucker
    RemoveBuildingForPlayer(playerid, 1226, 1624.6875, -2190.3750, 16.3125, 0.25);
	return 1;
}

stock ResetVariables(playerid) {	
	// VARIABILELE
	EnableBoast[playerid] = 0;
	ResetBlockList(playerid);
	toglicitatie[playerid] = 1;
	TotalMoney[playerid] = 0;
	HaveHelp[playerid] = -1;
	AcceptedReport[playerid] = -1;
	Ajutor[playerid] = 0;
	RobMoney[playerid] = 0;
	Robbery[playerid] = 0;
 	lastpremium[playerid] = 0;
    DMVCar[playerid] = 0;
    SpecPlayers[playerid] = 0;	
    CarColor[playerid] = 0;
    PlayerTime10[playerid] = 0;
    VehicleKey[playerid] = 0;
    Accepted[playerid] = -1;
    AdTimer[playerid] = 0;
	JobDuty[playerid] = 0;
    InitFly(playerid);
	InDealer[playerid] = 0;
    CreateHouse[playerid] = 0;
	InShop[playerid] = 0;
	PlayerTime[playerid] = 0;
	TradePlayer[playerid] = -1;
	PlayerTime2[playerid] = 0;	
	PlayerTime3[playerid] = 0;
	PlayerTime4[playerid] = 0;
	PlayerTime5[playerid] = 0;
	PlayerTime6[playerid] = 0;
	WantedTime[playerid] = 0;
    PlayerTime7[playerid] = 0;
    PlayerTime8[playerid] = 0;
    Reply[playerid] = -1;
    Robbed[playerid] = 0;
    TaxiDriver[playerid] = -1;
    DespawnCar[playerid][0] = -1; DespawnCar[playerid][1] = -1; DespawnCar[playerid][2] = -1; DespawnCar[playerid][3] = -1; DespawnCar[playerid][4] = -1;
    DespawnCar[playerid][5] = -1; DespawnCar[playerid][6] = -1;	
    ClanDuty[playerid] = 0, StartedSpray[playerid] = 0, StartedSpray2[playerid] = 0;	
	pDrunkLevelLast[playerid]	= 0;
	FPS2[playerid]			= 0;
    TruckerRoute[playerid] = 15;
	TruckerStep[playerid] = 0;	
	gPlayerUsingLoopingAnim[playerid] = 0;
	UsedContract[playerid] = 0;
	PlayerHit[playerid] = -1;
	SetPVarInt(playerid, "Undercover", 0);  HidePM[playerid] = 0;
	PhoneOnline[playerid] = 0; 				
	UsingDrugs[playerid] = 0; 				CurrentMoney[playerid] = 0;
	UsedFind[playerid] = 0; 				CP[playerid] = 0;
	SpawnChange[playerid] = 1;				
	RepairOffer[playerid] = 999; 			RepairPrice[playerid] = 0;
	RepairCar[playerid] = 0; 				TalkingLive[playerid] = 255;
	LiveOffer[playerid] = 999; 				TakingLesson[playerid] = 0;
	RefillOffer[playerid] = 999; 			RefillPrice[playerid] = 0;
	DrugOffer[playerid] = 999; 				PlayerCuffed[playerid] = 0;
	PlayerCuffedTime[playerid] = 0; 		DrugPrice[playerid] = 0;
	RegistrationStep[playerid] = 0; 		PlayerCuffed2[playerid] = 0;
	DrugGram[playerid] = 0; 				HouseOffer[playerid] = 999;
	HouseID[playerid] = 0;				 	HousePrice[playerid] = 0;
	JailPrice[playerid] = 0; 				MedicTime[playerid] = 0;
	NeedMedicTime[playerid] = 0; 			PlacedNews[playerid] = 0;
	OnDuty[playerid] = 0; 					Diceid[playerid] = 999;
	MedicCall[playerid] = -1;
	SafeTime[playerid] = 60; 				TransportDuty[playerid] = 0;
	PlayerTied[playerid] = 0; 				TaxiCallTime[playerid] = 0;
	TaxiCall[playerid] = -1; 				MedicCallTime[playerid] = 0;
	MechanicCallTime[playerid] = 0;
	Mobile[playerid] = 255; 				MechanicCall[playerid] = -1;
	Spectate[playerid] = 255; 				PlayerDrunk[playerid] = 0;
	PlayerDrunkTime[playerid] = 0; 			Unspec[playerid][sLocal] = 255;
	ConsumingMoney[playerid] = 0;
	IsCollectingRubbish[playerid] = 0; 		GarbageEndTime[playerid] = 0;
	GarbageTime[playerid] = 0; 				BinTime[playerid] = 0;
    gLastCar[playerid] = 0; 				FirstSpawn[playerid] = 0;
	gNews[playerid] = 0; 					BigEar[playerid] = 0;
	gDice[playerid] = 0; 					gFam[playerid] = 0;
	IsPlayerLogged[playerid] = 0;
	gPlayerLogTries[playerid] = 0; 			gPlayerAccount[playerid] = 0;
	gPlayerSpawned[playerid] = 0; 			FreeOffer[playerid] = -1;
	FreePrice[playerid] = 0; 				PlayerTazeTime[playerid] = 0;
	PlayerStoned[playerid] = 0; 			AcceptOffer[playerid] = -1;
	AcceptPrice[playerid] = 0; 				TicketOffer[playerid] = 999;
	TicketMoney[playerid] = 0; 				TutTime[playerid] = 0;
	TaxiAccepted[playerid] = 999;
	LicensesAccepted[playerid] = 999;
	TurfsDisp[playerid] = 0; 				PlayerInfo[playerid][pCash] = dollah;
	NoFuel[playerid] = 0;
	HireCar[playerid] = -1; 				gPlayerAnimLibsPreloaded[playerid] = 0;
	TransportValue[playerid] = 0; 			TransportMoney[playerid] = 0;
	TransportCost[playerid] = 0;
	TransportDriver[playerid] = 999; 		TransferOffer[playerid] = 999;
	TransferMoney[playerid] = 0; 			
	AfterTutorial[playerid] = 0;
	IsSmoking[playerid] = 0;
	InHouse[playerid] = -1; 				InBussines[playerid] = -1;
	targetfind[playerid] = -1; 				helpmeaccepted[playerid] = -1;
	helpmesend[playerid] = -1; 				adminacceptedhelp[playerid] = -1;
	playerhavehelp[playerid] = -1; 			licenseaccepted[playerid] = -1;
	licensesend[playerid] = -1;			 	MatsHolding[playerid] = 0;
	MatsOffer[playerid] = -1; 				MatsPrice[playerid] = 0;
	MatsAmmo[playerid] = 0; 				SellgunOffer[playerid] = -1;
	SellgunPrice[playerid] = 0; 			SellgunMats[playerid] = 0;
	SellgunAmmo[playerid] = 0; 				SellgunID[playerid] = 0;
	togfind[playerid] = 0;				 	SwitchKey[playerid] = 2;
	bizid[playerid] = 0; 					bizprice[playerid] = 0;
	bizoffer[playerid] = 999; 				biztype[playerid] = 0;
	playerDeath[playerid] = 0; 				curatj[playerid] = 0;
	tazer[playerid] = 0; 					togip[playerid] = 0;
	Speedlimit[playerid] = 0;				WTToggle[playerid] = false;
	WTChannel[playerid] = 0.0; 				Clanidoff[playerid] = 999;
	Radaron[playerid] = 0;
	Radarlimit[playerid] = 0; 				balem[playerid] = 0;
	wantedlost[playerid] = 1800;			
	Dicem[playerid] = 999; 					pingsound[playerid] = 1;
	Refueling[playerid] = 0;				InHQ[playerid] = -1;
	toglc[playerid] = 0;					explosion[playerid] = 0;
	taxim[playerid] = 0;					Wartimeon[playerid] = 1;
	towcarm[playerid] = 0;					shotTime[playerid] = 0;
    shot[playerid] = 0;						tuningenter[playerid] = 0;
    KillP[playerid] = 0;					DeathP[playerid] = 0;
	return 1;
}	

function ClearCrime(playerid) {
	if(IsPlayerConnected(playerid)) {
		format(szGlobal, sizeof(szGlobal), "********");
		strmid(PlayerInfo[playerid][pVictim], szGlobal, 0, strlen(szGlobal), 255);
		strmid(PlayerInfo[playerid][pAccused], szGlobal, 0, strlen(szGlobal), 255);
		format(szGlobal, sizeof(szGlobal), "Fara Crima");
		strmid(PlayerInfo[playerid][pCrime1], szGlobal, 0, strlen(szGlobal), 255);
		strmid(PlayerInfo[playerid][pCrime2], szGlobal, 0, strlen(szGlobal), 255);
		strmid(PlayerInfo[playerid][pCrime3], szGlobal, 0, strlen(szGlobal), 255);
		Update(playerid,pCrime1x);
		Update(playerid,pCrime2x);
		Update(playerid,pCrime3x);
		Update(playerid,pAccusedx);
		Update(playerid,pVictimx);
	}
	return 1;
}
function SendLeaderMessage(leader, color, string[])
{
	foreach(Player, i)
	{
	    if(PlayerInfo[i][pLeader] == leader)
	    {
			SendClientMessage(i, color, string);
		}
	}
	return 1;
}

stock GetDays( timestamp )
{
	return ( gettime( ) - timestamp ) / 86400;
}

// ONPLAYERDISCONNECT
function OnPlayerDisconnect(playerid, reason)
{
	if(PlayerInfo[playerid][pHelper] > 0) Iter_Remove(Helpers, playerid);
	if(PlayerInfo[playerid][pAdmin] > 0) Iter_Remove(Admins, playerid);
	if(PlayerInfo[playerid][pLeader] > 0) Iter_Remove(Leaders, playerid);
    if(TradeID[playerid] != -1) {
		new id = TradeID[playerid];
		format(szGlobal, sizeof(szGlobal), "* %s s-a deconectat. Afacere anulata!", GetName(playerid));
		SCM(playerid, COLOR_GOLD, szGlobal);
		SCM(id, COLOR_GOLD, szGlobal);
		CancelSelectTextDraw(playerid);
		CancelSelectTextDraw(id);
		HideTradeItems(playerid);
		HideTradeTDs(id);
	}
	DestroyPlayerProgressBar(playerid, HudProgress[playerid][0]);
	DestroyPlayerProgressBar(playerid, HudProgress[playerid][1]);
	
    if(DMVCar[playerid] != 0) DestroyVehicle(DMVCar[playerid]), DMVCar[playerid] = 0;
    Update(playerid,pWantedLevelx);
	
	new count, names[180];
	if(PlayerInfo[playerid][pWantedLevel] != 0) {
		foreach(Player,i) {
			if(GetPVarInt(i, "OfferBy") == playerid) {
				SCM(playerid, -1, "Afacerea a fost anulata!");
				SCM(i, -1, "Afacerea a fost anulata!");
				SetPVarInt(i, "OfferBy", -1);		
			}
			if(TradePlayer[i] == playerid) {
				SCM(playerid, -1, "Afacerea a fost anulata!");
				SCM(i, -1, "Afacerea a fost anulata!");
				TradePlayer[i] = -1;
			}
			if(IsACop(i) && CrimInRange(50.0, playerid,i) && OnDuty[i] == 1) {
				count = 1;
				ConsumingMoney[i] = 1;
				GivePlayerCash(i, PlayerInfo[playerid][pWantedLevel] * 380);
				Update(i, pCashx);
				PlayerInfo[i][pCommands] ++;
				Update(i,pCommandsx);
				format(names, 256, "%s %s", names, GetName(i));
			}
			if(count == 1) {
				if(ProxDetectorS(30.0, i, playerid)) {
					format(szGlobal, sizeof(szGlobal), "* %s a fost bagat in inchisoare. Multumiri: %s", GetName(playerid), names);
					SCM(i, COLOR_PURPLE, szGlobal);
				}
			}
			if(TradePlayer[i] == playerid) {
				TradePlayer[i] = -1;
				SCM(i, -1, "Oferta pentru vanzarea vehiculului a fost anulata!");
			}
		}
	}	
	if(TradeTime[playerid] != 0) KillTimer(TradeTime[playerid]), TradeTime[playerid] = 0;
	if(count == 1) {					
		GivePlayerCash(playerid, - PlayerInfo[playerid][pWantedLevel] * 380);
		PlayerInfo[playerid][pWantedDeaths] += 1;
		PlayerInfo[playerid][pJailed] = 1;
		PlayerInfo[playerid][pJailTime] = (PlayerInfo[playerid][pWantedLevel])*(150);
		format(szGlobal, sizeof(szGlobal), "* Esti in inchisoare pentru %d secunde si ai pierdut $%d.", PlayerInfo[playerid][pJailTime], PlayerInfo[playerid][pWantedLevel] * 380);
		SendClientMessage(playerid, COLOR_YELLOW, szGlobal);
		
		TogglePlayerControllable(playerid, 0);
		SetTimerEx("UnFreezeStation", 1000, false, "i", playerid);
		WantedPoints[playerid] = 0;
		PlayerInfo[playerid][pWantedLevel] = 0;
		SetPlayerWantedLevel(playerid, 0);
		Update(playerid,pWantedLevelx);
		Update(playerid,pJailedx);
		Update(playerid,pJailTimex);
		ClearCrime(playerid);			
	}	
		
	foreach(Player, i) {
		if(IsPlayerConnected(i)) {
			if(HaveHelp[i] == playerid && PlayerInfo[playerid][pHelper] == 0 && HaveHelp[i] != -1) {
				format(szGlobal, sizeof(szGlobal), "AdmCmd: %s s-a deconectat in timp ce intrebarea lui era la %s.", GetName(playerid), GetName(i));
				SendAdminMessage(COLOR_LOGS, szGlobal, 1);
				SendClientMessage(i, COLOR_YELLOW, "Jucatorul cu intrebarea s-a deconectat.");
				HaveHelp[i] = -1;
			}
			if(HaveHelp[playerid] == i && PlayerInfo[playerid][pHelper] >= 1 && HaveHelp[playerid] != -1) {
				Iter_Remove(HelpersDuty,playerid);
				format(szGlobal, sizeof(szGlobal), "AdmCmd: Helper %s s-a deconectat in timp ce avea intrebarea lui %s.", GetName(playerid), GetName(i));
				SendAdminMessage(COLOR_LOGS, szGlobal, 1);
				SendClientMessage(i, COLOR_YELLOW, "Helper-ul care trebuia sa-ti raspunda s-a deconectat. Asteapta un raspuns de la un alt helper.");
				OnHelper[i] = 0;
			}
			if(AcceptedReport[i] == playerid) {
				AcceptedReport[i] = -1;
				SCM(i, COLOR_YELLOW, "Conversatia a fost terminata! (quit)");
			}	
			
		    if(Spectate[i] == playerid) {
		        Spectate[i] = 255;
		        SCM(i, -1, "Jucatorul pe care erai spectator s-a deconectat!");
				TogglePlayerControllable(i, 1);
				TogglePlayerSpectating(i, 0);
				SetPlayerInterior(i,Unspec[i][sPint]);
				PlayerInfo[i][pInt] = Unspec[i][sPint];
				PlayerInfo[i][pLocal] = Unspec[i][sLocal];
				Unspec[i][sLocal] = 255;
				SetPlayerToTeamColor(i);
				SendClientMessage(i, COLOR_GREEN, "Acum nu mai esti spectator.");
				PlayerTextDrawHide(i, SpecTD);
		    }
		}
	}
  	if(TakingLesson[playerid] == 1)
	{
    	TakingLesson[playerid] = 0;
	   	new engine,lights,alarm,bonnet,boot,objective;
		SetVehicleParamsEx(GetPlayerVehicleID(playerid),engine,lights,alarm,0,bonnet,boot,objective);
    	DisablePlayerCheckpoint(playerid);
    	SetVehicleToRespawn(GetPlayerVehicleID(playerid));
    	PlayerTextDrawHide(playerid, InfosTD);
		CP[playerid] = 0;
		if(DMVCar[playerid] != 0) DestroyVehicle(DMVCar[playerid]), DMVCar[playerid] = 0;
	}
    	
	if(EditHouse[playerid] == 1) {
 		DestroyDynamicObject(ObjectEdited[playerid]);
		EditHouse[playerid] = 0;
 	}

	for(new i = 0; i < 10; i++) {
		if(PlayerInfo[playerid][pCarKey][i] != 0) DestroyPlayerCar(PlayerInfo[playerid][pCarKey][i]);
	}

	if(StartedSpray[playerid] == 1 || ClanDuty[playerid] == 1) {
		GraffitiInfo[StartedSpray2[playerid]][gfAttacked] = 0;
		StartedSpray[playerid] = 0;
		StartedSpray2[playerid] = 0;
		GraffitiInfo[StartedSprayOn[playerid]][gfAttacked] = 0;
		StartedSprayOn[playerid] = 0;
		ClanProces[playerid] = 0;
		ClanDuty[playerid] = 0;
	}

	if(JobWorking[playerid] == 1) {
		JobWorking[playerid] = 0;
		PlayerTextDrawHide(playerid, JobTD);
		if(JobVehicle[playerid] != 0) { DestroyVehicle(JobVehicle[playerid]); JobVehicle[playerid] = 0; }
		if(Trailer[playerid] != 0) { DestroyVehicle(Trailer[playerid]); Trailer[playerid] = 0;  }
		PlayerTextDrawHide(playerid, InfosTD);
		DisablePlayerCheckpointEx(playerid);
		CP[playerid] = 0;
		JobVehicle[playerid] = 0;
		RemovePlayerAttachedObject(playerid, 2);
	//DestroyWoodObject(playerid);
	}
	if(JobWorking[playerid] == 1) {
		JobWorking[playerid] = 0;
		if(JobVehicle[playerid] != 0) { DestroyVehicle(JobVehicle[playerid]); JobVehicle[playerid] = 0; }
		if(Trailer[playerid] != 0) { DestroyVehicle(Trailer[playerid]); Trailer[playerid] = 0; }
		PlayerTextDrawHide(playerid, InfosTD);
		DisablePlayerCheckpointEx(playerid);
		CP[playerid] = 0;
		JobVehicle[playerid] = 0;
	}


	// PAYDAY SAVE
    if(IsPlayerLogged[playerid] != 0)
	{
		new query[256];
		format(query, 256, "UPDATE `users` SET `LastTimeOn`='%d' WHERE ID='%d'", gettime( ), PlayerInfo[playerid][pSQLID]);
		mysql_query(SQL, query);

		OnPlayerDateUpdateX2(playerid);
		Update(playerid, pPayDayHadx);
		Update(playerid, pPayDayx);
		Update(playerid, pPayCheckx);
		Update(playerid, pFpunishx);
		Update(playerid, pConnectTimex);
		Update(playerid, pLawyerx);
		Update(playerid, pTowx);
		Update(playerid, pBank);
		Update(playerid, pCashx);
		Update(playerid, pRP);
		Update(playerid, pJailTimex);
		Update(playerid, pLevelx);
		
		new str[256];
		mysql_format(SQL, str,128,"UPDATE `users` SET `Seconds`='%f' WHERE `ID`='%d' LIMIT 1",PlayerInfo[playerid][pSeconds],PlayerInfo[playerid][pSQLID]);
		mysql_tquery(SQL, str, "", "");		
	}
	new qqerry[128],wakaname[25];
	GetPlayerName(playerid,wakaname,sizeof(wakaname));
	format(qqerry, sizeof(qqerry), "UPDATE `users` SET `Status` = '0' WHERE `name`='%s'", wakaname);
    mysql_query(SQL,qqerry);

    RemovePlayerAttachedObject(playerid,0);
    RemovePlayerAttachedObject(playerid,1);
    RemovePlayerAttachedObject(playerid,2);
    RemovePlayerAttachedObject(playerid,3);
    RemovePlayerAttachedObject(playerid,4);

	// TIMER MONEY
	KillTimer(TimerAtuPlayer[playerid]);

	// Ultima logare
	new y,m,d,h,mi;
	getdate(y,m,d);
	gettime(h,mi);
	new str[128];
	format(str,sizeof(str), "UPDATE users SET `lastOn`='%02d.%02d.%d %02d:%02d' WHERE `ID`='%d'",d,m,y,h,mi,PlayerInfo[playerid][pSQLID]);
	mysql_query(SQL,str);

	// MESAJ DECONECTARE
	if(Ajutor[playerid] == 1) AllReports--;
	if(Helped[playerid] == 1) AllHelps--;
	if(requestingevent[playerid] == 1) AllEvents--;
	foreach(Player,i) {
		if(IsPlayerConnected(i) && PlayerInfo[i][pAdmin] > 0) {
	        format(szGlobal,sizeof(szGlobal),"~r~~h~%d",AllReports);
	    	PlayerTextDrawSetString(i, ReportsInfo[i], szGlobal);
			PlayerTextDrawShow(i, ReportsInfo[i]);
		}
		if(IsPlayerConnected(i) && PlayerInfo[i][pHelper] > 0) {
	        format(szGlobal,sizeof(szGlobal),"%d",AllHelps);
	    	PlayerTextDrawSetString(i, HelpsInfo[i], szGlobal);
			PlayerTextDrawShow(i, HelpsInfo[i]);
		}
		if(IsPlayerConnected(i) && PlayerInfo[i][pHelper] > 0 || PlayerInfo[i][pHelper] > 0) {
	        format(szGlobal,sizeof(szGlobal),"~b~~h~~h~%d",AllEvents);
	    	PlayerTextDrawSetString(i, EventsInfo[i], szGlobal);
			PlayerTextDrawShow(i, EventsInfo[i]);
		}
	}
	switch(reason)
    {
        case 0: format(szGlobal,sizeof(szGlobal),"%s a iesit de pe server (Crash).",GetName(playerid));
        case 1: format(szGlobal,sizeof(szGlobal),"%s a iesit de pe server (/q).",GetName(playerid));
        case 2: format(szGlobal,sizeof(szGlobal),"%s a iesit de pe server (Kicked/Banned).",GetName(playerid));
    }
    ProxDetector(20.0, playerid, szGlobal, COLOR_CLIENT,COLOR_CLIENT,COLOR_CLIENT,COLOR_CLIENT,COLOR_CLIENT);

	// TAXI
	if(PlayerHit[playerid] != -1) {
		UsedContract[PlayerHit[playerid]] = 0;
		PlayerHit[playerid] = -1;
	} 
	if(Contract[playerid] == 1) {
		foreach(Player, i) {
			if(PlayerHit[i] == playerid) {
				PlayerHit[i] = -1;
				PlayerTextDrawHide(i, FindTD);
			}
		}
	}	
	foreach(Player,i)
	{
		if(TransportDuty[playerid] == 1) {
			if(TaxiDriver[i] == playerid)
			{
				TaxiDriver[i] = -1;
				TaxiDist[i] = 0.0; TransportMoney[i] = 0;
				for(new j = 0; j <= 2; j++) PlayerTextDrawHide(i, FareTD[j]);
			}
		}
		if(IsPlayerConnected(Mobile[playerid]))
		{
			if(Mobile[playerid] < 255)
			{
				CellTime[Mobile[playerid]] = 0;
				CellTime[playerid] = 0;
				Mobile[Mobile[playerid]] = 255;
				SetPlayerSpecialAction(Mobile[playerid],SPECIAL_ACTION_STOPUSECELLPHONE);
				Mobile[playerid] = 255;
				PlayerInfo[playerid][pSpeaker] = 0;
				SetPlayerSpecialAction(playerid,SPECIAL_ACTION_STOPUSECELLPHONE);
			}
		}
		if(targetfind[i] == playerid)
		{
		    targetfind[i] = -1;
		    UsedFind[i] = 0;
		    DisablePlayerCheckpoint(i);
	        GameTextForPlayer(i, "~r~Tinta ta a parasit jocul.", 5000, 1);
		}
	    if(TaxiAccepted[i] < 999)
        {
	        if(TaxiAccepted[i] == playerid)
	        {
	            TaxiAccepted[i] = 999;
	            GameTextForPlayer(i, "~w~Apelantul~n~~r~~h~A iesit de pe server", 5000, 1);
	            TaxiCallTime[i] = 0;
	            DisablePlayerCheckpoint(i);
	        }
        }
	    if(LicensesAccepted[i] < 999)
        {
	        if(LicensesAccepted[i] == playerid)
	        {
	            LicensesAccepted[i] = 999;
	            GameTextForPlayer(i, "~w~Apelantul~n~~r~~h~A iesit de pe server", 5000, 1);
	            LicensesCallTime[i] = 0;
	            DisablePlayerCheckpoint(i);
	        }
        }
	}
	if(TransportCost[playerid] > 0 && TransportDriver[playerid] < 999) {
	    if(IsPlayerConnected(TransportDriver[playerid])) {

		    TransportMoney[TransportDriver[playerid]] += TransportCost[playerid];
		    TransportCost[TransportDriver[playerid]] = 0;
		}
	}

	
    if(TransportDuty[playerid] == 1) TaxiDrivers -= 1;
	
	ResetVariables(playerid);
    return 1;
}
function SpawnPlayerT(playerid) {
    SetPVarInt(playerid,"Logat",1);
    PlayerTextDrawHide(playerid, LoadingAccount[playerid]);
    if(PlayerInfo[playerid][pTut] == 0) {
        SetPlayerVirtualWorld(playerid,0);
		SetPlayerPos(playerid,1442.8540,-1113.0177,93.3403);
		gNews[playerid] = 1; gFam[playerid] = 1;
		TogglePlayerControllable(playerid, 0);
		RegistrationStep[playerid] = 1;
		for( new j = 0; j <= 20; j++) SendClientMessage(playerid, COLOR_WHITE, "");
		ShowPlayerDialog(playerid, DIALOG_REGISTER, DIALOG_STYLE_MSGBOX, "Sexul Caracterului", "Te rog sa alegi sexul caracterului tau.\n\nPlease choose your character's sex.", "Masculin", "Feminin");
        SetPlayerInterior(playerid, 0);
		SetTimerEx("CameraFirst", 100, 0, "d", playerid);
    }
    else if(PlayerInfo[playerid][pTut] == 1 || PlayerInfo[playerid][pTut] == 2) {
        if(PlayerInfo[playerid][pTut] == 2) {
		   	SetPlayerCheckpoint(playerid,1602.4291,-2177.7148,13.5547,3.0);
			CP[playerid] = 53;
            ShowPlayerDialog(playerid,0,DIALOG_STYLE_MSGBOX,"Tutorial 1","Bun venit la primul tutorial, Scoala de Soferi.\nPentru a obtine licenta de condu du-te la punctul rosu de pe minimap, acolo se afla DMV-ul.","Next","");
		}
        TogglePlayerControllable(playerid, 1);
		new house = PlayerInfo[playerid][pHouse];
		if(PlayerInfo[playerid][pJailed] >= 1)
		{
			PutPlayerInJail(playerid);
			return 1;
		}
		if(house != 999)
		{
		    if(SpawnChange[playerid])
		    {
				SetPlayerToTeamColor(playerid);
				SetPlayerInterior(playerid,HouseInfo[house][hInterior]);
				SetPlayerPosEx(playerid, HouseInfo[house][hExitx], HouseInfo[house][hExity],HouseInfo[house][hExitz]);
		        SetPlayerVirtualWorld(playerid, HouseInfo[house][hVirtual]);
				PlayerInfo[playerid][pLocal] = house;
				PlayerInfo[playerid][pInt] = HouseInfo[house][hInterior];
				InHouse[playerid] = house;
				UpdateHouseRadio(house);
				return 1;
			}
		}
		//Spawn
		if(PlayerInfo[playerid][pMember] == 0) {
		    new rand = random(3);
			SetPlayerPosEx(playerid, Spawns[rand][0],Spawns[rand][1],Spawns[rand][2]);
			SetPlayerFacingAngle(playerid, 180);
			SetPlayerInterior(playerid,0);
			SetPlayerVirtualWorld(playerid, 0);
		}
		else {
		    FactionSpawn(playerid);
		}
		SetTimerEx("UpdateSecondary", 3000, false, "i", playerid);
	}
	return 1;
}
function SetPlayerSpawn(playerid) {
	if(IsPlayerConnected(playerid)) {
	    TextDrawHideForPlayer(playerid, ServerStatusBar);
	    TextDrawHideForPlayer(playerid, ServerStatusBox);
		InBussines[playerid] = -1; InHQ[playerid] = -1; InHouse[playerid] = -1;
		TogglePlayerControllable(playerid, 0);
		SetPlayerVirtualWorld(playerid,playerid+1);
		SetPlayerInterior(playerid,0);
		SetPlayerPos(playerid,1442.8540,-1113.0177,93.3403);
		SetCameraBehindPlayer(playerid);
		if(PaintType[playerid] != 0) return PaintSpawn(playerid);
		else if(PlayerInfo[playerid][pChar] > 0) SetPlayerSkinEx(playerid, PlayerInfo[playerid][pChar]);
		else SetPlayerSkinEx(playerid, PlayerInfo[playerid][pModel]);
		PlayerTextDrawShow(playerid, LoadingAccount[playerid]);
		new x = GetPVarInt(playerid, "Logat");
		if(x < 1) SetTimerEx("SpawnPlayerT",3300,0,"d",playerid);
		else SetTimerEx("SpawnPlayerT",0,0,"d",playerid);
	}
	return 1;
}
function UpdateSecondary(playerid)
{
    if(IsPlayerLogged[playerid] != 0)
	{
		Update(playerid, pConnectTimex);
		Update(playerid, pBank);
		Update(playerid, pCashx);
		Update(playerid, pRP);
		Update(playerid, pPayDayx);
		Update(playerid, pJailTimex);
		OnPlayerDateUpdateX2(playerid);
	}
	return 1;
}
function OnPlayerDateUpdateX2(playerid)
{
	if(IsPlayerConnected(playerid))
	{
		new playerName[MAX_PLAYER_NAME];
		GetPlayerName(playerid, playerName, sizeof(playerName));
		new var[556];
		{
			format(var,sizeof(var),"UPDATE `users` SET `CarLic`='%d',`FlyLic`='%d',`BoatLic`='%d',`FishLic`='%d',`GunLic`='%d',`CarLicT`='%d',`FlyLicT`='%d',`BoatLicT`='%d',`FishLicT`='%d',`GunLicT`='%d',`Rob`='%d',`Jailed`='%d',`Muted`='%d',`MuteTime`='%d' WHERE `ID`='%d'",
			PlayerInfo[playerid][pCarLic],
			PlayerInfo[playerid][pFlyLic],
			PlayerInfo[playerid][pBoatLic],
			PlayerInfo[playerid][pFishLic],
			PlayerInfo[playerid][pGunLic],
			PlayerInfo[playerid][pCarLicT],
	  		PlayerInfo[playerid][pFlyLicT],
			PlayerInfo[playerid][pBoatLicT],
			PlayerInfo[playerid][pFishLicT],
			PlayerInfo[playerid][pGunLicT],
			PlayerInfo[playerid][pRob],
			PlayerInfo[playerid][pJailed],
			PlayerInfo[playerid][pMuted],
			PlayerInfo[playerid][pMuteTime],
			PlayerInfo[playerid][pSQLID]);
			mysql_query(SQL,var);
		}
	}
	return 1;
}

function OnPlayerTakeDamage(playerid, issuerid, Float:amount, weaponid, bodypart)
{
	if(issuerid != INVALID_PLAYER_ID)
    {
		for(new sf = 0; sf < MAX_SAFEZONES; sf++)
		{
			if(SafeZone[sf][szRange] >= 15) {
				if(PlayerToPoint(SafeZone[sf][szRange], playerid, SafeZone[sf][szX], SafeZone[sf][szY], SafeZone[sf][szZ]))
				{
					if(IsACop(playerid) && PlayerInfo[issuerid][pWantedLevel] >= 1) return 1;
					
					new Float: health;
					GetPlayerHealth( issuerid, health );
					SetPlayerHealthEx( issuerid, health );
					return 1;
				}
			}
	    }

		if(amount < 0)
		{
			format(szGlobal,sizeof(szGlobal),"AdmCmd: %s(%d) posibil ca are global kill, hp luat %.2f.",GetName(issuerid),issuerid,amount);
			SendAdminMessage(COLOR_LOGS,szGlobal,1);
			Kick(issuerid);
			return 1;
		}
		if(weaponid == 54 && GetPlayerState(issuerid) != PLAYER_STATE_DRIVER)
		{
		    if(playerDeath[issuerid] == 0)
		    {
				new Float:HP, Float:AP, Float:remainHP;
			 	GetPlayerHealthEx(issuerid,HP);
			 	GetPlayerArmourEx(issuerid,AP);
				if ( AP >= amount )
				{
					SetPlayerArmourEx( issuerid, AP - amount );
					SetPlayerHealthEx( issuerid, HP );
				}
				else if ( AP <= 0 )
				{
					remainHP = HP - amount;
					SetPlayerHealthEx( issuerid, remainHP );
					if ( remainHP <= 0 && playerDeath[issuerid] == 0 )
					{
						OnPlayerDeath( playerid, issuerid, weaponid );
						playerDeath[playerid] = 1;
					}
				}
				else
				{
					remainHP = HP + ( AP - amount );
					SetPlayerArmourEx( issuerid, 0.0 );
					SetPlayerHealthEx( issuerid, remainHP );
					if ( remainHP <= 0 && playerDeath[issuerid] == 0 )
					{
						OnPlayerDeath( playerid, issuerid, weaponid );
						playerDeath[issuerid] = 1;
					}
				}
			}
		}
	}
	if(weaponid == 49 || weaponid == 50 || weaponid == 51 || weaponid == 52 || weaponid == 53 || weaponid == 54 || GetPlayerState(issuerid) == PLAYER_STATE_DRIVER)
	{
	    if(playerDeath[playerid] == 0)
	    {
			new Float:HP, Float:AP, Float:remainHP;
		 	GetPlayerHealthEx(playerid,HP);
		 	GetPlayerArmourEx(playerid,AP);
			if ( AP >= amount )
			{
				SetPlayerArmourEx( playerid, AP - amount );
				SetPlayerHealthEx( playerid, HP );
			}
			else if ( AP <= 0 )
			{
				remainHP = HP - amount;
				SetPlayerHealthEx( playerid, remainHP );
				if ( remainHP <= 0 && playerDeath[playerid] == 0 )
				{
					OnPlayerDeath( playerid, issuerid, weaponid );
					playerDeath[playerid] = 1;
				}
			}
			else
			{
				remainHP = HP + ( AP - amount );
				SetPlayerArmourEx( playerid, 0.0 );
				SetPlayerHealthEx( playerid, remainHP );
				if ( remainHP <= 0 && playerDeath[playerid] == 0 )
				{
					OnPlayerDeath( playerid, issuerid, weaponid );
					playerDeath[playerid] = 1;
				}
			}
		}
	}
	return 1;
}

function OnPlayerGiveDamage(playerid, damagedid, Float:amount, weaponid, bodypart)
{
	if(damagedid != INVALID_PLAYER_ID)
    {
		for(new sf = 0; sf < MAX_SAFEZONES; sf++) {
			if(SafeZone[sf][szRange] >= 15) {
				if(PlayerToPoint(SafeZone[sf][szRange], playerid, SafeZone[sf][szX], SafeZone[sf][szY], SafeZone[sf][szZ])) {
					if(!IsPlayerInAnyVehicle(playerid) && !IsACop(playerid) && PlayerHit[playerid] != damagedid && InWar[PlayerInfo[playerid][pMember]] == 0) {
						SCM(playerid, COLOR_LIGHTRED, "Ai primit freeze timp de 5 secunde deoarece ai lovit pe cineva intr-o zona protejata.");
						TogglePlayerControllable(playerid, 0);
						SetTimerEx("UnFreezeStation", 5000, false, "i", playerid);
						SetPlayerArmedWeapon(playerid, 0);
						new Float: HP;
						GetPlayerHealthEx(damagedid,HP);
						SetPlayerHealthEx(damagedid, HP);						
					}
				}
			}	
		}	
	    
	 	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER) return 1;
		if(GetPlayerSurfingVehicleID(playerid) != INVALID_VEHICLE_ID) return 1;
		if(amount < 0)
		{
			format(szGlobal,sizeof(szGlobal),"AdmCmd: %s(%d) posibil ca are global kill, hp luat %.2f.",GetName(playerid),playerid,amount);
			SendAdminMessage(COLOR_LOGS,szGlobal,1);
			Kick(playerid);
			return 1;
		}
		if(playerDeath[damagedid] == 0)
		{
			if(weaponid == 34)
		    {
		        SetPlayerHealthEx(damagedid, 0.0);
		        SetPlayerArmourEx(damagedid, 0.0);
		        OnPlayerDeath(damagedid,playerid,weaponid);
				playerDeath[damagedid] = 1;
				return 1;
		    }
		 	new Float: HP, Float: AP ;
			GetPlayerHealthEx(damagedid,HP);
			GetPlayerArmourEx(damagedid,AP);
			if ( AP >= amount )
			{
				SetPlayerArmourEx ( damagedid, AP - amount );
			}
			else if ( AP <= 0 )
			{
				new const Float: remainHP = HP - amount;
				SetPlayerHealthEx ( damagedid, remainHP );
				if ( remainHP <= 0 )
				{
					OnPlayerDeath( damagedid, playerid, weaponid );
					playerDeath[damagedid] = 1;
					return 1;
				}
			}
			else
			{
				new const Float: remainHP = HP + ( AP - amount );
				SetPlayerArmourEx ( damagedid, 0.0 );
				SetPlayerHealthEx ( damagedid, remainHP );
				if ( remainHP <= 0 )
				{
					OnPlayerDeath( damagedid, playerid, weaponid );
					playerDeath[damagedid] = 1;
					return 1;
				}
			}
			if(pingsound[playerid] == 1)
		    {
				PlayerPlaySound(playerid, 17802, 0.0, 0.0, 0.0);
			}
			if(PlayerCuffed[damagedid] == 1)
			{
				SetPlayerHealthEx(damagedid,100);
			}
			if(PlayerInfo[damagedid][pSleeping] == 1)
			{
				SetPlayerHealthEx(damagedid, 100);
			}
			if(tazer[playerid] == 1 && IsACop(playerid) && weaponid == 24)
			{
				if(IsACop(damagedid)) return SendClientMessage(playerid, COLOR_GREY, "Acel player este intr-un departament de politie..");
				if(PlayerCuffed[damagedid] == 1) return SendClientMessage(playerid, COLOR_GREY, "Acel player este deja electrocutat.");
				if(PlayerInfo[damagedid][pSleeping] == 1) return SendClientMessage(playerid, COLOR_GREY, "Acel player doarme.");
				if(GetDistanceBetweenPlayers(playerid,damagedid) < 15)
				{
					format(szGlobal, sizeof(szGlobal), "* Ai fost electrocutat de %s pentru 8 secunde.", GetName(playerid));
					SendClientMessage(damagedid, COLOR_LIGHTBLUE, szGlobal);
					format(szGlobal, sizeof(szGlobal), "* L-ai electrocutat %s pentru 8 secunde.", GetName(damagedid));
					SendClientMessage(playerid, COLOR_LIGHTBLUE, szGlobal);
					format(szGlobal, sizeof(szGlobal), "* %s l-a electrocutat pe %s.", GetName(playerid) ,GetName(damagedid));
					ProxDetector(30.0, playerid, szGlobal, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
					GameTextForPlayer(damagedid, "~r~~h~Tazed", 2500, 3);
					TogglePlayerControllable(damagedid, 0);
					PlayerCuffed[damagedid] = 1;
					PlayerCuffedTime[damagedid] = 8;
					SetPlayerHealthEx(damagedid,100);
				}
			}
		}
	}
	return 1;
}

stock GetName(playerid)
{
    new
        pName[256];

	format(pName, 256, PlayerInfo[playerid][pUsername]);
    return pName;
}
function Float:DistanceToPlayer(playerid, targetid) {
	new Float: Pos[3], Float: distance;
	GetPlayerPos(targetid, Pos[0], Pos[1], Pos[2]);
	distance = GetPlayerDistanceFromPoint(playerid, Pos[0], Pos[1], Pos[2]);
	return distance;
}

function OnPlayerDeath(playerid, killerid, reason)
{
  	if(TakingLesson[playerid] == 1)
	{
    	TakingLesson[playerid] = 0;
	   	new engine,lights,alarm,bonnet,boot,objective;
		SetVehicleParamsEx(GetPlayerVehicleID(playerid),engine,lights,alarm,0,bonnet,boot,objective);
    	DisablePlayerCheckpoint(playerid);
    	SetVehicleToRespawn(GetPlayerVehicleID(playerid));
    	PlayerTextDrawHide(playerid, InfosTD);
    	CP[playerid] = 0;
    	if(DMVCar[playerid] != 0) DestroyVehicle(DMVCar[playerid]), DMVCar[playerid] = 0;
	}
	if(PlayerInfo[playerid][pWantedLevel] != 0) {
		new count, names[180];
		foreach(Player,i) {
			if(IsACop(i) && CrimInRange(50.0, playerid,i) && OnDuty[i] == 1) {
				count = 1;
				format(szGlobal, sizeof(szGlobal), "running suspect bonus!");
				GameTextForPlayer(i, szGlobal, 3000, 1);
				ConsumingMoney[i] = 1;
				GivePlayerCash(i, PlayerInfo[playerid][pWantedLevel] * 380);
				Update(i, pCashx);
				PlayerInfo[i][pCommands] ++;
				Update(i,pCommandsx);
				format(names, 256, "%s %s", names, GetName(i));
			}
			if(count == 1) {
				if(ProxDetectorS(30.0, i, playerid)) {
					format(szGlobal, sizeof(szGlobal), "* %s a fost bagat in inchisoare. Multumiri: %s", GetName(playerid), names);
					SCM(i, COLOR_PURPLE, szGlobal);
				}
			}				
		}	
		if(count == 1) {	
			if(killerid == INVALID_PLAYER_ID) format(szGlobal, sizeof(szGlobal), "Dispatch: %s a fost ucis de No One si a fost bagat in inchisoare timp de %d secunde.", GetName(playerid), (PlayerInfo[playerid][pWantedLevel])*(150));
			else format(szGlobal, sizeof(szGlobal), "Dispatch: %s a fost ucis de %s si a fost bagat in inchisoare timp de %d secunde.", GetName(playerid), GetName(killerid), (PlayerInfo[playerid][pWantedLevel])*(150));
			SendTeamMessage(1, COLOR_DBLUE, szGlobal);
			SendTeamMessage(2, COLOR_DBLUE, szGlobal);
			SendTeamMessage(3, COLOR_DBLUE, szGlobal);
			SendTeamMessage(15, COLOR_DBLUE, szGlobal);
			SendTeamMessage(25, COLOR_DBLUE, szGlobal);
			
			GivePlayerCash(playerid, - PlayerInfo[playerid][pWantedLevel] * 380);
			PlayerInfo[playerid][pWantedDeaths] += 1;
			PlayerInfo[playerid][pJailed] = 1;
			PlayerInfo[playerid][pJailTime] = (PlayerInfo[playerid][pWantedLevel])*(150);
			format(szGlobal, sizeof(szGlobal), "* Esti in inchisoare pentru %d secunde si ai pierdut $%d.", PlayerInfo[playerid][pJailTime], PlayerInfo[playerid][pWantedLevel] * 380);
			SendClientMessage(playerid, COLOR_YELLOW, szGlobal);
			
			TogglePlayerControllable(playerid, 0);
			SetTimerEx("UnFreezeStation", 1000, false, "i", playerid);
			WantedPoints[playerid] = 0;
			PlayerInfo[playerid][pWantedLevel] = 0;
			SetPlayerWantedLevel(playerid, 0);
			Update(playerid,pWantedLevelx);
			Update(playerid,pJailedx);
			Update(playerid,pJailTimex);
			ClearCrime(playerid);				
		}
	}	
	
	if(killerid != INVALID_PLAYER_ID)
	{
		if(PaintType[killerid] != 0 && PaintType[playerid] != 0) {
			PKills[killerid] ++; PDeaths[playerid] ++;
			new wname[32];
			GetWeaponNameEx(GetPlayerWeapon(killerid), wname, sizeof(wname));
			format(szGlobal, sizeof(szGlobal), "L-ai omorat pe %s cu %s de la %0.1f metri.",GetName(playerid), wname, DistanceToPlayer(killerid, playerid));
			SendClientMessage(killerid, COLOR_CLIENT, szGlobal);
			format(szGlobal, sizeof(szGlobal), "Ai fost omorat de %s cu %s de la %0.1f metri.",GetName(killerid),wname, DistanceToPlayer(killerid, playerid));
			SendClientMessage(playerid, COLOR_CLIENT, szGlobal);
			new pp = PaintType[killerid]-1;
			if(PaintType[killerid] == 3 && PaintType[playerid] == 3) {
				if(GetPaintLevel(playerid) == 8) {
					foreach(Player,i) {
					    if(IsPlayerConnected(i)) {
							if(PaintType[i] == PaintType[killerid]) {								
								for(new m = 0; m < 5; m++) SendDeathMessageToPlayer(i, 1001, 1001, 200);
								new swinner[256];
								format(swinner, 256, "* %s a castigat runda deoarece a omorat pe %s cu cutitul.", GetName(killerid), GetName(playerid));
								SendPaintMessage(PaintType[i]-1, COLOR_YELLOW, swinner);
								PaintTime[pp] = -2;						
								PKills[i] = 0, PDeaths[i] = 0;
								PaintballWinner[pp] = i;
								PaintballWinnerScore[pp] = 0;
								SpawnPlayer(i);
							}
						}
					}
				}
				else GiveSkillWeapon(killerid);
				if(PaintTime[pp] == -2) {
					PaintTime[pp] = -1;
					PaintText[pp] = 60;
					SendPaintMessage(pp+1, COLOR_YELLOW, "Runda va incepe peste un minut. Pentru a vota o mapa, folositi comanda /votemap.");
					PaintVote[pp] = 1;	
					if(PaintTimer[pp] != 0) KillTimer(PaintTimer[pp]), PaintTimer[pp] = 0;
					PaintTimer[pp] = SetTimerEx("CalculateVote", 60000, 0, "i", pp);	
				}				
			}
			
			foreach(Player,i) if(PaintType[i] == PaintType[playerid]) SendDeathMessageToPlayer(i, killerid, playerid, reason);
		    if(PKills[killerid]-PDeaths[killerid] > PaintballWinnerScore[PaintType[playerid]-1]) {
		        PaintballWinner[PaintType[playerid]-1]  = killerid;
	        	PaintballWinnerScore[PaintType[playerid]-1] = PlayerPaintballScore[killerid];
	    	}
		}
		
		if(PlayerHit[killerid] == playerid) {
			PlayerPlaySound(killerid,17802,0.0,0.0,0.0);
			
			new wname[30];
			GetWeaponName(reason, wname, sizeof(wname));
			if(reason == 0) wname = "Pumn";
			
			GivePlayerCash(killerid, HeadValue[playerid]);	
			UsedContract[playerid] = 0;
			PlayerHit[killerid] = -1;
			Contract[playerid] = 0;
						
			if(DistanceToPlayer(killerid, playerid) >= 200) GivePlayerCash(killerid, HeadValue[playerid]);
			format(szGlobal, sizeof(szGlobal), "* Ai efectuat cu succes contractul pe %s(%d). Ai primit: $%s.", GetName(playerid), playerid, FormatNumber(HeadValue[playerid]));
			SendClientMessage(killerid, COLOR_MONEY, szGlobal);

			if(PhoneOnline[killerid] == 1 && GetPVarInt(killerid, "Undercover") == 1) {
				PlayerInfo[killerid][pCommands] ++, UpdateVar(killerid, "Commands", PlayerInfo[killerid][pCommands]);
				format(szGlobal, sizeof(szGlobal), "* %s a terminat contractul pe %s (%0.1fm) cu arma %s.", GetName(killerid), GetName(playerid), DistanceToPlayer(killerid, playerid), wname);
				SendFactionMessage(11, COLOR_LIGHTBLUE, szGlobal);
			}	
			else {
				format(szGlobal, sizeof(szGlobal), "* %s a terminat contractul pe %s (%0.1fm) cu arma %s. [fail: telefon deschis/undercover]", GetName(killerid), GetName(playerid), DistanceToPlayer(killerid, playerid), wname);
				SendFactionMessage(11, COLOR_LIGHTBLUE, szGlobal);
			}
				
							
			HeadValue[playerid] = 0;
		}
		
		if(PlayerInfo[killerid][pJailTime] != 0 && PlayerInfo[playerid][pJailTime] != 0) {
			PlayerInfo[killerid][pJailTime] += 120;
			SCM(killerid, COLOR_RED, "Ai primit 2 minute in plus deoarece ai ucis pe cineva.");
		}
	    if(GetDistanceBetweenPlayers(killerid,playerid) > 90 && reason != 34)
	    {
	        new gunname[50];
		   	GetWeaponNameEx(reason,gunname,sizeof(gunname));
	        format(szGlobal,sizeof(szGlobal),"AdmCmd: %s l-a omorat pe %s de la %.0f metrii cu %s.",GetName(killerid),GetName(playerid),GetDistanceBetweenPlayers(killerid,playerid),gunname);
			SendAdminMessage(COLOR_LOGS,szGlobal,1);
	    }
		new name[MAX_PLAYER_NAME];
		new Float:px,Float:py,Float:pz;
		gPlayerUsingLoopingAnim[playerid] = 0;
		gPlayerSpawned[playerid] = 0;
		GetPlayerName(playerid, name, sizeof(name));
		PlayerInfo[playerid][pLocal] = 255;
		GetPlayerPos(playerid, px, py, pz);
 	   	new currentveh = GetPlayerVehicleID(playerid);
		printf("DEATH: %s was killed by %s with gun %d",name,GetName(killerid),reason);
		playerDeath[playerid] = 0;
		curatj[playerid] = 0;
		PlayerEnterTime[playerid]+=221;
		if(CP[playerid] == 50)
		{
			CP[playerid] = 0;
			RemovePlayerAttachedObject(playerid,0);
			DisablePlayerCheckpoint(playerid);
			RemovePlayerAttachedObject(playerid,1);
			Robbed[playerid] = 0;
		}
		if(GetPlayerState(killerid) == PLAYER_STATE_DRIVER && !IsAPlane(currentveh))
		{
		    GetPlayerName(playerid,name,sizeof(name));
		    new kill[25];
		    GetPlayerName(killerid,kill,sizeof(kill));
	        format(szGlobal, sizeof(szGlobal), "AdmWarning: Jucatorul %s(%d) a fost omorat de %s(%d) prin drive-by.", name,playerid,kill,killerid);
			SendAdminMessage(COLOR_WARNING,szGlobal,1);
		}
	    if(XDeaths[playerid] == 0)
	    {
	       LastDeath[playerid] = gettime();
	    }
		if(PlayerCuffed2[playerid] == 1)
		{
		    PlayerCuffed2[playerid] = 0;
	    	SetPlayerSpecialAction(playerid,SPECIAL_ACTION_NONE);
	    	RemovePlayerAttachedObject(playerid,1);
		}
		if(reason == 38 && GetPlayerState(killerid) != PLAYER_STATE_DRIVER)
		{
			if(IsPlayerConnected(killerid))
			{
				format(szGlobal, 256, "AdmWarning: %s(%d) a ucis pe cineva cu Minigun-ul.",GetName(killerid),killerid);
				SendAdminMessage(COLOR_WARNING,szGlobal,1);
			}
		}
  	  	if(TakingLesson[playerid] == 1)
   		{
        	TakingLesson[playerid] = 0;
		   	new engine,lights,alarm,bonnet,boot,objective;
			SetVehicleParamsEx(GetPlayerVehicleID(playerid),engine,lights,alarm,0,bonnet,boot,objective);
	    	DisablePlayerCheckpoint(playerid);
        	SetVehicleToRespawn(GetPlayerVehicleID(playerid));
        	PlayerTextDrawHide(playerid, InfosTD);
        	CP[playerid] = 0;
        	if(DMVCar[playerid] != 0) DestroyVehicle(DMVCar[playerid]), DMVCar[playerid] = 0;
    	}
		if(gPlayerUsingLoopingAnim[playerid])
		{
        	gPlayerUsingLoopingAnim[playerid] = 0;
		}
		if(PlayerInfo[playerid][pCarLicT] == 0 && PlayerInfo[playerid][pCarLic] == 1)
		{
            PlayerInfo[playerid][pCarLic] = 0;
			PlayerInfo[playerid][pCarLicT] = 0;
			new str[128];
			format(str,128,"UPDATE users SET `CarLic`='0',`CarLicT`='0' WHERE `name`='%s'",GetName(playerid));
			mysql_query(SQL,str);
			SCM(playerid,COLOR_GRAD1,"Permisul tau a expirat.");
		}
		if(PlayerInfo[playerid][pFlyLicT] == 0 && PlayerInfo[playerid][pFlyLic] == 1)
		{
		    PlayerInfo[playerid][pFlyLic] = 0;
		    PlayerInfo[playerid][pFlyLicT] = 0;
			new str[128];
			format(str,128,"UPDATE users SET `FlyLic`='0',`FlyLicT`='0' WHERE `name`='%s'",GetName(playerid));
			mysql_query(SQL,str);
			SCM(playerid,COLOR_GRAD1,"Licenta de zbor a expirat.");
		}
		if(PlayerInfo[playerid][pBoatLicT] == 0 && PlayerInfo[playerid][pBoatLic] == 1)
		{
		    PlayerInfo[playerid][pBoatLic] = 0;
		    PlayerInfo[playerid][pBoatLic] = 0;
			new str[128];
			format(str,128,"UPDATE users SET `BoatLic`='0',`BoatLicT`='0' WHERE `name`='%s'",GetName(playerid));
			mysql_query(SQL,str);
			SCM(playerid,COLOR_GRAD1,"Licenta de barca a expirat.");
		}
		if(PlayerInfo[playerid][pFishLicT] == 0 && PlayerInfo[playerid][pFishLic] == 1)
		{
		    PlayerInfo[playerid][pFishLic] = 0;
		    PlayerInfo[playerid][pFishLicT] = 0;
			new str[128];
			format(str,128,"UPDATE users SET `FishLic`='0',`FishLicT`='0' WHERE `name`='%s'",GetName(playerid));
			mysql_query(SQL,str);
			SCM(playerid,COLOR_GRAD1,"Licenta de pescuit a expirat.");
		}
		if(PlayerInfo[playerid][pGunLicT] == 0 && PlayerInfo[playerid][pGunLic] == 1)
		{
		    PlayerInfo[playerid][pGunLic] = 0;
		    PlayerInfo[playerid][pGunLicT] = 0;
			new str[128];
			format(str,128,"UPDATE users SET `GunLic`='0',`GunLicT`='0' WHERE `name`='%s'",GetName(playerid));
			mysql_query(SQL,str);
			SCM(playerid,COLOR_GRAD1,"Licenta de arme a expirat.");
		}
	    new fpm,fkm;
    	fpm = PlayerInfo[playerid][pMember];
    	fkm = PlayerInfo[killerid][pMember];
    	for(new turf = 1; turf < sizeof(TurfInfo); turf++)
		{
         	if(IsPlayerInTurf(playerid, turf) && IsPlayerInTurf(killerid, turf))
         	{
                if(IsAMember(playerid) && IsAMember(killerid))
                {
	             	if(WarInfo[turf][wFaction] == fpm && WarInfo[turf][wAttacker] == fkm || WarInfo[turf][wFaction] == fkm && WarInfo[turf][wAttacker] == fpm)
	             	{
				     	if(fkm == WarInfo[turf][wAttacker] || fkm == WarInfo[turf][wFaction])
					 	{
					     	WarScoreF[fkm][turf] += 1.0;
					 	}
	                 	ucideri[killerid][turf] ++;
	                 	decese[playerid][turf] ++;
	                 	if(PlayerInfo[killerid][pMember] == WarInfo[turf][wAttacker])
	                 	{
		                 	if(ucideri[killerid][turf] > bestscoreat[turf])
		                 	{
		                     	bestscoreat[turf] = ucideri[killerid][turf];
		                     	bestmemberat[turf] = killerid;
		                 	}
	                 	}
	                 	if(PlayerInfo[killerid][pMember] == WarInfo[turf][wFaction])
	                 	{
		                 	if(ucideri[killerid][turf] > bestscoredf[turf])
		                 	{
		                     	bestscoredf[turf] = ucideri[killerid][turf];
		                     	bestmemberdf[turf] = killerid;
		                 	}
	                 	}
	                 	if(PlayerInfo[playerid][pMember] == WarInfo[turf][wAttacker])
	                 	{
	                 		if(decese[playerid][turf] > worstscoreat[turf])
							{
								worstscoreat[turf] = decese[playerid][turf];
								worstmemberat[turf] = playerid;
							}
						}
	                 	if(PlayerInfo[playerid][pMember] == WarInfo[turf][wFaction])
	                 	{
	                 		if(decese[playerid][turf] > worstscoredf[turf])
							{
								worstscoredf[turf] = decese[playerid][turf];
								worstmemberdf[turf] = playerid;
							}
						}
						new wname[32];
						GetWeaponNameEx(GetPlayerWeapon(killerid), wname, sizeof(wname));
						format(szGlobal, sizeof(szGlobal), "War: L-ai omorat pe %s cu %s de la %0.1f metri.",GetName(playerid), wname, DistanceToPlayer(killerid, playerid));
						SendClientMessage(killerid, COLOR_LIGHTBLUE, szGlobal);
						format(szGlobal, sizeof(szGlobal), "War: Ai fost omorat de %s cu %s de la %0.1f metri.",GetName(killerid),wname, DistanceToPlayer(killerid, playerid));
						SendClientMessage(playerid, COLOR_LIGHTBLUE, szGlobal);
	                 	new sweapon, sammo, obj;
	                 	new Float: Pos[3];
	                 	GetPlayerPos(playerid, Pos[0], Pos[1], Pos[2]);
						for (new i=0; i<12; i++)
						{
							GetPlayerWeaponData(playerid, i, sweapon, sammo);
							if(sweapon != 0)
							{
								if(sweapon == 1) { obj = 331; }
								else if(sweapon == 2){ obj = 333; }
								else if(sweapon == 3){ obj = 334; }
								else if(sweapon == 5){ obj = 336; }
								else if(sweapon == 6){ obj = 337; }
								else if(sweapon == 7){ obj = 338; }
								else if(sweapon == 10){ obj = 321; }
								else if(sweapon == 11){ obj = 322; }
								else if(sweapon == 12){ obj = 323; }
								else if(sweapon == 13){ obj = 324; }
								else if(sweapon == 14){ obj = 325; }
								else if(sweapon == 15){ obj = 326; }
								else if(sweapon == 23){ obj = 347; }
								else if(sweapon == 24){ obj = 348; }
								else if(sweapon == 25){ obj = 349; }
								else if(sweapon == 26){ obj = 350; }
								else if(sweapon == 27){ obj = 351; }
								else if(sweapon == 28){ obj = 352; }
								else if(sweapon == 29){ obj = 353; }
								else if(sweapon == 30){ obj = 355; }
								else if(sweapon == 31){ obj = 356; }
								else if(sweapon == 33){ obj = 357; }
								else if(sweapon == 32){ obj = 372; }
								else if(sweapon == 34){ obj = 358; }
								else if(sweapon == 41){ obj = 365; }
								else if(sweapon == 42){ obj = 366; }
								else if(sweapon == 43){ obj = 367; }
								new xx = CheckIDEmpty();
								Pickups[xx][psID] = CreateDynamicPickup(obj, 23, Pos[0]+i-0.5, Pos[1], Pos[2]);
								Pickups[xx][psX] = Pos[0]+i-0.5;
								Pickups[xx][psY] = Pos[1];
								Pickups[xx][psZ] = Pos[2];
								Pickups[xx][psWar] = turf;
								Pickups[xx][psType] = 1;
								Pickups[xx][psWeapon] = sweapon;
								Pickups[xx][psAmmo] = sammo;
							}
						}
						new xx = CheckIDEmpty();
						Pickups[xx][psID] = CreateDynamicPickup(1240, 23, Pos[0], Pos[1], Pos[2]);
						Pickups[xx][psType] = 0;
						Pickups[xx][psX] = Pos[0];
						Pickups[xx][psY] = Pos[1];
						Pickups[xx][psZ] = Pos[2];
						Pickups[xx][psWar] = turf;
						Pickups[xx][psWeapon] = sweapon;
						Pickups[xx][psAmmo] = sammo;
						Pickups[xx][psWar] = turf;
	                 	return 1;
					}
             	}
         	}
    	}
		if (gPlayerCheckpointStatus[playerid] > 4 && gPlayerCheckpointStatus[playerid] < 11)
		{
			DisablePlayerCheckpoint(playerid);
			gPlayerCheckpointStatus[playerid] = CHECKPOINT_NONE;
		}
		new caller = Mobile[playerid];
		if(caller != 255)
		{
			if(caller < 255)
			{
				SendClientMessage(caller,  COLOR_GRAD2, "Linia tocmai a fost intrerupta.....");
				CellTime[caller] = 0;
				CellTime[playerid] = 0;
				Mobile[caller] = 255;
			}
			Mobile[playerid] = 255;
			CellTime[playerid] = 0;
		}
		if(PlayerInfo[killerid][pJailed] == 0 && !IsACop(killerid) && !IsACop(playerid) && PaintType[playerid] == 0) {
			if(PlayerInfo[playerid][pMember] != PlayerInfo[killerid][pMember]) {
				format(WantedName[playerid], 256, GetName(killerid));
				WantedReason[playerid] = reason;
				SendClientMessage(playerid,COLOR_CLIENT,"Ai fost omorat de un player. Ai la dispozitie un minut pentru a folosi comanda '/call 112'.");
				WantedTimer[playerid] = SetTimerEx("ClearWanted",60000, false,"d", playerid);
			}
		}		
		killerid = INVALID_PLAYER_ID;
	}
	return 1;
}

new legalmods[48][22] = {
        {400, 1024,1021,1020,1019,1018,1013,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
        {401, 1145,1144,1143,1142,1020,1019,1017,1013,1007,1006,1005,1004,1003,1001,0000,0000,0000,0000},
        {404, 1021,1020,1019,1017,1016,1013,1007,1002,1000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
        {405, 1023,1021,1020,1019,1018,1014,1001,1000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
        {410, 1024,1023,1021,1020,1019,1017,1013,1007,1003,1001,0000,0000,0000,0000,0000,0000,0000,0000},
		{415, 1023,1019,1018,1017,1007,1003,1001,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
        {418, 1021,1020,1016,1006,1002,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
        {420, 1021,1019,1005,1004,1003,1001,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
        {421, 1023,1021,1020,1019,1018,1016,1014,1000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
        {422, 1021,1020,1019,1017,1013,1007,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
        {426, 1021,1019,1006,1005,1004,1003,1001,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
        {436, 1022,1021,1020,1019,1017,1013,1007,1006,1003,1001,0000,0000,0000,0000,0000,0000,0000,0000},
        {439, 1145,1144,1143,1142,1023,1017,1013,1007,1003,1001,0000,0000,0000,0000,0000,0000,0000,0000},
        {477, 1021,1020,1019,1018,1017,1007,1006,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
        {478, 1024,1022,1021,1020,1013,1012,1005,1004,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
        {489, 1024,1020,1019,1018,1016,1013,1006,1005,1004,1002,1000,0000,0000,0000,0000,0000,0000,0000},
        {491, 1145,1144,1143,1142,1023,1021,1020,1019,1018,1017,1014,1007,1003,0000,0000,0000,0000,0000},
        {492, 1016,1006,1005,1004,1000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
        {496, 1143,1142,1023,1020,1019,1017,1011,1007,1006,1003,1002,1001,0000,0000,0000,0000,0000,0000},
        {500, 1024,1021,1020,1019,1013,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
        {516, 1021,1020,1019,1018,1017,1016,1015,1007,1004,1002,1000,0000,0000,0000,0000,0000,0000,0000},
        {517, 1145,1144,1143,1142,1023,1020,1019,1018,1017,1016,1007,1003,1002,0000,0000,0000,0000,0000},
        {518, 1145,1144,1143,1142,1023,1020,1018,1017,1013,1007,1006,1005,1003,1001,0000,0000,0000,0000},
        {527, 1021,1020,1018,1017,1015,1014,1007,1001,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
        {529, 1023,1020,1019,1018,1017,1012,1011,1007,1006,1003,1001,0000,0000,0000,0000,0000,0000,0000},
        {534, 1185,1180,1179,1178,1127,1126,1125,1124,1123,1122,1106,1101,1100,0000,0000,0000,0000,0000},
        {535, 1121,1120,1119,1118,1117,1116,1115,1114,1113,1110,1109,0000,0000,0000,0000,0000,0000,0000},
        {536, 1184,1183,1182,1181,1128,1108,1107,1105,1104,1103,0000,0000,0000,0000,0000,0000,0000,0000},
        {540, 1145,1144,1143,1142,1024,1023,1020,1019,1018,1017,1007,1006,1004,1001,0000,0000,0000,0000},
        {542, 1145,1144,1021,1020,1019,1018,1015,1014,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
        {546, 1145,1144,1143,1142,1024,1023,1019,1018,1017,1007,1006,1004,1002,1001,0000,0000,0000,0000},
        {547, 1143,1142,1021,1020,1019,1018,1016,1003,1000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
        {549, 1145,1144,1143,1142,1023,1020,1019,1018,1017,1012,1011,1007,1003,1001,0000,0000,0000,0000},
        {550, 1145,1144,1143,1142,1023,1020,1019,1018,1006,1005,1004,1003,1001,0000,0000,0000,0000,0000},
        {551, 1023,1021,1020,1019,1018,1016,1006,1005,1003,1002,0000,0000,0000,0000,0000,0000,0000,0000},
        {558, 1168,1167,1166,1165,1164,1163,1095,1094,1093,1092,1091,1090,1089,1088,0000,0000,0000,0000},
        {559, 1173,1162,1161,1160,1159,1158,1072,1071,1070,1069,1068,1067,1066,1065,0000,0000,0000,0000},
        {560, 1170,1169,1141,1140,1139,1138,1033,1032,1031,1030,1029,1028,1027,1026,0000,0000,0000,0000},
        {561, 1157,1156,1155,1154,1064,1063,1062,1061,1060,1059,1058,1057,1056,1055,1031,1030,1027,1026},
        {562, 1172,1171,1149,1148,1147,1146,1041,1040,1039,1038,1037,1036,1035,1034,0000,0000,0000,0000},
        {565, 1153,1152,1151,1150,1054,1053,1052,1051,1050,1049,1048,1047,1046,1045,0000,0000,0000,0000},
        {567, 1189,1188,1187,1186,1133,1132,1131,1130,1129,1102,0000,0000,0000,0000,0000,0000,0000,0000},
        {575, 1177,1176,1175,1174,1099,1044,1043,1042,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
        {576, 1193,1192,1191,1190,1137,1136,1135,1134,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
        {580, 1023,1020,1018,1017,1007,1006,1001,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000,0000},
        {589, 1145,1144,1024,1020,1018,1017,1016,1013,1007,1006,1005,1004,1000,0000,0000,0000,0000,0000},
        {600, 1022,1020,1018,1017,1013,1007,1006,1005,1004,0000,0000,0000,0000,0000,0000,0000,0000,0000},
        {603, 1145,1144,1143,1142,1024,1023,1020,1019,1018,1017,1007,1006,1001,0000,0000,0000,0000,0000}
};

function OnVehicleMod(playerid, vehicleid, componentid)
{
    if(GetPlayerInterior(playerid) == 0 && PlayerInfo[playerid][pAdmin] < 1)
    {
		new name[25];
		GetPlayerName(playerid,name,sizeof(name));
		format(szGlobal,sizeof(szGlobal), "AdmCmd: %s(%d) a pus in vehiculul %d componente invalide.",name,playerid,vehicleid);
		SendAdminMessage(COLOR_LOGS,szGlobal,1);
		RemoveVehicleComponent(vehicleid,componentid);
		Kick(playerid);
    }
    new vehicleide = GetVehicleModel(vehicleid);
    new modok = islegalcarmod(vehicleide, componentid);
    new Name[24];

    GetPlayerName(playerid, Name, 24);
    if (!modok)
	{
        BanEx(playerid, "Request");
    }
    
	new idd = FindSpawnID(vehicleid);
	new component;
	new query[256];
	component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 0);
	mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod0='%d' WHERE id=%d",component,idd);
	mysql_tquery(SQL, query, "", "");
	CarInfo[idd][mod0] = component;
	component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 1);
	mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod1='%d' WHERE id=%d",component,idd);
	mysql_tquery(SQL, query, "", "");
	CarInfo[idd][mod1] = component;
	component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 2);
	mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod2='%d' WHERE id=%d",component,idd);
	mysql_tquery(SQL, query, "", "");
	CarInfo[idd][mod2] = component;
	component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 3);
	mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod3='%d' WHERE id=%d",component,idd);
	mysql_tquery(SQL, query, "", "");
	CarInfo[idd][mod3] = component;
	component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 4);
	mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod4='%d' WHERE id=%d",component,idd);
	mysql_tquery(SQL, query, "", "");
	CarInfo[idd][mod4] = component;
	component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 5);
	mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod5='%d' WHERE id=%d",component,idd);
	mysql_tquery(SQL, query, "", "");
	CarInfo[idd][mod5] = component;
	component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 6);
	mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod6='%d' WHERE id=%d",component,idd);
	mysql_tquery(SQL, query, "", "");
	CarInfo[idd][mod6] = component;
	component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 7);
	mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod7='%d' WHERE id=%d",component,idd);
	mysql_tquery(SQL, query, "", "");
	CarInfo[idd][mod7] = component;
	component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 8);
	mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod8='%d' WHERE id=%d",component,idd);
	mysql_tquery(SQL, query, "", "");
	CarInfo[idd][mod8] = component;
	component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 9);
	mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod9='%d' WHERE id=%d",component,idd);
	mysql_tquery(SQL, query, "", "");
	CarInfo[idd][mod9] = component;
	component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 10);
	mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod10='%d' WHERE id=%d",component,idd);
	mysql_tquery(SQL, query, "", "");
	CarInfo[idd][mod10] = component;
	component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 11);
	mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod11='%d' WHERE id=%d",component,idd);
	mysql_tquery(SQL, query, "", "");
	CarInfo[idd][mod11] = component;
	component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 12);
	mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod12='%d' WHERE id=%d",component,idd);
	mysql_tquery(SQL, query, "", "");
	CarInfo[idd][mod12] = component;
	component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 13);
	mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod13='%d' WHERE id=%d",component,idd);
	mysql_tquery(SQL, query, "", "");
	CarInfo[idd][mod13] = component;
	saveTuning(playerid,idd);
	return 1;
}

function OnVehiclePaintjob(playerid, vehicleid, paintjobid)
{
	return 1;
}

stock iswheelmodel(modelid) {

    new wheelmodels[17] = {1025,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1096,1097,1098};

    for(new I = 0, b = sizeof(wheelmodels); I != b; ++I) {
        if (modelid == wheelmodels[I])
            return true;

    }

    return false;
}

stock IllegalCarNitroIde(carmodel) {

    new illegalvehs[29] = { 581, 523, 462, 521, 463, 522, 461, 448, 468, 586, 509, 481, 510, 472, 473, 493, 595, 484, 430, 453, 452, 446, 454, 590, 569, 537, 538, 570, 449 };

    for(new I = 0, b = sizeof(illegalvehs); I != b; ++I) {

        if (carmodel == illegalvehs[I])
            return true;

    }

    return false;
}

// assumes player is in a car - make sure it is.
stock illegal_nos_vehicle(PlayerID) {

    new carid = GetPlayerVehicleID(PlayerID);
    new playercarmodel = GetVehicleModel(carid);

    return IllegalCarNitroIde(playercarmodel);

}

stock islegalcarmod(vehicleide, componentid) {

    new modok = false;

    // stereo, hydraulics & nos (1x 2x 3x) are special.
    if ( (iswheelmodel(componentid)) || (componentid == 1086) || (componentid == 1087) || ((componentid >= 1008) && (componentid <= 1010))) {

        new nosblocker = IllegalCarNitroIde(vehicleide);

        if (!nosblocker)
            modok = true;

    } else {

        // check if the specified model CAN use this particular mod.
        for(new I = 0, b = sizeof(legalmods); I != b; ++I) {

            if (legalmods[I][0] == vehicleide) { // first is car IDE

                for(new J = 1; J < 22; J++) { // start with 1
                    if (legalmods[I][J] == componentid)
                        modok = true;
                }

            }

        }

    }

    return modok;
}

function CheckSpec(playerid) {
    if(IsPlayerSpec[playerid] == 1) {
		SetPlayerPosEx(playerid, SpecPos[playerid][0], SpecPos[playerid][1], SpecPos[playerid][2]), IsPlayerSpec[playerid] = 0;
        SetPlayerInterior(playerid, pInteriorID[playerid]);
        SetPlayerVirtualWorld(playerid, pVirtual[playerid]);
        SpecPlayers[playerid] = 0;
	}
	return 1;
}

function ShowBarStats(playerid)
{
	TextDrawShowForPlayer(playerid, ServerStatusBox);
	format(szGlobal,sizeof(szGlobal),"Accounts:_~y~%s~w~~h~_/_Newest Account:_~y~%s~w~~h~_/_Most_Players_Online:_~y~%d~w~~h~_(%s)",FormatNumber(Accounts()), NewAccount,MaxPlayers, MaxPlayersDate);
	TextDrawSetString(ServerStatusBar, szGlobal);
	TextDrawShowForPlayer(playerid, ServerStatusBar);
	return 1;
}


function SaveInfo() {
	new 
		szQuery[1024],
		szDate[180], Year, Month, Day, Hour, Minute, Second;
		
	getdate(Year, Month, Day);
	gettime(Hour, Minute, Second);
	format(szDate, sizeof(szDate), "%02d/%02d/%d - %02d:%02d:%02d", Day, Month, Year, Hour, Minute, Second);
	
	format(szQuery, sizeof(szQuery), "UPDATE `stuff` SET `MaxPlayers`='%d', `MaxPlayersDate`='%s'",MaxPlayers, szDate);
	mysql_query(SQL, szQuery);
	
	format(MaxPlayersDate, 256, szDate);
	return 1;
}

function Accounts() return ServerAccounts;
function PlayersLoggedDay() {
	new players, szQuery[256];
    format(szQuery, sizeof(szQuery), "SELECT * FROM `users` WHERE `DayLogin` = '1'");
    new Cache: result = mysql_query(SQL, szQuery);
 	players = cache_get_row_count ();
    cache_delete(result);
	return players;
}

function OnPlayerSpawn(playerid)
{
	Freezed[playerid] = 0;
	TurfTime[playerid] = 0;
    SetTimerEx("CheckSpec",500,0,"d",playerid);
   
  	if(TakingLesson[playerid] == 1)
	{
    	TakingLesson[playerid] = 0;
	   	new engine,lights,alarm,bonnet,boot,objective;
		SetVehicleParamsEx(GetPlayerVehicleID(playerid),engine,lights,alarm,0,bonnet,boot,objective);
    	DisablePlayerCheckpoint(playerid);
    	SetVehicleToRespawn(GetPlayerVehicleID(playerid));
    	PlayerTextDrawHide(playerid, InfosTD);
    	if(DMVCar[playerid] != 0) DestroyVehicle(DMVCar[playerid]), DMVCar[playerid] = 0;
    	
	}
	
	if(UsedFly[playerid] == 1) {
		StopFly(playerid);
		UsedFly[playerid] = 0;
		SetPlayerHealthEx(playerid, 100);
	}
	
	if(InShop[playerid] == 1) {
	    new carid = pCarID[playerid];
    	SetCameraBehindPlayer(playerid), SetPlayerInterior(playerid, pInteriorID[playerid]), SetVehiclePos(carid, pPos[playerid][0], pPos[playerid][1], pPos[playerid][2]);
		SetPlayerVirtualWorld(playerid, 0);
		SetVehicleVirtualWorld(carid, 0);
		TextDrawHideForPlayer(playerid, HiddTD[0]);
		TextDrawHideForPlayer(playerid, HiddTD[1]);
		TextDrawHideForPlayer(playerid, HiddTD[2]);
		TextDrawHideForPlayer(playerid, HiddTD[3]);
		TextDrawHideForPlayer(playerid, HiddTD[4]);
		PlayerTextDrawHide(playerid, HiddTDs[0]);
		PlayerTextDrawHide(playerid, HiddTDs[1]);
		PlayerTextDrawHide(playerid, HiddTDs[2]);
		CancelSelectTextDraw(playerid);
		InShop[playerid] = 0;
	}
	if(InDealer[playerid] >= 1) {
		DestroyVehicle(DealerCar[playerid]);
		InDealer[playerid] = 0, DealerCarType[playerid] = -1, DealerCar[playerid] = 0;
		KillTimer(DSTimer[playerid]);
		SendClientMessage(playerid, COLOR_YELLOW, "Testul a fost suspendat deoarece ai abandonat vehiculul.");
		SetPlayerPosEx(playerid, 327.9443, -1512.6609, 36.1366);
		SetPlayerInterior(playerid, 0);
		SetPlayerVirtualWorld(playerid, 0);
		TestingModel[playerid] = 0;
	}

	if(StartedSpray[playerid] == 1 || ClanDuty[playerid] == 1) {
		SendClientMessage(playerid, -1, "Acum, nu mai esti la datoria clanului!");
		GraffitiInfo[StartedSpray2[playerid]][gfAttacked] = 0;
		StartedSpray[playerid] = 0;
		StartedSpray2[playerid] = 0;
		StartedSprayOn[playerid] = 0;
		ClanProces[playerid] = 0;
		ClanDuty[playerid] = 0;
		GraffitiInfo[StartedSprayOn[playerid]][gfAttacked] = 0;
	}

	TextDrawShowForPlayer(playerid, Time);

    SetPlayerHealthEx(playerid, 100);
    SetPlayerArmourEx(playerid, 0);
    SetPlayerWantedLevel(playerid, PlayerInfo[playerid][pWantedLevel]);
    SetPlayerScore(playerid, PlayerInfo[playerid][pLevel]);
	if(!gPlayerAnimLibsPreloaded[playerid])
	{
   		PreloadAnimLib(playerid,"BOMBER");
   		PreloadAnimLib(playerid,"RAPPING");
    	PreloadAnimLib(playerid,"SHOP");
   		PreloadAnimLib(playerid,"BEACH");
   		PreloadAnimLib(playerid,"SMOKING");
    	PreloadAnimLib(playerid,"FOOD");
    	PreloadAnimLib(playerid,"ON_LOOKERS");
    	PreloadAnimLib(playerid,"DEALER");
    	PreloadAnimLib(playerid,"MISC");
    	PreloadAnimLib(playerid,"SWEET");
    	PreloadAnimLib(playerid,"RIOT");
    	PreloadAnimLib(playerid,"PED");
    	PreloadAnimLib(playerid,"POLICE");
		PreloadAnimLib(playerid,"CRACK");
		PreloadAnimLib(playerid,"CARRY");
		PreloadAnimLib(playerid,"COP_AMBIENT");
		PreloadAnimLib(playerid,"PARK");
		PreloadAnimLib(playerid,"INT_HOUSE");
		PreloadAnimLib(playerid,"FOOD");
		gPlayerAnimLibsPreloaded[playerid] = 1;
	}
	if(IsPlayerLogged[playerid] == 0)
	{
    	SendClientMessage(playerid, COLOR_LIGHTRED, "** Trebuie sa te loghezi mai intai **");
    	Kick(playerid);
		return 1;
 	}
 		if(JobWorking[playerid] == 1) {
		JobWorking[playerid] = 0;
		PlayerTextDrawHide(playerid, JobTD);
		if(JobVehicle[playerid] != 0) { DestroyVehicle(JobVehicle[playerid]); JobVehicle[playerid] = 0; }
		if(Trailer[playerid] != 0) { DestroyVehicle(Trailer[playerid]); Trailer[playerid] = 0; }
		PlayerTextDrawHide(playerid, InfosTD);
		DisablePlayerCheckpointEx(playerid);
		CP[playerid] = 0;
		JobVehicle[playerid] = 0;
		DisablePlayerRaceCheckpointEx(playerid);
		RemovePlayerAttachedObject(playerid, 2);
	}
	if(CP[playerid] == 51) {
		SCM(playerid, -1, "Ai pierdut sacul cu faina.");
		CP[playerid] = 0;
		KG[playerid] = 0;
		DisablePlayerCheckpointEx(playerid);
	}
	if(HaveFish[playerid] != 0) {
	    SCM(playerid, -1, "Ai pierdut pestele!");
		HaveFish[playerid] = 0;
		DisablePlayerCheckpointEx(playerid);
	}	
	SetPlayerSpawn(playerid);	
	SetPlayerToTeamColor(playerid);
	playerDeath[playerid] = 0;
	SetPlayerTeam(playerid,4);
	return 1;
}

// LOGS
function Adminlog(string[])
{
	new query[500];
	new y,m,d,h,mi,s;
    getdate(y,m,d);
    gettime(h,mi,s);
	format(query,500,"INSERT INTO log_admin (`log`,`time`) VALUES ('%s','%02d/%02d/%d %02d:%02d:%02d')",string,d,m,y,h,mi,s);
	mysql_query(SQL,query);
	return 1;
}

function Warnlog(ip[],psql,asql,reason[])
{
	new query[500];
	new y,m,d,h,mi,s;
    getdate(y,m,d);
    gettime(h,mi,s);
	format(query,sizeof(query),"INSERT INTO warnlog (`ip`,`player`,`admin`,`reason`,`time`) VALUES ('%s','%d','%d','%s','%02d/%02d/%d %02d:%02d:%02d')",ip,psql,asql,reason,d,m,y,h,mi,s);
	mysql_query(SQL,query);
	return 1;
}

function Banlog(ip[],name1[],name2[],reason[],day)
{
	new query[500];
	new y,m,d,h,mi,s;
    getdate(y,m,d);
    gettime(h,mi,s);
	format(query,sizeof(query),"INSERT INTO banlog (`ip`,`player`,`admin`,`reason`,`day`,`time`) VALUES ('%s','%s','%s','%s','%d','%02d/%02d/%d %02d:%02d:%02d')",ip,name1,name2,reason,day,d,m,y,h,mi,s);
	mysql_query(SQL,query);
	return 1;
}

function Factionlog(factionid,psql,action[])
{
	new query[500];
	new y,m,d,h,mi,s;
    getdate(y,m,d);
    gettime(h,mi,s);
	format(query,sizeof(query),"INSERT INTO factionlog (`factionid`,`player`,`action`,`time`) VALUES ('%d','%d','%s','%02d/%02d/%d %02d:%02d:%02d')",factionid,psql,action,d,m,y,h,mi,s);
	mysql_query(SQL,query);
	return 1;
}

function Jaillog(ip[],psql,asql,reason[],min)
{
	new query[500];
	new y,m,d,h,mi,s;
    getdate(y,m,d);
    gettime(h,mi,s);
	format(query,sizeof(query),"INSERT INTO jaillog (`ip`,`player`,`admin`,`reason`,`min`,`time`) VALUES ('%s','%d','%d','%s','%d','%02d/%02d/%d %02d:%02d:%02d')",ip,psql,asql,reason,min,d,m,y,h,mi,s);
	mysql_query(SQL,query);
	return 1;
}

function Mutelog(psql,asql,reason[],min)
{
	new query[500];
	new y,m,d,h,mi,s;
    getdate(y,m,d);
    gettime(h,mi,s);
	format(query,sizeof(query),"INSERT INTO mutelog (`player`,`admin`,`reason`,`min`,`time`) VALUES ('%d','%d','%s','%d','%02d/%02d/%d %02d:%02d:%02d')",psql,asql,reason,min,d,m,y,h,mi,s);
	mysql_query(SQL,query);
	return 1;
}

function Transferlog(ip1[],ip2[],psql1,psql2,money)
{
	new query[500];
	new y,m,d,h,mi,s;
    getdate(y,m,d);
    gettime(h,mi,s);
	format(query,sizeof(query),"INSERT INTO transferlog (`ip1`,`ip2`,`psql1`,`psql2`,`money`,`time`) VALUES ('%s','%s','%d','%d','%d','%02d/%02d/%d %02d:%02d:%02d')",ip1,ip2,psql1,psql2,money,d,m,y,h,mi,s);
	mysql_query(SQL,query);
	return 1;
}


function LogIP(string[],psql)
{
	new query[500];
	new y,m,d,h,mi,s;
    getdate(y,m,d);
    gettime(h,mi,s);
	format(query,500,"INSERT INTO iplogs (`ip`,`playerid`,`time`) VALUES ('%s','%d','%02d/%02d/%d %02d:%02d:%02d')",string,psql,d,m,y,h,mi,s);
	mysql_query(SQL,query);
	return 1;
}
// OnPlayerEnterRaceCheckpoint
function OnPlayerEnterRaceCheckpoint(playerid)
{
    new engine,lights,alarm,bonnet,boot,objective;
	new ccar = IsPlayerInAnyVehicle(playerid);
	if(CP[playerid] == 99)
	{
	   DisablePlayerCheckpoint(playerid);
	   CP[playerid] = 0;
	}
	else if(CP[playerid] == 100 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 1/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
		DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2,1477.5027,-2192.4202,13.1099,0.0257,-1726.4169,13.1742,4.0);
		CP[playerid] = 101;
	}
	else if(CP[playerid] == 101 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 2/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
		DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 1426.2753,-2285.7217,13.1099,0.0155,-1710.3591,13.5083,4.0);
		CP[playerid] = 102;
	}
	else if(CP[playerid] == 102 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 3/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
		DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 1471.3932,-2374.9048,13.1099,312.0679,-1710.3434,13.1099,4.0);
		CP[playerid] = 103;
	}
	else if(CP[playerid] == 103 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 4/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
		DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 1299.5789,-2376.0574,21.4180,313.5626,-1636.7633,13.1099,4.0);
		CP[playerid] = 104;
	}
	else if(CP[playerid] == 104 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 5/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
		DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 1331.5004,-2389.9285,13.1021,359.7937,-1514.0215,13.1078,4.0);
		CP[playerid] = 105;
	}
	else if(CP[playerid] == 105 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 6/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
		DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 1352.1174,-2634.4885,13.1021,89.9273,-1375.7631,13.1501,4.0);
		CP[playerid] = 106;
	}
	else if(CP[playerid] == 106 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 7/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
		DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 1566.0488,-2684.3884,6.1947,118.9012,-1253.2260,14.4973,4.0);
		CP[playerid] = 107;
	}
	else if(CP[playerid] == 107 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 8/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
		DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 1910.2777,-2685.1375,5.6451,180.3298,-1160.4926,23.4265,4.0);
		CP[playerid] = 108;
	}
	else if(CP[playerid] == 108 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 9/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
		DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 2198.0139,-2498.0686,13.1342,97.8464,-1148.6298,23.3833,4.0);
		CP[playerid] = 109;
	}
	else if(CP[playerid] == 109 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 10/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
		DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 2222.0793,-2614.2983,13.1251,180.0591,-1148.4596,23.3819,4.0);
		CP[playerid] = 110;
    }
	else if(CP[playerid] == 110 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 11/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
		DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 2395.2649,-2666.6353,13.2416,182.1819,-1148.8831,23.3837,4.0);
		CP[playerid] = 111;
	}
	else if(CP[playerid] == 111 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 12/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
		DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 2486.2178,-2557.4619,13.2776,250.3233,-1238.2341,13.2530,4.0);
		CP[playerid] = 112;
	}
	else if(CP[playerid] == 112 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 13/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
	    DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 2645.4409,-2506.4360,13.2193,223.3637,-1360.4055,13.1100,4.0);
		CP[playerid] = 113;
	}
	else if(CP[playerid] == 113 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 14/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
	    DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 2686.6340,-2413.4363,13.1736,185.2352,-1502.7319,13.1119,4.0);
		CP[playerid] = 114;
	}
	else if(CP[playerid] == 114 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 15/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
	    DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 2507.7112,-2302.5012,24.0921,178.5494,-1605.6080,13.1099,4.0);
		CP[playerid] = 115;
	}
	else if(CP[playerid] == 115 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 16/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
	    DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 2356.5754,-2151.3203,19.0713,270.39013,-1763.6598,13.1099,4.0);
		CP[playerid] = 116;
	}
	else if(CP[playerid] == 116 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 17/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
	    DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 2218.7678,-1929.0808,13.0524,270.1115,-1841.5266,13.1099,4.0);
		CP[playerid] = 117;
	}
	else if(CP[playerid] == 117 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 18/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
	    DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 2228.8396,-1663.1765,14.9531,0.1620,-2272.2561,13.3828,4.0);
		CP[playerid] = 118;
	}
	else if(CP[playerid] == 118 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 19/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
	    DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 2334.0164,-1661.4232,13.1525,0.1620,-2272.2561,13.3828,4.0);
		CP[playerid] = 119;
	}
	else if(CP[playerid] == 119 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 20/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
	    DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 2343.8826,-1566.7471,23.5768,0.1620,-2272.2561,13.3828,4.0);
		CP[playerid] = 120;
	}
	else if(CP[playerid] == 120 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 21/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
	    DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 2145.7634,-1527.8839,2.1707,0.1620,-2272.2561,13.3828,4.0);
		CP[playerid] = 121;
	}
	else if(CP[playerid] == 121 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 22/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
	    DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 1833.3511,-1499.4691,4.2763,0.1620,-2272.2561,13.3828,4.0);
		CP[playerid] = 122;
	}
	else if(CP[playerid] == 122 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 23/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
	    DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 1608.3392,-1495.6626,36.3185,0.1620,-2272.2561,13.3828,4.0);
		CP[playerid] = 123;
	}
	else if(CP[playerid] == 123 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 24/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
	    DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 1593.7675,-1691.5853,28.0790,0.1620,-2272.2561,13.3828,4.0);
		CP[playerid] = 124;
	}
	else if(CP[playerid] == 124 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 25/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
	    DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 1647.9081,-1953.9806,23.5759,0.1620,-2272.2561,13.3828,4.0);
		CP[playerid] = 125;
	}
	else if(CP[playerid] == 125 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 26/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
	    DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 1395.4197,-2129.2000,13.1099,0.1620,-2272.2561,13.3828,4.0);
		CP[playerid] = 126;
	}
	else if(CP[playerid] == 126 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 27/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
	    DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 1266.4080,-2243.8420,15.3884,0.1620,-2272.2561,13.3828,4.0);
		CP[playerid] = 127;
	}
	else if(CP[playerid] == 127 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 28/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
	    DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 1499.3708,-2195.9758,13.1022,0.1620,-2272.2561,13.3828,4.0);
		CP[playerid] = 128;
	}
	else if(CP[playerid] == 128 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 29/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
	    DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 2, 1499.3708,-2195.9758,13.1022,0.1620,-2272.2561,13.3828,4.0);
		CP[playerid] = 129;
	}
	else if(CP[playerid] == 129 && ccar)
	{
	    new str[256];
	    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 30/30");
	    PlayerTextDrawSetString(playerid, InfosTD, str);
	    PlayerTextDrawShow(playerid, InfosTD);
	    DisablePlayerRaceCheckpoint(playerid);
		SetPlayerRaceCheckpointEx(playerid, 1, 1610.8354,-2196.8911,13.1021,0.1620,-2272.2561,13.3828,4.0);
		CP[playerid] = 130;
	}
	else if(CP[playerid] == 130 && ccar)
	{
 		DestroyVehicle(DMVCar[playerid]), DMVCar[playerid] = 0;
		DisablePlayerRaceCheckpoint(playerid);
		PlayerInfo[playerid][pCarLic] = 1;
		PlayerInfo[playerid][pCarLicT] = 150;
		GivePlayerCash(playerid, - 1000);
		TakingLesson[playerid] = 0;
		SetVehicleParamsEx(GetPlayerVehicleID(playerid),engine,lights,alarm,0,bonnet,boot,objective);
		new str1[128];
		format(str1,sizeof(str1),"UPDATE users SET `CarLic`='1',`CarLicT`='150' WHERE `ID`='%d'",PlayerInfo[playerid][pSQLID]);
		mysql_query(SQL,str1);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, "Felicitari! Ai trecut testul si ai primit permisul pentru 150 de ore.");
		PlayerTextDrawHide(playerid, InfosTD);
		CP[playerid] = 0;
	}
	PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);	
	if(JobWorking[playerid] == 1 && PlayerInfo[playerid][pShowJob] == 1 && PlayerInfo[playerid][pShowHud] == 0) UpdateJobStats(playerid);  	
    return 1;
}
function InsertLog(playerid, text[], type) {
	new 
		szQuery[1024], szDate[180], Year, Month, Day, Hour, Minute, Second, ip[180];
		
	getdate(Year, Month, Day);
	gettime(Hour, Minute, Second);
	GetPlayerIp(playerid, ip, sizeof(ip));
	format(szDate, sizeof(szDate), "%02d/%02d/%d - %02d:%02d:%02d", Day, Month, Year, Hour, Minute, Second); 
	format(szQuery, sizeof(szQuery), "INSERT INTO `logs` (`Userid`, `Text`, `Date`, `Type`, `IP`) VALUES ('%d', '%s', '%s', '%d', '%s')", PlayerInfo[playerid][pSQLID], text, szDate, type, ip);
	mysql_query(SQL, szQuery);				
	return 1;
}
// OnPlayerEnterCheckpoint
function OnPlayerEnterCheckpoint(playerid)
{
	new string[128];
	if(JobWorking[playerid] == 1) {
	    CheckSeconds(playerid);
	    JobTime[playerid] = GetTickCount();
	}
    
	new Float: Pos[3];
	GetPlayerPos(playerid, Pos[0], Pos[1], Pos[2]);
	if(TaxiCallTime[playerid] > 0 && TaxiAccepted[playerid] < 999)
	{
	    TaxiAccepted[playerid] = 999;
		TaxiCallTime[playerid] = 0;
		DisablePlayerCheckpoint(playerid);
        Accepted[playerid] = -1;
	}
	else if(LicensesCallTime[playerid] > 0 && LicensesAccepted[playerid] < 999)
	{
	    LicensesAccepted[playerid] = 999;
		LicensesCallTime[playerid] = 0;
		DisablePlayerCheckpoint(playerid);
		Accepted[playerid] = -1;
	}
	else if(MedicCallTime[playerid] > 0)
	{
		GameTextForPlayer(playerid, "~w~~h~Ai ajuns la destinatie", 5000, 1);
		MedicCallTime[playerid] = 0;
		DisablePlayerCheckpoint(playerid);
	}
	else if(MechanicCallTime[playerid] > 0)
	{
		GameTextForPlayer(playerid, "~w~~h~Ai ajuns la destinatie", 5000, 1);
		MechanicCallTime[playerid] = 0;
		DisablePlayerCheckpoint(playerid);
	}
	else if(CP[playerid] == 34) // tow car
	{
		if(!IsTrailerAttachedToVehicle(GetPlayerVehicleID(playerid))) return 1;
		DisablePlayerCheckpoint(playerid);
		CP[playerid] = 0;
		new towedcar;
		towedcar = GetVehicleTrailer(GetPlayerVehicleID(playerid));
		SetVehicleToRespawn(towedcar);
		GivePlayerCash(playerid, 5000);
		SCM(playerid,COLOR_WHITE,"{FFFF00}Ai castigat $5,000 for your work.");
		Update(playerid, pCashx);
		PlayerInfo[playerid][pTow] -= 1;
		Update(playerid,pTowx);
		PlayerInfo[playerid][pCommands] ++;
		Update(playerid,pCommandsx);
	}
	else if(CP[playerid] == 43) // disable point
	{
		CP[playerid] = 0;
		targetfind[playerid] = -1;
	    DisablePlayerCheckpoint(playerid);
	}
	else if(CP[playerid] == 69) {
		CP[playerid] = 0;
		DisablePlayerCheckpoint(playerid);
	}
	else
	{
		switch (gPlayerCheckpointStatus[playerid])
		{
			case CHECKPOINT_LOCATE:
		    {
				DisablePlayerCheckpoint(playerid);
				gPlayerCheckpointStatus[playerid] = CHECKPOINT_NONE;
			}
		}
	}
	switch(CP[playerid]) {
		case 1612: {
			if(IsPlayerInAnyVehicle(playerid)) return SCM(playerid, -1, "Coboara din vehicul!");
			DisablePlayerCheckpoint(playerid);
			RemovePlayerAttachedObject(playerid, 2);
			format(szGlobal, sizeof(szGlobal), "Ai terminat robul cu succes! Ai primit $%s.", FormatNumber(BagMoney[playerid]));
			SCM(playerid, COLOR_MONEY, szGlobal);
			GivePlayerCash(playerid, BagMoney[playerid]);
			CP[playerid] = 0;
			Robbery[playerid] = 0;		
		}
		case 1613: {
			DisablePlayerCheckpoint(playerid);
			CP[playerid] = 0;
			format(szGlobal, sizeof(szGlobal), "* Ai terminat jaful si ai primit suma de $%s!", FormatNumber(RobMoney[playerid]));
			GivePlayerCash(playerid, RobMoney[playerid]);
			SCM(playerid, COLOR_MONEY, szGlobal);
		}
			    case 51: {
	        DisablePlayerCheckpointEx(playerid);
	        CP[playerid] = 0;
	        new rand = KG[playerid] * 14 + 82 * GetPlayerSkill(playerid);
	        format(string, sizeof(string), "Felicitari! Ai primit $%s pentru munca depusa.", FormatNumber(rand));
	        SCM(playerid, COLOR_MONEY, string);
	        GivePlayerCash(playerid, rand);
			PlayerInfo[playerid][pFarmerSkill] ++;
			Update(playerid, pFarmerSkillx);
			if(PlayerInfo[playerid][pFarmerSkill] == 50)
			{ SCM(playerid, COLOR_YELLOW, "* Skillul tau la jobul Fermier, este acum 2. Vei primi mai multi bani."); }
			else if(PlayerInfo[playerid][pFarmerSkill] == 100)
			{ SCM(playerid, COLOR_YELLOW, "* Skillul tau la jobul Fermier, este acum 3. Vei primi mai multi bani."); }
			else if(PlayerInfo[playerid][pFarmerSkill] == 200)
			{ SCM(playerid, COLOR_YELLOW, "* Skillul tau la jobul Fermier, este acum 4. Vei primi mai multi bani."); }
			else if(PlayerInfo[playerid][pFarmerSkill] == 400)
			{ SCM(playerid, COLOR_YELLOW, "* Skillul tau la jobul Fermier, este acum 5. Vei primi mai multi bani."); }
		    DestroyVehicle(JobVehicle[playerid]);
			JobVehicle[playerid] = 0, JobWorking[playerid] = 0;
			PlayerTextDrawHide(playerid, JobTD);
			KG[playerid] = 0;
			for(new m; m < 2; m++) {
				if(PlayerInfo[playerid][pDailyMission][m] == 4) CheckMission(playerid, m);
			}			
	    }
		case 52: {
		   if(!IsTrailerAttachedToVehicle(GetPlayerVehicleID(playerid))) return SCM(playerid, COLOR_GREY, "Nu ai atasata remorca de tir.");
			DestroyVehicle(GetVehicleTrailer(GetPlayerVehicleID(playerid)));
			Trailer[playerid] = 0;
			DisablePlayerCheckpointEx(playerid);
			new szDialog2[1024];				
			strcat(szDialog2, "Destination\tCity\tDistance\tSkill\n");
			strcat(szDialog2, "Aeroport\tLos Santos\t%d\t1\n");
			strcat(szDialog2, "Odean Docks\tLos Santos\t%d\t1\n");
			strcat(szDialog2, "Burger Shot\tLos Santos\t%d\t1\n");
			strcat(szDialog2, "Aeroport\tLas Venturas\t%d\t1\n");
			strcat(szDialog2, "Rent\tLos Santos\t%d\t1\n");
			strcat(szDialog2, "Baza Militara\tLas Venturas\t%d\t1\n");
			strcat(szDialog2, "Depozit Amazon\tLas Venturas\t%d\t1\n");
			strcat(szDialog2, "Linden Side \tLas Venturas\t%d\t1\n");
			strcat(szDialog2, "Aeroport\tSan Fierro\t%d\t1\n");
			strcat(szDialog2, "Docks\tSan Fierro\t%d\t1\n");
			strcat(szDialog2, "Vest\tSan Fierro\t%d\t1\n");
			strcat(szDialog2, "Angel Pine\tSan Fierro\t%d\t1\n");
			ShowPlayerDialog(playerid, DIALOG_TRUCKER, DIALOG_STYLE_TABLIST_HEADERS, "Choose destination", szDialog2, "Select", "Cancel");	
				
			PlayerInfo[playerid][pTruckerSkill] ++;
			Update(playerid, pTruckerSkillx);
			GiveJobSalary(playerid);
		}	
		case 60: {
			PlayerInfo[playerid][pJackerSkill] ++;
			Update(playerid, pJackerSkillx);
			GiveJobSalary(playerid);
			DisablePlayerCheckpointEx(playerid);
			CP[playerid] = 0;
			JobWorking[playerid] = 0;			
			SetVehicleToRespawn(GetPlayerVehicleID(playerid));	
			JobDeelay[playerid][PlayerInfo[playerid][pJob]] = 180;	
			for(new m; m < 2; m++) {
				if(PlayerInfo[playerid][pDailyMission][m] == 5) CheckMission(playerid, m);
			}			
		}
		case 373: {
			format(string, sizeof(string), "Du-te la un magazin 24/7 pentru a vinde cele %d kilograme de peste.", GetPlayerSkill(playerid)*15);
			SCM(playerid, COLOR_YELLOW, string);		
		    DestroyVehicle(JobVehicle[playerid]);
			JobVehicle[playerid] = 0, JobWorking[playerid] = 0;	
			SetPlayerPosEx(playerid, 842.0929,-2131.5725,1.9931);
			DisablePlayerCheckpointEx(playerid);
			CP[playerid] = 0;
		}
		case 56: {
			DisablePlayerCheckpointEx(playerid);
			CP[playerid] = 0;
			new salar = Farming[playerid]*14+82*GetPlayerSkill(playerid);
			if(PlayerInfo[playerid][pPremiumAccount] == 1) salar += salar/2;
			format(string, sizeof(string), "%s a primit $%s pentru munca efectuata la job-ul %s.", GetName(playerid), FormatNumber(salar), JobInfo[PlayerInfo[playerid][pJob]][jName]);
			InsertLog(playerid, string, LOG_MONEY);			
		    format(string, sizeof(string), "(+) Ai primit $%s pentru munca facuta de catre tine.", FormatNumber(salar));
			SCM(playerid, COLOR_MONEY, string);
			format(string, sizeof(string), "~g~+$%s", FormatNumber(salar));
			GameTextForPlayer(playerid, string, 1000, 1);
			GivePlayerCash(playerid, salar);
			GunoiKG[playerid] = 0;
			Farming[playerid] = 0;
			PlayerInfo[playerid][pFarmerSkill] ++;
			Update(playerid, pFarmerSkillx);
		    DestroyVehicle(JobVehicle[playerid]);
			JobVehicle[playerid] = 0, JobWorking[playerid] = 0;
			PlayerTextDrawHide(playerid, JobTD);
		}
		case 57: {
			PlayerTextDrawSetString(playerid, InfosTD, "Loading...");
			SetTimerEx("HideTextdraw", 6500, 0, "%d", playerid);
			PlayerTextDrawShow(playerid, InfosTD);	
			TogglePlayerControllable(playerid, 0);
			SetTimerEx("UnFreezeStation2", 7000, false, "i", playerid);
			DisablePlayerCheckpointEx(playerid);
			StartingWork[playerid] = 0;
			CurseFacute[playerid] = 0;
			MoneyEarned[playerid] = 0;	
			WorkingTime[playerid] = 0;
		}
		case 58: {
			if(IsPlayerInAnyVehicle(playerid)) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu poti livra coletul dintr-un vehicul!");
			if(GetPVarInt(playerid, "InHand") == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu ai coletul! Pentru a-l lua, du-te in spatele vehiculului si apasa Y.");
			SetPVarInt(playerid, "InHand", 0);
			new j = random(housess)+1;
			if(j == 0) j = 1;
			SetPlayerCheckpointEx(playerid, HouseInfo[j][hEntrancex],HouseInfo[j][hEntrancey],HouseInfo[j][hEntrancez], 7.0);
			CP[playerid] = 58;
			format(string, sizeof(string), "Du-te la punctul ~r~~h~rosu~w~~h~ de pe mapa pentru a livra coletul.~n~Pentru a lua coletul, apasa tasta Y in spatele vehiculului!~n~Distanta: ~y~%0.1fm.", GetPlayerDistanceFromPoint(playerid, HouseInfo[j][hEntrancex],HouseInfo[j][hEntrancey],HouseInfo[j][hEntrancez]));
			PlayerTextDrawSetString(playerid, InfosTD, string);
			SetTimerEx("HideTextdraw", 5000, 0, "%d", playerid);
			PlayerTextDrawShow(playerid, InfosTD);	
			PlayerInfo[playerid][pCurierSkill] ++;
			Update(playerid, pCurierSkillx);
			GiveJobSalary(playerid);
			RemovePlayerAttachedObject(playerid, 6);
			SetPlayerSpecialAction(playerid, 0);
			ClearAnimations(playerid);			
		}
		case 155: {
			new j = random(housess)+1;
			if(j == 0) j = 1;
			SetPlayerCheckpointEx(playerid, HouseInfo[j][hEntrancex],HouseInfo[j][hEntrancey],HouseInfo[j][hEntrancez], 7.0);
			format(string, sizeof(string), "Du-te la punctul ~r~~h~rosu~w~~h~ de pe mapa pentru a livra pizza.~n~Distanta: ~y~%0.1fm.", GetPlayerDistanceFromPoint(playerid, HouseInfo[j][hEntrancex],HouseInfo[j][hEntrancey],HouseInfo[j][hEntrancez]));
			PlayerTextDrawSetString(playerid, InfosTD, string);
			SetTimerEx("HideTextdraw", 5000, 0, "%d", playerid);
			PlayerTextDrawShow(playerid, InfosTD);
			PlayerInfo[playerid][pPizzaSkill] ++;
			Update(playerid, pPizzaSkillx);
			GiveJobSalary(playerid);
			for(new m; m < 2; m++) {
				if(PlayerInfo[playerid][pDailyMission][m] == 1) CheckMission(playerid, m);
			}			
		}
		case 156: {		
			DisablePlayerCheckpointEx(playerid);
			CP[playerid] = 0;
		    DestroyVehicle(JobVehicle[playerid]);
			JobVehicle[playerid] = 0, JobWorking[playerid] = 0;		
			PlayerInfo[playerid][pMatSkill] ++;
			UpdateVar(playerid, "MatSkill", PlayerInfo[playerid][pMatSkill]);
			GiveJobSalary(playerid);
			for(new m; m < 2; m++) {
				if(PlayerInfo[playerid][pDailyMission][m] == 3) CheckMission(playerid, m);
			}			
		}
		
	}
	PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);	
	if(JobWorking[playerid] == 1 && PlayerInfo[playerid][pShowJob] == 1 && PlayerInfo[playerid][pShowHud] == 0) UpdateJobStats(playerid);
	CheckSeconds(playerid);
	JobTime[playerid] = GetTickCount();
	return 1;
}


function OnPlayerSelectedMenuRow(playerid, row)
{
	return 1;
}

function OnPlayerExitedMenu(playerid)
{
	new Menu:CurrentMenu = GetPlayerMenu(playerid);
	if(!IsValidMenu(CurrentMenu)) return 1;
	ShowMenuForPlayer(CurrentMenu, playerid);
	TogglePlayerControllable(playerid,1);
	return 1;
}

function SetAllPlayerCheckpoint(Float:allx, Float:ally, Float:allz, Float:radi, num)
{
	for(new i = 0; i < MAX_PLAYERS; i++)
	{
		if(IsPlayerConnected(i))
		{
			SetPlayerCheckpointEx(i,allx,ally,allz, radi);
			if (num != 255)
			{
				gPlayerCheckpointStatus[i] = num;
			}
		}
	}
	return 1;
}
function OnPlayerEnterVehicle(playerid, vehicleid, ispassenger)
{
	if(!ispassenger) {
		if(ServerVehicles[vehicleid][vID] != 0) {
		    if(ServerVehicles[vehicleid][vFaction] != PlayerInfo[playerid][pMember] && ServerVehicles[vehicleid][vFaction] != 0) {
	            format(szGlobal, sizeof(szGlobal), "Nu faci parte din %s.", NumeFactiune(ServerVehicles[vehicleid][vFaction]));
				SCM(playerid, COLOR_GREY, szGlobal);
				RemovePlayerFromVehicle(playerid);
				ClearAnimations(playerid);
			    return 1;
		    }
		    else {
		        if(ServerVehicles[vehicleid][vRank] > PlayerInfo[playerid][pRank]) {
		            format(szGlobal, sizeof(szGlobal), "Ai nevoie de rank %d pentru a conduce acest vehicul.", ServerVehicles[vehicleid][vRank]);
					SCM(playerid, COLOR_GREY, szGlobal);
			        RemovePlayerFromVehicle(playerid);
			        ClearAnimations(playerid);
			        return 1;
			    }
		    }
		}
	}	
	return 1;
}
function LoadSVehicles() {
	new Cache: db = mysql_query (SQL, "SELECT * FROM `svehicles` ORDER BY `svehicles`.`vID` ASC");
	new x, servervehs = 0, result[256];
 	for (new i, j = cache_get_row_count (); i != j; ++i) {
	    servervehs ++;
       	cache_get_field_content(i, "vID", result); 				x = strval(result);
       	ServerVehicles[x][vID] = x;
       	cache_get_field_content(i, "vModel", result); 			ServerVehicles[x][vModel] = strval(result);
     	cache_get_field_content(i, "LocationX", result); 		ServerVehicles[x][vLocation][0] = floatstr(result);
      	cache_get_field_content(i, "LocationY", result); 		ServerVehicles[x][vLocation][1] = floatstr(result);
       	cache_get_field_content(i, "LocationZ", result); 		ServerVehicles[x][vLocation][2] = floatstr(result);
       	cache_get_field_content(i, "Angle", result); 			ServerVehicles[x][vAngle] = floatstr(result);
       	cache_get_field_content(i, "Color1", result); 			ServerVehicles[x][vColor][0] = strval(result);
      	cache_get_field_content(i, "Color2", result); 			ServerVehicles[x][vColor][1] = strval(result);
     	cache_get_field_content(i, "Faction", result); 			ServerVehicles[x][vFaction] = strval(result);
	  	cache_get_field_content(i, "Rank", result); 			ServerVehicles[x][vRank] = strval(result);
		cache_get_field_content(i, "Virtual", result); 			ServerVehicles[x][vVirtual] = strval(result);

		if(ServerVehicles[x][vModel] >= 400 && ServerVehicles[x][vModel] <= 611) {
			ServerVehicles[x][vSpawned] = CreateVehicleEx(ServerVehicles[x][vModel], ServerVehicles[x][vLocation][0], ServerVehicles[x][vLocation][1], ServerVehicles[x][vLocation][2], ServerVehicles[x][vAngle], ServerVehicles[x][vColor][0], ServerVehicles[x][vColor][1], -1);
			new idd = ServerVehicles[x][vSpawned];
			SetVehicleVirtualWorld(idd, ServerVehicles[idd][vVirtual]);
			if(ServerVehicles[idd][vFaction] != 0) {
				if(ServerVehicles[idd][vModel] == 411) {
				    if(ServerVehicles[idd][vFaction] == 1 || ServerVehicles[idd][vFaction] == 15 || ServerVehicles[idd][vFaction] == 25) {
						new policecar = CreateObject(19327, 1534.2373, -1643.2886, 5.9373, -87.6999, 90.4001, -87.1805);
						SetObjectMaterialText(policecar, "POLICE", 0, 50, "Arial", 25, 1, -16777216, 0, 1);
						new lspdcar = CreateObject(19419,0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000);
						AttachObjectToVehicle(policecar, idd, 0.0, -1.9, 0.3, 270.0, 0.0, 0.0);
						AttachObjectToVehicle(lspdcar, idd, 0.0646, 0.1661, 0.6957, 0.0000, 0.0000, 0.0000);
					}
				}
				if(ServerVehicles[idd][vModel] == 560) {
					if(ServerVehicles[idd][vFaction] == 13 || ServerVehicles[idd][vFaction] == 16 || ServerVehicles[idd][vFaction] == 17) {
						new taiddiobj = CreateObject(19308, 0.00000, 0.00000, 0.00000,0.00000, 0.00000, 0.00000);
						AttachObjectToVehicle(taiddiobj, idd, -0.00930, -0.23880, 0.92300,0.00000, 0.00000, 0.00000);
					}
				}
				if(ServerVehicles[idd][vModel] == 541) {
					if(ServerVehicles[idd][vFaction] == 2) {
						new object1 = CreateObject(18646, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
						new object2 = CreateObject(18646, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
						AttachObjectToVehicle(object1, idd, 0.375000,0.524999,0.375000,0.000000,0.000000,0.000000);
						AttachObjectToVehicle(object2, idd, 0.375000,0.524999,0.375000,0.000000,0.000000,0.000000);
					}
				}
				if(ServerVehicles[idd][vModel] == 525) {
					new object1 = CreateObject(19294, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
					new object2 = CreateObject(19294, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
					AttachObjectToVehicle(object1, idd, -0.600000,-0.485000,1.450000,0.000000,0.000000,0.000000);
					AttachObjectToVehicle(object2, idd, 0.600000,-0.485000,1.450000,0.000000,0.000000,0.000000);
				}
			}

			new str[64];
			if(ServerVehicles[idd][vFaction] != 0) format(str, 64, "F%d %d", ServerVehicles[idd][vFaction], idd);
			else format(str, sizeof(str), "RO-0%d", ServerVehicles[x][vSpawned]);
			SetVehicleNumberPlate(idd, str);
		}
	}
	printf("- Vehicles: %d loaded", servervehs);
	cache_delete(db);
	return 1;
}
function IsACopCar(carid) {
	if(ServerVehicles[carid][vFaction] == 1) return 1;
	if(ServerVehicles[carid][vFaction] == 2) return 1;
	if(ServerVehicles[carid][vFaction] == 3) return 1;
	if(ServerVehicles[carid][vFaction] == 15) return 1;
	if(ServerVehicles[carid][vFaction] == 25) return 1;
	return 0;
}

function SetCheckpoint(playerid) {
	new rand = random(2);
	switch(rand) {
	    case 0: SetPlayerCheckpointEx(playerid, 1907.9275, 2427.6040, 11.3469, 5.0);
	    case 1: SetPlayerCheckpointEx(playerid, 1087.9221, 1340.5326, 10.9512, 5.0);
	    case 2: SetPlayerCheckpointEx(playerid, 1663.7466, 710.6304, 10.8749, 5.0);
	}
	CP[playerid] = 60;
	return 1;
}

function SetPlayerCheckpointEx(playerid, Float:x, Float:y, Float:z, Float:size) {
	SetPlayerCheckpoint(playerid, x, y, z, size);
	CheckpointPos[playerid][0] = x;
	CheckpointPos[playerid][1] = y;
	CheckpointPos[playerid][2] = z;
	return 1;
}

function SetPlayerRaceCheckpointEx(playerid, type, Float:x, Float:y, Float:z, Float:nextx, Float:nexty, Float:nextz, Float:size) {
	SetPlayerRaceCheckpoint(playerid, type, Float:x, Float:y, Float:z, Float:nextx, Float:nexty, Float:nextz, Float:size);
	CheckpointPos[playerid][0] = x;
	CheckpointPos[playerid][1] = y;
	CheckpointPos[playerid][2] = z;
	return 1;
}
function SendUserMessage(color, text[], userid) {
	foreach(Player, i) {
		if(IsPlayerConnected(i) && PlayerInfo[i][pSQLID] == userid) SCM(i, color, text);
	}
	return 1;
}
function OnPlayerStateChange(playerid, newstate, oldstate)
{
	new vehicleid = GetPlayerVehicleID(playerid), result;
	if(newstate == PLAYER_STATE_DRIVER) {
		if(ServerVehicles[vehicleid][vID] != 0) {
		    if(ServerVehicles[vehicleid][vFaction] != PlayerInfo[playerid][pMember] && ServerVehicles[vehicleid][vFaction] != 0) {
	            format(szGlobal, sizeof(szGlobal), "Nu faci parte din %s.", NumeFactiune(ServerVehicles[vehicleid][vFaction]));
				SCM(playerid, COLOR_GREY, szGlobal);
				RemovePlayerFromVehicle(playerid);
		    }
		    else {
		        if(ServerVehicles[vehicleid][vRank] > PlayerInfo[playerid][pRank]) {
		            format(szGlobal, sizeof(szGlobal), "Ai nevoie de rank %d pentru a conduce acest vehicul.", ServerVehicles[vehicleid][vRank]);
					SCM(playerid, COLOR_GREY, szGlobal);
			        RemovePlayerFromVehicle(playerid);
			    }
		    }
		}
		if(JobWorking[playerid] == 1 && JobVehicle[playerid] == GetPlayerVehicleID(playerid)) JobLeftTime[playerid] = 0;
		new newcar = GetPlayerVehicleID(playerid);
		switch(CarRadio[newcar])
		{
            case 0: StopAudioStreamForPlayer(playerid), PlayerRadio[playerid] = 0;
			case 1: PlayAudioStreamForPlayer(playerid, "http://live.radiotaraf.com:8181"), PlayerRadio[playerid] = 1;
			case 2: PlayAudioStreamForPlayer(playerid, "http://radiofunky.ro/live.pls"), PlayerRadio[playerid] = 2;
			case 3: PlayAudioStreamForPlayer(playerid, "http://live.radiogangsta.ro:8800"), PlayerRadio[playerid] = 3;
			case 4: PlayAudioStreamForPlayer(playerid, "http://dance.radiogangsta.ro:8800"), PlayerRadio[playerid] = 4;
			case 5: PlayAudioStreamForPlayer(playerid, "http://rbandit.dyndns.tv:8000"), PlayerRadio[playerid] = 5;
			case 6: PlayAudioStreamForPlayer(playerid, "http://live.radiohot.ro:8000"), PlayerRadio[playerid] = 6;
			case 7: PlayAudioStreamForPlayer(playerid, "http://www.radiotequila.ro/hiphop.m3u"), PlayerRadio[playerid] = 7;
			case 8: PlayAudioStreamForPlayer(playerid, "http://80.86.106.136/listen.pls"), PlayerRadio[playerid] = 8;
			case 9: PlayAudioStreamForPlayer(playerid, "http://stream.radiozu.ro:8020"), PlayerRadio[playerid] = 9;
			case 10: PlayAudioStreamForPlayer(playerid, "http://nextgen.go.ro:8012"), PlayerRadio[playerid] = 10;
			case 11: PlayAudioStreamForPlayer(playerid, "http://stream.profm.ro:8012/profm.mp3"), PlayerRadio[playerid] = 11;
			case 12: PlayAudioStreamForPlayer(playerid, "http://live.radioclubmix.ro:9999"), PlayerRadio[playerid] = 12;
			case 13: PlayAudioStreamForPlayer(playerid, "http://livemp3.radiopopular.ro:7777"), PlayerRadio[playerid] = 13;
		}
		new carid = FindSpawnID(vehicleid);
		new string[256];
		if(JobWorking[playerid] == 1 && PlayerInfo[playerid][pJob] == 4 && CP[playerid] == 0) {
			new x = GetPlayerSkill(playerid), newcar = GetPlayerVehicleID(playerid);
			if(x == 1 && CarInfo[carid][Spawned] == 0 && !IsAFLYCar(newcar) && !IsABOATCar(newcar)) {
			    SetCheckpoint(playerid);
				PlayerTextDrawSetString(playerid, InfosTD, "~y~Car Jacker~w~~h~~n~Du-te la checkpoint pentru a primii banii!");
				PlayerTextDrawShow(playerid, InfosTD);
				SetTimerEx("HideTextdraw", 5000, 0, "%d", playerid);
				result = 0;
			}
			else if(x == 2 && CarInfo[carid][Spawned] != 0 && !IsAFLYCar(newcar) && !IsABOATCar(newcar)) {
				if(CarInfo[carid][Userid] == PlayerInfo[playerid][pSQLID]) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu iti poti fura propria masina!");
			    else {
					SetCheckpoint(playerid);
					PlayerTextDrawSetString(playerid, InfosTD, "~y~Car Jacker~w~~h~~n~Du-te la checkpoint pentru a primii banii!");
					PlayerTextDrawShow(playerid, InfosTD);
					SetTimerEx("HideTextdraw", 5000, 0, "%d", playerid);
					result = 1;
					format(string, sizeof(string), "%s (%d) stole your personal car.", GetName(playerid), playerid);
					SendUserMessage(COLOR_LIGHTBLUE, string, CarInfo[carid][Userid]);
				}	
			}
			else if(x == 3 && IsAGangCar(newcar)) {
			    SetCheckpoint(playerid);
				PlayerTextDrawSetString(playerid, InfosTD, "~y~Car Jacker~w~~h~~n~Du-te la checkpoint pentru a primii banii!");
				PlayerTextDrawShow(playerid, InfosTD);
				SetTimerEx("HideTextdraw", 5000, 0, "%d", playerid);
				result = 1;
				format(string, sizeof(string), "%s (%d) stole a faction vehicle.", GetName(playerid), playerid);
				SendFactionMessage(4, COLOR_LIGHTBLUE, string);
				SendFactionMessage(5, COLOR_LIGHTBLUE, string);
				SendFactionMessage(6, COLOR_LIGHTBLUE, string);
				SendFactionMessage(10, COLOR_LIGHTBLUE, string);				
			}
			else if(x == 4) {
			    SetCheckpoint(playerid);
				PlayerTextDrawSetString(playerid, InfosTD, "~y~Car Jacker~w~~h~~n~Du-te la checkpoint pentru a primii banii!");
				SetTimerEx("HideTextdraw", 5000, 0, "%d", playerid);
				PlayerTextDrawShow(playerid, InfosTD);
				result = 1;
				format(string, sizeof(string), "%s (%d) stole your personal car.", GetName(playerid), playerid);
				SendUserMessage(COLOR_LIGHTBLUE, string, CarInfo[carid][Userid]);				
			}
			else if(x == 5 && Copcar2(newcar)) {
			    SetCheckpoint(playerid);
				PlayerTextDrawSetString(playerid, InfosTD, "~y~Car Jacker~w~~h~~n~Du-te la checkpoint pentru a primii banii!");
				PlayerTextDrawShow(playerid, InfosTD);
				SetTimerEx("HideTextdraw", 5000, 0, "%d", playerid);
				result = 1;
				PlayerInfo[playerid][pWantedLevel] += 3;
				SetPlayerWantedLevel(playerid, PlayerInfo[playerid][pWantedLevel]);
				SetPlayerCriminal(playerid,255, "jefuire vehicul politie");
				WantedTime[playerid] = 0;
				Update(playerid,pWantedLevelx);
				ShowWanted[playerid] = 1;	

				format(string, sizeof(string), "%s (%d) stole a faction vehicle.", GetName(playerid), playerid);
				SendFactionMessage(1, COLOR_LIGHTBLUE, string);
				SendFactionMessage(2, COLOR_LIGHTBLUE, string);
				SendFactionMessage(3, COLOR_LIGHTBLUE, string);
			}
		}

		new carid = FindSpawnID(vehicleid);
		if(CarInfo[carid][Userid] == PlayerInfo[playerid][pSQLID]) {
	 		SendClientMessage(playerid, COLOR_WHITE, "Acest vehicul iti apartine. Scrie /lock sau apasa N pentru a il incuia.");
		}
		else if(CarInfo[carid][cID] != -2 && carid != 0) {
			format(szGlobal, sizeof(szGlobal), "* Vehicul %s detinut de %s.", aVehicleNames[CarInfo[carid][cModel]-400],CarInfo[carid][cOwner]);
			SendClientMessage(playerid, COLOR_WHITE, szGlobal);
		}
		if(CarInfo[carid][Spawned] == vehicleid && vehicleid != 0) DespawnCar[playerid][0] = 1540;
		else if(CarInfo[carid][Spawned] == vehicleid && vehicleid != 0) DespawnCar[playerid][1] = 1540;
		else if(CarInfo[carid][Spawned] == vehicleid && vehicleid != 0) DespawnCar[playerid][2] = 1540;
		else if(CarInfo[carid][Spawned] == vehicleid && vehicleid != 0) DespawnCar[playerid][3] = 1540;
		else if(CarInfo[carid][Spawned] == vehicleid && vehicleid != 0) DespawnCar[playerid][4] = 1540;

	    if(!IsABoat(newcar))
	    {
			PlayerEnterTime[playerid] = GetTickCount();
		}
		TelePos[playerid][0] = 0.0;
		TelePos[playerid][1] = 0.0;
		new engine,lights,alarm,doors,bonnet,boot,objective;
	    if(vehEngine[newcar] == 0)
	    {
			GetVehicleParamsEx(newcar,engine,lights,alarm,doors,bonnet,boot,objective);
		    SetVehicleParamsEx(newcar,VEHICLE_PARAMS_OFF,lights,alarm,doors,bonnet,boot,objective);
		}
		else if(vehEngine[newcar] == 1)
		{
			GetVehicleParamsEx(newcar,engine,lights,alarm,doors,bonnet,boot,objective);
			SetVehicleParamsEx(newcar,VEHICLE_PARAMS_ON,lights,alarm,doors,bonnet,boot,objective);
		}
		if(Gas[newcar] == 0)
		{
		    SCM(playerid,COLOR_GREY,"Acest vehicul nu are benzina, vei fi scos afara din el in 5 secunde.");
	        SetTimerEx("RemoveFromCar",5000,0,"d",playerid);
	        NoFuel[playerid] = 1;
		}

		if(IsABoat(newcar))
		{
		    if(PlayerInfo[playerid][pBoatLic] < 1 && InDealer[playerid] == 0)
			{
                if(TakingLesson[playerid] == 2) { }
                else {
			    SendClientMessage(playerid,COLOR_GREY, "Nu ai licenta de barca.");
			    RemovePlayerFromVehicleEx(playerid);
			    TogglePlayerControllable(playerid, 1); }
			}
		}
		else if(IsAPlane(newcar))
		{
		    if(PlayerInfo[playerid][pFlyLic] < 1 && InDealer[playerid] == 0)
			{
			    if(TakingLesson[playerid] == 2) { }
			    else {
			    SendClientMessage(playerid, COLOR_GREY, "Nu ai licenta de zbor.");
			    RemovePlayerFromVehicleEx(playerid);
				TogglePlayerControllable(playerid, 1); }
			}
		}
		else
		{
			if(PlayerInfo[playerid][pCarLic] < 1 && InDealer[playerid] == 0)
			{
			    if(IsABike(newcar) || DMVCar[playerid] == newcar) { }
			    else
			    {
					if(TakingLesson[playerid] == 1) { }
					else if(InDealer[playerid] == 0) {
				 	SendClientMessage(playerid,COLOR_GREY, "Nu ai licenta de condus.");
                    RemovePlayerFromVehicleEx(playerid);
                    ClearAnimations(playerid);
                    TogglePlayerControllable(playerid, 1);
					SetTimerEx("UnFreezeStation", 500, 0, "i", playerid);
				  }
				}
			}
		}
		if(newcar == scooter[1] || newcar == scooter[2] || newcar == scooter[3] || newcar == scooter[4] || newcar == scooter[5] || newcar == scooter[6] || newcar == scooter[7] || newcar == scooter[8] || newcar == scooter[9] || newcar == scooter[10]) {
			foreach(Player, i) {
				if(IsPlayerConnected(i) && HireCar[i] == vehicleid && i != playerid) HireCar[i] = -1, SCM(i, -1, "Vehiculul inchiriat a fost luat de alt jucator!");
			}
			HireCar[playerid] = vehicleid;
			RentPrice[playerid] =0;
			PlayerTextDrawSetString(playerid, RentTD, "  Rent car: ~g~$0");
			PlayerTextDrawShow(playerid, RentTD);
		}
		else if(newcar == rentls[1] || newcar == rentls[2] || newcar == rentls[3] || newcar == rentls[4] || newcar == rentls[5] || newcar == rentls[6]  || newcar == rentls[7] || newcar == rentls[8] || newcar == rentls[9]
		|| newcar == rentls[10] || newcar == rentls[11] || newcar == rentls[12] || newcar == rentls[13] || newcar == rentls[14] || newcar == rentls[15])
		{
			foreach(Player, i) {
				if(IsPlayerConnected(i) && HireCar[i] == vehicleid && i != playerid) HireCar[i] = -1, SCM(i, -1, "Vehiculul inchiriat a fost luat de alt jucator!");
			}
			HireCar[playerid] = vehicleid;
			RentPrice[playerid] =0;
			PlayerTextDrawSetString(playerid, RentTD, "  Rent car: ~g~$0");
			PlayerTextDrawShow(playerid, RentTD);
		}
		if(IsABike(newcar))
		{
            TogglePlayerControllable(playerid, 1);
            vehEngine[vehicleid] = 1;
            GetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,bonnet,boot,objective);
		    SetVehicleParamsEx(vehicleid,VEHICLE_PARAMS_ON,lights,alarm,doors,bonnet,boot,objective);
		}

        if(DMVCar[playerid] == newcar)
		{
		    if(TakingLesson[playerid] == 1)
		    {
                TakingLesson[playerid] = 1;
			    SendClientMessage(playerid, COLOR_BZYELLOW, "* Urmareste toate checkpoint-urile.Daca parasesti vehiculul pici testul.");
			    CP[playerid] = 100;
			    SetPlayerRaceCheckpointEx(playerid, 2, 1557.4294,-2192.1599,13.0220, -2000.3077,587.9645,34.7460,4.0);
      		}
      		else
			{
				RemovePlayerFromVehicleEx(playerid);
			}
		}
		gLastCar[playerid] = newcar;
		gLastDriver[newcar] = playerid;
	}
	if(newstate == PLAYER_STATE_SPAWNED)
	{
		new Float: lwx, Float:lwy, Float:lwz;
		GetPlayerPos(playerid, lwx, lwy, lwz);
		if((lwz > 530.0 && PlayerInfo[playerid][pInt] == 0) || PlayerToPoint(1000.0, playerid, -1041.9,-1868.4,79.1)) //the highest land point in sa = 526.8
		{
			SetPlayerSpawn(playerid);
		}
		if(WantedPoints[playerid] > 0)
		{
		    PlayerInfo[playerid][pWantedDeaths] += 1;
		}
		if(PlayerInfo[playerid][pPremiumAccount] >= 1)
		{
		    SetPlayerHealthEx(playerid, 100.0);
		}
		TelePos[playerid][0] = 0.0;
		TelePos[playerid][1] = 0.0;
		gPlayerSpawned[playerid] = 1;
		SafeTime[playerid] = 60;
	}
	if(newstate == PLAYER_STATE_ONFOOT)
	{
		RentPrice[playerid] = 0;
		PlayerTextDrawHide(playerid, Speedo);
		PlayerTextDrawHide(playerid, RentTD);
	  	if(TakingLesson[playerid] == 1)
		{
	    	TakingLesson[playerid] = 0;
		   	new engine,lights,alarm,bonnet,boot,objective;
			SetVehicleParamsEx(GetPlayerVehicleID(playerid),engine,lights,alarm,0,bonnet,boot,objective);
	    	DisablePlayerCheckpoint(playerid);
	    	SetVehicleToRespawn(GetPlayerVehicleID(playerid));
	    	PlayerTextDrawHide(playerid, InfosTD);
			CP[playerid] = 0;
			if(DMVCar[playerid] != 0) DestroyVehicle(DMVCar[playerid]), DMVCar[playerid] = 0;
		}
	    if(TransportDuty[playerid] > 0)
		{
		    if(TransportDuty[playerid] == 1)
		    {
		        TaxiDrivers -= 1;
		    }
		    TransportDuty[playerid] = 0;
			format(szGlobal, sizeof(szGlobal), "* Nu mai esti la datorie si ai castigat $%s.", FormatNumber(TransportMoney[playerid]));
			SendClientMessage(playerid, COLOR_LIGHTBLUE, szGlobal);
			GivePlayerCash(playerid, TransportMoney[playerid]);
			ConsumingMoney[playerid] = 1; TransportValue[playerid] = 0; TransportMoney[playerid] = 0;
	    	foreach(Player, i)
			{
				if(TaxiDriver[i] == playerid)
				{
					TaxiDriver[i] = -1;
					TaxiDist[i] = 0.0; TransportMoney[i] = 0;
					for(new j = 0; j <= 2; j++) PlayerTextDrawHide(i, FareTD[j]);
				}
			}
			TaxiDist[playerid] = 0.0;
			for(new j = 0; j <= 2; j++) PlayerTextDrawHide(playerid, FareTD[j]);
		}
		if(TransportCost[playerid] > 0 && TransportDriver[playerid] < 999)
		{
		    if(IsPlayerConnected(TransportDriver[playerid]))
			{
				if(TaxiDist[playerid] > 1.0) {
					PlayerInfo[TransportDriver[playerid]][pCommands] ++;
					Update(TransportDriver[playerid],pCommandsx);
				}
				TransportCost[playerid] = 0;
				TransportDriver[playerid] = 999;
				TaxiDist[playerid] = 0.0;
				TaxiDriver[playerid] = -1;
				TransportMoney[playerid] = 0;
				Update(playerid, pCashx);
				for(new j = 0; j <= 2; j++) PlayerTextDrawHide(playerid, FareTD[j]);
			}
		}
		TelePos[playerid][0] = 0.0;
		TelePos[playerid][1] = 0.0;
	}
	if(newstate == PLAYER_STATE_PASSENGER) // TAXI & BUSSES
	{
	    new name[MAX_PLAYER_NAME];
	    GetPlayerName(playerid, name, sizeof(name));
	    new newcar = GetPlayerVehicleID(playerid);
		switch(CarRadio[newcar])
		{
            case 0: StopAudioStreamForPlayer(playerid), PlayerRadio[playerid] = 0;
			case 1: PlayAudioStreamForPlayer(playerid, "http://live.radiotaraf.com:8181"), PlayerRadio[playerid] = 1;
			case 2: PlayAudioStreamForPlayer(playerid, "http://radiofunky.ro/live.pls"), PlayerRadio[playerid] = 2;
			case 3: PlayAudioStreamForPlayer(playerid, "http://live.radiogangsta.ro:8800"), PlayerRadio[playerid] = 3;
			case 4: PlayAudioStreamForPlayer(playerid, "http://dance.radiogangsta.ro:8800"), PlayerRadio[playerid] = 4;
			case 5: PlayAudioStreamForPlayer(playerid, "http://rbandit.dyndns.tv:8000"), PlayerRadio[playerid] = 5;
			case 6: PlayAudioStreamForPlayer(playerid, "http://live.radiohot.ro:8000"), PlayerRadio[playerid] = 6;
			case 7: PlayAudioStreamForPlayer(playerid, "http://www.radiotequila.ro/hiphop.m3u"), PlayerRadio[playerid] = 7;
			case 8: PlayAudioStreamForPlayer(playerid, "http://80.86.106.136/listen.pls"), PlayerRadio[playerid] = 8;
			case 9: PlayAudioStreamForPlayer(playerid, "http://stream.radiozu.ro:8020"), PlayerRadio[playerid] = 9;
			case 10: PlayAudioStreamForPlayer(playerid, "http://nextgen.go.ro:8012"), PlayerRadio[playerid] = 10;
			case 11: PlayAudioStreamForPlayer(playerid, "http://stream.profm.ro:8012/profm.mp3"), PlayerRadio[playerid] = 11;
			case 12: PlayAudioStreamForPlayer(playerid, "http://live.radioclubmix.ro:9999"), PlayerRadio[playerid] = 12;
			case 13: PlayAudioStreamForPlayer(playerid, "http://livemp3.radiopopular.ro:7777"), PlayerRadio[playerid] = 13;
		}
		foreach(Player,i)
	    {
            if(IsPlayerInVehicle(i, vehicleid) && GetPlayerState(i) == 2 && TransportDuty[i] > 0)
            {
                if(GetPlayerCash(playerid) < TransportValue[i])
                {
                    format(szGlobal, sizeof(szGlobal), "* Ai nevoie de $%d pentru a intra.", TransportValue[i]);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, szGlobal);
					RemovePlayerFromVehicleEx(playerid);
                }
                else
                {
                    if(TransportDuty[i] == 1)
                    {
						if(IsInBlacklist(playerid, 11))
						return SCM(playerid, -1, "Esti pe blacklist-ul acestei factiuni, nu poti folosi serviciile acestei factiuni!"), RemovePlayerFromVehicleEx(playerid);
                        format(szGlobal, sizeof(szGlobal), "* Ai platit $%d taximetristului.", TransportValue[i]);
						SendClientMessage(playerid, COLOR_LIGHTBLUE, szGlobal);
						format(szGlobal, sizeof(szGlobal), "* Pasagerul %s a intrat in taxi.", name);
						SendClientMessage(i, COLOR_LIGHTBLUE, szGlobal);
                    	TransportCost[playerid] = TransportValue[i];
                    	TransportCost[i] = TransportValue[i];
                    	TransportDriver[playerid] = i;
                    	TransportMoney[playerid] = 0;
                    	TaxiDist[playerid] = 0.0;
                    	TransportMoney[playerid] = 0;
                    	TaxiDriver[playerid] = i;
						GivePlayerCash(playerid, - TransportValue[i]);
						TransportMoney[i] += TransportValue[i];
						TransportMoney[playerid] += TransportValue[i];
						Update(playerid, pCashx);
						ShowFareForTaxi(playerid);
                    }
                    else if(TransportDuty[i] == 2)
                    {
                        format(szGlobal, sizeof(szGlobal), "* Ai platit $%d to the Bus Driver.", TransportValue[i]);
						SendClientMessage(playerid, COLOR_LIGHTBLUE, szGlobal);
                    }
                }
			}
	    }
        new gun,tmp;
        GetPlayerWeaponData(playerid,5,gun,tmp);
        #pragma unused tmp
        if(gun)SetPlayerArmedWeapon(playerid,gun);
        else SetPlayerArmedWeapon(playerid,0);
	    return 1;
	}
    if(oldstate == PLAYER_STATE_DRIVER || oldstate == PLAYER_STATE_PASSENGER) {
			foreach(Player, i) {
				if(Spectate[i] == playerid) {
					if(IsPlayerInAnyVehicle(playerid)) {
						new carid = GetPlayerVehicleID(playerid);
						PlayerSpectateVehicle(i, carid);
					}
					else PlayerSpectatePlayer(i, playerid);	
				}
			}		
		 	StopAudioStreamForPlayer(playerid);
			PlayerTextDrawHide(playerid, Speedo);
			PlayerTextDrawHide(playerid, FareTD);
		}
		
		if(JobWorking[playerid] == 1 && gLastCar[playerid] == JobVehicle[playerid]) {
			if(PlayerInfo[playerid][pJob] == 12 || PlayerInfo[playerid][pJob] == 1) {
				SCM(playerid, COLOR_GREY, "Job esuat! Ai parasit vehiculul.");
				if(playerObject[playerid] != 0) DestroyPlayerObject(playerid, playerObject[playerid]), playerObject[playerid] = 0;
				if(playerObject2[playerid] != 0) DestroyObject(playerObject2[playerid]), playerObject2[playerid] = 0;
				JobWorking[playerid] = 0;
				PlayerTextDrawHide(playerid, JobTD);
				if(JobVehicle[playerid] != 0) { DestroyVehicle(JobVehicle[playerid]); JobVehicle[playerid] = 0; }
				if(Trailer[playerid] != 0) { DestroyVehicle(Trailer[playerid]); Trailer[playerid] = 0;  }
				PlayerTextDrawHide(playerid, InfosTD);
				DisablePlayerCheckpointEx(playerid);
				DisablePlayerRaceCheckpointEx(playerid);
				CP[playerid] = 0;
				JobVehicle[playerid] = 0;
				RemovePlayerAttachedObject(playerid, 2);
				RemovePlayerAttachedObject(playerid, 6);
				JobDeelay[playerid][PlayerInfo[playerid][pJob]] = 180;	
				//DestroyWoodObject(playerid);			
				if(PlayerInfo[playerid][pJob] == 3) ResetWeapons(playerid);	
			}
			else {
				JobLeftTime[playerid] = 120;
				SCM(playerid, COLOR_YELLOW, "Ai la dispozitie 2 minute sa intri inapoi in vehiculul de la job.");
			}	
		}
	}
	return 1;
}

function CarCheck()
{
	foreach(Player,j)
	{
	    if(IsPlayerConnected(j))
	    {
		    new Float:health;
		    GetPlayerHealthEx(j, health);
			SetPlayerHealthEx(j, health - 0.5);
		}
	}
	PlaceADDS();
	return 1;
}

function CarTow(carid)
{
	foreach(Player,i)
	{
		if(IsPlayerInVehicle(i, carid))
		{
			return 0;
		}
	}
	return 1;
}
function SendJobMessage(job, color, string[])
{
	foreach(Player, i)
	{
	    if(PlayerInfo[i][pJob] == job)
	    {
			SendClientMessage(i, color, string);
		}
	}
	return 1;
}

function OnRconLoginAttempt(ip[], password[], success)
{
    if(!success)
    {
        new pip[16],name[25];
        foreach(Player, i)
        {
            GetPlayerIp(i, pip, sizeof(pip));
            if(!strcmp(ip, pip, true))
           	{
				GetPlayerName(i, name, sizeof(name));
		        format(szGlobal,sizeof(szGlobal),"AdmCmd: %s(%d) cu IP(%s) a introdus parola RCON incorecta.",name,i,ip);
                SendAdminMessage(COLOR_LOGS,szGlobal,4);
                Kick(i);
                return 1;
            }
        }
    }
    else if(success)
    {
        new pip[16],name[25];
        foreach(Player, i)
        {
            GetPlayerIp(i, pip, sizeof(pip));
            if(!strcmp(ip, pip, true))
           	{
				GetPlayerName(i, name, sizeof(name));
		        format(szGlobal,sizeof(szGlobal),"AdmCmd: %s(%d) cu IP(%s) s-a logat cu RCON.",name,i,ip);
                SendAdminMessage(COLOR_LOGS,szGlobal,5);
                return 1;
            }
        }
	}
    return 1;
}

function OnPlayerExitVehicle(playerid, vehicleid)
{
	if(InDealer[playerid] >= 1) {
		DestroyVehicle(DealerCar[playerid]);
		InDealer[playerid] = 0, DealerCarType[playerid] = -1, DealerCar[playerid] = 0;
		KillTimer(DSTimer[playerid]);
		SendClientMessage(playerid, COLOR_YELLOW, "Testul a fost suspendat deoarece ai abandonat vehiculul.");
		SetPlayerPosEx(playerid, 327.9443, -1512.6609, 36.1366);
		SetPlayerInterior(playerid, 0);
		SetPlayerVirtualWorld(playerid, 0);
		TestingModel[playerid] = 0;
	}
		
    StopAudioStreamForPlayer(playerid);
	Speedlimit[playerid] = 0;
    new currentveh;
	currentveh = GetPlayerVehicleID(playerid);
	new engine,lights,alarm,doors,bonnet,boot,objective;
    if(TakingLesson[playerid] == 1)
    {
        TakingLesson[playerid] = 0;
	    DisablePlayerRaceCheckpoint(playerid);
        SetVehicleToRespawn(currentveh);
		SendClientMessage(playerid, COLOR_LIGHTRED, "Deoarece ai parasit vehiculul ai picat testul pentru licenta de condus!");
		if(DMVCar[playerid] != 0) DestroyVehicle(DMVCar[playerid]), DMVCar[playerid] = 0;
		vehEngine[currentveh] = 0;
		GetVehicleParamsEx(currentveh,engine,lights,alarm,doors,bonnet,boot,objective);
    	SetVehicleParamsEx(currentveh,VEHICLE_PARAMS_OFF,lights,alarm,doors,bonnet,boot,objective);
    	SetPVarInt(playerid, "Engine", 0);
    	CP[playerid] = 0;
    	PlayerTextDrawHide(playerid, InfosTD);
		CP[playerid] = 0;
    }
	return 1;
}
function OnPlayerRequestClass(playerid, classid)
{
	if(IsPlayerLogged[playerid] == 1)
	{
		SetPlayerInterior(playerid,0);
		SetPlayerPosEx(playerid, -1976.5912,166.1818,36.9623);
		SetPlayerFacingAngle(playerid, 272.6393);
		TogglePlayerControllable(playerid, 0);
		if(PlayerInfo[playerid][pMember] == 0 && PlayerInfo[playerid][pLeader] == 0)
		{
			SetPlayerInterior(playerid,0);
			SetPlayerPosEx(playerid, -1976.5912,166.1818,36.9623);
			SetPlayerFacingAngle(playerid, 272.6393);
			SetPlayerCameraPos(playerid,-1976.5912 + 3, 166.1818,36.9623);
			SetPlayerCameraLookAt(playerid,-1976.5912,166.1818,36.9623);
			TogglePlayerControllable(playerid, 0);
		    PlayerInfo[playerid][pModel] = Peds[classid][0];
			new rand = random(10);
		    SetPlayerVirtualWorld(playerid, rand);
		}
	}
	if(RegistrationStep[playerid] == 0 && IsPlayerLogged[playerid] != 1)
	{
		SetPlayerFacingAngle(playerid, 3.41);
		SetPlayerInterior(playerid, 0);
		TogglePlayerControllable(playerid, 0);
		if(gPlayerAccount[playerid] != 0)
		{
		    SetTimerEx("CameraOne", 500, 0, "d", playerid);
			new laston[64];
			new field[128];
			format(field,128,"SELECT `lastOn`  FROM users WHERE `name`='%s'",GetName(playerid));
			mysql_query(SQL,field);
			mysql_store_result();
			if(mysql_retrieve_row())
			{
				mysql_fetch_field_row(laston, "lastOn");
			}
			mysql_free_result();
			format(szGlobal,sizeof(szGlobal),"{A9C4E4}Bine ai revenit, {5D8CD7}%s{A9C4E4}!\n\nTe rog sa iti introduci parola pentru a te autentifica.\n\n{FFFFFF}* Ultima autentificare: %s *",GetName(playerid),laston);
			ShowPlayerDialog(playerid,DIALOG_LOGIN2,DIALOG_STYLE_PASSWORD,"SERVER: Login",szGlobal,"Login","Cancel");
		}
		else
		{
		    SetTimerEx("CameraOne", 500, 0, "d", playerid);
			gPlayerAccount[playerid] = 0;
			format(szGlobal,sizeof(szGlobal),"{A9C4E4}Bine ai venit, {5D8CD7}%s{A9C4E4}!\n\nTe rog sa iti introduci parola dorita pentru a te inregistra.",GetName(playerid));
			ShowPlayerDialog(playerid,DIALOG_LOGIN1,DIALOG_STYLE_PASSWORD,"SERVER: Register",szGlobal,"Register","Cancel");
		}
		login[playerid] = SetTimerEx("Logink",30000,false,"d",playerid);
	}
	else if(IsPlayerNPC(playerid)) return 1;
	return 1;
}

function Logink(playerid)
{
	Kick(playerid);
	return 1;
}
function SetPlayerCriminal(playerid,declare,reason[])
{
	if(IsPlayerConnected(playerid))
	{
	    PlayerInfo[playerid][pCrimes] += 1;
	    Update(playerid,pCrimesx);
	    new points = WantedPoints[playerid];
		new turned[MAX_PLAYER_NAME];
		new turner[MAX_PLAYER_NAME];
		new turnmes[128];
		new wantedmes[128];
		new ini;
		ini = PlayerInfo[playerid][pWantedLevel];
		GetPlayerName(playerid, turned, sizeof(turned));
		if(declare == 255)
		{
			format(turner, sizeof(turner), "Necunoscut");
			strmid(PlayerInfo[playerid][pVictim], turner, 0, strlen(turner), 255);
			Update(playerid,pVictimx);
		}
		else
		{
		    if(IsPlayerConnected(declare))
		    {
				GetPlayerName(declare, turner, sizeof(turner));
				strmid(PlayerInfo[playerid][pVictim], turner, 0, strlen(turner), 255);
				Update(playerid,pVictimx);
			}
		}
		new y,m,d,h,mi;
		getdate(y,m,d);
		gettime(h,mi);
		if(strcmp(PlayerInfo[playerid][pCrime1], "Fara Crima", true) == 0)
		{
			format(szGlobal,sizeof(szGlobal),"- %s on %02d.%02d.%02d %02d:%02d, reporter: %s.",reason,y,m,d,h,mi,turner);
			strmid(PlayerInfo[playerid][pCrime1], szGlobal, 0, strlen(szGlobal), 255);
			Update(playerid,pCrime1x);
		}
		else if(strcmp(PlayerInfo[playerid][pCrime2], "Fara Crima", true) == 0)
		{
			format(szGlobal,sizeof(szGlobal),"- %s on %02d.%02d.%02d %02d:%02d, reporter: %s.",reason,y,m,d,h,mi,turner);
			strmid(PlayerInfo[playerid][pCrime2], szGlobal, 0, strlen(szGlobal), 255);
			Update(playerid,pCrime2x);
		}
		else if(strcmp(PlayerInfo[playerid][pCrime3], "Fara Crima", true) == 0)
		{
			format(szGlobal,sizeof(szGlobal),"- %s on %02d.%02d.%02d %02d:%02d, reporter: %s.",reason,y,m,d,h,mi,turner);
		    strmid(PlayerInfo[playerid][pCrime3], szGlobal, 0, strlen(szGlobal), 255);
			Update(playerid,pCrime3x);
		}
		else if(strcmp(PlayerInfo[playerid][pCrime1],  "Fara Crima", true) == 0 && strcmp(PlayerInfo[playerid][pCrime2], "Fara Crima", true) == 0 && strcmp(PlayerInfo[playerid][pCrime3], "Fara Crima", true) == 0) { }
		else
		{
			format(szGlobal,sizeof(szGlobal),"- %s on %02d.%02d.%02d %02d:%02d, reporter: %s.",reason,y,m,d,h,mi,turner);
		    strmid(PlayerInfo[playerid][pCrime1], szGlobal, 0, strlen(szGlobal), 255);
			Update(playerid,pCrime1x);
			format(szGlobal, sizeof(szGlobal), "Fara Crima");
			strmid(PlayerInfo[playerid][pCrime2], szGlobal, 0, strlen(szGlobal), 255);
			strmid(PlayerInfo[playerid][pCrime3], szGlobal, 0, strlen(szGlobal), 255);
			Update(playerid,pCrime2x);
			Update(playerid,pCrime3x);
		}
		format(turnmes, sizeof(turnmes), "Ai comis o noua crima (%s). Reporter: %s.",reason,turner);
		SendClientMessage(playerid, COLOR_LIGHTRED, turnmes);
		if(points > 0) {
			new yesno;
			yesno = 1;
			if(points >= 1 && points <= 3) {
				if(PlayerInfo[playerid][pWantedLevel] != 1) PlayerInfo[playerid][pWantedLevel] = 1;
			}
			else if(points >= 4 && points <= 5) {
				if(PlayerInfo[playerid][pWantedLevel] != 2) PlayerInfo[playerid][pWantedLevel] = 2;
			}
			else if(points >= 6 && points <= 7) {
				if(PlayerInfo[playerid][pWantedLevel] != 3) PlayerInfo[playerid][pWantedLevel] = 3;
			}
			else if(points >= 8 && points <= 9) {
				if(PlayerInfo[playerid][pWantedLevel] != 4) PlayerInfo[playerid][pWantedLevel] = 4;
			}
			else if(points >= 10 && points <= 11) {
				if(PlayerInfo[playerid][pWantedLevel] != 5) PlayerInfo[playerid][pWantedLevel] = 5;
			}
			else if(points >= 12 && points <= 13) {
				if(PlayerInfo[playerid][pWantedLevel] != 6) PlayerInfo[playerid][pWantedLevel] = 6;
			}
			WantedTime[playerid] = 0;
			Update(playerid,pWantedLevelx);
			
			if(yesno) {
				format(wantedmes, sizeof(wantedmes), "Wanted-ul actual: %d.", PlayerInfo[playerid][pWantedLevel]);
				SendClientMessage(playerid, COLOR_YELLOW, wantedmes);
				ini = PlayerInfo[playerid][pWantedLevel]-ini;
				foreach(Player,i) {
					if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1) {
						if(PlayerInfo[i][pMember] == 1||PlayerInfo[i][pLeader] == 1 || PlayerInfo[i][pMember] == 2 || PlayerInfo[i][pLeader] == 2 || PlayerInfo[i][pMember] == 3 || PlayerInfo[i][pLeader] == 3 || PlayerInfo[i][pMember] == 15) {
							format(cbjstore, sizeof(turnmes), "Dispatch: Reporter: %s, Crima: %s, W:+%d(%d), Suspect: %s(%d).",turner,reason,ini,PlayerInfo[playerid][pWantedLevel],turned,playerid);
							SendClientMessage(i, COLOR_DBLUE, cbjstore);
						}
					}
				}
			}
		}
	}
	return 1;
}

function SetPlayerFree(playerid,declare,reason[])
{
	if(IsPlayerConnected(playerid))
	{
		ClearCrime(playerid);
		new turned[MAX_PLAYER_NAME];
		new turner[MAX_PLAYER_NAME];
		if (declare == 255)
		{
			format(turner, sizeof(turner), "911");
		}
		else
		{
		    if(IsPlayerConnected(declare))
		    {
				GetPlayerName(declare, turner, sizeof(turner));
			}
		}
		GetPlayerName(playerid, turned, sizeof(turned));
	}
	return 1;
}
cmd:setturf(playerid,params[]) {
	if(PlayerInfo[playerid][pAdmin] < 5) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new fid,turfid,query[100];
	if(sscanf(params,"ii",turfid,fid)) return SCM(playerid,COLOR_SYNTAX,"Syntax: /setturf <Turf ID> <Faction ID>");
	if(fid < 1) return SCM(playerid,COLOR_BZYELLOW,"Invalid Faction ID");
	if(fid == 4 || fid == 5 || fid == 6 || fid == 10 || fid == 20 || fid == 21 || fid == 22 || fid == 23 || fid == 24) {
		if(turfid < 1 || turfid > 72) return SCM(playerid,COLOR_BZYELLOW,"Invalid Turf ID");
		TurfInfo[turfid][zOwned] = fid;
		mysql_format(SQL,query,sizeof(query),"UPDATE turfs SET Owned='%d' WHERE ID='%d'",fid,turfid);
		mysql_tquery(SQL,query,"","");
		format(szGlobal,sizeof(szGlobal),"AdmCmd: %s a setat factiunii %s turf-ul %d.",GetName(playerid),NumeFactiune(fid),turfid);
		SendAdminMessage(COLOR_LOGS,szGlobal,4);
	}
 	else return SCM(playerid,COLOR_BZYELLOW,"Invalid Gang ID(/fids)");
	return 1;
}
cmd:hud(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
 	ShowPlayerHud(playerid);
 	return 1;
}
alias:gotohq("hq");
cmd:gotohq(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new id;
	if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(PlayerInfo[playerid][pSleeping] == 1) return SCM(playerid,COLOR_LGREEN,"Nu poti folosi aceasta comanda deoarece esti pe /sleep");
	if(sscanf(params, "i", id)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: (/goto)hq <Faction ID>");
	if(id < 1 || id > serverfactions) return SendClientMessage(playerid, -1, "Invalid HQ ID!");
	SetPlayerPosEx(playerid, DynamicFactions[id][extX], DynamicFactions[id][extY], DynamicFactions[id][extZ]);
	SetPlayerVirtualWorld(playerid, 0);
	SetPlayerInterior(playerid, 0);
	return 1;
}
cmd:asellbiztostate(playerid, params[]) {
	new house, query[180];
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "d", house)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /asellbiztostate <Biz ID>");
	if(house > bussines) return SCM(playerid,COLOR_BZYELLOW,"ID-ul bizz-ului este invalid.");
	foreach(Player, i) {
		if(IsPlayerConnected(i) && PlayerInfo[i][pBizz] == house) {
			PlayerInfo[i][pBizz] = 255;
			Update(i, pBizzx);
		}
	}
	BizzInfo[house][bLocked] = 0;
	BizzInfo[house][bOwned] = 1;
	BizzInfo[house][bBuyPrice] = 0;
	format(query,sizeof(query),"UPDATE `bizz` SET `Locked`='0',`Owned`='1',`Owner`='The State',`BuyPrice`='0' WHERE `ID`='%d'",house);
	mysql_query(SQL,query);
	format(query,sizeof(query),"UPDATE users SET `Bizz`='255' WHERE `name`='%s'",BizzInfo[house][bOwner]);
	mysql_query(SQL,query);
	strmid(BizzInfo[house][bOwner], "The State", 0, strlen("The State"), 255);
	format(szGlobal, sizeof(szGlobal), "AdmCmd: %s a vandut business-ul %d la stat.", GetName(playerid),house);
	SendAdminMessage(COLOR_LOGS,szGlobal,5);
	UpdateLabel(2, house);
	return 1;
}
cmd:va(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid,COLOR_ERROR,AdminOnly);
    new Float:x, Float:y, Float:z, range;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(sscanf(params, "i", range)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /va <Raza>");
    for(new car = 0; car < MAX_VEHICLES; car++) {
        GetVehiclePos(car, x, y, z);
        if(IsPlayerInRangeOfPoint(playerid, range, x, y, z)) {
            SetVehicleToRespawn(car);
        }
    }
    format(szGlobal, sizeof(szGlobal), "AdmCmd: %s a respawnat toate vehiculele din raza %d.",GetName(playerid),range);
    SendAdminMessage(COLOR_LIGHTRED,szGlobal,1);
    return 1;
}
cmd:youtube(playerid,params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR,AdminOnly);
    new url[150];
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(sscanf(params, "s[200]",url)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /youtube <Link>");
    foreach(Player,p) PlayAudioStreamForPlayer(p,url);
    return 1;
}
cmd:givehouse(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new house, id, query[256];
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(sscanf(params, "ud", id, house)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /givehouse <Name/Playerid> <House ID>");
	if(id == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	format(query, sizeof(query), "UPDATE `users` SET `House`='999' WHERE `House`='%d'", id);
	mysql_query(SQL, query);
	PlayerInfo[id][pHouse] = house;
	format(query, sizeof(query), "UPDATE `users` SET `House`='%d' WHERE `ID`='%d'", house, PlayerInfo[id][pSQLID]);
	mysql_query(SQL, query);
	format(szGlobal, sizeof(szGlobal), "AdmCmd: %s i-a dat lui %s casa cu ID %d.", GetName(playerid), GetName(id), house);
	SendAdminMessage(COLOR_LOGS, szGlobal, 1);
	format(szGlobal, sizeof(szGlobal), "Adminul %s ti-a dat casa %d.", GetName(playerid), house);
	SCM(id, COLOR_BBLUE, szGlobal);
	HouseInfo[house][hOwned] = 1;
	format(HouseInfo[house][hOwner], 256, GetName(id));
	HouseInfo[house][hValue] = 0;
	UpdateLabel(1, house);
	format(query, sizeof(query), "UPDATE `houses` SET `Owned`='1', `Owner`='%s', `Value`='0' WHERE `ID`='%d'", GetName(id), house);
	mysql_query(SQL, query);
	return 1;
}
cmd:givebiz(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new biz, id, query[256];
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(sscanf(params, "ud", id, biz)) return SendClientMessage(playerid,COLOR_SYNTAX, "Syntax: /givebiz <Nume/Playerid> <Biz ID>");
	if(id == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	format(query, sizeof(query), "UPDATE `users` SET `Bizz`='255' WHERE `Bizz`='%d'", id);
	mysql_query(SQL, query);
	PlayerInfo[id][pBizz] = biz;
	format(query, sizeof(query), "UPDATE `users` SET `Bizz`='%d' WHERE `ID`='%d'", biz, PlayerInfo[id][pSQLID]);
	mysql_query(SQL, query);
	format(szGlobal, sizeof(szGlobal), "AdmCmd: %s i-a dat lui %s business-ul cu ID %d.", GetName(playerid), GetName(id), biz);
	SendAdminMessage(COLOR_LOGS, szGlobal, 1);
	format(szGlobal, sizeof(szGlobal), "Adminul %s ti-a dat business-ul %d.", GetName(playerid), biz);
	SCM(id, COLOR_BBLUE, szGlobal);
	BizzInfo[biz][bOwned] = 1;
	format(BizzInfo[biz][bOwner], 256, GetName(id));
	BizzInfo[biz][bBuyPrice] = 0;
	UpdateLabel(2, biz);
	format(query, sizeof(query), "UPDATE `bizz` SET `Owned`='1', `Owner`='%s', `BuyPrice`='0' WHERE `ID`='%d'", GetName(id), biz);
	mysql_query(SQL, query);
	return 1;
}
cmd:asellhousetostate(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	new house, query[180];
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(PlayerInfo[playerid][pAdmin] < 5) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(sscanf(params, "d", house)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /asellhousetostate <House ID>");
	if(house > housess) return SCM(playerid,COLOR_BZYELLOW,"ID-ul casei este invalid.");
	foreach(Player, i) {
		if(IsPlayerConnected(i) && PlayerInfo[i][pHouse] == house) {
			PlayerInfo[i][pHouse] = 999;
			PlayerInfo[i][pRented] = -1;
			Update(i, pHousex);
		}
	}
	HouseInfo[house][hHel] = 0;
	HouseInfo[house][hArm] = 0;
	HouseInfo[house][hLock] = 0;
	HouseInfo[house][hOwned] = 1;
	HouseInfo[house][hValue] = 0;
	format(query,sizeof(query),"UPDATE `houses` SET `Hel`='0',`Arm`='0',`Lockk`='0',`Owned`='1',`Owner`='The State',`Value`='0' WHERE `ID`='%d'",house);
	mysql_query(SQL,query);
	format(query,sizeof(query),"UPDATE users SET `House`='999' WHERE `name`='%s'",HouseInfo[house][hOwner]);
	mysql_query(SQL,query);
	strmid(HouseInfo[house][hOwner], "The State", 0, strlen("The State"), 255);
	PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
	format(szGlobal, sizeof(szGlobal), "AdmCmd: %s a vandut casa %d la stat.", GetName(playerid),house);
	SendAdminMessage(COLOR_LOGS,szGlobal, 5);
	UpdateLabel(1, house);
	return 1;
}
cmd:buyvehicle(playerid,params[]) {
	if(PlayerInfo[playerid][pLevel] < 3) return SCM(playerid, -1, "Ai nevoie de minim nivel 3.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new x=0, dbID[256], szQuery[256];
	if(!PlayerToPoint(3.0,playerid,327.9443, -1512.6609, 36.1366) && !PlayerToPoint(3.0,playerid,332.6239, -1506.7646, 36.0565)) return SendClientMessage(playerid, COLOR_WHITE, "{3385FF}Trebuie sa fii la Distribuitorul de Vehicule.");

	if(TestingModel[playerid] == 1) return 1;
	if(PlayerToPoint(3.0,playerid,332.6239, -1506.7646, 36.0565)) return 1; //InDealer[playerid] = 2;
	format(szQuery, sizeof(szQuery), "SELECT * FROM `dsveh` WHERE `Type`='1'");
	new Cache: result = mysql_query(SQL, szQuery);
	for(new i, j = cache_get_row_count (); i != j; ++i) {
		cache_get_field_content(i, "ID", dbID);
		x++;
		SelectedCar[playerid][x] = strval(dbID);
		LastDealerCar[playerid] = strval(dbID);
	}
	cache_delete(result);
	TestingModel[playerid] = 0;
	TotalDealerCars[playerid] = x;
	DealerCarType[playerid] = 1;
	InDealer[playerid] = 1;
	TogglePlayerControllable(playerid, 0);
	SetPlayerVirtualWorld(playerid, playerid+1);
	SetPlayerInterior(playerid, 1);
	SetPlayerPosEx(playerid, 604.9370, -2.9715, 1003.8300);
	DealerID[playerid] = 1;
	DealerCarColor1[playerid] = 1;
	DealerCarColor2[playerid] = 1;
	DealerCarAngle[playerid] = 75.7200;
	DealerCar[playerid] = CreateVehicleEx(DSModels[DealerID[playerid]][dModel],613.7783, -2.9987, 1000.5500,DealerCarAngle[playerid],DealerCarColor1[playerid],DealerCarColor2[playerid],-1);
    Gas[DealerCar[playerid]] = 100;
	SetVehicleVirtualWorld(DealerCar[playerid],playerid+1);
	LinkVehicleToInterior(DealerCar[playerid], 1);
	PutPlayerInVehicle(playerid, DealerCar[playerid], 0);
	SetPlayerCameraPos(playerid, 604.9370, -2.9715, 1003.8300);
	SetPlayerCameraLookAt(playerid, 605.9343, -2.9241, 1003.4600);
	ShowDealershipTextdraws(playerid);
	SelectTextDraw(playerid, 0xFF0000FF);
	return 1;
}
cmd:bonus(playerid,params[]){
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] >= 1) return SCM(playerid,COLOR_GREY,"Esti admin.");
	if(PlayerInfo[playerid][pLevel] >= 5) return SCM(playerid,COLOR_GREY,"Ai primit deja bonusul.");
	new cash = 900000 + random(100000);
	GivePlayerCash(playerid, cash);
	PlayerInfo[playerid][pPremiumPoints] += 350;
	Update(playerid,pPremiumPointsx);
	PlayerInfo[playerid][pLevel] = 5;
	Update(playerid,pLevelx);
	SetPlayerScore(playerid, 5);
	format(szGlobal,256,"Bonus: In semn de bun venit pe server ti-am oferit %s$, 350 Premium Points si Nivel 5.",FormatNumber(cash));
	SCM(playerid,COLOR_YELLOW,szGlobal);
	return 1;
}
cmd:editfaction(playerid,params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5) return SCM(playerid,COLOR_ERROR,AdminOnly);
 	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new fid,szName[256],szDialog[700];
	if(sscanf(params,"i",fid)) return SCM(playerid,COLOR_SYNTAX,"Syntax: /editfaction <Faction ID>");
	if(fid < 1 || fid > serverfactions) return SCM(playerid,COLOR_GREY,"Invalid FactionID(/fids)");
	FactionSel[playerid] = fid;
	format(szName,246,"%s - (%d)",NumeFactiune(fid),fid);
	format(szDialog,700,"Faction Name: {%s}%s{FFFFFF}\nFaction Leader: %s\nEdit Faction Name\nEdit Faction Color\nEdit Faction MOTD\nMove Faction Entrance\nMove Faction Interior\nEdit Max Members\nEdit Minim Level",DynamicFactions[FactionSel[playerid]][fFactionColor],NumeFactiune(FactionSel[playerid]),GetFactionLeader(FactionSel[playerid]));
	ShowPlayerDialog(playerid,DIALOG_EDITFACTION,DIALOG_STYLE_LIST,szName,szDialog,"Select","Close");
	return 1;
}

cmd:answers(playerid, params[]) {
    if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR,AdminOnly);
	new szDialog[64];
	for(new i=0; i<3;i++) {
	    format(szGlobal,sizeof(szGlobal),"Answer %d: %s\n",i+1,Answers[i]);
	    strcat(szDialog, szGlobal);
	}
	ShowPlayerDialog(playerid, 0,DIALOG_STYLE_MSGBOX,"Answers:",szDialog,"Close", "");
	return 1;
}
cmd:clearvote(playerid, params[]) {
	if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(ActiveVote == 1) return SCM(playerid, COLOR_OOC, "Este un vot activ.");
	ClearVote();
	SCM(playerid, COLOR_YELLOW, "Ai resetat toate raspunsurile si intrebarea pentru vot.");
	return 1;
}
cmd:addanswer(playerid, params[]) {
	if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(ActiveVote == 1) return SCM(playerid, COLOR_OOC, "Este un vot activ.");
	new answer[25];
	if(sscanf(params, "s[25]", answer)) return SCM(playerid, COLOR_SYNTAX,"Syntax: /addanswer <Answer>");
	if(strlen(answer) < 4 || strlen(answer) > 25) return SCM(playerid, COLOR_YELLOW, "Raspunsul trebuie sa contina minim 4 caractere.");
	else if(strlen(Answers[2]) >= 4) return SCM(playerid, COLOR_OOC, "Ai setat deja toate cele 3 variante.");
	if(strlen(Answers[0]) < 4) {
	    format(Answers[0], 25, answer);
		format(szGlobal, sizeof(szGlobal), "Answer 1: %s",answer);
		SCM(playerid, COLOR_OOC,szGlobal);
		TotalAnswers++;
	}
	else if(strlen(Answers[0]) >= 4 && strlen(Answers[1]) < 4) {
		format(Answers[1], 25, answer);
		format(szGlobal, sizeof(szGlobal), "Answer 2: %s",answer);
		SCM(playerid, COLOR_OOC,szGlobal);
		TotalAnswers++;
	}
	else if(strlen(Answers[1]) >= 4 && strlen(Answers[2]) < 4) {
	    format(Answers[2], 25, answer);
		format(szGlobal, sizeof(szGlobal), "Answer 3: %s",answer);
		SCM(playerid, COLOR_OOC,szGlobal);
		TotalAnswers++;
	}
	return 1;
}
cmd:setquestion(playerid, params[]) {
	if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(ActiveVote == 1) return SCM(playerid, COLOR_OOC, "Este un vot activ.");
	new question[64],fid,string2[128];
	if(sscanf(params, "is[64]",fid, question)) return SCM(playerid, COLOR_SYNTAX,"Syntax: /setquestion <Faction ID> <Question>");
	if(fid < 0 || fid > 25) return SCM(playerid, COLOR_OOC, "Factiunea este invalida.");
	if(strlen(question) < 5 || strlen(question) > 64) return SCM(playerid, COLOR_OOC, "Intrebarea trebuie sa contina minim 5 caractere.");
	format(QuestionVote, 64, question);
	FactionVote = fid;
	if(fid == 0) SCM(playerid, COLOR_YELLOW, "Intrebarea a fost setata. Toti jucatorii vor putea raspunde.");
	else format(szGlobal,sizeof(szGlobal), "Intrebarea a fost setata. Doar membrii factiunii %s si staff-ul pot raspunde.",NumeFactiune(fid)), SCM(playerid, COLOR_YELLOW, szGlobal);
	format(string2,sizeof(string2),"%s",question);
	SCM(playerid, COLOR_YELLOW, string2);
	return 1;
}
cmd:startvote(playerid, params[]) {
	if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(ActiveVote == 1) return SCM(playerid, COLOR_OOC, "Este un vot activ.");
	if(TotalAnswers == 0 || strlen(QuestionVote) < 5) return SCM(playerid, COLOR_YELLOW, "Mai intai trebuie sa setezi raspunsurile si intrebarea pentru vot.");
	ActiveVote = 1;
	format(szGlobal,sizeof(szGlobal), "Adminul %s a pus urmatoarea intrebare, foloseste /answer pentru a raspunde:",GetName(playerid));
	SCMTA(COLOR_OOC,szGlobal);
	format(szGlobal,sizeof(szGlobal), "%s",QuestionVote);
	SCMTA(COLOR_OOC,szGlobal);
	return 1;
}
cmd:answer(playerid, params[]) {
    if(ActiveVote == 0) return SCM(playerid, COLOR_OOC, "Nu este un vot activ.");
    if(GetPVarInt(playerid, "Voted") == 1) return SCM(playerid, COLOR_OOC, "Ai votat deja.");
    new title[64],dialog[256];
    format(title,sizeof(title), "%s",QuestionVote);
    if(FactionVote > 0 && PlayerInfo[playerid][pMember] != FactionVote && PlayerInfo[playerid][pAdmin] < 1 && PlayerInfo[playerid][pHelper] < 1) return SCM(playerid, COLOR_OOC,"Nu poti participa la acest vot.");
	strcat(dialog, "Raspuns\tVoturi\n");
	if(TotalAnswers == 2) {
	    format(szGlobal,sizeof(szGlobal), "%s\t%d\n%s\t%d",Answers[0],AnswerCount[0],Answers[1],AnswerCount[1]);
	}
	else if(TotalAnswers == 3) {
	    format(szGlobal,sizeof(szGlobal), "%s\t%d\n%s\t%d\n%s\t%d",Answers[0],AnswerCount[0],Answers[1],AnswerCount[1],Answers[2],AnswerCount[2]);
	}
	strcat(dialog,szGlobal);
	ShowPlayerDialog(playerid, DIALOG_ANSWER,DIALOG_STYLE_TABLIST_HEADERS,title,dialog,"Vote","Close");
	return 1;
}
cmd:stopvote(playerid, params[]) {
    if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR,AdminOnly);
    if(ActiveVote == 0) return SCM(playerid, COLOR_OOC, "Nu este un vot activ.");
    new title[64];
    format(title,64,"Adminul %s a oprit votul. Rezultatele sunt:",GetName(playerid));
    SendClientMessageToAll(COLOR_OOC, title);
	if(TotalAnswers == 2) {
	    format(szGlobal,sizeof(szGlobal),"%s - %d voturi",Answers[0],AnswerCount[0]);
	    SendClientMessageToAll(COLOR_OOC, szGlobal);
	    format(szGlobal,sizeof(szGlobal),"%s - %d voturi",Answers[1],AnswerCount[1]);
	    SendClientMessageToAll(COLOR_OOC, szGlobal);
	}
	else if(TotalAnswers == 3) {
	    format(szGlobal,sizeof(szGlobal),"%s - %d voturi",Answers[0],AnswerCount[0]);
	    SendClientMessageToAll(COLOR_OOC, szGlobal);
	    format(szGlobal,sizeof(szGlobal),"%s - %d voturi",Answers[1],AnswerCount[1]);
	    SendClientMessageToAll(COLOR_OOC, szGlobal);
	    format(szGlobal,sizeof(szGlobal),"%s - %d voturi",Answers[2],AnswerCount[2]);
	    SendClientMessageToAll(COLOR_OOC, szGlobal);
	}
    ActiveVote = 0;
    ClearVote();
    foreach(Player, i) {
        if(IsPlayerConnected(i)) DeletePVar(i, "Voted");
    }
    return 1;
}
alias:pin("unlockacc");
cmd:pin(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PinStep[playerid] != 0) return 1;
	if(PlayerInfo[playerid][pPinLogged] == 1) return SendClientMessage(playerid, -1, "{FFFFCC}Eroare: Contul tau este deja deblocat.");
	if(strlen(PlayerInfo[playerid][pPin]) == 1) return SendClientMessage(playerid, -1, "{FFFFCC}Eroare: Trebuie sa adaugi un cod de securitate mai intai. Foloseste /addpin.");
	SendClientMessage(playerid, -1, "{FFFF45}Introdu codul tau de securitate si apasa butonul verde.");
	PinStep[playerid] = 1;
	ShowPinTextDraws(playerid);
	format(InputtText[playerid], 10, "");
	SelectTextDraw(playerid, COLOR_WHITE);
	return 1;
}
cmd:addpin(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PinStep[playerid] != 0) return 1;
	if(strlen(PlayerInfo[playerid][pPin]) != 1) return SendClientMessage(playerid, -1, "{FFFFCC}Eroare: Deja ai un cod de securitate setat.");
	SendClientMessage(playerid, -1, "{FFFF45}Introdu un cod de securitate de 4 cifre si apasa butonul verde.");
	PinStep[playerid] = 1;
	ShowPinTextDraws(playerid);
	format(InputtText[playerid], 10, "");
	SelectTextDraw(playerid, COLOR_WHITE);
	return 1;
}
cmd:lockacc(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	SendClientMessage(playerid, -1, "{FFFF45}Contul tau a fost blocat. Foloseste /pin pentru a il debloca.");
	PlayerInfo[playerid][pPinLogged] = 0;
	PinStep[playerid] = 0;
	return 1;
}
cmd:changepin(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(strlen(PlayerInfo[playerid][pPin]) == 1) SendClientMessage(playerid, -1, "{FFFFCC}Eroare: Trebuie sa adaugi un cod de securitate mai intai. Foloseste /addpin.");
	SendClientMessage(playerid, -1, "{FFFF45}Introdu codul tau PIN pentru a te autentifica.");
	PinStep[playerid] = 2;
	ShowPinTextDraws(playerid);
	format(InputtText[playerid], 10, "");
	SelectTextDraw(playerid, COLOR_WHITE);
	return 1;
}

function HidePinTextDraws(playerid) {
	TextDrawHideForPlayer(playerid, PinTDs[0]); TextDrawHideForPlayer(playerid, PinTDs[1]); TextDrawHideForPlayer(playerid, PinTDs[2]); TextDrawHideForPlayer(playerid, PinTDs[3]);
	TextDrawHideForPlayer(playerid, PinTDs[4]); TextDrawHideForPlayer(playerid, PinTDs[5]); TextDrawHideForPlayer(playerid, PinTDs[6]); TextDrawHideForPlayer(playerid, PinTDs[7]);
	TextDrawHideForPlayer(playerid, PinTDs[8]); TextDrawHideForPlayer(playerid, PinTDs[9]); TextDrawHideForPlayer(playerid, PinTDs[10]); TextDrawHideForPlayer(playerid, PinTDs[11]);
	TextDrawHideForPlayer(playerid, PinTDs[12]); TextDrawHideForPlayer(playerid, PinTDs[13]);

	PlayerTextDrawHide(playerid, GreenButton); PlayerTextDrawHide(playerid, RedButton);

	PlayerTextDrawHide(playerid, PinNumber[0]); PlayerTextDrawHide(playerid, PinNumber[1]); PlayerTextDrawHide(playerid, PinNumber[2]); PlayerTextDrawHide(playerid, PinNumber[3]);
	PlayerTextDrawHide(playerid, PinNumber[4]); PlayerTextDrawHide(playerid, PinNumber[5]); PlayerTextDrawHide(playerid, PinNumber[6]); PlayerTextDrawHide(playerid, PinNumber[7]);
	PlayerTextDrawHide(playerid, PinNumber[8]); PlayerTextDrawHide(playerid, PinNumber[9]);

	PlayerTextDrawHide(playerid, PinResult);
	PlayerTextDrawSetString(playerid, PinResult, "");
	return 1;
}

function ShowPinTextDraws(playerid) {
	TextDrawShowForPlayer(playerid, PinTDs[0]); TextDrawShowForPlayer(playerid, PinTDs[1]); TextDrawShowForPlayer(playerid, PinTDs[2]); TextDrawShowForPlayer(playerid, PinTDs[3]);
	TextDrawShowForPlayer(playerid, PinTDs[4]); TextDrawShowForPlayer(playerid, PinTDs[5]); TextDrawShowForPlayer(playerid, PinTDs[6]); TextDrawShowForPlayer(playerid, PinTDs[7]);
	TextDrawShowForPlayer(playerid, PinTDs[8]); TextDrawShowForPlayer(playerid, PinTDs[9]); TextDrawShowForPlayer(playerid, PinTDs[10]); TextDrawShowForPlayer(playerid, PinTDs[11]);
	TextDrawShowForPlayer(playerid, PinTDs[12]); TextDrawShowForPlayer(playerid, PinTDs[13]);

	PlayerTextDrawShow(playerid, GreenButton); PlayerTextDrawShow(playerid, RedButton);

	PlayerTextDrawShow(playerid, PinNumber[0]); PlayerTextDrawShow(playerid, PinNumber[1]); PlayerTextDrawShow(playerid, PinNumber[2]); PlayerTextDrawShow(playerid, PinNumber[3]);
	PlayerTextDrawShow(playerid, PinNumber[4]); PlayerTextDrawShow(playerid, PinNumber[5]); PlayerTextDrawShow(playerid, PinNumber[6]); PlayerTextDrawShow(playerid, PinNumber[7]);
	PlayerTextDrawShow(playerid, PinNumber[8]); PlayerTextDrawShow(playerid, PinNumber[9]);

	PlayerTextDrawShow(playerid, PinResult);
	return 1;
}

function UpdatePinResult(playerid) {
	if(strlen(InputtText[playerid]) == 1) PlayerTextDrawSetString(playerid, PinResult, "[]");
	else if(strlen(InputtText[playerid]) == 2) PlayerTextDrawSetString(playerid, PinResult, "[[]]");
	else if(strlen(InputtText[playerid]) == 3) PlayerTextDrawSetString(playerid, PinResult, "[[[]]]");
	else if(strlen(InputtText[playerid]) == 4) PlayerTextDrawSetString(playerid, PinResult, "[[[[]]]]");
	return 1;
}
cmd:endwar(playerid, params[]) {
	new turf = 0;
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	for(new i = 1; i <= sizeof(TurfInfo); i++)
	{
		if(IsPlayerInTurf(playerid, i) == 1)
		{
			turf = i;
			break;
		}
	}
	if(turf == 0 || GetPlayerInterior(playerid) != 0) return SCM(playerid, COLOR_BZYELLOW, "Nu esti pe un turf.");
	if(!(WarInfo[turf][wFaction] == PlayerInfo[playerid][pMember] || WarInfo[turf][wAttacker] == PlayerInfo[playerid][pMember])) return SCM(playerid, COLOR_LIGHTRED, "Your gang didn't attacked this turf.");
	if(WarInfo[turf][wTime] != 0) {
		WarInfo[turf][wTime] = 5;
		format(szGlobal,sizeof(szGlobal),"AdmCmd: %s a oprit war-ul activ dintre %s si %s.",GetName(playerid),NumeFactiune(WarInfo[turf][wFaction]),NumeFactiune(WarInfo[turf][wAttacker]));
		SendAdminMessage(COLOR_LIGHTRED, szGlobal, 1);
		format(szGlobal,sizeof(szGlobal),"Adminul %s a oprit war-ul.",GetName(playerid));
		SendTeamMessage(WarInfo[turf][wFaction],COLOR_LIGHTRED,szGlobal);
		format(szGlobal,sizeof(szGlobal),"Adminul %s a oprit war-ul.",GetName(playerid));
		SendTeamMessage(WarInfo[turf][wAttacker],COLOR_LIGHTRED,szGlobal);
	} else return SCM(playerid, COLOR_LIGHTRED, "There's no active war on this turf.");
	return 1;
}
function OtherTimer() {
	new iswar;
	for(new w = 0; w < 26; w++) {
		if(InWar[w] == 1) iswar = 1;
	}
	if(iswar == 1) {
		for(new i = 1; i < sizeof(Turfs); i++) {
			new attackers = WarInfo[i][wAttacker];
			new defenders = WarInfo[i][wFaction];
			if(WarInfo[i][wTime] >= 2) {
				foreach(Player,j) {
					if(PlayerInfo[j][pMember] == attackers || PlayerInfo[j][pMember] == defenders) {
						if(WarInfo[i][wAttacker] == 4) GangZoneFlashForPlayer(j,Turfs[i], 0x33AA3399);
						else if(WarInfo[i][wAttacker] == 5) GangZoneFlashForPlayer(j,Turfs[i], 0xB32CF699);
						else if(WarInfo[i][wAttacker] == 6) GangZoneFlashForPlayer(j,Turfs[i], 0x2A2A2A99);
						else if(WarInfo[i][wAttacker] == 10) GangZoneFlashForPlayer(j,Turfs[i], 0x94614199);
						else if(WarInfo[i][wAttacker] == 20) GangZoneFlashForPlayer(j,Turfs[i], 0xD0000F99);
						else if(WarInfo[i][wAttacker] == 21) GangZoneFlashForPlayer(j,Turfs[i], 0x769C9899);
						else if(WarInfo[i][wAttacker] == 22) GangZoneFlashForPlayer(j,Turfs[i], 0x00FFE499);
						else if(WarInfo[i][wAttacker] == 23) GangZoneFlashForPlayer(j,Turfs[i], 0x3A460C99);
						else if(WarInfo[i][wAttacker] == 24) GangZoneFlashForPlayer(j,Turfs[i], 0xFF990099);
					}
				}
			}
			if(WarInfo[i][wTime] > 0) {
				WarInfo[i][wTime] -= 1;
				foreach(Player,j) {
					if(IsPlayerInTurf(j,i) == 1) {
						if(PlayerInfo[j][pMember] == attackers) WarScoreF[attackers][i] += 0.002;
						if(PlayerInfo[j][pMember] == defenders) WarScoreF[defenders][i] += 0.002;
					}
				}
				if(WarInfo[i][wTime] == 1) {
					new Float: atscore = 0.0;
					new Float: defscore = 0.0;
					atscore = WarScoreF[attackers][i];
					defscore = WarScoreF[defenders][i];
					new winner;
					SetVehicle(attackers, 0);
					SetVehicle(defenders, 0);
					foreach(Player,j) {
						if(PlayerInfo[j][pMember] == attackers) {
							SCM(j, COLOR_MONEY, "--------------------- Statistici WAR ---------------------");
							RespawnVehicle(attackers);
							GangZoneStopFlashForPlayer(j,Turfs[i]);
							format(szGlobal,sizeof(szGlobal),"Razboiul dintre %s si %s pentru turf %d s-a terminat.",NumeFactiune(attackers),NumeFactiune(defenders),i);
							SendClientMessage(j, COLOR_MONEY,szGlobal);
							for(new m = 0; m < 5; m++) SendDeathMessageToPlayer(j, 1001, 1001, 200);
						}
						if(PlayerInfo[j][pMember] == defenders) {
							SCM(j, COLOR_MONEY, "--------------------- Statistici WAR ---------------------");
							RespawnVehicle(defenders);
							GangZoneStopFlashForPlayer(j,Turfs[i]);
							format(szGlobal,sizeof(szGlobal),"Razboiul dintre %s si %s pentru turf %d s-a terminat.",NumeFactiune(attackers),NumeFactiune(defenders),i);
							SendClientMessage(j, COLOR_MONEY,szGlobal);
							for(new m = 0; m < 5; m++) SendDeathMessageToPlayer(j, 1001, 1001, 200);
						}
					}
					DestroyPickups(i);
					if(atscore > defscore) winner = 1;
					else winner = 2;
					new winbest, losebest;
					new winbestj = -1, losebestj = -1;
					new bestname1[25],bestname2[25],bestname[25],worstname[25];
					FactionDeelay[attackers] = 300;
					foreach(Player,j) {
						if(winner == 1) {
							if(PlayerInfo[j][pMember] == attackers) {
								winbest = bestscoreat[i];
								if(bestmemberat[i] != 999) {
									if(PlayerInfo[bestmemberat[i]][pMember] == attackers) {
										winbestj = bestmemberat[i];
										GetPlayerName(winbestj,bestname1,sizeof(bestname1));
										strmid(bestname, bestname1, 0, strlen(bestname1), 255);
									}
								}
								else {
									format(bestname,sizeof(bestname),"Null");
									strmid(bestname, bestname, 0, strlen(bestname), 255);
								}
							}
							if(PlayerInfo[j][pMember] == defenders) {
								losebest = worstscoredf[i];
								if(worstmemberdf[i] != 999) {
									if(PlayerInfo[worstmemberdf[i]][pMember] == defenders) {
										losebestj = worstmemberdf[i];
										GetPlayerName(losebestj,bestname2,sizeof(bestname2));
										strmid(worstname, bestname2, 0, strlen(bestname2), 255);
									}
								}
								else {
									format(worstname,sizeof(worstname),"Null");
									strmid(worstname, worstname, 0, strlen(worstname), 255);
								}
							}
						}
						if(winner == 2) {
							if(PlayerInfo[j][pMember] == defenders) {
								winbest = bestscoredf[i];
								if(bestmemberdf[i] != 999) {
									if(PlayerInfo[bestmemberdf[i]][pMember] == defenders) {
										winbestj = bestmemberdf[i];
										GetPlayerName(winbestj,bestname1,sizeof(bestname1));
										strmid(bestname, bestname1, 0, strlen(bestname1), 255);
									}
								}
								else {
									format(bestname,sizeof(bestname),"Null");
									strmid(bestname, bestname, 0, strlen(bestname), 255);
								}
							}
							if(PlayerInfo[j][pMember] == attackers) {
								losebest = worstscoreat[i];
								if(worstmemberat[i] != 999) {
									if(PlayerInfo[worstmemberat[i]][pMember] == attackers) {
										losebestj = worstmemberat[i];
										GetPlayerName(losebestj,bestname2,sizeof(bestname2));
										strmid(worstname, bestname2, 0, strlen(bestname2), 255);
									}
								}
								else {
									format(worstname,sizeof(worstname),"Null");
									strmid(worstname, worstname, 0, strlen(worstname), 255);
								}
							}
						}
					}
					foreach(Player,j) {
						new uciderii = 0;
						uciderii += ucideri[j][i];
						new decesee = 0;
						decesee += decese[j][i];
						ucideri[j][i] = 0;
						decese[j][i] = 0;
						
						if((PlayerInfo[j][pMember] == attackers) || (PlayerInfo[j][pMember] == defenders)) {
							SetPlayerVirtualWorld(j, 0);
							if(WarSeconds[j] >= 300) {
								PlayerInfo[j][pCommands] ++;
								Update(j,pCommandsx);
							}
							WarSeconds[j] = 0;
							if(winner == 1) {					
								format(szGlobal,sizeof(szGlobal),"%s (%.1f) vs %s (%.1f)",NumeFactiune(WarInfo[i][wAttacker]),atscore,NumeFactiune(WarInfo[i][wFaction]),defscore);
								SendClientMessage(j, COLOR_MONEY,szGlobal);
								format(szGlobal,sizeof(szGlobal),"Cel mai bun: %s(%d). Cel mai slab: %s(-%d)", bestname, winbest, worstname, losebest);
								SendClientMessage(j, COLOR_MONEY,szGlobal);
								format(szGlobal,sizeof(szGlobal),"Statisticile tale: Scor %d (%d ucideri si %d decese)",uciderii-decesee, uciderii, decesee);
								SendClientMessage(j, COLOR_MONEY,szGlobal);
								TurfInfo[i][zOwned] = WarInfo[i][wAttacker];
								Wartimeon[j] = 0;
							}
							if(winner == 2) {
								format(szGlobal,sizeof(szGlobal),"%s (%.1f) vs %s (%.1f)",NumeFactiune(WarInfo[i][wFaction]),defscore,NumeFactiune(WarInfo[i][wAttacker]),atscore);
								SendClientMessage(j, COLOR_MONEY,szGlobal);
								format(szGlobal,sizeof(szGlobal),"Cel mai bun: %s(%d). Cel mai slab: %s(-%d)", bestname, winbest, worstname, losebest);
								SendClientMessage(j, COLOR_MONEY,szGlobal);
								format(szGlobal,sizeof(szGlobal),"Statisticile tale: Scor %d (%d ucideri si %d decese)",uciderii-decesee,uciderii, decesee);
								SendClientMessage(j, COLOR_MONEY,szGlobal);
								Wartimeon[j] = 0;
							}
							SCM(j, COLOR_MONEY, "---------------------------------------------------------------");
							WarScoreF[defenders][i] = 0.0;
							WarScoreF[attackers][i] = 0.0;
							InWar[attackers] = 0;
							InWar[defenders] = 0;
						}
						if(winner == 1) {
							GangZoneHideForPlayer(j,Turfs[i]);
							if(attackers == 4) GangZoneShowForPlayer(j,Turfs[i],0x33AA3399);
							if(attackers == 5) GangZoneShowForPlayer(j,Turfs[i],0xB32CF699);
							if(attackers == 6) GangZoneShowForPlayer(j,Turfs[i],0x2A2A2A99);
							if(attackers == 10) GangZoneShowForPlayer(j,Turfs[i],0x94614199);
							if(attackers == 20) GangZoneShowForPlayer(j,Turfs[i],0xD0000F99);
							if(attackers == 21) GangZoneShowForPlayer(j,Turfs[i],0x769C9899);
							if(attackers == 22) GangZoneShowForPlayer(j,Turfs[i],0x00FFE499);
							if(attackers == 23) GangZoneShowForPlayer(j,Turfs[i],0x3A460C99);
							if(attackers == 24) GangZoneShowForPlayer(j,Turfs[i],0xFF990099);
						}
					}
					if(winner == 1) {
						new str[128];
						format(str,128,"UPDATE `turfs` SET `Owned`='%d' WHERE `ID`='%d'",TurfInfo[i][zOwned],i);
						mysql_query(SQL,str);
					}
					WarInfo[i][wTime] = 0;
					WarInfo[i][wFaction] = 0;
					WarInfo[i][wAttacker] = 0;
					worstscoreat[i] = 0;
					worstmemberat[i] = 999;
					bestscoreat[i] = 0;
					bestmemberat[i] = 999;
					worstscoredf[i] = 0;
					worstmemberdf[i] = 999;
					bestscoredf[i] = 0;
					bestmemberdf[i] = 999;
					mysql_query(SQL, "UPDATE `users` SET `WarTurf`='0', `WarKills`='0', `WarDeaths`='0'");
				}
			}
		}
	}
	return 1;
}

function OnPlayerUpdate(playerid) {

	// handle fps counters.
	new drunknew;
	drunknew = GetPlayerDrunkLevel(playerid);

	if (drunknew < 100) { // go back up, keep cycling.
		SetPlayerDrunkLevel(playerid, 2000);
	} else {

		if (pDrunkLevelLast[playerid] != drunknew) {

			new wfps = pDrunkLevelLast[playerid] - drunknew;

			if ((wfps > 0) && (wfps < 200))
				FPS2[playerid] = wfps;

			pDrunkLevelLast[playerid] = drunknew;
		}

	}
	return 1;
}

function SetVariable(playerid, id) {
	objstats[playerid][id] = 1;
	return 1;
}

function TaxiUpdate(playerid) {
	foreach(Player,i)
	{
	    if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1)
	    {
	        if(TransportDuty[i] == 1) {
	            new spe = Carspeed(i);
	        	TaxiDist[i] += (spe*0.27)/100;
	        }
			if(TaxiDriver[i] != -1)
			{
			    new gString[256];
			    new spe = Carspeed(i);
				new money = TransportValue[TaxiDriver[i]];
				TaxiDist[i] += (spe*0.27)/100;
				new Float: test = (spe*0.27)/100;
				new nmoney = floatround(TaxiDist[i])/10*TransportValue[TaxiDriver[i]];
                if(test > 0.1) {
					TransportMoney[i] += TransportValue[TaxiDriver[i]];
					GivePlayerCash(i, -TransportValue[TaxiDriver[i]]);
					TransportMoney[TaxiDriver[i]] += TransportValue[TaxiDriver[i]];
				}
				if(nmoney > GetPlayerCash(i))
				{
					format(gString, sizeof(gString), "~w~Drumul a costat~n~~r~$%s",FormatNumber(money));
					GameTextForPlayer(i, gString, 5000, 1);
					format(gString, sizeof(gString), "~w~Pasagerul a iesit din taxi~n~",FormatNumber(money));
					GameTextForPlayer(TaxiDriver[i], gString, 5000, 1);
					GivePlayerCash(i, -money);
					TransportMoney[TaxiDriver[i]] += TransportValue[TaxiDriver[i]];
					TaxiDriver[i] = -1;
					TaxiDist[i] = 0.0; TransportMoney[i] = 0;
					RemovePlayerFromVehicle(i);
					for(new j = 0; j <= 2; j++) PlayerTextDrawHide(i, FareTD[j]);
				}
			}
			if(TransportDuty[i] == 1 || TaxiDriver[i] != -1) ShowFareForTaxi(i);
		}
	}
	return 1;
}

function VerificaVehicul(playerid) {
	if(!IsPlayerInAnyVehicle(playerid)) return 1;
    new vehicleid = GetPlayerVehicleID(playerid);
    new carid = FindSpawnID(vehicleid);
	if(CarInfo[carid][Spawned] == vehicleid && vehicleid != 0) DespawnCar[playerid][0] = 1540;
	else if(CarInfo[carid][Spawned] == vehicleid && vehicleid != 0) DespawnCar[playerid][1] = 1540;
	else if(CarInfo[carid][Spawned] == vehicleid && vehicleid != 0) DespawnCar[playerid][2] = 1540;
	else if(CarInfo[carid][Spawned] == vehicleid && vehicleid != 0) DespawnCar[playerid][3] = 1540;
	else if(CarInfo[carid][Spawned] == vehicleid && vehicleid != 0) DespawnCar[playerid][4] = 1540;
	return 1;
}

function PlayersOnline() {
	new x;
	foreach(Player, i) {
		if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1) x++;
	}
	return x;
}


function FreeHouses() {
	new x;
	for(new i = 1; i < housess; i++) {
		if(strcmp(HouseInfo[i][hOwner], "The State", true) == 0 && HouseInfo[i][hOwned] == 1) x++;
	}
	return x;
}

function GetHouseID() {
	for(new i = 1; i < housess; i++) {
		if(strcmp(HouseInfo[i][hOwner], "The State", true) == 0 && HouseInfo[i][hOwned] == 1) return i;
	}
	return 0;
}
function FreeBusinesses() {
	new x;
	for(new i = 1; i < bussines; i++) {
		if(strcmp(BizzInfo[i][bOwner], "The State", true) == 0 && BizzInfo[i][bOwned] == 1) x++;
	}
	return x;
}

function GetBizzID() {
	for(new i = 1; i < bussines; i++) {
		if(strcmp(BizzInfo[i][bOwner], "The State", true) == 0 && BizzInfo[i][bOwned] == 1) return i;
	}
	return 0;
}


function GameTextForPaint(string[], paint) {
	foreach(Player, i) {
		if(IsPlayerConnected(i) && PaintType[i] == paint+1) {
			GameTextForPlayer(i, string, 1500, 4);	
		}
	}
	return 1;
}

function nearPNS(playerid) {
	new const Float:paynspray[][] = {
	{1025.05, -1024.23, 32.1}, // LS Temple
	{487.68, -1740.87, 11.13}, // LS Santa Maria
			{-1420.73, 2583.37, 55.56}, // El Quebrados
			{-1904.39, 284.97, 40.75}, // Wang Cars
			{-2425.91, 1022.33, 50.10}, // Juniper Hill
			{1975.60, 2162.16, 10.77}, // LV Redsands
			{2065.38, -1831.51, 13.25}, // Idlewood
			{-99.55, 1118.36, 19.44}, // Fort Carson
			{721.07, -455.94, 16.04}, // Dillimore
			{2393.74, 1493.01, 10.52} // LV Unused (Pyramid)
	};
	for(new i=0; i<sizeof(paynspray); i++) {
		if(IsPlayerInRangeOfPoint(playerid, 10, paynspray[i][0], paynspray[i][1], paynspray[i][2])) return 1;
	}
	return 0;
}
function nearPNS2(playerid) {
	new const Float:paynspray[][] = {
	{1025.05, -1024.23, 32.1}, // LS Temple
	{487.68, -1740.87, 11.13}, // LS Santa Maria
			{-1420.73, 2583.37, 55.56}, // El Quebrados
			{-1904.39, 284.97, 40.75}, // Wang Cars
			{-2425.91, 1022.33, 50.10}, // Juniper Hill
			{1975.60, 2162.16, 10.77}, // LV Redsands
			{2065.38, -1831.51, 13.25}, // Idlewood
			{-99.55, 1118.36, 19.44}, // Fort Carson
			{721.07, -455.94, 16.04}, // Dillimore
			{2393.74, 1493.01, 10.52} // LV Unused (Pyramid)
	};
	for(new i=0; i<sizeof(paynspray); i++) {
		if(IsPlayerInRangeOfPoint(playerid, 50, paynspray[i][0], paynspray[i][1], paynspray[i][2])) return 1;
	}
	return 0;
}

function Timers()
{
	/*new
	Float: animpos[3],
	anim;*/
	
	// War deelay	
	for(new i = 1; i < 26; i++) {
		if(FactionDeelay[i] >= 1) {
			FactionDeelay[i] --;
			if(FactionDeelay[i] == 0) {
				SendFactionMessage(i, COLOR_MONEY, "[WAR] Acum mafia ta poate ataca un teritoriu!");
			}
		}
	}		
	
	if(painttime > 0)
	{
	    painttime--;
	}
	new string[256];
	if(PaintText[0] != 0) {
		PaintText[0] --;
		if(PaintText[0] == 0) format(string, sizeof(string), "~w~Runda a inceput~n~Succes tuturor!");
		else format(string, sizeof(string), "~w~Runda incepe in ~n~~b~%d secunde", PaintText[0]);
		GameTextForPaint(string, 0);
	}
	if(PaintText[1] != 0) {
		PaintText[1] --;
		if(PaintText[1] == 0) format(string, sizeof(string), "~w~Runda a inceput~n~Succes tuturor!");
		else  format(string, sizeof(string), "~w~Runda incepe in ~n~~b~%d secunde", PaintText[1]);
		GameTextForPaint(string, 1);
	}	
	if(PaintText[2] != 0) {
		PaintText[2] --;
		if(PaintText[2] == 0) format(string, sizeof(string), "~w~Runda a inceput~n~Succes tuturor!");
		else  format(string, sizeof(string), "~w~Runda incepe in ~n~~b~%d secunde", PaintText[2]);
		GameTextForPaint(string, 2);
	}						
	if(PlayersOnPaint(0) >= 2 && PaintTime[0] > 0) {
		PaintTime[0] --;
		if(PaintTime[0] == 0) {
			SendPaintMessage(1, COLOR_YELLOW, "Runda va incepe peste un minut. Pentru a vota o mapa, folositi comanda /votemap.");
			PaintVote[0] = 1;	
			if(PaintTimer[0] != 0) KillTimer(PaintTimer[0]), PaintTimer[0] = 0;
			PaintTimer[0] = SetTimerEx("CalculateVote", 60000, 0, "i", 0);		
		}
	}
	if(PlayersOnPaint(1) >= 2 && PaintTime[1] > 0) {
		PaintTime[1] --;
		if(PaintTime[1] == 0) {
			SendPaintMessage(1+1, COLOR_YELLOW, "Runda va incepe peste un minut. Pentru a vota o mapa, folositi comanda /votemap.");
			PaintVote[1] = 1;	
			if(PaintTimer[1] != 0) KillTimer(PaintTimer[1]), PaintTimer[1] = 0;
			PaintTimer[1] = SetTimerEx("CalculateVote", 60000, 0, "i", 1);		
		}		
	}
	if(PlayersOnPaint(2) >= 2 && PaintTime[2] > 0) {
		PaintTime[2] --;
		if(PaintTime[2] == 0) {
			SendPaintMessage(2+1, COLOR_YELLOW, "Runda va incepe peste un minut. Pentru a vota o mapa, folositi comanda /votemap.");
			PaintVote[2] = 1;	
			if(PaintTimer[2] != 0) KillTimer(PaintTimer[2]), PaintTimer[2] = 0;
			PaintTimer[2] = SetTimerEx("CalculateVote", 60000, 0, "i", 2);		
		}		
	}	
	// Licitatie
	new year, month, day,needlevel;
	getdate(year, month, day);
	new days[180];
	format(days, sizeof(days), GetWeekDay(day, month, year));	
	new hour,minute,second;
	gettime(hour,minute,second);	
	if(strcmp(days,"Saturday",true) == 0 || strcmp(days,"Sunday",true) == 0) {
		if(hour == 20 && Licitatie == 0 || hour == 21 && Licitatie == 0) {
			if(FreeBusinesses() > 0) {
				new id = GetBizzID();
				Licitatie = 1;
				TipLicitatie = 2;
				TimpLicitatie = 5*60;
				TotalBani = 0;
				foreach(Player, i) {
					if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1) TotalMoney[i] = 0;
				}
				IDLicitatie = id;
				LastPlayer = -1;
				needlevel = BizzInfo[id][bLevelNeeded];
				format(string, sizeof(string), "O licitatie automata a fost inceputa pentru business-ul %d.", id);
				MesajLicitatie(COLOR_SYNTAX, string);
				format(string, sizeof(string), "Nume: Business %d, Nivel Minim: %d, Incepe de la: 5,000$, Tip: Business", id,needlevel);
				MesajLicitatie(COLOR_SYNTAX, string);
				format(string, sizeof(string), "Licitatia este disponibila timp de 5 minute.");
				MesajLicitatie(COLOR_SYNTAX, string);
			}
			else if(FreeHouses() > 0) {
				new id = GetHouseID();
				Licitatie = 1;
				TipLicitatie = 1;
				TimpLicitatie = 5*60;
				TotalBani = 0;
				foreach(Player, i) {
					if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1) TotalMoney[i] = 0;
				}
				IDLicitatie = id;
				LastPlayer = -1;
				needlevel = HouseInfo[id][hLevel];
				format(string, sizeof(string), "O licitatie automata a fost inceputa pentru casa %d.", id);
				MesajLicitatie(COLOR_SYNTAX, string);
				format(string, sizeof(string), "Nume: Casa %d, Nivel Minim: %d, Incepe de la: 5,000$, Tip: Casa", id,needlevel);
				MesajLicitatie(COLOR_SYNTAX, string);
				format(string, sizeof(string), "Licitatia este disponibila timp de 5 minute.");
				MesajLicitatie(COLOR_SYNTAX, string);
			}			
			else if(minute == 0 && second == 0) SendAdminMessage(COLOR_LOGS, "AdmBot: Nu sunt proprietati ce poti fi scoase la licitatie.", 1);
		}
	}
	if(Licitatie == 1) {
		new query[256];
		TimpLicitatie --;
		if(TimpLicitatie == 0) {
			Licitatie = 0;
			if(LastPlayer == -1) SendClientMessageToAll(COLOR_YELLOW, "Licitatia a fost anulata deoarece nu s-a licitat nicio suma.");
			else {
				if(!IsPlayerConnected(LastPlayer) && TotalMoney[LastPlayer] == 0) SendClientMessageToAll(COLOR_YELLOW, "Licitatia a fost anulata deoarece ultimul jucator care a licitat nu mai este conectat.");
				else {
					MesajLicitatie(COLOR_SYNTAX, "Licitatie Incheiata");
					GivePlayerCash(LastPlayer, -TotalBani);
					switch(TipLicitatie) {
						case 1: {
							format(string, sizeof(string), "Jucatorul %s a licitat cea mai mare suma (%s) si a castigat casa %d", GetName(LastPlayer), FormatNumber(TotalMoney[LastPlayer]), IDLicitatie);
							MesajLicitatie(COLOR_SYNTAX, string);
							format(string, sizeof(string), "Ai primit casa %d cu succes. Felicitari!", IDLicitatie);
							SendClientMessage(LastPlayer, COLOR_YELLOW, string);
							format(query, sizeof(query), "UPDATE `users` SET `House`='999' WHERE `House`='%d'", IDLicitatie);
							mysql_query(SQL, query);
							foreach(Player, i) {
								if(IsPlayerConnected(i) && PlayerInfo[i][pHouse] == IDLicitatie) {
									SendClientMessage(i, COLOR_YELLOW, "Ai ramas fara casa deoarece a fost luata la licitatie. Motivul: probabil ai fost inactiv.");
									PlayerInfo[i][pHouse] = 999;
									Update(i,pHousex);
								}
							}
							PlayerInfo[LastPlayer][pHouse] = IDLicitatie;
							PlayerInfo[LastPlayer][pRented] = -1;
							HouseInfo[IDLicitatie][hOwned] = 1;
							HouseInfo[IDLicitatie][hValue] = 0;
							strmid(HouseInfo[IDLicitatie][hOwner], GetName(LastPlayer), 0, strlen(GetName(LastPlayer)), 255);
							Update(LastPlayer,pHousex);
							format(query,sizeof(query),"UPDATE `houses` SET `Owned`='1',`Owner`='%s',`Value`='0' WHERE `ID`='%d'",GetName(LastPlayer),IDLicitatie);
							mysql_query(SQL,query);
							UpdateLabel(1,IDLicitatie);
						}
						case 2: {	
							format(string, sizeof(string), "Jucatorul %s a licitat cea mai mare suma (%s) si a castigat business-ul %d", GetName(LastPlayer), FormatNumber(TotalMoney[LastPlayer]), IDLicitatie);
							MesajLicitatie(COLOR_SYNTAX, string);
						
							format(string, sizeof(string), "Ai primit afacerea %d cu succes. Felicitari!", IDLicitatie);
							SendClientMessage(LastPlayer, COLOR_YELLOW, string);
							format(query, sizeof(query), "UPDATE `users` SET `Bizz`='255' WHERE `Bizz`='%d'", IDLicitatie);
							mysql_query(SQL, query);
							foreach(Player, i) {
								if(IsPlayerConnected(i) && PlayerInfo[i][pBizz] == IDLicitatie) {
									SendClientMessage(i, COLOR_YELLOW, "Ai ramas fara afacere deoarece a fost luata la licitatie. Motivul: probabil ai fost inactiv.");
									PlayerInfo[i][pBizz] = 255;
									Update(i,pBizzx);
								}
							}
							PlayerInfo[LastPlayer][pBizz] = IDLicitatie;
							BizzInfo[IDLicitatie][bOwned] = 1;
							BizzInfo[IDLicitatie][bBuyPrice] = 0;
							strmid(BizzInfo[IDLicitatie][bOwner], GetName(LastPlayer), 0, strlen(GetName(LastPlayer)), 255);
							format(query,sizeof(query),"UPDATE users SET `Money`='%d',`Bizz`='%d' WHERE `ID`='%d'",GetPlayerCash(LastPlayer),PlayerInfo[LastPlayer][pBizz],PlayerInfo[LastPlayer][pSQLID]);
							mysql_query(SQL,query);
							format(query,sizeof(query),"UPDATE `bizz` SET `Owned`='1',`Owner`='%s',`BuyPrice`='0' WHERE `ID`='%d'",BizzInfo[IDLicitatie][bOwner],IDLicitatie);
							mysql_query(SQL,query);
							UpdateLabel(2,IDLicitatie);
						}
					}
					MesajLicitatie(COLOR_SYNTAX, "---");
				}
			}	
		}
	}
	
    new hours, minutes,seconds,swinner[128];
    getdate(year, month, day), gettime(hours, minutes, seconds);
    format(string, sizeof string, "%s%d/%s%d/%s%d~n~%s%d:%s%d", ((day < 10) ? ("0") : ("")), day, ((month < 10) ? ("0") : ("")), month, (year < 10) ? ("0") : (""), year, (hours < 10) ? ("0") : (""), hours, (minutes < 10) ? ("0") : (""), minutes);
    TextDrawSetString(Time, string);	
	new Float:x, Float:y, Float:z, salar;
	new szTD[512];
	foreach(Player,i)
	{
	    if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1)
	    {	
	   		if(TradeTime[i] > 0) {
				TradeTime[i] --;
				new id = TradeID[i];
				format(string, sizeof(string), "00:0%d", TradeTime[i]);
				PlayerTextDrawSetString(i, TradePTD[6], string);
				PlayerTextDrawSetString(id, TradePTD[6], string);
				PlayerTextDrawShow(i, TradePTD[6]);
				PlayerTextDrawShow(id, TradePTD[6]);
				if(TradeTime[i] == 0) {
					FinishTrade(i);
					PlayerTextDrawHide(i, TradePTD[6]);
					PlayerTextDrawHide(id, TradePTD[6]);
				}
			}
			if(!PlayerToPoint(100.0, i, LastPos[i][0], LastPos[i][1], LastPos[i][2]) && !IsPlayerInArea(i, -3000, 1799.7310,-1865.2614,13.5728) && Exception[i] == 0 && PlayerInfo[i][pAdmin] == 0 && SecondsAFK[i] < 10) {
				WarningsCheat[i] += 2;
				if(WarningsCheat[i] >= 5) { 				
					format(string, sizeof(string), "AdmWarning: %s (%d) este suspectat de teleport hack.", GetName(i), i);
					SendAdminMessage(COLOR_WARNING, string, 1);
				}				
			}
			if(WarningsCheat[i] > 0) WarningsCheat[i] --;
			if(Exception[i] > 0) Exception[i] --;
			GetPlayerPos(i, LastPos[i][0], LastPos[i][1], LastPos[i][2]);
			/*
			if(GetPlayerState(i) == PLAYER_STATE_DRIVER && GetPlayerInterior(i) == 0) {
				if(!nearPNS(i) && PlayerInfo[i][pAdmin] == 0) {
					new Float: vhp;
					GetVehicleHealth(GetPlayerVehicleID(i), vhp);
					if(vhp == 1000) {
						NightBot(i, "Vehicle repair");
						RemovePlayerFromVehicle(i);
					}					
				}
				if(!nearPNS2(i) && NearPNS[i] == 1) DisableRemoteVehicleCollisions(i, 0), NearPNS[i] = 0;
				if(nearPNS2(i)) {
					DisableRemoteVehicleCollisions(i, 1);
					NearPNS[i] = 1;
				}
			}	
			*/
		    if(PlayerInfo[i][pReportTime] >= 1) PlayerInfo[i][pReportTime] --;	     
			if(PlayerInfo[i][pNewbieMute] >= 1) PlayerInfo[i][pNewbieMute] --;		
			
			if(PaintType[i] != 0 && PlayersOnPaint(PaintType[i]-1) >= 2) {
				new pp = PaintType[i]-1;
				if(pp < 2) {
					format(string, sizeof(string), "Paintball time: %s~n~Current map: %s~n~Stats: %d kills, %d deaths.~n~Total score: %d~n~Best player: %s (kills: %d)~n~%d in players paintball.",
					CalculeazaTimp2(PaintTime[pp]), MapName2(pp), PKills[i], PDeaths[i], PKills[i]-PDeaths[i], GetName(PaintballWinner[pp]), PKills[PaintballWinner[pp]], PlayersOnPaint(pp));
				}
				else {
					new masadenume[32];
					GetWeaponNameEx(GetPlayerWeapon(i), masadenume, sizeof(masadenume));

					format(string, sizeof(string), "Paintball time: %s~n~Current map: %s~n~Stats: %d kills, %d deaths.~n~Total score: %d~n~Level %d, Weapon: %s~n~Best player: %s (kills: %d)~n~%d in players paintball.",
					CalculeazaTimp2(PaintTime[pp]), MapName2(pp), PKills[i], PDeaths[i], PKills[i]-PDeaths[i], GetPaintLevel(i), masadenume, GetName(PaintballWinner[pp]), PKills[PaintballWinner[pp]], PlayersOnPaint(pp));
				}
				
				if(PaintTime[pp] == 0) {
					for(new m = 0; m < 5; m++) SendDeathMessageToPlayer(i, 1001, 1001, 200);
					format(swinner, 256, "* %s a castigat runda cu %d ucideri.", GetName(PaintballWinner[pp]), PKills[PaintballWinner[pp]]);
					SendPaintMessage(PaintType[i], COLOR_YELLOW, swinner);
					format(string, sizeof(string), "Statistica ta in aceasta runda: %d ucideri si %d decese.", PKills[i], PDeaths[i]);
					SCM(i, COLOR_YELLOW, string);
					PaintTime[pp] = 300;
					PKills[i] = 0, PDeaths[i] = 0;
					PKills[PaintballWinner[pp]] = 0; PDeaths[PaintballWinner[pp]] = 0;
					SpawnPlayer(PaintballWinner[pp]);
					PaintballWinner[pp] = i;
					PaintballWinnerScore[pp] = 0;
					SpawnPlayer(i);
				}
				if(PaintTime[pp] != 0) {
					PlayerTextDrawSetString(i, PaintTD, string);
					PlayerTextDrawShow(i, PaintTD);
				}	
			}
			else PlayerTextDrawHide(i, PaintTD);
			
			if(PlayerInfo[i][pShowHud][3] != 0) UpdateProgress(i, 0);
			if(PlayerInfo[i][pShowHud][4] != 0) UpdateProgress(i, 1);
				
			if(IsPlayerInAnyVehicle(i)) {
				new Float: hpv;
				GetVehicleHealth(GetPlayerVehicleID(i), hpv);
				if(hpv == 1000.0) {
					for(new h = 1; h < sizeof(BizzInfo); h++) {
						if(IsPlayerInRangeOfPoint(i,10.0,BizzInfo[h][bEntranceX], BizzInfo[h][bEntranceY], BizzInfo[h][bEntranceZ])) {
							if(h == 14 || h == 15 || h == 16) {
								GivePlayerCash(i,-BizzInfo[h][bFee]);
								BizzInfo[h][bBalance] += BizzInfo[h][bFee];
								Update(i, pCashx);		
							    format(string, sizeof(string), "~r~-$%d", BizzInfo[h][bFee]);
								GameTextForPlayer(i, string, 1000, 1);							
							}
						}
					}	
					SetVehicleHealth(GetPlayerVehicleID(i), 999);
				}
			}
			
			// Record players
			if(PlayersOnline() > MaxPlayers) {
				MaxPlayers = PlayersOnline();
				SaveInfo();
				format(string, sizeof(string), "Players Connected: Noul record de playeri conectati este acum %d.", MaxPlayers);
				SendAdminMessage(COLOR_WARNING, string, 1);
			}
			if(PlayerInfo[i][pAdmin] > 0) {
				format(string,sizeof(string),"~r~~h~%d",AllReports);
	        	PlayerTextDrawSetString(i, ReportsInfo[i], string);
				PlayerTextDrawShow(i, ReportsInfo[i]);
			}
			if(PlayerInfo[i][pHelper] > 0) {
				format(string,sizeof(string),"%d",AllHelps);
	        	PlayerTextDrawSetString(i, HelpsInfo[i], string);
				PlayerTextDrawShow(i, HelpsInfo[i]);
			}
			if(PlayerInfo[i][pHelper] > 0 || PlayerInfo[i][pAdmin] > 0) {
				format(string,sizeof(string),"~b~~h~~h~%d",AllEvents);
	        	PlayerTextDrawSetString(i, EventsInfo[i], string);
				PlayerTextDrawShow(i, EventsInfo[i]);
			}
			new Float: pHealth[MAX_PLAYERS];
		    GetPlayerHealth(i, pHealth[i]);
		    new Float: pArmour[MAX_PLAYERS];
		    GetPlayerArmour(i, pArmour[i]);

		    if(PlayerInfo[i][pShowHud][0] != 0 && pHealth[i] >= 1)
		    {
		        new text[100];
		        format(text, sizeof(text), "%.0f", pHealth[i]);
		        PlayerTextDrawSetString(i, CleoTD[i][1], text);
		        PlayerTextDrawShow(i, CleoTD[i][1]);
				PlayerTextDrawColor(i, CleoTD[i][1], GetHudColor(PlayerInfo[i][pShowHud][0]));
		    }
		    else PlayerTextDrawHide(i, CleoTD[i][1]);

		    if(PlayerInfo[i][pShowHud][1] != 0 && pArmour[i] >= 1)
		    {
		        new text[100];
		        format(text, sizeof(text), "%.0f", pArmour[i]);
		        PlayerTextDrawSetString(i, CleoTD[i][2], text);
		        PlayerTextDrawShow(i, CleoTD[i][2]);
				PlayerTextDrawColor(i, CleoTD[i][2], GetHudColor(PlayerInfo[i][pShowHud][1]));
		    }
		    else PlayerTextDrawHide(i, CleoTD[i][2]);

		    if(PlayerInfo[i][pShowHud][2] == 1)
		    {
		        new text[100];
		        format(text, sizeof(text), "%d", FPS2[i]-1);
		        PlayerTextDrawSetString(i, CleoTD[i][0], text);
		        PlayerTextDrawShow(i, CleoTD[i][0]);
		    }
            else PlayerTextDrawHide(i, CleoTD[i][0]);
			
			if(PlayerInfo[i][pPremiumAccount] != 0) {
			    if(PlayerInfo[i][pPremiumAccount] == 1) {
			        if(7-GetDays(lastpremium[i]) < 0) PlayerInfo[i][pPremiumAccount] = 0, Update(i, pPremiumAccountx), SCM(i, COLOR_GOLD, "* Contul premium a expirat.");
			    }
				else if(PlayerInfo[i][pPremiumAccount] == 2) {
			        if(30-GetDays(lastpremium[i]) < 0) PlayerInfo[i][pPremiumAccount] = 0, Update(i, pPremiumAccountx), SCM(i, COLOR_GOLD, "* Contul premium a expirat.");
				}
			}
			
	        VerificaVehicul(i);
	          if(JobWorking[i] == 1) WorkingTime[i] ++;
			if(JobLeftTime[i] > 0) {
				JobLeftTime[i] --;
				if(JobLeftTime[i] == 60) SCM(i, COLOR_YELLOW, "Mai ai la dispozitie 1 minut sa intri in vehiculul de la job.");
				if(JobLeftTime[i] == 0) {
					SendClientMessage(i, COLOR_GREY, "Job esuat! Ai parasit vehiculul.");
					if(playerObject[i] != 0) DestroyPlayerObject(i, playerObject[i]), playerObject[i] = 0;
					if(playerObject2[i] != 0) DestroyObject(playerObject2[i]), playerObject2[i] = 0;
					JobWorking[i] = 0;
					PlayerTextDrawHide(i, JobTD);
					if(JobVehicle[i] != 0) { DestroyVehicle(JobVehicle[i]); JobVehicle[i] = 0; }
					if(Trailer[i] != 0) { DestroyVehicle(Trailer[i]); Trailer[i] = 0;  }
					PlayerTextDrawHide(i, InfosTD);
					DisablePlayerCheckpointEx(i);
					DisablePlayerRaceCheckpointEx(i);
					RemovePlayerAttachedObject(i, 6);
					RemovePlayerAttachedObject(i, 2);
					CP[i] = 0;
					JobVehicle[i] = 0;
					JobDeelay[i][PlayerInfo[i][pJob]] = 180;	
				//	DestroyWoodObject(i);	
				    }
			    }
			    if(AFKSeconds[i] >= 120) {
					if(JobWorking[i] == 1) {
						SCM(i, COLOR_GREY, "Job esuat! Ai stat AFK timp de 2 minute.");
						if(playerObject[i] != 0) DestroyPlayerObject(i, playerObject[i]), playerObject[i] = 0;
						if(playerObject2[i] != 0) DestroyObject(playerObject2[i]), playerObject2[i] = 0;
						JobWorking[i] = 0;
						PlayerTextDrawHide(i, JobTD);
						if(JobVehicle[i] != 0) { DestroyVehicle(JobVehicle[i]); JobVehicle[i] = 0; }
						if(Trailer[i] != 0) { DestroyVehicle(Trailer[i]); Trailer[i] = 0; }
						PlayerTextDrawHide(i, InfosTD);
						DisablePlayerCheckpointEx(i);
						DisablePlayerRaceCheckpointEx(i);
						CP[i] = 0;
						JobVehicle[i] = 0;
						JobDeelay[i][PlayerInfo[i][pJob]] = 180;
						RemovePlayerAttachedObject(i, 6);
						RemovePlayerAttachedObject(i, 2);
						SetPlayerSpecialAction(i, 0);		
						DestroyWoodObject(i);	
						if(PlayerInfo[i][pJob] == 3) ResetWeapons(i);
						SetPlayerSpecialAction(i, 0);
					}
				}
			if(PlayerInfo[i][pJob] == 1 && JobWorking[i] == 1) {
				if(PlayerToPoint(200, i, -346.3617,-1437.6451,20.0199) && Carspeed(i) > 25) {
					JobSeconds[i] --;
					UpdateJobStats(i);
					if(JobSeconds[i] == 0) {
						new rand = 10 + random(30);
						KG[i] = rand;
						format(string, sizeof(string), "Ai primit %d kilograme de faina. Du-te la un Burger Shot pentru a vinde faina.", KG[i]);
						SCM(i, COLOR_MONEY, string);
						SCM(i, COLOR_WHITE, "Pentru a afla unde este un Burger Shot, foloseste comanda /locations.");
						JobWorking[i] = 0;
						PlayerTextDrawHide(i, JobTD);
						if(JobVehicle[i] != 0) { DestroyVehicle(JobVehicle[i]); JobVehicle[i] = 0; }
						PlayerTextDrawHide(i, InfosTD);
						DisablePlayerCheckpointEx(i);
						JobVehicle[i] = 0;						
					}
				}
			}	
			if(PlayerInfo[i][pWantedLevel] >= 1)
		    {
				new str1[500];
				format(str1, sizeof(str1),"WANTED SCADE IN~N~~R~%d MINUTE", 10-WantedTime[i]);
				PlayerTextDrawSetString(i, WantedTD[i], str1);
				PlayerTextDrawShow(i, WantedTD[i]);
			}
			else PlayerTextDrawHide(i, WantedTD[i]);
			
			for(new sf = 0; sf < MAX_SAFEZONES; sf++)
			{
				if(SafeZone[sf][szRange] >= 15) {
					if(PlayerToPoint(SafeZone[sf][szRange], i, SafeZone[sf][szX], SafeZone[sf][szY], SafeZone[sf][szZ]) && Showed[i] == 0)
					{
						Showed[i] = 1;
						SFID[i] = sf;
						TextDrawShowForPlayer(i, SafeTD[0]);
						return 1;
					}
					else if(!PlayerToPoint(SafeZone[SFID[i]][szRange], i, SafeZone[SFID[i]][szX], SafeZone[SFID[i]][szY], SafeZone[SFID[i]][szZ]) && Showed[i] == 1)
					{
						Showed[i] = 0;
						SFID[i] = 0;
						TextDrawHideForPlayer(i, SafeTD[0]);
						return 1;
					}
				}
			}
            if(AdTimer[i] != 0) AdTimer[i] --;
			if(IsPlayerPaused(i) == false && PlayerInfo[i][pSleeping] == 0)
			{
				PlayerInfo[i][pSeconds] ++;
			}
			if(DespawnCar[i][0] >= 1 && !IsVehicleOccupied(CarInfo[PlayerInfo[i][pCarKey][0]][Spawned])) {
				DespawnCar[i][0] --;
				if(DespawnCar[i][0] == 0) DestroyPlayerCar(PlayerInfo[i][pCarKey][0]), DespawnCar[i][0] = -1;
			}
			if(DespawnCar[i][1] >= 1 && !IsVehicleOccupied(CarInfo[PlayerInfo[i][pCarKey][1]][Spawned])) {
				DespawnCar[i][1] --;
				if(DespawnCar[i][1] == 0) DestroyPlayerCar(PlayerInfo[i][pCarKey][1]), DespawnCar[i][1] = -1;
			}
			if(DespawnCar[i][2] >= 1 && !IsVehicleOccupied(CarInfo[PlayerInfo[i][pCarKey][2]][Spawned])) {
				DespawnCar[i][2] --;
				if(DespawnCar[i][2] == 0) DestroyPlayerCar(PlayerInfo[i][pCarKey][2]), DespawnCar[i][2] = -1;
			}
			if(DespawnCar[i][3] >= 1 && !IsVehicleOccupied(CarInfo[PlayerInfo[i][pCarKey][3]][Spawned])) {
				DespawnCar[i][3] --;
				if(DespawnCar[i][3] == 0) DestroyPlayerCar(PlayerInfo[i][pCarKey][3]), DespawnCar[i][3] = -1;
			}
			if(DespawnCar[i][4] >= 1 && !IsVehicleOccupied(CarInfo[PlayerInfo[i][pCarKey][4]][Spawned])) {
				DespawnCar[i][4] --;
				if(DespawnCar[i][4] == 0) DestroyPlayerCar(PlayerInfo[i][pCarKey][4]), DespawnCar[i][4] = -1;
			}
			
			/*anim = GetPlayerAnimationIndex(i);
			GetPlayerVelocity(i, animpos[0], animpos[1], animpos[2]);
			if(PlayerInfo[i][pAdmin] < 6)
			{
				if(animpos[0] <= -0.800000 || animpos[1] <= -0.800000 || animpos[2] <= -0.800000 && anim == 1008)
				{
					format(string, sizeof(string), "AdmCmd: %s a primti kick de la AdmBot, motiv: posibil Fly-Hack", GetNameEx(i));
					SendClientMessageToAll(COLOR_LIGHTRED, string);
					KickEx(i);
				}
			}*/
			if(IsPlayerPaused(i) == true && PlayerInfo[i][pSleeping] == 0)
			{
				if(HelperDuty[i] == 1) {
					if(SecondsAFK[i] == 60) {
						HelperDuty[i] = 0;
						SCM(HaveHelp[i], COLOR_HELPERC, "Intrebarea ta a fost stearsa deoarece helper-ul nu a raspuns in cele 60 de secunde.");
						Helped[HaveHelp[i]] = 0;
						HaveHelp[i] = -1;						
						SendClientMessage(i, COLOR_LGREEN, "Acum nu mai esti la datorie ca helper deoarece ai stat AFK mai mult de un minut.");
					}
				}
	
				
				SecondsAFK[i] ++;
				if(SecondsAFK[i] == 1800) {
					format(string, sizeof(string), "AdmCmd: %s a primti kick de la AdmBot, motiv: AFK fara /sleep mai mult de 30 minute", GetNameEx(i));
					SendClientMessageToAll(COLOR_LIGHTRED, string);
					KickEx(i);
				}
				if(SecondsAFK[i] == 60) {
				    if(JobWorking[i] == 1) {
					    SCM(i, COLOR_GOLD, "Misiune esuata, ai stat afk 1 minut in timp ce munceai.");
						JobWorking[i] = 0;
						PlayerTextDrawHide(i, JobTD);
						if(JobVehicle[i] != 0) { DestroyVehicle(JobVehicle[i]); JobVehicle[i] = 0; }
						if(Trailer[i] != 0) { DestroyVehicle(Trailer[i]); Trailer[i] = 0; TruckerRoute[i] = 15; }
						PlayerTextDrawHide(i, InfosTD);
						DisablePlayerCheckpoint(i);
						CP[i] = 0;
						JobVehicle[i] = 0;
						HideFarmerObjects(i);
						HideMowerObjects(i);
						RemovePlayerAttachedObject(i, 2);
					    for(new d=0; d<MAX_PLAYER_ATTACHED_OBJECTS; d++)
					    {
					        if(IsPlayerAttachedObjectSlotUsed(i, d)) RemovePlayerAttachedObject(i, d);
					    }
					}
				}
			}
		    else SecondsAFK[i] = 0;

	        if(JobWorking[i] == 1) {
				for(new s=0; s<12; s++) {
					if(objstats[i][s] != 0) {
					    GetPlayerObjectPos(i, mowerobj[i][s], x, y, z);
					    if(PlayerToPoint(6.0, i, x, y, z)) {
							SetPlayerObjectPos(i, mowerobj[i][s], x, y, z-4);
							MovePlayerObject(i, mowerobj[i][s], x, y, z, 1);
							PlayerTextDrawSetString(i, InfosTD, "Ai curatat cu succes acest loc.~n~Pentru a evitua abuzurile, vei putea curata aceasta zona~n~peste 5 minute.");
							PlayerTextDrawShow(i, InfosTD);
							SetTimerEx("HideTextdraw", 5000, 0, "%d", i);
							SetTimerEx("SetVariable", 300000, 0, "dd", i, s);
							objstats[i][s] = 0;
							CurseFacute[i]++;
							PlayerInfo[i][pMowerSkill]++;
							Update(i, pMowerSkillx);
							salar = GetPlayerSkill(i)*100;
							if(PlayerInfo[i][pPremiumAccount] >= 1) salar += salar/4;
							MoneyEarned[i] += salar;
							GivePlayerCash(i, salar);
						}
					}
				}

				for(new o=0; o<70; o++) {
					if(farmobj[i][o] != 0) {
					    GetPlayerObjectPos(i, farmobj[i][o], x, y, z);
					    if(PlayerToPoint(3.0, i, x, y, z)) {
							DestroyPlayerObject(i, farmobj[i][o]);
							farmobj[i][o] = 0;
							Farming[i] ++;
							if(Farming[i] == 70) {
							    DisablePlayerCheckpoint(i);
								SetPlayerCheckpointEx(i, -83.3521, 53.2890, 3.1561, 10.0);
								CP[i] = 56;
								PlayerTextDrawSetString(i, InfosTD, "Du-te la punctul rosu de pe mapa pentru a primit~n~salariul.");
								SetTimerEx("HideTextdraw", 5000, 0, "%d", i);
								PlayerTextDrawShow(i, InfosTD);
							}
						}
					}
				}
			}
	        //
		    if(PlayerInfo[i][pShowFP] == 1) {
	            format(string, sizeof(string), "FPS: ~y~%d~w~~h~~n~Ping: ~y~%d", FPS2[i]-1, GetPlayerPing(i));
	            PlayerTextDrawSetString(i, ShowTD, string);
	            PlayerTextDrawShow(i, ShowTD);
	        }
	        if(JobWorking[i] == 1 && PlayerInfo[i][pShowJob] == 1) {
	            switch(PlayerInfo[i][pJob]) {
					case 1: {
					    format(string, sizeof(string), "Informatii job:~n~La acest job, ai skill %d (%d puncte).~n~Ai nevoie de %d puncte pentru a avansa.~n~Bani castigati: $%s, Curse facute: %d~n~Muncitori: %d",
					    GetPlayerSkill(i), PlayerInfo[i][pTruckerSkill], GetNeedPoints(i, PlayerInfo[i][pJob]), FormatNumber(MoneyEarned[i]), CurseFacute[i], GetJobWorkers(1));
						PlayerTextDrawSetString(i, JobTD, string);
						PlayerTextDrawShow(i, JobTD);
					}
					case 2: {
					    format(string, sizeof(string), "Informatii job:~n~La acest job, ai skill %d (%d puncte).~n~Ai nevoie de %d puncte pentru a avansa.~n~Kilograme de gunoi: %d/%d~n~Muncitori: %d",
						GetPlayerSkill(i), PlayerInfo[i][pGarbageSkill], GetNeedPoints(i, PlayerInfo[i][pJob]), GunoiKG[i], GetPlayerSkill(i)*25, GetJobWorkers(2));
						PlayerTextDrawSetString(i, JobTD, string);
						PlayerTextDrawShow(i, JobTD);
					}
					case 3: {
					    format(string, sizeof(string), "Informatii job:~n~La acest job, ai skill %d (%d puncte).~n~Ai nevoie de %d puncte pentru a avansa.~n~Doors: %d/70~n~Muncitori: %d",
						GetPlayerSkill(i), PlayerInfo[i][pFarmerSkill], GetNeedPoints(i, PlayerInfo[i][pJob]), Farming[i], GetJobWorkers(3));
						PlayerTextDrawSetString(i, JobTD, string);
						PlayerTextDrawShow(i, JobTD);
					}
					case 4: {
					    format(string, sizeof(string), "Informatii job:~n~La acest job, ai skill %d (%d puncte).~n~Ai nevoie de %d puncte pentru a avansa.~n~Bani castigati: $%s, Mizerie curatata: %d~n~Muncitori: %d",
					    GetPlayerSkill(i), PlayerInfo[i][pMowerSkill], GetNeedPoints(i, PlayerInfo[i][pJob]), FormatNumber(MoneyEarned[i]), CurseFacute[i], GetJobWorkers(4));
						PlayerTextDrawSetString(i, JobTD, string);
						PlayerTextDrawShow(i, JobTD);
					}
					case 9: {
					    format(string, sizeof(string), "Informatii job:~n~La acest job, ai skill %d (%d puncte).~n~Ai nevoie de %d puncte pentru a avansa.~n~Bani castigati: $%s, Curse facute: %d~n~Muncitori: %d",
					    GetPlayerSkill(i), PlayerInfo[i][pConstructorSkill], GetNeedPoints(i, PlayerInfo[i][pJob]), FormatNumber(MoneyEarned[i]), CurseFacute[i], GetJobWorkers(9));
						PlayerTextDrawSetString(i, JobTD, string);
						PlayerTextDrawShow(i, JobTD);
					}
					case 10: {
					    format(string, sizeof(string), "Informatii job:~n~La acest job, ai skill %d (%d puncte).~n~Ai nevoie de %d puncte pentru a avansa.~n~Bani castigati: $%s, Pesti prinsi: %d~n~Muncitori: %d",
					    GetPlayerSkill(i), PlayerInfo[i][pFishSkill], GetNeedPoints(i, PlayerInfo[i][pJob]), FormatNumber(MoneyEarned[i]), CurseFacute[i], GetJobWorkers(10));
						PlayerTextDrawSetString(i, JobTD, string);
						PlayerTextDrawShow(i, JobTD);
					}
	            }
	        }

	        if(PlayerInfo[i][pShowFaction] == 1) {
	            if(PlayerInfo[i][pRank] == 7) {
					format(string, sizeof(string), "Faci parte din factiunea %s~n~Esti lider in aceasta factiune.~n~Raport: Nu este obligatoriu (%d)~n~Membrii conectati: %d",
					NumeFactiune(PlayerInfo[i][pMember]), PlayerInfo[i][pCommands], GetFactionMembersOn(i));
					PlayerTextDrawSetString(i, JobTD, string);
					PlayerTextDrawShow(i, JobTD);
	            }
			   	else if(PlayerInfo[i][pCommands] < GetNeedPointsR(i)) {
					format(string, sizeof(string), "Faci parte din factiunea %s~n~Ai rank %d in aceasta factiune.~n~Raport: Neterminat (%d/%d)~n~Membrii conectati: %d",
				 	NumeFactiune(PlayerInfo[i][pMember]), PlayerInfo[i][pRank], PlayerInfo[i][pCommands], GetNeedPointsR(i), GetFactionMembersOn(i));
				 	PlayerTextDrawSetString(i, JobTD, string);
					PlayerTextDrawShow(i, JobTD);
				}
				else {
					format(string, sizeof(string), "Faci parte din factiunea %s~n~Ai rank %d in aceasta factiune.~n~Raport: Terminat (%d)~n~Membrii conectati: %d",
					NumeFactiune(PlayerInfo[i][pMember]), PlayerInfo[i][pRank], PlayerInfo[i][pCommands], GetFactionMembersOn(i));
					PlayerTextDrawSetString(i, JobTD, string);
					PlayerTextDrawShow(i, JobTD);
				}
				
				if(IsAMember(i)) {
					new faction = PlayerInfo[i][pMember];
					for(new wi = 1;wi < sizeof(TurfInfo);wi++)
					{
						if((WarInfo[wi][wFaction] == faction) || (WarInfo[wi][wAttacker] == faction))
						{
							new attackers = WarInfo[wi][wAttacker];
							new defenders = WarInfo[wi][wFaction];
							new uciderii = 0;
							uciderii += ucideri[i][wi];
							new decesee = 0;
							decesee += decese[i][wi];
							new Float: atscore = 0.0;
							new Float: defscore = 0.0;
							atscore = WarScoreF[attackers][wi];
							defscore = WarScoreF[defenders][wi];
							if(WarInfo[wi][wFaction] == faction)
							{
								format(string, sizeof(string), "Teritoriu atacat de %s~n~%s - %s~n~Scor: %.1f - %.1f~n~Timp war: %s~n~Ucideri: %d Decese: %d Scor: %d",
								NumeFactiune(TurfInfo[wi][zOwned]),NumeFactiune(attackers),NumeFactiune(defenders),atscore,defscore,
								CalculeazaTimp2(WarInfo[wi][wTime]), uciderii, decesee, uciderii-decesee);
							}
							if(WarInfo[wi][wAttacker] == faction)
							{
								format(string, sizeof(string), "Ati atacat teritoriul %s~n~%s - %s~n~Scor: %.1f - %.1f~n~Timp war: %s~n~Ucideri: %d Decese: %d Scor: %d",
								NumeFactiune(TurfInfo[wi][zOwned]),NumeFactiune(attackers),NumeFactiune(defenders),atscore,defscore,
								CalculeazaTimp2(WarInfo[wi][wTime]), uciderii, decesee, uciderii-decesee);
							}
						}
					}
    				PlayerTextDrawSetString(i, JobTD, string);
					PlayerTextDrawShow(i, JobTD);
				}	
	        }
	        
			if(IsAMember(i))
			{
			    SpawnChange[i] = 0;
				new faction = PlayerInfo[i][pMember];
				for(new wi = 1; wi < sizeof(TurfInfo);wi++) {
					if((WarInfo[wi][wFaction] == faction) || (WarInfo[wi][wAttacker] == faction)) {
						if(playerDeath[i] == 0 && GetPlayerInterior(i) == 0 && IsAMember(i) && GetPlayerVirtualWorld(i) == 0 && PlayerInfo[i][pWantedLevel] == 0 && PlayerInfo[i][pJailTime] == 0) {						    
							SetPlayerVirtualWorld(i, wi);
							format(string, sizeof(string), "Ai fost teleportat in virtual world-ul %d deoarece mafia ta este intr-un war.", wi);
							SCM(i, COLOR_YELLOW, string);
						}						
					}
				}

				if(IsPlayerInTurf(i, InWarTurf[PlayerInfo[i][pMember]])) {
					new turf = InWarTurf[PlayerInfo[i][pMember]];
					if(WarInfo[turf][wFaction] == PlayerInfo[i][pMember] || WarInfo[turf][wAttacker] == PlayerInfo[i][pMember]) {
						if(IsPlayerPaused(i) == false) WarSeconds[i] ++;
						if(TurfTime[i] == 0 && IsPlayerInAnyVehicle(i)) SCM(i, COLOR_YELLOW, "Ai intrat pe teritoriu. Peste 10 secunde o sa fii dat jos din vehicul.");
						if(TurfTime[i] < 10) TurfTime[i] ++;
						if(TurfTime[i] == 10) {
							if(IsPlayerInAnyVehicle(i)) {
								new Float: Pos[3];
								GetPlayerPos(i, Pos[0], Pos[1], Pos[2]);
								SetPlayerPosEx(i, Pos[0], Pos[1], Pos[2]+1);
							}
						}
					}
				}				
			}
			

		    if(SafeTime[i] > 0)
			{
				SafeTime[i]--;
			}
			if(SafeTime[i] == 1)
			{
				if(gPlayerAccount[i] == 1 && IsPlayerLogged[i] == 0)
				{
					new loginname[64];
					new loginstring[128];
					GetPlayerName(i,loginname,64);
					format(loginstring,sizeof(loginstring),"Contul a fost inregistrat cu succes!\n\nIntrodu parola mai jos pentru a te autentifica.",loginname);
					ShowPlayerDialog(i,DIALOG_LOGIN2,DIALOG_STYLE_PASSWORD,"SERVER: Login",loginstring,"Login","Cancel");
				}
			}
			new newcar = GetPlayerVehicleID(i);
			new level = PlayerInfo[i][pLevel];
			if(level >= 0 && level <= 2) { PlayerInfo[i][pPayCheck] += 2; }
			else if(level >= 3 && level <= 4) { PlayerInfo[i][pPayCheck] += 3; }
			else if(level >= 5 && level <= 6) { PlayerInfo[i][pPayCheck] += 4; }
			else if(level >= 7 && level <= 8) { PlayerInfo[i][pPayCheck] += 5; }
			else if(level >= 9 && level <= 10) { PlayerInfo[i][pPayCheck] += 6; }
			else if(level >= 11 && level <= 12) { PlayerInfo[i][pPayCheck] += 7; }
			else if(level >= 13 && level <= 14) { PlayerInfo[i][pPayCheck] += 8; }
			else if(level >= 15 && level <= 16) { PlayerInfo[i][pPayCheck] += 9; }
			else if(level >= 17 && level <= 18) { PlayerInfo[i][pPayCheck] += 10; }
			else if(level >= 19 && level <= 20) { PlayerInfo[i][pPayCheck] += 11; }
			else if(level >= 21) { PlayerInfo[i][pPayCheck] += 12; }
		    if(PlayerInfo[i][pJailed] > 0)
		    {
		        PlayerInfo[i][pJailTime] --;
				if(PlayerInfo[i][pJailTime] <= 0)
				{
				    PlayerInfo[i][pJailTime] = 0;
					if(PlayerInfo[i][pJailed] == 1) PutPlayerInJail(i);
					PlayerInfo[i][pJailed] = 0;
                    SetPlayerPosEx(i, 268.3155,76.2733,1001.0391);
					SCM(i, -1,  "Sentinta ta s-a terminat. Acum esti liber!");
					GameTextForPlayer(i, string, 5000, 1);
     				if(PlayerInfo[i][pChar] > 0)
			        {
						SetPlayerSkinEx(i, PlayerInfo[i][pChar]);
			        }
			        else
			        {
						SetPlayerSkinEx(i, PlayerInfo[i][pModel]);
			        }
					SetPlayerSpecialAction(i,SPECIAL_ACTION_NONE);
			    	RemovePlayerAttachedObject(i,1);
					TextDrawHideForPlayer(i, Jailtime[i]);
					if(PlayerInfo[i][pChar] > 0)
                	{
			    		SetPlayerSkinEx(i, PlayerInfo[i][pChar]);
                	}
                	else
                 	{
				     	SetPlayerSkinEx(i, PlayerInfo[i][pModel]);
                 	}
					ClearCrime(i);
					SetPlayerToTeamColor(i);
					Update(i,pJailedx);
					Update(i,pJailTimex);
					TogglePlayerControllable(i, 1);
				}
			}
			if(PlayerInfo[i][pSleeping] == 1)
			{
				SetPlayerHealthEx(i, 100);
			}
			if(GetPlayerState(i) == PLAYER_STATE_DRIVER && Speedlimit[i])
			{
				new a, b, c;
				GetPlayerKeys(i, a, b ,c);
				if(a == 8 && GetVehicleSpeed(GetPlayerVehicleID(i), 0) > Speedlimit[i])
				{
					new newspeed = GetVehicleSpeed(GetPlayerVehicleID(i), 0) - Speedlimit[i];
					ModifyVehicleSpeed(GetPlayerVehicleID(i), -newspeed);
				}
			}
			if(GetPlayerState(i) == PLAYER_STATE_DRIVER && !IsAPlane(GetPlayerVehicleID(i))) {
				new speed = Carspeed(i);		
				if(speed > 230 && PlayerInfo[i][pAdmin] < 1 && !IsPlayerInArea(i, -3000, -2274.5, -1776, -859.5))
				{	
					if(GetVehicleModel(i) == 522 && speed < 250) return 1;
					format(string, sizeof(string), "AdmWarning: %s(%d) conduce cu %.0d km/h un %s.", GetName(i),i,speed,aVehicleNames[GetVehicleModel(GetPlayerVehicleID(i))-400]);
					SendAdminMessage(COLOR_WARNING, string,1);
				}
			}
			
			if(PlayerInfo[i][pMuted] > 0)
		    {
				if(PlayerInfo[i][pMuteTime] > 0)
				{
					PlayerInfo[i][pMuteTime]--;
				}
				if(PlayerInfo[i][pMuteTime] <= 0)
				{
				    PlayerInfo[i][pMuteTime] = 0;
                    SendClientMessage(i, COLOR_LIGHTRED, "* Timpul in care aveai mute a expirat.");
					PlayerInfo[i][pMuted] = 0;
				}
			}
			if(targetfind[i] >= 0 && UsedFind[i] == 1)
   			{
				new target, j;
				target = targetfind[i];
				if(InBussines[target] > 0) {
					j = InBussines[target];
					SetPlayerCheckpointEx(i,BizzInfo[j][bEntranceX], BizzInfo[j][bEntranceY], BizzInfo[j][bEntranceZ],4);
					format(szTD, sizeof(szTD), "Name: ~r~~h~%s (%d)~w~~h~~n~Distance: ~r~~h~%0.1f m (%s)", GetName(targetfind[i]), targetfind[i], GetPlayerDistanceFromPoint(i, BizzInfo[j][bEntranceX], BizzInfo[j][bEntranceY], BizzInfo[j][bEntranceZ]), GetCity(target));
					PlayerTextDrawSetString(i, FindTD, szTD);
					PlayerTextDrawShow(i, FindTD);
				}
				else if(InHouse[target] > 0) {
					j = InHouse[target];
					SetPlayerCheckpointEx(i,HouseInfo[j][hEntrancex],HouseInfo[j][hEntrancey],HouseInfo[j][hEntrancez],4);
					format(szTD, sizeof(szTD), "Name: ~r~~h~%s (%d)~w~~h~~n~Distance: ~r~~h~%0.1f m (%s)", GetName(targetfind[i]), targetfind[i], GetPlayerDistanceFromPoint(i, HouseInfo[j][hEntrancex],HouseInfo[j][hEntrancey],HouseInfo[j][hEntrancez]), GetCity(target));
					PlayerTextDrawSetString(i, FindTD, szTD);
					PlayerTextDrawShow(i, FindTD);
				}
				else if(InHQ[target] > 0) {
					j = InHQ[target];
					SetPlayerCheckpointEx(i,DynamicFactions[j][extX], DynamicFactions[j][extY], DynamicFactions[j][extZ],4);
					format(szTD, sizeof(szTD), "Name: ~r~~h~%s (%d)~w~~h~~n~Distance: ~r~~h~%0.1f m (%s)", GetName(targetfind[i]), targetfind[i], GetPlayerDistanceFromPoint(i, DynamicFactions[j][extX], DynamicFactions[j][extY], DynamicFactions[j][extZ]), GetCity(target));
					PlayerTextDrawSetString(i, FindTD, szTD);
					PlayerTextDrawShow(i, FindTD);				
				}
				else {
					GetPlayerPos(target,x,y,z);
					SetPlayerCheckpointEx(i,x,y,z,4);
					format(szTD, sizeof(szTD), "Name: ~r~~h~%s (%d)~w~~h~~n~Distance: ~r~~h~%0.1f m (%s)", GetName(targetfind[i]), targetfind[i], GetPlayerDistanceFromPoint(i, x,y,z), GetCity(target));
					PlayerTextDrawSetString(i, FindTD, szTD);
					PlayerTextDrawShow(i, FindTD);
				}
   			}
   			else PlayerTextDrawHide(i, FindTD);
   			
		    if(IsABoat(newcar))
			{
			    if(PlayerInfo[i][pBoatLic] < 1 && GetPlayerState(i) == 2 && TakingLesson[i] != 2)
				{
				    RemovePlayerFromVehicleEx(i);
				}
			}
			else if(IsAPlane(newcar))
			{
			    if(PlayerInfo[i][pFlyLic] < 1 && GetPlayerState(i) == 2)
				{
				    if(TakingLesson[i] == 1  || TakingLesson[i] == 2) { }
				    else { RemovePlayerFromVehicleEx(i); }
				}
			}
			else
			{
				if(PlayerInfo[i][pCarLic] < 1 && IsPlayerInAnyVehicle(i) && GetPlayerState(i) == 2)
				{
					if(TakingLesson[i] == 1) { }
				}
			}//Done with car check
			if(PlayerInfo[i][pWantedLevel] == 0)
			{
			    SetPlayerWantedLevel(i,0);
			}
	        if(PlayerInfo[i][pWantedLevel] == 1)
			{
			    SetPlayerWantedLevel(i,1);
			}
			if(PlayerInfo[i][pWantedLevel] == 2)
			{
			    SetPlayerWantedLevel(i,2);
			}
			if(PlayerInfo[i][pWantedLevel] == 3)
			{
			    SetPlayerWantedLevel(i,3);
			}
			if(PlayerInfo[i][pWantedLevel] == 4)
			{
			    SetPlayerWantedLevel(i,4);
			}
			if(PlayerInfo[i][pWantedLevel] == 5)
			{
			    SetPlayerWantedLevel(i,5);
			}
			if(PlayerInfo[i][pWantedLevel] >= 6)
			{
			    SetPlayerWantedLevel(i,6);
			}
			if(PlayerTazeTime[i] >= 1)
			{
			    PlayerTazeTime[i] += 1;
			    if(PlayerTazeTime[i] == 15)
			    {
                    PlayerTazeTime[i] = 0;
			    }
			    else
			    {
			        new Float:angle;
					GetPlayerFacingAngle(i, angle);
					SetPlayerFacingAngle(i, angle + 90);
			    }
			}
			if(PlayerDrunk[i] >= 5)
			{
			    PlayerDrunkTime[i] += 1;
			    if(PlayerDrunkTime[i] == 8)
			    {
			        PlayerDrunkTime[i] = 0;
			        new Float:angle;
					GetPlayerFacingAngle(i, angle);
					if(IsPlayerInAnyVehicle(i))
					{
					    if(GetPlayerState(i) == 2)
					    {
					    	SetVehicleZAngle(GetPlayerVehicleID(i), angle + 15);
					    	SetPlayerDrunkLevel (i, 5000);
						}
					}
					else
					{
					    LoopingAnim(i,"PED","WALK_DRUNK",4.0,1,1,1,1,0);
					    SetPlayerDrunkLevel (i, 5000);
					}
			    }
			}
			if(PlayerStoned[i] >= 2)
			{
			    new Float:angle;
				GetPlayerFacingAngle(i, angle);
				if(IsPlayerInAnyVehicle(i))
				{
					if(GetPlayerState(i) == 2)
					{
					    SetVehicleZAngle(GetPlayerVehicleID(i), angle + 15);
					    SetPlayerDrunkLevel (i, 5000);
					}
				}
				else
				{
					SetPlayerDrunkLevel (i, 5000);
				}
			}
			if(IsSmoking[i] > 0)
			{
			    if(IsSmoking[i] == 1)
			    {
				    if(PlayerInfo[i][pSex] == 1)
					{
						format(string, sizeof(string), "* %s a terminat de fumat tigara.", GetName(i));
					}
					else
					{
						format(string, sizeof(string), "* %s terminat de fumat tigara.", GetName(i));
					}
				    ProxDetector(30.0, i, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
				    new Float:PlayerHealth;
				    GetPlayerHealthEx(i, PlayerHealth);
				    if(PlayerHealth >= 93)
			        {
			        	SetPlayerHealthEx(i, 100);
			        }
			        else
					{
				    	SetPlayerHealthEx(i, PlayerHealth+7);
				    }
			    }
			    if(IsSmoking[i] == 51)
			    {
			        if(PlayerInfo[i][pSex] == 1)
					{
						format(string, sizeof(string), "* %s terminat de fumat tigara.", GetName(i));
					}
					else
					{
						format(string, sizeof(string), "* %s terminat de fumat tigara.", GetName(i));
					}
			        ProxDetector(30.0, i, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
			        new Float:PlayerHealth;
			        GetPlayerHealthEx(i, PlayerHealth);
			        if(PlayerHealth >= 93)
			        {
			        	SetPlayerHealthEx(i, 100);
			        }
			        else
					{
				    	SetPlayerHealthEx(i, PlayerHealth+7);
				    }
			    }
			    if(IsSmoking[i] == 31)
			    {
			        if(PlayerInfo[i][pSex] == 1)
					{
						format(string, sizeof(string), "* %s flicks from his cigaretteterminat de fumat tigara.", GetName(i));
					}
					else
					{
						format(string, sizeof(string), "* %s terminat de fumat tigara.", GetName(i));
					}
			        ProxDetector(30.0, i, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
			        new Float:PlayerHealth;
			        GetPlayerHealthEx(i, PlayerHealth);
			        if(PlayerHealth >= 93)
			        {
			        	SetPlayerHealthEx(i, 100);
			        }
			        else
					{
				    	SetPlayerHealthEx(i, PlayerHealth+7);
				    }
			    }
			    if(IsSmoking[i] == 11)
			    {
			        if(PlayerInfo[i][pSex] == 1)
					{
						format(string, sizeof(string), "* %s terminat de fumat tigara.", GetName(i));
					}
					else
					{
						format(string, sizeof(string), "* %s terminat de fumat tigara.", GetName(i));
					}
			        ProxDetector(30.0, i, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
			        new Float:PlayerHealth;
			        GetPlayerHealthEx(i, PlayerHealth);
			        if(PlayerHealth >= 93)
			        {
			        	SetPlayerHealthEx(i, 100);
			        }
			        else
					{
				    	SetPlayerHealthEx(i, PlayerHealth+7);
				    }
			    }
			    IsSmoking[i] -= 1;
			}
			if(TaxiCallTime[i] > 0)
			{
			    if(TaxiAccepted[i] < 999)
			    {
				    if(IsPlayerConnected(TaxiAccepted[i]))
				    {
				        new Float:X,Float:Y,Float:Z;
						GetPlayerPos(TaxiAccepted[i], X, Y, Z);
						SetPlayerCheckpointEx(i, X, Y, Z, 5);
				    }
				}
			}
			if(MechanicCallTime[i] > 0)
			{

			}
			if(PlayerCuffed[i] == 1)
			{
			    if(PlayerCuffedTime[i] <= 0)
			    {
			        TogglePlayerControllable(i, 1);
			        PlayerCuffed[i] = 0;
			        PlayerCuffedTime[i] = 0;
			        PlayerTazeTime[i] = 1;
			    }
			    else
			    {
			        PlayerCuffedTime[i] -= 1;
			    }
			}
			if(PlayerCuffed[i] == 2)
			{
			    if(PlayerCuffedTime[i] <= 0)
			    {
			        GameTextForPlayer(i, "~r~~h~Esti liber acum!", 2500, 3);
			        TogglePlayerControllable(i, 1);
			        PlayerCuffed[i] = 0;
			        PlayerCuffedTime[i] = 0;
			    }
			    else
			    {
			        PlayerCuffedTime[i] -= 1;
			    }
			}
		}
	}
	return 1;
}

function Checkvehinfo()
{
	foreach(Player,i)
	{
    	if(IsPlayerConnected(i))
       	{
       	    if(GetPlayerState(i) == PLAYER_STATE_DRIVER && InDealer[i] == 0)
       	    {
	       		new vehicle = GetPlayerVehicleID(i);
                new spe = Carspeed(i);
                new status[256], str[500];
				new engine,lights,alarm,doors,bonnet,boot,objective;
				new carid = FindSpawnID(vehicle);
				GetVehicleParamsEx(vehicle,engine,lights,alarm,doors,bonnet,boot,objective);
				if(doors == 1) { status = "~r~~h~Incuiat~w~"; }
				else if(doors == 0) { status = "~g~~h~Descuiat~w~"; }
				else { status = "~g~~h~Unlocked~w~"; }
				if(CarInfo[carid][cID] != -2 && carid != 0 && !IsAPlane(vehicle)) format(str, sizeof(str), "Combustibil: %d%s~w~~h~~n~Viteza: %d km/h~n~Kilometraj: %.2f km~w~~n~~h~Status: %s",Gas[vehicle],"%",spe,CarInfo[carid][KM],status);
				else format(str, sizeof(str), "Combustibil: %d%s~w~~h~~n~Viteza: %d km/h", Gas[vehicle], "%", spe);
				if(CP[i] != 0 && PlayerInfo[i][pGPS] == 1) {
					new Float: fDistance = GetPlayerDistanceFromPoint(i, CheckpointPos[i][0], CheckpointPos[i][1], CheckpointPos[i][2]);
					new szZone[128];
					GetPlayer3DZone2(CheckpointPos[i][0], CheckpointPos[i][1], CheckpointPos[i][2], szZone, sizeof(szZone));
					format(str, sizeof(str), "%s~n~~h~~y~%s (%0.1fm)", str, szZone, fDistance);
				}	
				PlayerTextDrawSetString(i, Speedo, str);
				PlayerTextDrawShow(i, Speedo);				
			}
    	}
	}
	return 1;
}


function CheckGas()
{
	new engine,lights,alarm,doors,bonnet,boot,objective;
	foreach(Player,i)
	{
   	    if(GetPlayerState(i) == PLAYER_STATE_DRIVER)
   	    {
       		new vehicle = GetPlayerVehicleID(i), query[256];
			if(Gas[vehicle] >= 1)
			{
	   		    if(vehEngine[vehicle] == 1)
	   		    {
					if(IsAPlane(vehicle) || IsABoat(vehicle) || IsABike(vehicle)) { Gas[vehicle] = 101; }
	              	Gas[vehicle]--;
	              	new carid = FindSpawnID(vehicle);
		            if(CarInfo[carid][cID] != -2 && carid != 0)
					{
                        new spe = Carspeed(i);
                        if(IsPlayerPaused(i) == false) {
							if(spe > 5 && GetPlayerState(i) == PLAYER_STATE_DRIVER && GetPlayerVehicleID(i) == vehicle)
							{
							    if(!IsABoat(vehicle) && !IsAPlane(vehicle))
							    {
								    CarInfo[carid][KM] += (spe*0.27)/100; // 1000
								   	format(query, sizeof(query), "UPDATE `cars` SET `KM`='%f' WHERE `ID`='%d'", CarInfo[carid][KM], carid);
									mysql_query(SQL, query);
								}
							}
						}
					}
				}
	   		}
   			else
           	{
              	NoFuel[i] = 1;
              	RemovePlayerFromVehicle(i);
	        	GameTextForPlayer(i,"~w~~n~~n~~n~~n~~n~~n~~n~~n~Nu este benzina in acest vehicul.",1500,3);
	        	vehEngine[vehicle] = 0;
    			GetVehicleParamsEx(vehicle,engine,lights,alarm,doors,bonnet,boot,objective);
      	    	SetVehicleParamsEx(vehicle,VEHICLE_PARAMS_OFF,lights,alarm,doors,bonnet,boot,objective);
      	    	SetPVarInt(i, "Engine", 0);
			}
		}
	}
	return 1;
}
function OnEnterExitModShop(playerid, enterexit, interiorid)
{
    if(enterexit == 0)
    {
		if(IsPlayerInRangeOfPoint(playerid,10.0,617.5360,-1.9900,1000.6647) || IsPlayerInRangeOfPoint(playerid,10.0,616.7844,-74.8150,997.7675))
		{
			if(GetPlayerCash(playerid) >= BizzInfo[17][bFee])
			{
				GivePlayerCash(playerid,-BizzInfo[17][bFee]);
				Update(playerid, pCashx);
				BizzInfo[17][bBalance] += BizzInfo[17][bFee];
				BizzInfo[17][bProducts]--;
				SBUpdate(17, sbBalancex);
				SBUpdate(17, sbProductsx);
				return 1;
			}
			else if(enterexit == 1)
    		{
				if(IsPlayerInRangeOfPoint(playerid,10.0,617.5360,-1.9900,1000.6647) || IsPlayerInRangeOfPoint(playerid,10.0,616.7844,-74.8150,997.7675))
				{
					if(GetPlayerCash(playerid) >= BizzInfo[35][bFee])
					{
						GivePlayerCash(playerid,-BizzInfo[35][bFee]);
						Update(playerid, pCashx);
						BizzInfo[35][bBalance] += BizzInfo[35][bFee];
						BizzInfo[35][bProducts]--;
						SBUpdate(35, sbBalancex);
						SBUpdate(35, sbProductsx);
						return 1;
					}
				}
			}
		}
		if(tuningenter[playerid] == 1)
		{
			SetVehiclePos(GetPlayerVehicleID(playerid), 1309.4851,-855.0365,39.2344);
			SetVehicleZAngle(GetPlayerVehicleID(playerid), 270.0336);
			tuningenter[playerid] = 0;
			return 1;
		}
		else if(tuningenter[playerid] == 2)
		{
			SetVehiclePos(GetPlayerVehicleID(playerid), 1309.4851,-855.0365,39.2344);
			SetVehicleZAngle(GetPlayerVehicleID(playerid), 270.0336);
			tuningenter[playerid] = 1;
			return 1;
		}
    }
    return 1;
}

function Fillup(playerid)
{
   	if(IsPlayerConnected(playerid))
   	{
	    new VID;
	    new FillUp;
	    new string[256];
	    VID = GetPlayerVehicleID(playerid);
	    FillUp = GasMax - Gas[VID];
	    new Incarcare = GasMax - Gas[VID];
	    FillUp = FillUp * 25;
		if(Refueling[playerid] == 1)
	    {
			if(GetPlayerCash(playerid) >= FillUp)
			{
				Gas[VID] += Incarcare;
			    format(string,sizeof(string),"* Vehicul alimentat pentru $%s.",FormatNumber(FillUp));
			    SendClientMessage(playerid,COLOR_LIGHTBLUE,string);
                TogglePlayerControllable(playerid, 1);
				GivePlayerCash(playerid, - FillUp);
				BizzInfo[GetGasStationID(playerid)][bBalance] += FillUp;
				Refueling[playerid] = 0;
                new str[184];
				Update(playerid, pCashx);
		    	format(str,sizeof(str),"UPDATE `bizz` SET `Till`='%d' WHERE `ID`='13'",BizzInfo[GetGasStationID(playerid)][bBalance]);
				mysql_query(SQL,str);
			}
		   	else
		   	{
		   	    format(string,sizeof(string),"* Nu ai destui bani, ai nevoie de $%d pentru a alimenta.",FillUp);
			    SendClientMessage(playerid,COLOR_LIGHTBLUE,string);
			    Refueling[playerid] = 0;
		   	}
	 	}
	}
	return 1;
}

function PrintSBizInfo(playerid,targetid)
{
	if(IsPlayerConnected(playerid))
	{
		new coordsstring[256];
		format(coordsstring, sizeof(coordsstring),"*** %s ***",BizzInfo[targetid][bMessage]);
		SendClientMessage(playerid, COLOR_WHITE,coordsstring);
		format(coordsstring, sizeof(coordsstring), "Inchis: %d Pretul intrarii: $%s Valuta: $%s.", BizzInfo[targetid][bLocked], FormatNumber(BizzInfo[targetid][bFee]), FormatNumber(BizzInfo[targetid][bBalance]));
		SendClientMessage(playerid, COLOR_WHITE,coordsstring);
		SendClientMessage(playerid, COLOR_GREEN,"_______________________________________");
	}
}

function PrintBizInfo(playerid,targetid)
{
    if(IsPlayerConnected(playerid))
	{
		new coordsstring[256];
		format(coordsstring, sizeof(coordsstring),"*** %s ***",BizzInfo[targetid][bMessage]);
		SendClientMessage(playerid, COLOR_WHITE,coordsstring);
		format(coordsstring, sizeof(coordsstring), "Inchis: %d Pretul intrarii: $%s Valuta: $%s.", BizzInfo[targetid][bLocked], FormatNumber(BizzInfo[targetid][bFee]), FormatNumber(BizzInfo[targetid][bBalance]));
		SendClientMessage(playerid, COLOR_WHITE,coordsstring);
		SendClientMessage(playerid, COLOR_GREEN,"_______________________________________");
	}
}
cmd:checko(playerid, params[]) {
	if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid, COLOR_ERROR, AdminOnly);
	new name[24],name2[24],laston[24],dialog[100];
	if(sscanf(params, "s[24]", name)) return SCM(playerid, COLOR_SYNTAX, "Syntax: /checko <Nume Complet>");
	if(MySQLCheckAccount(name) == 0) return 1;
	strcat(dialog, "Item\tValoare\n");
	mysql_format(SQL, szGlobal, sizeof(szGlobal), "SELECT * FROM `users` WHERE `Name` ='%s' LIMIT 1",name);
	mysql_query(SQL, szGlobal);
    mysql_store_result();
    if(mysql_retrieve_row()) {
    	mysql_fetch_field_row(laston,"lastOn");
    	mysql_fetch_field_row(name2,"name");
	}
	format(szGlobal,sizeof(szGlobal),"Nume:\t%s\nLastON:\t%s\n",name2,laston);
	strcat(dialog,szGlobal);
	ShowPlayerDialog(playerid, 0,DIALOG_STYLE_TABLIST_HEADERS, "Check Offline", dialog,"Close", "");
	return 1;
}
cmd:set(playerid, params[]) {
	new valoare, item[50], userid, id[64], query[256], string[180];
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "s[64]s[50]i", id, item, valoare)) {
		SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /set <Nume> <Item> <Amount>");
		SendClientMessage(playerid, COLOR_WHITE, "Level, Money, Bank, House, Bizz, Job, Hours, PremiumPoints.");
		SendClientMessage(playerid, COLOR_WHITE, "Rob, Materiale, Drugs, Member, Fwarn, Warn, FPunish, Phone.");
		SendClientMessage(playerid, COLOR_WHITE, "Slot1-10, Clan, ClanRank");
		return 1;
	}
	new cont = MySQLCheckAccount(id);
	if(cont == 0) return SendClientMessage(playerid, COLOR_GREY, "Acest nume nu a fost gasit in baza de date!");	
	userid = GetPlayerID(id);
	if(strcmp(item, "level", true) == 0) {
		if(userid != INVALID_PLAYER_ID) PlayerInfo[userid][pLevel] = valoare, SetPlayerScore(userid, valoare);
		mysql_format(SQL, string, sizeof(string), "UPDATE users SET `Level`='%d' WHERE `name`='%s' LIMIT 1", valoare, id);
		mysql_tquery(SQL, string, "", "");
	}		
	else if(strcmp(item, "slot1", true) == 0) {
		if(userid != INVALID_PLAYER_ID) {
			PlayerInfo[userid][pCarKey][0] = valoare;
			if(valoare > 0) {
				format(CarInfo[valoare][cOwner], 256, GetName(userid));
				CarInfo[valoare][Userid] = PlayerInfo[userid][pSQLID];	
				format(query, sizeof(query), "UPDATE `cars` SET `Userid`='%d', `Name`='%s' WHERE `ID`='%d'", PlayerInfo[userid][pSQLID], GetName(userid), PlayerInfo[userid][pCarKey][0]);
				mysql_query(SQL, query);
			}	
		}
		mysql_format(SQL, string, sizeof(string), "UPDATE users SET CarKey1='%d' WHERE `name`='%s' LIMIT 1", valoare, id);
		mysql_tquery(SQL, string, "", "");
	}
	else if(strcmp(item, "slot2", true) == 0) {
		if(userid != INVALID_PLAYER_ID) {
			PlayerInfo[userid][pCarKey][1] = valoare;
			if(valoare > 0) {
				format(CarInfo[valoare][cOwner], 256, GetName(userid));
				CarInfo[valoare][Userid] = PlayerInfo[userid][pSQLID];	
				format(query, sizeof(query), "UPDATE `cars` SET `Userid`='%d', `Name`='%s' WHERE `ID`='%d'", PlayerInfo[userid][pSQLID], GetName(userid), PlayerInfo[userid][pCarKey][0]);
				mysql_query(SQL, query);
			}				
		}						
		mysql_format(SQL, string, sizeof(string), "UPDATE users SET CarKey2='%d' WHERE `name`='%s' LIMIT 1", valoare, id);
		mysql_tquery(SQL, string, "", "");
	}
	else if(strcmp(item, "slot3", true) == 0) {
		if(userid != INVALID_PLAYER_ID) {
			PlayerInfo[userid][pCarKey][2] = valoare;
			if(valoare > 0) {
				format(CarInfo[valoare][cOwner], 256, GetName(userid));
				CarInfo[valoare][Userid] = PlayerInfo[userid][pSQLID];	
				format(query, sizeof(query), "UPDATE `cars` SET `Userid`='%d', `Name`='%s' WHERE `ID`='%d'", PlayerInfo[userid][pSQLID], GetName(userid), PlayerInfo[userid][pCarKey][0]);
				mysql_query(SQL, query);
			}	
		}	
		mysql_format(SQL, string, sizeof(string), "UPDATE users SET CarKey3='%d' WHERE `name`='%s' LIMIT 1", valoare, id);
		mysql_tquery(SQL, string, "", "");
	}
	else if(strcmp(item, "slot4", true) == 0) {
		if(userid != INVALID_PLAYER_ID) {
			PlayerInfo[userid][pCarKey][3] = valoare;
			if(valoare > 0) {
				format(CarInfo[valoare][cOwner], 256, GetName(userid));
				CarInfo[valoare][Userid] = PlayerInfo[userid][pSQLID];	
				format(query, sizeof(query), "UPDATE `cars` SET `Userid`='%d', `Name`='%s' WHERE `ID`='%d'", PlayerInfo[userid][pSQLID], GetName(userid), PlayerInfo[userid][pCarKey][0]);
				mysql_query(SQL, query);
			}	
		}	
		mysql_format(SQL, string, sizeof(string), "UPDATE users SET CarKey4='%d' WHERE `name`='%s' LIMIT 1", valoare, id);
		mysql_tquery(SQL, string, "", "");
	}
	else if(strcmp(item, "slot5", true) == 0) {
		if(userid != INVALID_PLAYER_ID) {
			PlayerInfo[userid][pCarKey][4] = valoare;
			if(valoare > 0) {
				format(CarInfo[valoare][cOwner], 256, GetName(userid));
				CarInfo[valoare][Userid] = PlayerInfo[userid][pSQLID];	
				format(query, sizeof(query), "UPDATE `cars` SET `Userid`='%d', `Name`='%s' WHERE `ID`='%d'", PlayerInfo[userid][pSQLID], GetName(userid), PlayerInfo[userid][pCarKey][0]);
				mysql_query(SQL, query);
			}	
		}	
		mysql_format(SQL, string, sizeof(string), "UPDATE users SET CarKey5='%d' WHERE `name`='%s' LIMIT 1", valoare, id);
		mysql_tquery(SQL, string, "", "");
	}
	else if(strcmp(item, "slot6", true) == 0) {
		if(userid != INVALID_PLAYER_ID) {
			PlayerInfo[userid][pCarKey][5] = valoare;
			if(valoare > 0) {
				format(CarInfo[valoare][cOwner], 256, GetName(userid));
				CarInfo[valoare][Userid] = PlayerInfo[userid][pSQLID];	
				format(query, sizeof(query), "UPDATE `cars` SET `Userid`='%d', `Name`='%s' WHERE `ID`='%d'", PlayerInfo[userid][pSQLID], GetName(userid), PlayerInfo[userid][pCarKey][0]);
				mysql_query(SQL, query);
			}	
		}
		mysql_format(SQL, string, sizeof(string), "UPDATE users SET CarKey6='%d' WHERE `name`='%s' LIMIT 1", valoare, id);
		mysql_tquery(SQL, string, "", "");
	}	
	else if(strcmp(item, "slot7", true) == 0) {
		if(userid != INVALID_PLAYER_ID) {
			PlayerInfo[userid][pCarKey][6] = valoare;
			if(valoare > 0) {
				format(CarInfo[valoare][cOwner], 256, GetName(userid));
				CarInfo[valoare][Userid] = PlayerInfo[userid][pSQLID];	
				format(query, sizeof(query), "UPDATE `cars` SET `Userid`='%d', `Name`='%s' WHERE `ID`='%d'", PlayerInfo[userid][pSQLID], GetName(userid), PlayerInfo[userid][pCarKey][0]);
				mysql_query(SQL, query);
			}	
		}	
		mysql_format(SQL, string, sizeof(string), "UPDATE users SET CarKey7='%d' WHERE `name`='%s' LIMIT 1", valoare, id);
		mysql_tquery(SQL, string, "", "");
	}
	else if(strcmp(item, "slot8", true) == 0) {
		if(userid != INVALID_PLAYER_ID) {
			PlayerInfo[userid][pCarKey][7] = valoare;
			if(valoare > 0) {
				format(CarInfo[valoare][cOwner], 256, GetName(userid));
				CarInfo[valoare][Userid] = PlayerInfo[userid][pSQLID];	
				format(query, sizeof(query), "UPDATE `cars` SET `Userid`='%d', `Name`='%s' WHERE `ID`='%d'", PlayerInfo[userid][pSQLID], GetName(userid), PlayerInfo[userid][pCarKey][0]);
				mysql_query(SQL, query);
			}	
		}
		mysql_format(SQL, string, sizeof(string), "UPDATE users SET CarKey8='%d' WHERE `name`='%s' LIMIT 1", valoare, id);
		mysql_tquery(SQL, string, "", "");
	}
	else if(strcmp(item, "slot9", true) == 0) {
		if(userid != INVALID_PLAYER_ID) {
			PlayerInfo[userid][pCarKey][8] = valoare;
			if(valoare > 0) {
				format(CarInfo[valoare][cOwner], 256, GetName(userid));
				CarInfo[valoare][Userid] = PlayerInfo[userid][pSQLID];	
				format(query, sizeof(query), "UPDATE `cars` SET `Userid`='%d', `Name`='%s' WHERE `ID`='%d'", PlayerInfo[userid][pSQLID], GetName(userid), PlayerInfo[userid][pCarKey][0]);
				mysql_query(SQL, query);
			}	
		}	
		mysql_format(SQL, string, sizeof(string), "UPDATE users SET CarKey9='%d' WHERE `name`='%s' LIMIT 1", valoare, id);
		mysql_tquery(SQL, string, "", "");
	}	
	else if(strcmp(item, "slot10", true) == 0) {
		if(userid != INVALID_PLAYER_ID) {
			PlayerInfo[userid][pCarKey][9] = valoare;
			if(valoare > 0) {
				format(CarInfo[valoare][cOwner], 256, GetName(userid));
				CarInfo[valoare][Userid] = PlayerInfo[userid][pSQLID];	
				format(query, sizeof(query), "UPDATE `cars` SET `Userid`='%d', `Name`='%s' WHERE `ID`='%d'", PlayerInfo[userid][pSQLID], GetName(userid), PlayerInfo[userid][pCarKey][0]);
				mysql_query(SQL, query);
			}	
		}
		mysql_format(SQL, string, sizeof(string), "UPDATE users SET CarKey10='%d' WHERE `name`='%s' LIMIT 1", valoare, id);
		mysql_tquery(SQL, string, "", "");
	}
	else if(strcmp(item, "money", true) == 0) {
		if(userid != INVALID_PLAYER_ID) Cash[userid] = valoare;
		format(query, sizeof(query), "UPDATE `users` SET `Money`='%d' WHERE `name`='%s'", valoare, id);
		mysql_query(SQL, query);
	}
	else if(strcmp(item, "bank", true) == 0) {
		if(userid != INVALID_PLAYER_ID) PlayerInfo[userid][pAccount] = valoare;
		format(query, sizeof(query), "UPDATE `users` SET `Bank`='%d' WHERE `name`='%s'", valoare, id);
		mysql_query(SQL, query);
	}
	else if(strcmp(item, "house", true) == 0) {
		if(userid != INVALID_PLAYER_ID) PlayerInfo[userid][pHouse] = valoare;
		format(query, sizeof(query), "UPDATE `users` SET `House`='%d' WHERE `name`='%s'", valoare, id);
		mysql_query(SQL, query);
	}
	else if(strcmp(item, "bizz", true) == 0) {
		if(userid != INVALID_PLAYER_ID) PlayerInfo[userid][pBizz] = valoare;
		format(query, sizeof(query), "UPDATE `users` SET `Bizz`='%d' WHERE `name`='%s'", valoare, id);
		mysql_query(SQL, query);
	}
	else if(strcmp(item, "job", true) == 0) {
		PlayerInfo[userid][pJob] = valoare;
		format(query, sizeof(query), "UPDATE `users` SET `Job`='%d' WHERE `name`='%s'", valoare, id);
		mysql_query(SQL, query);
	}
	else if(strcmp(item, "hours", true) == 0) {
		if(userid != INVALID_PLAYER_ID) PlayerInfo[userid][pConnectTime] = valoare;
		format(query, sizeof(query), "UPDATE `users` SET `ConnectedTime`='%0.3f' WHERE `name`='%s'", valoare, id);
		mysql_query(SQL, query);	
	}	
	else if(strcmp(item, "premiumpoints", true) == 0) {
		if(userid != INVALID_PLAYER_ID) PlayerInfo[userid][pPremiumPoints] = valoare;
		format(query, sizeof(query), "UPDATE `users` SET `GoldPoints`='%d' WHERE `name`='%s'", valoare, id);
		mysql_query(SQL, query);		
	}
	else if(strcmp(item, "rob", true) == 0) {
		if(userid != INVALID_PLAYER_ID) PlayerInfo[userid][pRob] = valoare;
		format(query, sizeof(query), "UPDATE `users` SET `GoldCastigat`='%d' WHERE `name`='%s'", valoare, id);
		mysql_query(SQL, query);		
	}
	else if(strcmp(item, "materiale", true) == 0) {
		if(userid != INVALID_PLAYER_ID) PlayerInfo[userid][pMats] = valoare;	
		format(query, sizeof(query), "UPDATE `users` SET `Materials`='%d' WHERE `name`='%s'", valoare, id);
		mysql_query(SQL, query);	
	}		
	else if(strcmp(item, "drugs", true) == 0) {
		if(userid != INVALID_PLAYER_ID) PlayerInfo[userid][pDrugs] = valoare;	
		format(query, sizeof(query), "UPDATE `users` SET `Drugs`='%d' WHERE `name`='%s'", valoare, id);
		mysql_query(SQL, query);	
	}		
	else if(strcmp(item, "fwarn", true) == 0) {
		if(userid != INVALID_PLAYER_ID) PlayerInfo[userid][pFACWarns] = valoare;	
		format(query, sizeof(query), "UPDATE `users` SET `FWarn`='%d' WHERE `name`='%s'", valoare, id);
		mysql_query(SQL, query);	
	}		
	else if(strcmp(item, "warn", true) == 0) {
		if(userid != INVALID_PLAYER_ID) PlayerInfo[userid][pWarns] = valoare;	
		format(query, sizeof(query), "UPDATE `users` SET `Warnings`='%d' WHERE `name`='%s'", valoare, id);
		mysql_query(SQL, query);	
	}		
	else if(strcmp(item, "fpunish", true) == 0) {
		if(userid != INVALID_PLAYER_ID) PlayerInfo[userid][pFpunish] = valoare;	
		format(query, sizeof(query), "UPDATE `users` SET `FPunish`='%d' WHERE `name`='%s'", valoare, id);
		mysql_query(SQL, query);	
	}			
	else if(strcmp(item, "phone", true) == 0) {
		if(userid != INVALID_PLAYER_ID) PlayerInfo[userid][pPnumber] = valoare;
		format(query, sizeof(query), "UPDATE `users` SET `PhoneNr`='%d' WHERE `name`='%s'", valoare, id);
		mysql_query(SQL, query);	
	} 
	else if(strcmp(item, "clan", true) == 0) {
		if(userid != INVALID_PLAYER_ID) PlayerInfo[userid][pClan] = valoare;	
		format(query, sizeof(query), "UPDATE `users` SET `Clan`='%d' WHERE `name`='%s'", valoare, id);
		mysql_query(SQL, query);	
	}		
	else if(strcmp(item, "clanrank", true) == 0) {
		if(userid != INVALID_PLAYER_ID) PlayerInfo[userid][pClanRank] = valoare;	
		format(query, sizeof(query), "UPDATE `users` SET `ClanRank`='%d' WHERE `name`='%s'", valoare, id);
		mysql_query(SQL, query);	
	}
	else if(strcmp(item, "member", true) == 0) {
		if(userid != INVALID_PLAYER_ID) PlayerInfo[userid][pMember] = valoare, PlayerInfo[userid][pRank] = 1;
		format(query, sizeof(query), "UPDATE `users` SET `Member`='%d', `Rank`='1' WHERE `name`='%s'", valoare, id);
		mysql_query(SQL, query);
	}
	else if(strcmp(item, "rank", true) == 0) {
		if(userid != INVALID_PLAYER_ID) { if(PlayerInfo[userid][pMember] == 0) return 1; PlayerInfo[userid][pRank] = valoare; }
		format(query, sizeof(query), "UPDATE `users` SET `Rank`='%d' WHERE `name`='%s'", valoare, id);
		mysql_query(SQL, query);
	}
	else {
		SendClientMessage(playerid, COLOR_WHITE, "Level, Money, Bank, House, Bizz, Job, Hours, PremiumPoints.");
		SendClientMessage(playerid, COLOR_WHITE, "Rob, Materiale, Drugs, Fwarn, Warn, FPunish, Phone.");
		SendClientMessage(playerid, COLOR_WHITE, "Slot1-10, Clan, ClanRank.");
		return 1;
	}
	if(userid != INVALID_PLAYER_ID) format(string, sizeof(string), "%s[user:%d]'s %s was set to %d (( %s[admin: %d] ))", GetName(userid), PlayerInfo[userid][pSQLID], item, valoare, GetName(playerid), PlayerInfo[playerid][pSQLID]);
	else format(string, sizeof(string), "%s's %s was set to %d (( %s[admin: %d] ))", id, item, valoare, GetName(playerid), PlayerInfo[playerid][pSQLID]);
	SCM(playerid, COLOR_GOLD, string);	
	return 1;
}	

function ShowStats(playerid,targetid)
{
    if(IsPlayerConnected(playerid)&&IsPlayerConnected(targetid))
	{
		new ttext[30];
		if(PlayerInfo[targetid][pMember] != 0) format(ttext, 30, "%s", NumeFactiune(PlayerInfo[targetid][pMember]));
		else ttext = "None";

        new htext[5];
		if(PlayerInfo[targetid][pHouse] == 999) format(htext, 5, "Nu");
		else format(htext, 5, "%d",PlayerInfo[targetid][pHouse]);

        new btext[5];
		if(PlayerInfo[targetid][pBizz] == 255) format(btext, 5, "Nu");
		else format(btext, 5, "%d",PlayerInfo[targetid][pBizz]);

	    new rtext[50];
		if(PlayerInfo[targetid][pMember] != 0) format(rtext, 50, GetRankName(targetid));
		else rtext = "None";
		
        new jtext[60];
        if(PlayerInfo[targetid][pJob] == 0) jtext = "Nu";
        else format(jtext, 60, "%s", JobInfo[PlayerInfo[targetid][pJob]][jName]);

		new drank[3];
		if(PlayerInfo[targetid][pPremiumAccount] == 0) drank="Nu";
		else if(PlayerInfo[targetid][pPremiumAccount] >= 1) drank="Da";
		
		new sex[10];
		if(PlayerInfo[playerid][pSex] == 1) sex="Masculin";
		else if(PlayerInfo[playerid][pSex] == 2) sex="Feminin";
		
		new account = PlayerInfo[targetid][pAccount];
		new cash = GetPlayerCash(targetid);
		new Float:ptime = PlayerInfo[targetid][pConnectTime];
		new crimes = PlayerInfo[targetid][pCrimes];
		new arrests = PlayerInfo[targetid][pArrested];
		new warrests = PlayerInfo[targetid][pWantedDeaths];
		new drugs = PlayerInfo[targetid][pDrugs];
		new mats = PlayerInfo[targetid][pMats];
		new level = PlayerInfo[targetid][pLevel];
		new exp = PlayerInfo[targetid][pExp];
        new nxtlevel = PlayerInfo[targetid][pLevel];
		new expamount;
		new costlevel;

		expamount = nxtlevel*levelexp;
		costlevel = nxtlevel*levelcost;
		new pnumber = PlayerInfo[targetid][pPnumber];
		new rob = PlayerInfo[targetid][pRob];
		new warn = PlayerInfo[targetid][pWarns];
		new playersip[180];
		GetPlayerIp(targetid,playersip,sizeof(playersip));
		new name[MAX_PLAYER_NAME];
		GetPlayerName(targetid, name, sizeof(name));
		new Float:px,Float:py,Float:pz;
		GetPlayerPos(targetid, px, py, pz);

		new time;
		if(PlayerInfo[targetid][pPremiumAccount] != 0) {
		    if(PlayerInfo[targetid][pPremiumAccount] == 1) {
		        time = 7-GetDays(lastpremium[targetid]);
		    }
			else if(PlayerInfo[targetid][pPremiumAccount] == 2) {
		        time = 30-GetDays(lastpremium[targetid]);
			}
		}
		new Float:heal, Float:arm;
		GetPlayerHealthEx(targetid,heal);
		GetPlayerArmourEx(targetid,arm);
		new coordsstring[256],sname[25];
		SCM(playerid, COLOR_SERVER1, "_________________________________________________");
		format(sname,25,"*** %s (%d) ***",GetName(targetid),targetid);
		SCM(playerid,COLOR_WHITE,sname);
		format(coordsstring, sizeof(coordsstring), "Nivel:[%d] Cash:[%s$] Bank:[%s$] Telefon:[%d] Premium:[%s] Valabilitate:[%d zile]", level,FormatNumber(cash),FormatNumber(account), pnumber,drank,time);
		SCM(playerid, COLOR_AHH,coordsstring);
		format(coordsstring, sizeof(coordsstring), "Urmatorul Nivel:[%s$] Respect:[%d/%d] Ore Jucate:[%0.2f] Puncte Jaf:[%d/10] Sex:[%s]", FormatNumber(costlevel),exp,expamount,ptime,rob,sex);
		SCM(playerid, COLOR_AHH,coordsstring);
		format(coordsstring, sizeof(coordsstring), "Serviciu:[%s] Factiune:[%s] Rang:[%s] FWarn:[%d/3] FPunish:[%d/40] Warns:[%d/3]",jtext,ttext,rtext,PlayerInfo[targetid][pFACWarns],PlayerInfo[targetid][pFpunish],warn);
		SCM(playerid, COLOR_AHH,coordsstring);
		format(coordsstring, sizeof(coordsstring), "Decese cu Wanted:[%d] Infractiuni:[%d] Arestari:[%d] Drugs:[%d Grame] Materiale:[%d]", warrests,crimes,arrests,drugs,mats);
		SCM(playerid, COLOR_AHH,coordsstring);
		format(coordsstring, sizeof(coordsstring), "Vehicule:[%d/%d] Casa:[%s] Afacere:[%s]", GetVehicles(targetid), GetSlots(targetid), htext,btext);
		SCM(playerid, COLOR_AHH,coordsstring);
	    if(PlayerInfo[targetid][pAdmin] >= 1) {
			format(coordsstring, sizeof(coordsstring), "Viata:[%0.1f] Armura:[%0.1f] Skin:[%d] IP:[%s] Interior:[%d] Lume Virtuala:[%d] SQLID:[%d]",heal,arm,PlayerInfo[targetid][pChar],playersip,GetPlayerInterior(targetid),GetPlayerVirtualWorld(targetid),PlayerInfo[targetid][pSQLID]);
			SCM(playerid, COLOR_LIGHTRED,coordsstring);
		}
		SCM(playerid, COLOR_SERVER1, "_________________________________________________");
	}
}

function SetPlayerToTeamColor(playerid)
{
	if(IsPlayerConnected(playerid))
	{
	  	SetPlayerColor(playerid,COLOR_WHITE); // Civilian
      	if(PlayerInfo[playerid][pMember] == 1) { SetPlayerColor(playerid, 0x1E519DFF); } // PD
      	if(PlayerInfo[playerid][pLeader] == 1) { SetPlayerColor(playerid, 0x1E519DFF); } // PD
      	if(PlayerInfo[playerid][pMember] == 2) { SetPlayerColor(playerid, 0x1E519DFF); } // FBI
      	if(PlayerInfo[playerid][pLeader] == 2) { SetPlayerColor(playerid, 0x1E519DFF); } // FBI
      	if(PlayerInfo[playerid][pLeader] == 3) { SetPlayerColor(playerid, 0x1E519DFF); } // National Guard
      	if(PlayerInfo[playerid][pMember] == 3) { SetPlayerColor(playerid, 0x1E519DFF); } // National Guard
      	if(PlayerInfo[playerid][pMember] == 4) { SetPlayerColor(playerid, 0x33AA33FF); } // GSB
      	if(PlayerInfo[playerid][pLeader] == 4) { SetPlayerColor(playerid, 0x33AA33FF); } // GSB
      	if(PlayerInfo[playerid][pMember] == 5) { SetPlayerColor(playerid, 0xB32CF699); } // SP
      	if(PlayerInfo[playerid][pLeader] == 5) { SetPlayerColor(playerid, 0xB32CF699); } // SP
      	if(PlayerInfo[playerid][pMember] == 6) { SetPlayerColor(playerid, 0x2A2A2A99); } // Verdant
      	if(PlayerInfo[playerid][pLeader] == 6) { SetPlayerColor(playerid, 0x2A2A2A99); } // Verdant
      	if(PlayerInfo[playerid][pMember] == 7) { SetPlayerColor(playerid, 0x9ACD32FF); } // Government
      	if(PlayerInfo[playerid][pLeader] == 7) { SetPlayerColor(playerid, 0x9ACD32FF); } // Government
      	if(PlayerInfo[playerid][pMember] == 8) { SetPlayerColor(playerid, 0xF5DEB3FF); } // Tow Car Company
      	if(PlayerInfo[playerid][pLeader] == 8) { SetPlayerColor(playerid, 0xF5DEB3FF); } // Tow Car Company
      	if(PlayerInfo[playerid][pMember] == 9) { SetPlayerColor(playerid, 0xC2A2DAFF); } // News Reporter
      	if(PlayerInfo[playerid][pLeader] == 9) { SetPlayerColor(playerid, 0xC2A2DAFF); } // News Reporter
      	if(PlayerInfo[playerid][pMember] == 10) { SetPlayerColor(playerid, 0x94614199); } // ttb
      	if(PlayerInfo[playerid][pLeader] == 10) { SetPlayerColor(playerid, 0x94614199); } // ttb
      	if(PlayerInfo[playerid][pMember] == 11) { SetPlayerColor(playerid, 0xAA3333FF); } // Hitman
      	if(PlayerInfo[playerid][pLeader] == 11) { SetPlayerColor(playerid, 0xAA3333FF); } // Hitman
      	if(PlayerInfo[playerid][pMember] == 12) { SetPlayerColor(playerid, 0x00ff78FF); } // lvsI
      	if(PlayerInfo[playerid][pLeader] == 12) { SetPlayerColor(playerid, 0x00ff78FF); } // lvSI
      	if(PlayerInfo[playerid][pMember] == 13) { SetPlayerColor(playerid, 0xFFFF00FF); } // TAXI
      	if(PlayerInfo[playerid][pLeader] == 13) { SetPlayerColor(playerid, 0xFFFF00FF); } // TAXI
      	if(PlayerInfo[playerid][pMember] == 14) { SetPlayerColor(playerid, 0xFF6347FF); } // fireman
      	if(PlayerInfo[playerid][pLeader] == 14) { SetPlayerColor(playerid, 0xFF6347FF); } // fireman
      	if(PlayerInfo[playerid][pMember] == 15) { SetPlayerColor(playerid, 0x1E519DFF); } // lvpd
      	if(PlayerInfo[playerid][pLeader] == 15) { SetPlayerColor(playerid, 0x1E519DFF); } // lvpd
      	if(PlayerInfo[playerid][pMember] == 16) { SetPlayerColor(playerid, 0xFFFF00FF); } // SFTAXI
      	if(PlayerInfo[playerid][pLeader] == 16) { SetPlayerColor(playerid, 0xFFFF00FF); } // SFTAXI
      	if(PlayerInfo[playerid][pMember] == 17) { SetPlayerColor(playerid, 0xFFFF00FF); } // lvTAXI
      	if(PlayerInfo[playerid][pLeader] == 17) { SetPlayerColor(playerid, 0xFFFF00FF); } // lvTAXI
      	if(PlayerInfo[playerid][pMember] == 18) { SetPlayerColor(playerid, 0x00ff78FF); } // lsSI
      	if(PlayerInfo[playerid][pLeader] == 18) { SetPlayerColor(playerid, 0x00ff78FF); } // lsSI
      	if(PlayerInfo[playerid][pMember] == 19) { SetPlayerColor(playerid, 0x00ff78FF); } // sfSI
      	if(PlayerInfo[playerid][pLeader] == 19) { SetPlayerColor(playerid, 0x00ff78FF); } // sfSI
      	if(PlayerInfo[playerid][pMember] == 20) { SetPlayerColor(playerid, 0xD0000FFF); } // RDT
      	if(PlayerInfo[playerid][pLeader] == 20) { SetPlayerColor(playerid, 0xD0000FFF); } // RDT
      	if(PlayerInfo[playerid][pMember] == 21) { SetPlayerColor(playerid, 0x769C98FF); } // VTB
      	if(PlayerInfo[playerid][pLeader] == 21) { SetPlayerColor(playerid, 0x769C98FF); } // VTB
      	if(PlayerInfo[playerid][pMember] == 22) { SetPlayerColor(playerid, 0x00FFE4FF); } // 69pm
      	if(PlayerInfo[playerid][pLeader] == 22) { SetPlayerColor(playerid, 0x00FFE4FF); } // 69pm
      	if(PlayerInfo[playerid][pMember] == 23) { SetPlayerColor(playerid, 0x3A460CFF); } // avispa
      	if(PlayerInfo[playerid][pLeader] == 23) { SetPlayerColor(playerid, 0x3A460CFF); } // avispa
      	if(PlayerInfo[playerid][pMember] == 24) { SetPlayerColor(playerid, 0xFF9900FF); } // elc
      	if(PlayerInfo[playerid][pLeader] == 24) { SetPlayerColor(playerid, 0xFF9900FF); } // elc
      	if(PlayerInfo[playerid][pMember] == 25) { SetPlayerColor(playerid, 0x1E519DFF); } // SFPD
      	if(PlayerInfo[playerid][pLeader] == 25) { SetPlayerColor(playerid, 0x1E519DFF); } // SFPD
    }
    return 1;
}

function GameModeInitExitFunc()
{
	foreach(Player,i)
	{
		if(IsPlayerConnected(i))
		{
			DisablePlayerCheckpoint(i);
			gPlayerCheckpointStatus[i] = CHECKPOINT_NONE;
		    SetPlayerCameraPos(i, 1460.0, -1324.0, 287.2);
		    SetPlayerCameraLookAt(i,1374.5, -1291.1, 239.0);
			IsPlayerLogged[i] = 0;
		}
	}
	SetTimer("GameModeExitFunc", 4000, 0);
	return 1;
}

function GameModeExitFunc()
{
	KillTimer(synctimer);
	KillTimer(unjailtimer);
	KillTimer(othtimer);
	KillTimer(cartimer);
	KillTimer(checkgastimer);
	KillTimer(checkvehinfotimer);
	KillTimer(pickuptimer);
	KillTimer(productiontimer);
	KillTimer(spectatetimer);
	KillTimer(stoppedvehtimer);
	KillTimer(taxitimer);
	GameModeExit();
}

function OnGameModeExit()
{
    new qqerry[128];
	format(qqerry, sizeof(qqerry), "UPDATE `users` SET `Status` = '0' WHERE `Status` = '1'");
    mysql_query(SQL,qqerry);
    mysql_close(SQL);
    DestroyActor(TruckerActor);
    DestroyActor(GarbageActor);
    DestroyActor(FarmerActor);
    DestroyActor(MowerActor);
    DestroyActor(MatsActor);
    DestroyActor(DrugsActor);
    DestroyActor(MecActor);
    DestroyActor(DecActor);
    DestroyActor(ConActor);
    DestroyActor(FishActor);
    DestroyActor(BusActor);
    DestroyActor(HotActor);
    DestroyActor(PizzaActor);
	DestroyActor(GunActor);
    return 1;
}

function LoadStuff()
{
	new string[256];
	format(string, sizeof(string), "SELECT * FROM `stuff`");
	mysql_query(SQL,string);
	mysql_store_result();
	while(mysql_retrieve_row())
	{
	    mysql_fetch_field_row(string, "TaxValue"); TaxValue = strval(string);
		mysql_fetch_field_row(string, "MaxPlayers"); MaxPlayers = strval(string);
		mysql_fetch_field_row(string, "MaxPlayersDate"); format(MaxPlayersDate, 256, string);
		mysql_fetch_field_row(string, "NewAccount"); format(NewAccount, 256, string);
		
	}
	mysql_free_result();
	return 1;
}

function LoadBizz() {
	new result[100],index = 0;
    mysql_query(SQL,"SELECT * FROM `bizz` ORDER BY `bizz`.`ID` ASC");
    mysql_store_result();
    while(mysql_retrieve_row()) {
        bussines++;
		index++;
		new i = index;
		mysql_get_field("ID", result);				BizzInfo[i][bID] = strval(result);
        mysql_get_field("Owned", result);			BizzInfo[i][bOwned] = strval(result);
        mysql_get_field("Owner", result);			strmid(BizzInfo[i][bOwner], result, 0, 32, 32);
        mysql_get_field("Message", result);			strmid(BizzInfo[i][bMessage], result, 0, 100, 100);
   	    mysql_get_field("EntranceX", result);		BizzInfo[i][bEntranceX] = floatstr(result);
    	mysql_get_field("EntranceY", result);		BizzInfo[i][bEntranceY] = floatstr(result);
        mysql_get_field("EntranceZ", result);		BizzInfo[i][bEntranceZ] = floatstr(result);
	    mysql_get_field("ExitX", result);			BizzInfo[i][bExitX] = floatstr(result);
        mysql_get_field("ExitY", result);			BizzInfo[i][bExitY] = floatstr(result);
        mysql_get_field("ExitZ", result);			BizzInfo[i][bExitZ] = floatstr(result);
        mysql_get_field("LevelNeeded", result);		BizzInfo[i][bLevelNeeded] = strval(result);
        mysql_get_field("BuyPrice", result);		BizzInfo[i][bBuyPrice] = strval(result);
        mysql_get_field("EntranceCost", result);	BizzInfo[i][bFee] = strval(result);
        mysql_get_field("Till", result);			BizzInfo[i][bBalance] = strval(result);
        mysql_get_field("Locked", result);			BizzInfo[i][bLocked] = strval(result);
        mysql_get_field("Interior", result);		BizzInfo[i][bInterior] = strval(result);
        mysql_get_field("Virtual", result);			BizzInfo[i][bVirtual] = strval(result);
        mysql_get_field("Gas", result);				BizzInfo[i][bGas] = strval(result);
        mysql_get_field("Static", result);			BizzInfo[i][bStatic] = strval(result);

		if(i == 20 || i == 21 || i == 22 || i == 23 || i == 24) CreateDynamicMapIcon(BizzInfo[i][bEntranceX], BizzInfo[i][bEntranceY], BizzInfo[i][bEntranceZ],17,0,0,0,-1,1000.0);
		if(i == 13 || i == 18 || i == 19) CreateDynamicMapIcon(BizzInfo[i][bEntranceX], BizzInfo[i][bEntranceY], BizzInfo[i][bEntranceZ],27,0,0,0,-1,1000.0);
		if(i == 14 || i == 15 || i == 16) CreateDynamicMapIcon(BizzInfo[i][bEntranceX], BizzInfo[i][bEntranceY], BizzInfo[i][bEntranceZ],63,0,0,0,-1,1000.0);
		if(i == 25 || i == 37 || i == 38) CreateDynamicMapIcon(BizzInfo[i][bEntranceX], BizzInfo[i][bEntranceY], BizzInfo[i][bEntranceZ],45,0,0,0,-1,1000.0);
 		if(i == 26) CreateDynamicMapIcon(BizzInfo[i][bEntranceX], BizzInfo[i][bEntranceY], BizzInfo[i][bEntranceZ],10,0,0,0,-1,1000.0);
  		if(i == 27 || i == 39) CreateDynamicMapIcon(BizzInfo[i][bEntranceX], BizzInfo[i][bEntranceY], BizzInfo[i][bEntranceZ],29,0,0,0,-1,1000.0);
  		if(i == 28) CreateDynamicMapIcon(BizzInfo[i][bEntranceX], BizzInfo[i][bEntranceY], BizzInfo[i][bEntranceZ],25,0,0,0,-1,1000.0);
        if(i == 9) CreateDynamicMapIcon(BizzInfo[i][bEntranceX], BizzInfo[i][bEntranceY], BizzInfo[i][bEntranceZ],23,0,0,0,-1,1000.0);
		if(i == 1 || i == 30 || i == 36) CreateDynamicMapIcon(BizzInfo[i][bEntranceX], BizzInfo[i][bEntranceY], BizzInfo[i][bEntranceZ],52,0,-1,-1,-1,1000.0);
		if(i == 2) CreateDynamicMapIcon(BizzInfo[i][bEntranceX], BizzInfo[i][bEntranceY], BizzInfo[i][bEntranceZ],18,0,-1,-1,-1,1000.0);
	    if(i == 10) CreateDynamicMapIcon(BizzInfo[i][bEntranceX], BizzInfo[i][bEntranceY], BizzInfo[i][bEntranceZ],55,0,-1,-1,-1,1000.0);
	    if(i == 12) CreateDynamicMapIcon(BizzInfo[i][bEntranceX], BizzInfo[i][bEntranceY], BizzInfo[i][bEntranceZ],12,0,-1,-1,-1,1000.0);
	    if(i == 7 || i == 29 || i == 37) CreateDynamicMapIcon(BizzInfo[i][bEntranceX], BizzInfo[i][bEntranceY], BizzInfo[i][bEntranceZ],16,0,-1,-1,-1,1000.0);
	}
	mysql_free_result();
	printf("- Bussines: %d loaded", index);
	return 1;
}

function LoadDSVeh() {
	dsvehs = cache_num_rows();
	for(new i = 1; i <= dsvehs; i++) {
		new j = i - 1;
		DSModels[i][dID] 			= cache_get_field_content_int(j, "ID");
		DSModels[i][dModel]         = cache_get_field_content_int(j, "Model");
		DSModels[i][dPrice]         = cache_get_field_content_int(j, "Price");
		DSModels[i][dDoors]         = cache_get_field_content_int(j, "Doors");
		DSModels[i][dType]          = cache_get_field_content_int(j, "Type");
		DSModels[i][dPremium]       = cache_get_field_content_int(j, "Premium");
		DSModels[i][dMaxSpeed]      = cache_get_field_content_int(j, "MaxSpeed");
		DSModels[i][dGold]          = cache_get_field_content_int(j, "Gold");
	}
	printf("- Stock Cars: %d loaded", dsvehs);
	printf("=============================");
}
stock ShowPlayerHud(playerid) {
	new 
		string[256],
		string2[1024],
		item = PlayerInfo[playerid][pShowHud][0], 
		item1 = PlayerInfo[playerid][pShowHud][1], 
		item2 = PlayerInfo[playerid][pShowHud][2],
		item3 = PlayerInfo[playerid][pShowHud][3],
		item4 = PlayerInfo[playerid][pShowHud][4];
		
	
	if(item != 0) format(string, 1024, "{FFFFFF}Viata: %s\n", HudName[item]);
	else format(string, 1024, "{FFFFFF}Viata: {FF9E9E}Dezactivat\n", HudName[item]);
	strcat(string2, string);
	
	if(item1 != 0) format(string, 1024, "{FFFFFF}Armura: %s\n", HudName[item1]);
	else format(string, 1024, "{FFFFFF}Armura: {FF9E9E}Dezactivat\n", HudName[item1]);
	strcat(string2, string);
	
	if(item2 != 0) format(string, 1024, "{FFFFFF}FPS: {C8FF9E}Activat\n");
	else format(string, 1024, "{FFFFFF}FPS: {FF9E9E}Dezactivat\n");
	strcat(string2, string);

	if(item3 != 0) format(string, 1024, "{FFFFFF}Progres Level: %s\n", HudName[item3]);
	else format(string, 1024, "{FFFFFF}Progres Level: {FF9E9E}Dezactivat\n", HudName[item3]);
	strcat(string2, string);	

	if(item4 != 0) format(string, 1024, "{FFFFFF}Progres Raport: %s\n", HudName[item4]);
	else format(string, 1024, "{FFFFFF}Progres Raport: {FF9E9E}Dezactivat\n", HudName[item4]);
	strcat(string2, string);
	
	ShowPlayerDialog(playerid,DIALOG_HUD,DIALOG_STYLE_LIST,"Optiuni HUD",string2,"Ok","Iesi");
	return 1;
}

stock GetHudColor(cid) {
	switch(cid) {
		case 1: return 0xB8BFC2FF;
		case 2: return 0xFF0000FF;
		case 3: return 0x00FF2FFF;
		case 4: return 0x0022FFFF;
		case 5: return 0xFFFB00FF;
		case 6: return 0x8000FFFF;									
	}
	return 1;
}

function LoadTurfs()
{
	new result[100],index = 0;
    mysql_query(SQL,"SELECT * FROM `turfs` ORDER BY `turfs`.`ID` ASC");
    mysql_store_result();
    while(mysql_retrieve_row())
    {
		index++;
		new i = index;
		mysql_get_field("ID", result);				TurfInfo[i][zID] = strval(result);
		mysql_get_field("Owned", result);			TurfInfo[i][zOwned] = strval(result);
		mysql_get_field("Time", result);			TurfInfo[i][zTime] = strval(result);
   	    mysql_get_field("MinX", result);			TurfInfo[i][zMinX] = floatstr(result);
    	mysql_get_field("MinY", result);			TurfInfo[i][zMinY] = floatstr(result);
        mysql_get_field("MaxX", result);			TurfInfo[i][zMaxX] = floatstr(result);
        mysql_get_field("MaxY", result);			TurfInfo[i][zMaxY] = floatstr(result);
	}
	mysql_free_result();
	printf("- Turfs: %d loaded", index);
	return 1;
}
function LoadFactions()
{
	new result[100],label[900],index = 0,hq[25];
    mysql_query(SQL,"SELECT * FROM `factions` ORDER BY `factions`.`ID` ASC");
    mysql_store_result();
    while(mysql_retrieve_row())
    {
		index++;
		serverfactions++;
		new i = index;
		mysql_get_field("ID", result);				DynamicFactions[i][fID] = strval(result);
        mysql_get_field("Name", result);			strmid(DynamicFactions[i][fName], result, 0, 100, 100);
		mysql_get_field("IntX", result);			DynamicFactions[i][fcX] = floatstr(result);
   	    mysql_get_field("IntY", result);			DynamicFactions[i][fcY] = floatstr(result);
    	mysql_get_field("IntZ", result);			DynamicFactions[i][fcZ] = floatstr(result);
		mysql_get_field("X", result);				DynamicFactions[i][extX] = floatstr(result);
   	    mysql_get_field("Y", result);				DynamicFactions[i][extY] = floatstr(result);
    	mysql_get_field("Z", result);				DynamicFactions[i][extZ] = floatstr(result);
    	mysql_get_field("VW", result);				DynamicFactions[i][fVW] = strval(result);
    	mysql_get_field("Interior", result);		DynamicFactions[i][fInterior] = strval(result);
    	mysql_get_field("Mats", result);			DynamicFactions[i][fMats] = strval(result);
    	mysql_get_field("Drugs", result);			DynamicFactions[i][fDrugs] = strval(result);
    	mysql_get_field("Bank", result);			DynamicFactions[i][fBank] = strval(result);
        mysql_get_field("Anunt", result);			strmid(DynamicFactions[i][fAnn], result, 0, 100, 100);
        mysql_get_field("Name1", result);			strmid(fRankNames[i][0], result, 0, 100, 100);
        mysql_get_field("Name2", result);			strmid(fRankNames[i][1], result, 0, 100, 100);
        mysql_get_field("Name3", result);			strmid(fRankNames[i][2], result, 0, 100, 100);
        mysql_get_field("Name4", result);			strmid(fRankNames[i][3], result, 0, 100, 100);
        mysql_get_field("Name5", result);			strmid(fRankNames[i][4], result, 0, 100, 100);
        mysql_get_field("Name6", result);			strmid(fRankNames[i][5], result, 0, 100, 100);
        mysql_get_field("Name7", result);			strmid(fRankNames[i][6], result, 0, 100, 100);
    	mysql_get_field("App", result);				DynamicFactions[i][fApp] = strval(result);
    	mysql_get_field("MaxMembers", result);		DynamicFactions[i][fMaxMembers] = strval(result);
    	mysql_get_field("MinimLevel", result);		DynamicFactions[i][fMinimLevel] = strval(result);
    	mysql_get_field("HQStats", result);			DynamicFactions[i][fHQStats] = strval(result);
        mysql_get_field("FactionColor", result);	strmid(DynamicFactions[i][fFactionColor], result, 0, 100, 100);
	
		new x = i;
       	cache_get_field_content(i, "Rank1", result); FactionInfo[x][fRank1] = strval(result);
       	cache_get_field_content(i, "Rank2", result); FactionInfo[x][fRank2] = strval(result);
       	cache_get_field_content(i, "Rank3", result); FactionInfo[x][fRank3] = strval(result);
       	cache_get_field_content(i, "Rank4", result); FactionInfo[x][fRank4] = strval(result);
       	cache_get_field_content(i, "Rank5", result); FactionInfo[x][fRank5] = strval(result);
       	cache_get_field_content(i, "Rank6", result); FactionInfo[x][fRank6] = strval(result);	
		if(x == 1 || x == 2 || x == 3 || x == 15 || x == 25) CreateDynamicMapIcon(DynamicFactions[x][extX], DynamicFactions[x][extY], DynamicFactions[x][extZ],30,0,-1,-1,-1,1000.0);
		if(x == 14) CreateDynamicMapIcon(DynamicFactions[x][extX], DynamicFactions[x][extY], DynamicFactions[x][extZ],22,0,-1,-1,-1,1000.0);

		if(x != 7) {
			if(DynamicFactions[i][fHQStats] == 0) hq="{CC0000}Locked"; else if(DynamicFactions[i][fHQStats] == 1) hq="{47E000}Unlocked";
			format(label, sizeof(label), "{%s}F{FFFFFF}action ID: {%s}%d{FFFFFF}\n{%s}F{FFFFFF}action {%s}N{FFFFFF}ame: {%s}%s{FFFFFF}\n{%s}HQ {FFFFFF}Status: %s\n{FFFFFF}Apasa pe {%s}Enter{FFFFFF} pentru a intra",
			DynamicFactions[i][fFactionColor],DynamicFactions[i][fFactionColor],DynamicFactions[i][fID],DynamicFactions[i][fFactionColor],
			DynamicFactions[i][fFactionColor],DynamicFactions[i][fFactionColor],DynamicFactions[i][fName], DynamicFactions[i][fFactionColor],hq,DynamicFactions[i][fFactionColor]);
			FLabel[i] = Create3DTextLabel(label,0xFFFFFFFF,DynamicFactions[x][extX], DynamicFactions[x][extY], DynamicFactions[x][extZ],20.0, 0, 1);
			CreatePickup(1239, 23, DynamicFactions[x][extX], DynamicFactions[x][extY], DynamicFactions[x][extZ]);
		}
	}
	mysql_free_result();
	printf("- Factions: %d loaded", serverfactions);
	return 1;
}
function FactionSpawn(playerid) {
	if(PlayerInfo[playerid][pMember] == 0) return 1;
	new fid = PlayerInfo[playerid][pMember];
	SetPlayerPosEx(playerid, DynamicFactions[fid][fcX], DynamicFactions[fid][fcY], DynamicFactions[fid][fcZ]);
	SetPlayerInterior(playerid, DynamicFactions[fid][fInterior]);
	SetPlayerVirtualWorld(playerid, DynamicFactions[fid][fVW]);
	InHQ[playerid] = fid;
	return 1;
}

function EnterFaction(playerid, fid)
{
	SetPlayerPosEx(playerid, DynamicFactions[fid][fcX], DynamicFactions[fid][fcY], DynamicFactions[fid][fcZ]);
	SetPlayerInterior(playerid, DynamicFactions[fid][fInterior]);
	SetPlayerVirtualWorld(playerid, DynamicFactions[fid][fVW]);
	InHQ[playerid] = fid;
	return 1;
}

function ExitFaction(playerid, fid)
{
	SetPlayerPosEx(playerid, DynamicFactions[fid][extX], DynamicFactions[fid][extY], DynamicFactions[fid][extZ]);
	SetPlayerInterior(playerid, 0);
	SetPlayerVirtualWorld(playerid, 0);
	InHQ[playerid] = 0;
	return 1;
}
function LoadGraffiti()
{
	new Cache: db = mysql_query(SQL, "SELECT * FROM `graffiti` ORDER BY `graffiti`.`ID` ASC");
	new graff = 0, x, result[256], tagname[256];
 	for(new i, j = cache_get_row_count (); i != j; ++i)
	{
	    graff ++;
       	cache_get_field_content(i, "ID", result); x = strval(result); GraffitiInfo[x][gfID] = x;
       	cache_get_field_content(i, "X", result); GraffitiInfo[x][gfX] = floatstr(result);
       	cache_get_field_content(i, "Y", result); GraffitiInfo[x][gfY] = floatstr(result);
     	cache_get_field_content(i, "Z", result); GraffitiInfo[x][gfZ] = floatstr(result);
      	cache_get_field_content(i, "Rot", result); GraffitiInfo[x][gfRot] = floatstr(result);
       	cache_get_field_content(i, "Owned", result); GraffitiInfo[x][gfOwned] = strval(result);

	    GraffitiInfo[x][gfObject] = CreateDynamicObject(19353, GraffitiInfo[x][gfX], GraffitiInfo[x][gfY], GraffitiInfo[x][gfZ], 0.0, 0.0, GraffitiInfo[x][gfRot]);
	    if(GraffitiInfo[x][gfOwned] == 0 ) tagname = "{000000}Clan Name\nClan Tag";
	    else format(tagname, sizeof(tagname), "{%s}%s\n%s", ClanInfo[GraffitiInfo[x][gfOwned]][clColor], ClanInfo[GraffitiInfo[x][gfOwned]][clName], ClanInfo[GraffitiInfo[x][gfOwned]][clTag]);
	    SetDynamicObjectMaterialText(GraffitiInfo[x][gfObject], 0, tagname, OBJECT_MATERIAL_SIZE_512x256, "BankGothic Md BT", 60, 1, 0xfff0f0f0, 0, OBJECT_MATERIAL_TEXT_ALIGN_CENTER);
	}
	cache_delete(db);
	return 1;
}

function LoadClans()
{
	new Cache: db = mysql_query(SQL, "SELECT * FROM `clans` ORDER BY `clans`.`ID` ASC");
	new clans = 0, x, result[256];
 	for(new i, j = cache_get_row_count (); i != j; ++i)
	{
	    clans ++;
       	cache_get_field_content(i, "ID", result); x = strval(result);
       	cache_get_field_content(i, "Owner", result); format(ClanInfo[x][clOwner], 64, result);
       	cache_get_field_content(i, "Name", result); format(ClanInfo[x][clName], 32, result);
     	cache_get_field_content(i, "Motd", result); format(ClanInfo[x][clMotd], 256, result);
      	cache_get_field_content(i, "Tag", result); format(ClanInfo[x][clTag], 32, result);
       	cache_get_field_content(i, "TagType", result); ClanInfo[x][clTagType] = strval(result);
       	cache_get_field_content(i, "RankName1", result); format(ClanInfo[x][clRankName1], 64, result);
       	cache_get_field_content(i, "RankName2", result); format(ClanInfo[x][clRankName2], 64, result);
       	cache_get_field_content(i, "RankName3", result); format(ClanInfo[x][clRankName3], 64, result);
      	cache_get_field_content(i, "RankName4", result); format(ClanInfo[x][clRankName4], 64, result);
     	cache_get_field_content(i, "RankName5", result); format(ClanInfo[x][clRankName5], 64, result);
      	cache_get_field_content(i, "RankName6", result); format(ClanInfo[x][clRankName6], 64, result);
      	cache_get_field_content(i, "Color", result); format(ClanInfo[x][clColor], 64, result);
      	cache_get_field_content(i, "Slots", result); ClanInfo[x][clSlots] = strval(result);
		cache_get_field_content(i, "RegisterDate", result); format(ClanInfo[x][clRegisterDate], 64, result);
	}
	printf("- Clans: %d loaded", clans);
	cache_delete(db);
	return 1;
}

function LoadSafeZones()
{
	new
		Cache: db = mysql_query (SQL, "SELECT * FROM `safezones` ORDER BY `safezones`.`ID` ASC"),
		x,
		sfz,
		result[256];

 	for (new i, j = cache_get_row_count (); i != j; ++i)
	{
	    sfz ++;
       	cache_get_field_content(i, "ID", result); 			x = strval(result);
       	cache_get_field_content(i, "X", result); 			SafeZone[x][szX] = floatstr(result);
       	cache_get_field_content(i, "Y", result); 			SafeZone[x][szY] = floatstr(result);
		cache_get_field_content(i, "Z", result); 			SafeZone[x][szZ] = floatstr(result);
      	cache_get_field_content(i, "Range", result); 		SafeZone[x][szRange] = strval(result);
	}
	printf("- SafeZone: %d loaded", sfz);
	cache_delete(db);
	return 1;
}


function OnPlayerEditObject(playerid, playerobject, objectid, response, Float:fX, Float:fY, Float:fZ, Float:fRotX, Float:fRotY, Float:fRotZ)
{
	new Float:oldX, Float:oldY, Float:oldZ, Float:oldRotX, Float:oldRotY, Float:oldRotZ;
	GetDynamicObjectPos(objectid, oldX, oldY, oldZ);
	GetDynamicObjectRot(objectid, oldRotX, oldRotY, oldRotZ);

	if(response == EDIT_RESPONSE_FINAL)
	{
		if(EditHouse[playerid] == 1) {
		    new szQuery[256];
			mysql_format(SQL, szQuery, 256, "INSERT INTO `fobjects` (`House`) VALUES ('0')");
			new Cache: result = mysql_query(SQL, szQuery);
			new i = cache_insert_id();
			cache_delete(result);
			FurnitureInfo[i][fiModel] = EditModel[playerid];
			FurnitureInfo[i][fiX] = fX;
			FurnitureInfo[i][fiY] = fY;
			FurnitureInfo[i][fiZ] = fZ;
			FurnitureInfo[i][fiRotX] = fRotX;
			FurnitureInfo[i][fiRotY] = fRotY;
			FurnitureInfo[i][fiRotZ] = fRotZ;
			FurnitureInfo[i][fiVirtual] = GetPlayerVirtualWorld(playerid);
			FurnitureInfo[i][fiHouse] = PlayerInfo[playerid][pHouse];
			SaveObject(i);
			DestroyDynamicObject(ObjectEdited[playerid]);
			FurnitureInfo[i][fiObject] = CreateDynamicObject(FurnitureInfo[i][fiModel], FurnitureInfo[i][fiX], FurnitureInfo[i][fiY], FurnitureInfo[i][fiZ], FurnitureInfo[i][fiRotX], FurnitureInfo[i][fiRotY], FurnitureInfo[i][fiRotZ], FurnitureInfo[i][fiVirtual], -1, -1, 200.0);
            format(szQuery, 256, "Obiect adaugat! Total obiecte: %d/50.",  GetHouseObjects(PlayerInfo[playerid][pHouse]));
            SCM(playerid, COLOR_YELLOW, szQuery);
			GivePlayerCash(playerid, -500);
		}
		else if(EditHouse[playerid] == 2) {
		    new i = EditedObjectID[playerid];
			FurnitureInfo[i][fiX] = fX;
			FurnitureInfo[i][fiY] = fY;
			FurnitureInfo[i][fiZ] = fZ;
			FurnitureInfo[i][fiRotX] = fRotX;
			FurnitureInfo[i][fiRotY] = fRotY;
			FurnitureInfo[i][fiRotZ] = fRotZ;
			FurnitureInfo[i][fiVirtual] = GetPlayerVirtualWorld(playerid);
			FurnitureInfo[i][fiHouse] = PlayerInfo[playerid][pHouse];
			DestroyDynamicObject(FurnitureInfo[i][fiObject]);//
			FurnitureInfo[i][fiObject] = CreateDynamicObject(FurnitureInfo[i][fiModel], FurnitureInfo[i][fiX], FurnitureInfo[i][fiY], FurnitureInfo[i][fiZ], FurnitureInfo[i][fiRotX], FurnitureInfo[i][fiRotY], FurnitureInfo[i][fiRotZ], FurnitureInfo[i][fiVirtual], -1, -1, 200.0);
	        SaveObject(i);
	        SCM(playerid, COLOR_YELLOW, "Mobiler editat cu succes!");
		}
	}

	if(response == EDIT_RESPONSE_CANCEL)
	{
	    if(EditHouse[playerid] == 1) DestroyDynamicObject(ObjectEdited[playerid]), SCM(playerid, -1, "Ai anulat!");
	    if(EditHouse[playerid] == 2) SCM(playerid, -1, "Ai anulat!");
	}
	return 1;
}

stock SaveObject(const id) {
	new szQuery[1024];
	format(szQuery, sizeof(szQuery), "UPDATE `fobjects` SET `Model`='%d', `X`='%f', `Y`='%f', `Z`='%f', `RotX`='%f', `RotY`='%f', `RotZ`='%f', `Virtual`='%d', `House`='%d' WHERE `ID`='%d'",
	FurnitureInfo[id][fiModel], FurnitureInfo[id][fiX], FurnitureInfo[id][fiY], FurnitureInfo[id][fiZ], FurnitureInfo[id][fiRotX], FurnitureInfo[id][fiRotY], FurnitureInfo[id][fiRotZ], FurnitureInfo[id][fiVirtual], FurnitureInfo[id][fiHouse], id);
	mysql_tquery(SQL, szQuery, "", "");
	return 1;
}
function LoadFurnitures()
{
	new Cache: db = mysql_query(SQL, "SELECT * FROM `fobjects` ORDER BY `fobjects`.`ID` ASC");
	new objects = 0, x, result[256];
 	for(new i, j = cache_get_row_count (); i != j; ++i)
	{
	    objects ++;
       	cache_get_field_content(i, "ID", result); x = strval(result);
       	cache_get_field_content(i, "Model", result); FurnitureInfo[x][fiModel] = strval(result);
       	cache_get_field_content(i, "X", result); FurnitureInfo[x][fiX] = floatstr(result);
     	cache_get_field_content(i, "Y", result); FurnitureInfo[x][fiY] = floatstr(result);
      	cache_get_field_content(i, "Z", result); FurnitureInfo[x][fiZ] = floatstr(result);
       	cache_get_field_content(i, "RotX", result); FurnitureInfo[x][fiRotX] = floatstr(result);
       	cache_get_field_content(i, "RotY", result); FurnitureInfo[x][fiRotY] = floatstr(result);
       	cache_get_field_content(i, "RotZ", result); FurnitureInfo[x][fiRotZ] = floatstr(result);
       	cache_get_field_content(i, "Virtual", result); FurnitureInfo[x][fiVirtual] = strval(result);
	   	cache_get_field_content(i, "House", result); FurnitureInfo[x][fiHouse] = strval(result);
        FurnitureInfo[x][fiObject] = CreateDynamicObject(FurnitureInfo[x][fiModel], FurnitureInfo[x][fiX], FurnitureInfo[x][fiY], FurnitureInfo[x][fiZ], FurnitureInfo[x][fiRotX], FurnitureInfo[x][fiRotY], FurnitureInfo[x][fiRotZ], FurnitureInfo[x][fiVirtual], -1, -1, 200.0);
	}
	printf("- Furniture: %d loaded", objects);
	cache_delete(db);
	return 1;
}

function CheckMission(playerid, id) {
	new string[180], query[180], money = 50000 + PlayerInfo[playerid][pLevel] * 1000 + random(50000);
	if(PlayerInfo[playerid][pDailyMission][id] != -1) {
		PlayerInfo[playerid][pProgress][id] ++;	
		if(PlayerInfo[playerid][pProgress][id] == PlayerInfo[playerid][pNeedProgress][id]) {
			format(string, sizeof(string), "Misiunea '%s' a fost terminata.", missionName(playerid, PlayerInfo[playerid][pDailyMission][id], id));
			SCM(playerid, COLOR_YELLOW, string);
			format(string, sizeof(string), "Ai primit $%s si un RP.", FormatNumber(money));
			SCM(playerid, COLOR_YELLOW, string);
			PlayerInfo[playerid][pExp] ++;
			GivePlayerCash(playerid, money);
			PlayerInfo[playerid][pProgress][id] ++;
			UpdateProgress(playerid, 0);
		}
		else if(PlayerInfo[playerid][pProgress][id] < PlayerInfo[playerid][pNeedProgress][id]) {
			format(string, sizeof(string), "Progres pentru misiunea '%s': %d/%d", missionName(playerid, PlayerInfo[playerid][pDailyMission][id], id), PlayerInfo[playerid][pProgress][id], PlayerInfo[playerid][pNeedProgress][id]);
			SCM(playerid, COLOR_YELLOW, string);
		}
	    if(id == 0) format(query, sizeof(query), "UPDATE `users` SET `Progress`='%d' WHERE `ID`='%d'", PlayerInfo[playerid][pProgress][id], PlayerInfo[playerid][pSQLID]);
		else if(id == 1) format(query, sizeof(query), "UPDATE `users` SET `Progress2`='%d' WHERE `ID`='%d'", PlayerInfo[playerid][pProgress][id], PlayerInfo[playerid][pSQLID]);
		mysql_query(SQL, query);		
	}
	Update(playerid, pRP);
	return 1;
}
function LoadJobs()
{
	new
		Cache: db = mysql_query (SQL, "SELECT * FROM `jobs` ORDER BY `jobs`.`ID` ASC"),
		x,
		jobs,
		result[256],
		string[256];

 	for (new i, j = cache_get_row_count (); i != j; ++i)
	{
	    jobs ++;
       	cache_get_field_content(i, "ID", result); 				x = strval(result);
       	cache_get_field_content(i, "Name", result); 			format(JobInfo[x][jName], 128, result);
     	cache_get_field_content(i, "NeedLevel", result); 		JobInfo[x][jLevel] = strval(result);
       	cache_get_field_content(i, "PosX", result); 			JobInfo[x][jPosX] = floatstr(result);
       	cache_get_field_content(i, "PosY", result); 			JobInfo[x][jPosY] = floatstr(result);
		cache_get_field_content(i, "PosZ", result); 			JobInfo[x][jPosZ] = floatstr(result);
      	cache_get_field_content(i, "Legal", result); 			JobInfo[x][jLegal] = strval(result);
      	cache_get_field_content(i, "Skill1Veh", result); 		JobInfo[x][jSkill1Veh] = strval(result);
      	cache_get_field_content(i, "Skill2Veh", result); 		JobInfo[x][jSkill2Veh] = strval(result);
		cache_get_field_content(i, "Skill3Veh", result); 		JobInfo[x][jSkill3Veh] = strval(result);
		cache_get_field_content(i, "Skill4Veh", result); 		JobInfo[x][jSkill4Veh] = strval(result);
		cache_get_field_content(i, "Skill5Veh", result); 		JobInfo[x][jSkill5Veh] = strval(result);
		cache_get_field_content(i, "Skill6Veh", result); 		JobInfo[x][jSkill6Veh] = strval(result);

		format(string, sizeof(string), "{D10A0A}Job %s{FFFFFF}\nPentru a lua acest job, ai nevoie de nivel {D10A0A}%d{FFFFFF}.\nScrie {D10A0A}/getjob{FFFFFF} pentru a lua acest job.", JobInfo[x][jName], JobInfo[x][jLevel]);
		JobInfo[x][jLabel] = CreateDynamic3DTextLabel(string, 0xFFFFFF99, JobInfo[x][jPosX], JobInfo[x][jPosY], JobInfo[x][jPosZ], 25, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 1, -1, -1, -1, 100.0);
		JobInfo[x][jPickup] = CreateDynamicPickup(1275, 23, JobInfo[x][jPosX], JobInfo[x][jPosY], JobInfo[x][jPosZ], -1, -1, -1, 100.0);
	}
	printf("- Jobs: %d loaded", jobs);
	cache_delete(db);
	return 1;
}

function LoadProperty()
{
	new result[100],index = 0;
    mysql_query(SQL,"SELECT * FROM `houses` ORDER BY `houses`.`ID` ASC");
    mysql_store_result();
    while(mysql_retrieve_row())
    {
        housess++;
		index++;
		new i = index;
		mysql_get_field("ID", result);				HouseInfo[i][hID] = strval(result);
   	    mysql_get_field("Entrancex", result);		HouseInfo[i][hEntrancex] = floatstr(result);
    	mysql_get_field("Entrancey", result);		HouseInfo[i][hEntrancey] = floatstr(result);
        mysql_get_field("Entrancez", result);		HouseInfo[i][hEntrancez] = floatstr(result);
        mysql_get_field("Exitx", result);			HouseInfo[i][hExitx] = floatstr(result);
        mysql_get_field("Exity", result);			HouseInfo[i][hExity] = floatstr(result);
        mysql_get_field("Exitz", result);			HouseInfo[i][hExitz] = floatstr(result);
        mysql_get_field("Owner", result);			strmid(HouseInfo[i][hOwner], result, 0, 32, 32);
        mysql_get_field("Discription", result);		strmid(HouseInfo[i][hDiscription], result, 0, 24, 24);
        mysql_get_field("Value", result);			HouseInfo[i][hValue] = strval(result);
        mysql_get_field("Hel", result);				HouseInfo[i][hHel] = strval(result);
        mysql_get_field("Arm", result);				HouseInfo[i][hArm] = strval(result);
        mysql_get_field("Interior", result);		HouseInfo[i][hInterior] = strval(result);
        mysql_get_field("Lockk", result);			HouseInfo[i][hLock] = strval(result);
        mysql_get_field("Owned", result);			HouseInfo[i][hOwned] = strval(result);
        mysql_get_field("Rent", result);			HouseInfo[i][hRent] = strval(result);
        mysql_get_field("Rentabil", result);		HouseInfo[i][hRentabil] = strval(result);
        mysql_get_field("Takings", result);			HouseInfo[i][hTakings] = strval(result);
        mysql_get_field("Level", result);			HouseInfo[i][hLevel] = strval(result);
        mysql_get_field("Virtual", result);			HouseInfo[i][hVirtual] = strval(result);
	}
	mysql_free_result();
	printf("=============================");
	printf("- Houses: %d loaded", index);
	return 1;
}

stock CheckPlayerDistanceToVehicle(Float:radi, playerid, vehicleid)
{
	if(IsPlayerConnected(playerid))
	{
	    new Float:PX,Float:PY,Float:PZ,Float:X,Float:Y,Float:Z;
	    GetPlayerPos(playerid,PX,PY,PZ);
	    GetVehiclePos(vehicleid, X,Y,Z);
	    new Float:Distance = (X-PX)*(X-PX)+(Y-PY)*(Y-PY)+(Z-PZ)*(Z-PZ);
	    if(Distance <= radi*radi)
	    {
	        return 1;
	    }
	}
	return 0;
}

main()
{
}

// ONGAMEMODEINIT
function OnGameModeInit()
{
	LoadFunctions();

    new text[256];
	AddStaticPickup(1239, 23, -2764.6082,375.6342,6.3416);
	format(text,sizeof(text),"{%s}P{FFFFFF}rimarie {%s}SF{FFFFFF}\nApasa {%s}Enter{FFFFFF} pentru a intra",DynamicFactions[7][fFactionColor],DynamicFactions[7][fFactionColor],DynamicFactions[7][fFactionColor]);
	CreateDynamic3DTextLabel(text,0xFFFFFFFF,-2764.6082,375.6342,6.3416, 100, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, -1, -1, -1, 10.0);
	//LSPD
	format(text,128,"{%s}A{FFFFFF}pasa {%s}Enter{FFFFFF} pentru a urca pe acoperis!",DynamicFactions[1][fFactionColor],DynamicFactions[1][fFactionColor]);
	Create3DTextLabel(text,0xFFFFFFFF,1524.5557,-1677.8672,6.2188,20.0, 0, 1);
	format(text,128,"{%s}A{FFFFFF}pasa {%s}Enter{FFFFFF} ca sa cobori!",DynamicFactions[1][fFactionColor],DynamicFactions[1][fFactionColor]);
    Create3DTextLabel(text,0xFFFFFFFF,1564.9966,-1666.4923,28.3956,20.0, 0, 1);
    //LVPD
    format(text,128,"{%s}A{FFFFFF}pasa {%s}Enter{FFFFFF} pentru a urca pe acoperis!",DynamicFactions[15][fFactionColor],DynamicFactions[15][fFactionColor]);
    Create3DTextLabel(text,0xFFFFFF99,2268.0696,2448.5889,3.5313,20.0, 0, 1);
    format(text,128,"{%s}A{FFFFFF}pasa {%s}Enter{FFFFFF} ca sa cobori!",DynamicFactions[15][fFactionColor],DynamicFactions[15][fFactionColor]);
    Create3DTextLabel(text,0xFFFFFF99,2299.0493,2458.6294,38.6875,20.0, 0, 1);
	//Paramedics
	format(text,128,"{%s}A{FFFFFF}pasa {%s}Enter{FFFFFF} pentru a urca pe acoperis!",DynamicFactions[14][fFactionColor],DynamicFactions[14][fFactionColor]);
    Create3DTextLabel(text,0xFFFFFF99,1630.2517,1793.0970,10.8203,20.0, 0, 1);
    format(text,128,"{%s}A{FFFFFF}pasa {%s}Enter{FFFFFF} ca sa cobori!",DynamicFactions[14][fFactionColor],DynamicFactions[14][fFactionColor]);
    Create3DTextLabel(text,0xFFFFFF99,1608.1704,1787.0535,30.4688,20.0, 0, 1);
    
    if(SpecialWeek == 1) {
		CreateDynamicPickup(19054, 23, 154.3069,-1938.6196,3.7734, -1, -1,-1,100.0); // gift
		CreateDynamic3DTextLabel("Giftbox\nUse /getgift to get a gift",COLOR_CLIENT,154.3069,-1938.6196,3.7734,5.0, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, -1, -1, -1, 100.0);
	}
    areap = Create3DTextLabel("Arena de event este inchisa\nAsteapta...",0xFFFFFFFF,1671.5824,-1329.4281,17.4524,5.0, 0, 1);
	//NG BAZA
    gateng = CreateObject(19313, 135.2833, 1941.3331, 21.6932, 0.0000, 0.0000, 0.0000);
    CreateDynamicObject(19312, 191.14, 1870.04, 21.48,0.0000, 0.0000, 0.0000);

     // Hq Bug
    CreateDynamicObject(19357, 968.4691, -53.4128, 1001.8241, 0.0000, 0.0000, 0.0000);
	//Spawn
    CreateDynamicObject(1776, 1435.442383, -1474.893188, 20.533222, 0.0000, 0.0000, 90.0000);

	//Lspd
	gatelspd = CreateObject(971, 1588.6552, -1637.9025, 15.0358, 0.0000, 0.0000, 0.0000);
	//FBI
	gatefbi = CreateObject(980, -1770.25696, 985.41028, 25.11872,   0.00000, 0.00000, 90.00000);
	CreateObject(980, -1770.25696, 985.41028, 30.62672,   0.00000, 0.00000, 90.00000);
	//SFPD
	gatesfpd1 = CreateObject(980, -1636.1808, 688.4628, 8.4412,   0.00000, 0.00000, 180.00000);
	gatesfpd2 = CreateObject(980, -1624.6464, 688.4363, 8.4412,   0.00000, 0.00000, 180.00000);
	//LVPD
	gatelvpd1 = CreateObject(980, 2293.84033, 2497.78271, 4.93679,   0.00000, 0.00000, 90.00000);
	gatelvpd2 = CreateObject(980, 2335.08276, 2443.78833, 7.42357,   0.00000, 0.00000, -121.00000);

    //Lspd Object
	CreateDynamicObject(1500,1582.6122, -1637.9562, 12.3776,0.000000,0.000000,0.000000);
    CreateDynamicObject(983, 1545.0706787109, -1635.6511230469, 13.237774848938, 0, 0, 0);
    CreateDynamicObject(983, 1544.4979248047, -1620.7434082031, 13.238116264343, 0, 0, 0);
    lspdbar = CreateObject(968, 1544.7007, -1630.7527, 13.2983, 0.0000, 90.0200, 90.0000);
	//Area51
	area51gate1 = CreateObject(19313, 285.85400, 1822.79895, 19.05677,   0.00000, 0.00000, 90.00000);
	area51gate2 = CreateObject(19313, 134.57402, 1941.25146, 20.59156,   0.00000, 0.00000, 0.00000);
    
    SetTimer("SyncData", 1200000, 1);
	SetTimer("WantedDown", 1000, 1);
	SetTimer("WantedTime2", 60000, 1);	
	hats = LoadModelSelectionMenu("hats.txt");
	glasses = LoadModelSelectionMenu("glasses.txt");	
	skinlist = LoadModelSelectionMenu("skins.txt");
	furnitures = LoadModelSelectionMenu("furnitures.txt");
	fskins[0] = LoadModelSelectionMenu("f1.txt");
	fskins[1] = LoadModelSelectionMenu("f2.txt");
	fskins[2] = LoadModelSelectionMenu("f3.txt");
	fskins[3] = LoadModelSelectionMenu("f4.txt");
	fskins[4] = LoadModelSelectionMenu("f5.txt");
	fskins[5] = LoadModelSelectionMenu("f6.txt");
	fskins[6] = LoadModelSelectionMenu("f7.txt");
	fskins[7] = LoadModelSelectionMenu("f8.txt");
	fskins[8] = LoadModelSelectionMenu("f9.txt");
	fskins[9] = LoadModelSelectionMenu("f10.txt");
	fskins[10] = LoadModelSelectionMenu("f11.txt");
	fskins[11] = LoadModelSelectionMenu("f12.txt");
	fskins[12] = LoadModelSelectionMenu("f13.txt");
	fskins[13] = LoadModelSelectionMenu("f14.txt");
	fskins[14] = LoadModelSelectionMenu("f15.txt");
	fskins[15] = LoadModelSelectionMenu("f16.txt");
	fskins[16] = LoadModelSelectionMenu("f17.txt");
	fskins[17] = LoadModelSelectionMenu("f18.txt");
	fskins[18] = LoadModelSelectionMenu("f19.txt");
	fskins[19] = LoadModelSelectionMenu("f20.txt");
	fskins[20] = LoadModelSelectionMenu("f21.txt");
	fskins[21] = LoadModelSelectionMenu("f22.txt");
	fskins[22] = LoadModelSelectionMenu("f23.txt");
	fskins[23] = LoadModelSelectionMenu("f24.txt");
	fskins[24] = LoadModelSelectionMenu("f25.txt");
	// ----------------------------------------

	mysql_log(LOG_ERROR, LOG_TYPE_TEXT);
	SQL = mysql_connect(SQL_HOST,SQL_USER,SQL_DB,SQL_PASS);
	if(SQL) printf("Conexiunea la baza de date `%s` a fost stabilizat!",SQL_DB);
	SetNameTagDrawDistance(30);
	EnableStuntBonusForAll(0);
	ShowPlayerMarkers(2);
	LimitPlayerMarkerRadius(5.0);
	new string[MAX_PLAYER_NAME];
    new string1[MAX_PLAYER_NAME];
	new szQuery[128];
    format(szQuery, sizeof(szQuery), "SELECT * FROM `users`");
    new Cache: result = mysql_query(SQL, szQuery);
 	ServerAccounts = cache_get_row_count ();
    cache_delete(result);
    for(new i = 1; i < sizeof(TogFChat); i++)
	{
		TogFChat[i] = 0;
	}
	for(new c=0;c<CAR_AMOUNT;c++)
	{
		Gas[c] = GasMax;
	}

	for(new i = 0; i < sizeof(AdvMSG); i++)
    {
	    format(AdvMSG[i],256," ");
	    format(AdvPlayer[i],24," ");
    }
    SetTimer("SendMSG", 400000, 1);

    for(new i = 0; i < MAX_PLAYERS; i++)
	{
		Jailtime[i] = TextDrawCreate(20.400028, 428.586608, " ");
		TextDrawLetterSize(Jailtime[i], 0.244000, 1.724444);
		TextDrawColor(Jailtime[i], -1);
		TextDrawSetShadow(Jailtime[i], 1);
		TextDrawSetOutline(Jailtime[i], 1);
		TextDrawFont(Jailtime[i], 1);
	}

	LoadProperty();
	LoadBizz();
	LoadSVehicles();
	LoadClans();
	LoadGraffiti();
	LoadStuff();
	LoadTurfs();
	LoadFactions();
 	LoadJobs();
 	LoadFurnitures();
 	LoadSafeZones();
  	LoadSystems();
 	
	News[hTaken1] = 0; News[hTaken2] = 0; News[hTaken3] = 0; News[hTaken4] = 0; News[hTaken5] = 0;
	format(string, sizeof(string), "Nothing");
	strmid(News[hAdd1], string, 0, strlen(string), 255);
	strmid(News[hAdd2], string, 0, strlen(string), 255);
	strmid(News[hAdd3], string, 0, strlen(string), 255);
	strmid(News[hAdd4], string, 0, strlen(string), 255);
	strmid(News[hAdd5], string, 0, strlen(string), 255);
	format(string1, sizeof(string1), "No-one");
	strmid(News[hContact1], string1, 0, strlen(string1), 255);
	strmid(News[hContact2], string1, 0, strlen(string1), 255);
	strmid(News[hContact3], string1, 0, strlen(string1), 255);
	strmid(News[hContact4], string1, 0, strlen(string1), 255);
	strmid(News[hContact5], string1, 0, strlen(string1), 255);
	SetGameModeText("Localhost");
	SendRconCommand("mapname LS/LV/SF");
	format(objstore, sizeof(objstore), "MOLE: I got nothing, check back with me later.");
	format(cbjstore, sizeof(cbjstore), "HQ: There is nothing in your Vicinity, Out.");
	
	// actors

	GunActor = CreateActor(179, 316.1557,-133.5441,999.6016,88.5541);
	SetActorInvulnerable(GunActor, true);
	ApplyActorAnimation(GunActor, "COP_AMBIENT", "Coplook_loop", 4.0, 0, 1, 1, 1, -1);
	SetActorVirtualWorld(GunActor, 2);
	
	CreateDynamicPickup(1239, 23, 327.9443, -1512.6609, 36.1366, -1, -1,-1,100.0);// Dealership
	CreateDynamic3DTextLabel("Dealership\nScrie /buyvehicle pentru a vedea vehiculele disponibile",0xFFFFFF99,327.9443, -1512.6609, 36.1366,7.0, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, -1, -1, -1, 100.0);

    CreateDynamic3DTextLabel("Apasa F pentru a intra",0xFFFFFFFF,2315.5696,0.3521,26.7422, 100, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, -1, -1, -1, 10.0);
    CreateDynamic3DTextLabel("Apasa F pentru a iesi",0xFFFFFFFF,-296.7248,1502.6849,1070.9940, 100, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, -1, -1, -1, 10.0);
	CreateDynamic3DTextLabel("Scrie /rob pentru a da rob\nScrie /robsafe pentru a jefui un seif",0xFFFFFF99,-296.8337, 1515.3702, 1070.6359, 100, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, -1, -1, -1, 10.0);	
	AddStaticPickup(1550, 23, -296.8337, 1515.3702, 1070.6359);
    
	gettime(ghour, gminute, gsecond);
	FixHour(ghour);
	ghour = shifthour;
	if(!realtime)
	{
		SetWorldTime(wotime);
	}
    DisableInteriorEnterExits();
	AllowInteriorWeapons(1);
	UsePlayerPedAnims();

	for(new i = 1; i < sizeof(TurfInfo); i++)
	{
	    Turfs[i] = GangZoneCreateM(TurfInfo[i][zMinX],TurfInfo[i][zMinY],TurfInfo[i][zMaxX],TurfInfo[i][zMaxY]);
	}

	for(new i = 0; i <= sizeof(Peds)-1; i++)
	{
		AddPlayerClass(Peds[i][0],1958.3783,1343.1572,1100.3746,269.1425,-1,-1,-1,-1,-1,100);
	}

    ManualVehicleEngineAndLights();

    // AIRPLANE LOS SANTOS
    airls1 = CreateVehicle(593,1907.7614,-2624.4097,13.5416,53.1810,-1,-1,900);
    airls2 = CreateVehicle(593,1887.0736,-2627.6543,13.5394,52.6116,-1,-1,900);
    airls3 = CreateVehicle(513,1835.3215,-2624.1938,13.5405,56.0569,-1,-1,900);
    airls4 = CreateVehicle(513,1813.2893,-2625.6296,13.5394,53.2858,-1,-1,900);

	// RENT CAR LOS SANTOS
	rentls[1] = CreateVehicle(405,557.3239,-1290.8027,16.9753,359.8189,-1,-1,100);
	rentls[2] = CreateVehicle(421,551.8803,-1290.9362,16.9753,0.3020,-1,-1,100);
	rentls[3] = CreateVehicle(492,546.6302,-1290.8745,16.9738,1.0379,-1,-1,100);
	rentls[4] = CreateVehicle(560,541.1537,-1290.9049,16.9693,0.3012,-1,-1, 100);
	rentls[5] = CreateVehicle(561,535.0253,-1290.8658,16.9693,0.9359,-1,-1, 100);
	rentls[6] = CreateVehicle(566,528.7861,-1290.7689,16.9693,0.6654,-1,-1, 100);
	rentls[7] = CreateVehicle(568,550.2739,-1264.9014,16.9693,214.7309,-1,-1, 100);
	rentls[8] = CreateVehicle(576,546.3046,-1267.5038,16.9708,215.0804,-1,-1, 100);
	rentls[9] = CreateVehicle(558,542.5994,-1270.2090,16.9722,215.0540,-1,-1, 100);
	rentls[10] = CreateVehicle(560,538.5262,-1273.3367,16.9693,218.9892,-1,-1, 100);
	rentls[11] = CreateVehicle(559,539.2164,-1320.5847,16.9693,15.5271,-1,-1, 100);
	rentls[12] = CreateVehicle(555,534.4049,-1321.9281,16.9693,16.3604,-1,-1, 100);
	rentls[13] = CreateVehicle(554,529.3337,-1323.3448,16.9693,16.8744,-1,-1, 100);
	rentls[14] = CreateVehicle(551,523.5197,-1324.8401,16.9693,14.5317,-1,-1, 100);
	rentls[15] = CreateVehicle(550,534.1460,-1276.7200,16.9693,221.5901,-1,-1, 100);

	//CIVILIAN CAR
	masinils[1] = CreateVehicle(404,2148.4619,-1166.3754,23.5544,269.6210,-1,-1,900);
	masinils[2] = CreateVehicle(542,2228.4871,-1162.9946,25.5155,89.7658,-1,-1,900);
	masinils[3] = CreateVehicle(549,1923.3048,-1795.6370,13.0800,89.7317,-1,-1,900);
	masinils[4] = CreateVehicle(561,2762.5457,-1845.6064,9.5453,199.5484,-1,-1,900);
	masinils[5] = CreateVehicle(576,1074.2271,-934.9034,42.5555,5.4541,-1,-1,900);

	// SCOOTER
    scooter[1] = CreateVehicle(522,1834.7260,-1871.2183,12.9616,359.0389,-1,-1,100);
    scooter[2] = CreateVehicle(522,1838.0586,-1871.2975,12.9583,358.8469,-1,-1,100);
    scooter[3] = CreateVehicle(521,1841.2273,-1871.3334,12.9610,359.2250,-1,-1,100);
    scooter[4] = CreateVehicle(522,1844.4600,-1871.2461,12.9617,0.3342,-1,-1,100);
    scooter[5] = CreateVehicle(463,1836.7573,-1853.2722,12.9580,178.9819,-1,-1,100);
	scooter[6] = CreateVehicle(463,1839.8453,-1853.2366,12.9576,178.4100,-1,-1,100);
    scooter[7] = CreateVehicle(521,1865.5045,-1865.9075,13.1328,89.9261,-1,-1,100);
    scooter[8] = CreateVehicle(521,1865.4834,-1868.8330,13.1073,89.0793,-1,-1,100);
    scooter[9] = CreateVehicle(521,1865.3910,-1871.6492,13.0861,88.3139,-1,-1,100);
    scooter[10] = CreateVehicle(521,1865.3313,-1877.3142,13.0420,89.9576,-1,-1,100);

    // BIKE SPAWN CIVIL
	bike[1] = CreateVehicle(510, 1655.6013,-2262.5396,13.1161,358.9389, -1, -1, 100);
	bike[2] = CreateVehicle(510, 1650.0735,-2262.5359,13.1066,0.0868, -1, -1, 100);
	bike[3] = CreateVehicle(510, 1652.9418,-2262.4805,13.1116,0.5803, -1, -1, 100);
	bike[4] = CreateVehicle(510, 1675.6456,-2262.5359,13.1430,358.2211, -1, -1, 100);
	bike[5] = CreateVehicle(510, 1672.8143,-2262.5056,13.1389,0.6560, -1, -1, 100);
	bike[6] = CreateVehicle(510, 1670.0956,-2262.5117,13.1370,359.6990, -1, -1, 100);

	// RACE CAR HOTRING
	hotc[1] = CreateVehicle(503,-1406.9308,-257.7033,1043.5562,347.9015,-1,-1,100);
	hotc[2] = CreateVehicle(503,-1402.8817,-258.5134,1043.5522,349.0887,-1,-1,100);
	LinkVehicleToInterior(hotc[1], 7);
	LinkVehicleToInterior(hotc[2], 7);

	// Property and Afacere
	for(new h = 1; h <= housess; h++) UpdateLabel(1, h);
	for(new h = 1; h <= bussines; h++) UpdateLabel(2, h);
	if (realtime)
	{
		new tmphour;
		new tmpminute;
		new tmpsecond;
		gettime(tmphour, tmpminute, tmpsecond);
		FixHour(tmphour);
		tmphour = shifthour;
		new worldt = tmphour+1;
		SetWorldTime(worldt);
	}
	synctimer = SetTimer("SyncUp", 60000, 1);
	unjailtimer = SetTimer("Timers", 1000, 1);
	SetTimer("MesajStaff", 180000, true);	
	SetTimer("RentCar", 15000, true);
	SetTimer("HelperQuestions", 5000, true);
	taxitimer = SetTimer("TaxiUpdate", 20000, 1);
	othtimer = SetTimer("OtherTimer", 1000, 1);
	cartimer = SetTimer("CarCheck", 30000, 1);
	pickuptimer = SetTimer("CustomPickups", 1000, 1);
	spectatetimer = SetTimer("Spectator", 2000, 1);
	productiontimer = SetTimer("Production", 300000, 1); //5 mins (300000)
	checkgastimer = SetTimer("CheckGas", RunOutTime, 1);
    stoppedvehtimer = SetTimer("StoppedVehicle", RunOutTime, 1);
    checkvehinfotimer = SetTimer("Checkvehinfo",1000, 1);
	return 1;
}

function OnPlayerKeyStateChange(playerid, newkeys, oldkeys)
{
	new veh = GetPlayerVehicleID(playerid);
    new engine,lights,alarm,doors,bonnet,boot,objective;
    if(newkeys == KEY_CTRL_BACK && GetPlayerState(playerid)==PLAYER_STATE_DRIVER)
    {
		if(IsPlayerLogged[playerid] == 0) return 1;
		if(!IsPlayerInAnyVehicle(playerid)) return 1;
		new radiostr[1024];
		format(radiostr, sizeof(radiostr), "{E82727}Opreste Radio-ul\nRadio Taraf Romania\nRadio Funky Manele\nRadio Gangsta Manele\nRadio Gangsta Dance\nRadio Bandit Romania\nRadio Hot Romania\nRadio Tequila HipHop\nRadio Kiss FM\nRadio ZU Romania\nRadio Greu de Difuzat\nRadio Pro FM\nRadio ClubMix\nRadio Popular");
		ShowPlayerDialog(playerid,170,DIALOG_STYLE_LIST,"Radio",radiostr,"Ok", "Iesire");
    }
	if(newkeys == KEY_NO) LockCarFunction(playerid);
	if(newkeys == KEY_FIRE) {
		if(IsVehicleRc(GetPlayerVehicleID(playerid)) || GetVehicleModel(GetPlayerVehicleID(playerid)) == RC_CAM && InDealer[playerid] == 1)
		{
			if(GetVehicleModel(GetPlayerVehicleID(playerid)) != D_TRAM)
			{
				DestroyVehicle(DealerCar[playerid]);
				InDealer[playerid] = 0, DealerCarType[playerid] = -1, DealerCar[playerid] = 0;
				KillTimer(DSTimer[playerid]);
				SendClientMessage(playerid, COLOR_YELLOW, "Testul a fost suspendat deoarece ai abandonat vehiculul.");
				SetPlayerPosEx(playerid, 327.9443, -1512.6609, 36.1366);
				SetPlayerInterior(playerid, 0);
				SetPlayerVirtualWorld(playerid, 0);
				TestingModel[playerid] = 0;
			}
		}
	}
	if(newkeys & KEY_FIRE) {
        if(EnableBoast[playerid] == 1 && GetPlayerState(playerid) == PLAYER_STATE_DRIVER) {
			new Float:vx,Float:vy,Float:vz;
			GetVehicleVelocity(GetPlayerVehicleID(playerid),vx,vy,vz);
			SetVehicleVelocity(GetPlayerVehicleID(playerid), vx * 1.8, vy *1.8, vz * 1.8);
        }
    }
    if(newkeys == KEY_YES)
	{
		if(JobWorking[playerid] == 1)
		{
			if(InHand[playerid] == 0) return 1;
			if(CheckPlayerDistanceToVehicle(7.0, playerid, JobVehicle[playerid]))
			{
				RemovePlayerAttachedObject(playerid, 2);
				InHand[playerid] = 0;
				if(GunoiKG[playerid] < GetPlayerSkill(playerid)*25)
				{
					new x = random(sizeof(GarbagePos));
					SetPlayerCheckpointEx(playerid, GarbagePos[x][0], GarbagePos[x][1], GarbagePos[x][2], 2.0);
					CP[playerid] = 54;
					new szZone[256], string[256];
					GetPlayer3DZone2(GarbagePos[x][0], GarbagePos[x][1], GarbagePos[x][2], szZone, sizeof(szZone));
					format(string, sizeof(string), "Du-te la punctul rosu de pe mapa pentru a lua sacul cu gunoi~n~(~y~%s~w~~h~)", szZone);
					PlayerTextDrawSetString(playerid, InfosTD, string);
					SetTimerEx("HideTextdraw", 5000, 0, "%d", playerid);
					PlayerTextDrawShow(playerid, InfosTD);
				}
				else
				{
					SetPlayerCheckpointEx(playerid,2109.2771, -2010.4305, 13.6879, 3.0);
					CP[playerid] = 55;
					PlayerTextDrawSetString(playerid, InfosTD, "Du-te la punctul rosu de pe mapa pentru a primii banii");
					SetTimerEx("HideTextdraw", 5000, 0, "%d", playerid);
					PlayerTextDrawShow(playerid, InfosTD);
				}
			}
		}
		else ShowPlayerFriends(playerid);
    }
	if((IsACBUGWeapon(playerid) && RELEASED(KEY_FIRE)) && newkeys != KEY_FIRE && newkeys & KEY_CROUCH)
    {
		ApplyAnimation ( playerid , "PED" , "getup" , 4.1 , 0 , 0 , 0 , 0 , 0 ) ;
		PlayerTextDrawShow(playerid, CbugT);
		SetTimerEx("HideCbug",3000,0,"d",playerid);
    }
    if (newkeys & KEY_HANDBRAKE)
    {
		if(GetPlayerSpecialAction(playerid) == SPECIAL_ACTION_USEJETPACK && PlayerInfo[playerid][pAdmin] < 1)
	    {
			new string[100];
			format(string,sizeof(string),"AdmCmd: %s(%d) foloseste JetPack.",GetName(playerid),playerid);
			SendAdminMessage(COLOR_LOGS,string,1);
			KickEx(playerid);
		}
	}
    if (newkeys & KEY_CROUCH)
    {
		if(IsACop(playerid))
        {
			if(PlayerToPoint(15.0, playerid,1588.6552, -1637.9025, 15.0358))
			{
			   MoveObject(gatelspd,1596.7352,-1637.9025, 15.0358,2);
			   SetTimer("lspdgateclose" ,9000 ,false);
			   return 1;
			}
			if(PlayerToPoint(15.0, playerid,-1770.25696, 995.83032, 25.07870))
			{
			   MoveObject(gatefbi,-1770.2570, 995.8303, 25.0787,2);
			   SetTimer("fbigateclose" ,9000 ,false);
			   return 1;
			}
			if(PlayerToPoint(15.0, playerid,2293.84033, 2497.78271, 4.93679))
			{
			   MoveObject(gatelvpd1,2293.8403, 2497.7827, 10.1142,2);
			   SetTimer("lvpdgateclose1" ,9000 ,false);
			   return 1;
			}
			if(PlayerToPoint(15.0, playerid,2335.0828, 2443.7883, 7.4586))
			{
			   MoveObject(gatelvpd2,2335.0828, 2443.7883, 12.8445,2);
			   SetTimer("lvpdgateclose2" ,9000 ,false);
			   return 1;
			}
			if(PlayerToPoint(18.0, playerid, -1624.6464, 688.4363, 8.4412))
			{
			   MoveObject(gatesfpd1,-1645.8208, 688.4628, 8.4412,2);
			   MoveObject(gatesfpd2,-1613.4664, 688.4363, 8.4412,2);
			   SetTimer("sfpdgateclose" ,9000 ,false);
			   return 1;
			}
			if(PlayerToPoint(18.0, playerid, -1624.6464, 688.4363, 8.4412))
			{
			   MoveObject(area51gate1,285.8540, 1833.9190, 19.0568,2);
			   SetTimer("area51gateclose1" ,9000 ,false);
			   return 1;
			}
			if(PlayerToPoint(18.0, playerid, 121.7340, 1941.2515, 20.5916))
			{
			   MoveObject(area51gate2,-1613.4664, 688.4363, 8.4412,2);
			   SetTimer("area51gateclose2" ,9000 ,false);
			   return 1;
			}
			if(PlayerToPoint(15.0, playerid,135.2833, 1941.3331, 21.6932))
			{
			   MoveObject(gateng,122.0023, 1941.4100, 21.6932,2);
			   SetTimer("nggateclose" ,9000 ,false);
			   return 1;
			}
			if(PlayerToPoint(15.0, playerid,1544.7007, -1630.7527, 13.2983))
			{
			   MoveObject(lspdbar,1544.7007, -1630.7527, 13.2983,1,0.0000, 0.0000, 90.0000);
			   SetTimer("lspdbarclose" ,9000 ,false);
			   return 1;
			}
        }
	}
	if (((newkeys & KEY_WALK && newkeys & KEY_UP) || (newkeys & KEY_WALK && newkeys & KEY_DOWN) || (newkeys & KEY_WALK && newkeys & KEY_LEFT) || (newkeys & KEY_WALK && newkeys & KEY_RIGHT))
	|| ((oldkeys & KEY_WALK && newkeys & KEY_UP) || (oldkeys & KEY_WALK && newkeys & KEY_DOWN) || (oldkeys & KEY_WALK && newkeys & KEY_LEFT) || (oldkeys & KEY_WALK && newkeys & KEY_RIGHT))
	|| ((newkeys & KEY_WALK && oldkeys & KEY_UP) || (newkeys & KEY_WALK && oldkeys & KEY_DOWN) || (newkeys & KEY_WALK && oldkeys & KEY_LEFT) || (newkeys & KEY_WALK && oldkeys & KEY_RIGHT))
	&& GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
	{
		walktime[playerid] = SetTimerEx("WalkAnim",200,0,"d",playerid);
	}
    if(newkeys == KEY_LOOK_BEHIND)
    {
		if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
		{
			new idcar = GetPlayerVehicleID(playerid),string[128];
			if(IsABike(idcar)) return SendClientMessage(playerid,COLOR_WHITE,"Nu poti folosi aceasta comanda intr-o bicicleta.");
			if(Refueling[playerid] == 0)
		    {
				if(vehEngine[idcar] == 0)
				{
				   vehEngine[idcar] = 1;
				   GetVehicleParamsEx(idcar,engine,lights,alarm,doors,bonnet,boot,objective);
				   SetVehicleParamsEx(idcar,VEHICLE_PARAMS_ON,lights,alarm,doors,bonnet,boot,objective);
				   new vehicle;
				   vehicle = GetVehicleModel(idcar) - 400;
				   SetPVarInt(playerid, "Engine", 1);
				   if(PlayerHit[playerid] != -1) SCM(playerid,COLOR_WHITE,"Motorul a fost pornit. Mesajul nu a fost afisat deoarece esti undercover.");
				   else
				   {
				       format(string,sizeof(string),"%s a pornit motorul vehiculului %s.",GetName(playerid),aVehicleNames[vehicle]);
				       ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
				   }
				}
				else if(vehEngine[idcar] == 1)
				{
					vehEngine[idcar] = 0;
					GetVehicleParamsEx(idcar,engine,lights,alarm,doors,bonnet,boot,objective);
					SetVehicleParamsEx(idcar,VEHICLE_PARAMS_OFF,lights,alarm,doors,bonnet,boot,objective);
					new vehicle;
					vehicle = GetVehicleModel(idcar) - 400;
					SetPVarInt(playerid, "Engine", 0);
					if(PlayerHit[playerid] != -1) SCM(playerid,COLOR_WHITE,"Motorul a fost oprit. Mesajul nu a fost afisat deoarece esti undercover.");
					else
					{
					   format(string,sizeof(string),"%s a oprit motorul vehiculului %s.",GetName(playerid),aVehicleNames[vehicle]);
					   ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
					}
				}
	        }
			else return SendClientMessage(playerid,COLOR_WHITE,"Te rugam asteapta, acum iti faci plinul.");
		}
	}
	if (newkeys & KEY_SPRINT)
	{
	   if(gPlayerUsingLoopingAnim[playerid] == 1)
	   {
	       StopLoopingAnim(playerid);
	   }
	}
	if (newkeys & KEY_ANALOG_DOWN)
	{
		if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
		{
			if(GetPVarInt(playerid, "Boot") == 0)
			{
				GetVehicleParamsEx(veh,engine,lights,alarm,doors,bonnet,boot,objective);
				SetVehicleParamsEx(veh,engine,lights,alarm,doors,bonnet,VEHICLE_PARAMS_ON,objective);
				SetPVarInt(playerid, "Boot", 1);
			}
			else if(GetPVarInt(playerid, "Boot") == 1)
			{
				GetVehicleParamsEx(veh,engine,lights,alarm,doors,bonnet,boot,objective);
				SetVehicleParamsEx(veh,engine,lights,alarm,doors,bonnet,VEHICLE_PARAMS_OFF,objective);
				SetPVarInt(playerid, "Boot", 0);
			}
		}
		return 1;
	}
	if(newkeys & KEY_SECONDARY_ATTACK)
	{
        if(Spectate[playerid] < 253 && Spectate[playerid] != 255)
		{
			TogglePlayerControllable(playerid, 1);
			TogglePlayerSpectating(playerid, 0);
			SetPlayerInterior(playerid,Unspec[playerid][sPint]);
			PlayerInfo[playerid][pInt] = Unspec[playerid][sPint];
			PlayerInfo[playerid][pLocal] = Unspec[playerid][sLocal];
			Unspec[playerid][sLocal] = 255;
			SetPlayerToTeamColor(playerid);
			SendClientMessage(playerid, COLOR_GREEN, "Acum nu mai esti spectator.");
        	PlayerTextDrawHide(playerid, SpecTD);
			Spectate[playerid] = 255;
			return 1;
		}
		if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
		{
			if(IsPlayerConnected(playerid))
			{
				if(PlayerToPoint(3.0, playerid, 2315.5696,0.3521,26.7422)) // /rob enter
				{
					SetPlayerInterior(playerid, 6);
					SetPlayerPosEx(playerid, -296.7248,1502.6849,1070.9940);
				}
				if(PlayerToPoint(3.0, playerid, -296.7248,1502.6849,1070.9940)) // /rob exit
				{
					SetPlayerInterior(playerid, 0);
					SetPlayerPosEx(playerid, 2315.5696,0.3521,26.7422);
				}
				for(new i = 1; i < 26; i++)
				{
					if(PlayerToPoint(2.0, playerid, DynamicFactions[i][extX], DynamicFactions[i][extY], DynamicFactions[i][extZ]))
					{
						if(PlayerInfo[playerid][pMember] == i || DynamicFactions[i][fHQStats] == 1) EnterFaction(playerid, i);
					}
				}
				for(new i = 1; i < 26; i++)
				{
					if(PlayerToPoint(2.0, playerid, DynamicFactions[i][fcX], DynamicFactions[i][fcY], DynamicFactions[i][fcZ]))
					{
						if(DynamicFactions[i][fVW] == GetPlayerVirtualWorld(playerid) && DynamicFactions[i][fInterior] == GetPlayerInterior(playerid)) ExitFaction(playerid, i);
					}
				}
				 for(new i = 1; i < sizeof(HouseInfo); i++) {
				   if(IsPlayerInRangeOfPoint(playerid,2,HouseInfo[i][hEntrancex], HouseInfo[i][hEntrancey], HouseInfo[i][hEntrancez]))
				   {		
				       if(InEvent[playerid] == 1) return 1;
				       if(InWar[PlayerInfo[playerid][pMember]] == 1) return SCM(playerid, COLOR_LIGHTRED, "Eroare: Nu poti intra intr-o locuinta in timpul war-ului!");
					   if(PlayerInfo[playerid][pHouse] == i || HouseInfo[i][hLock] == 0 || OnDuty[playerid] == 1 || PlayerHit[playerid] != -1) {
		                   if(GetPVarInt(playerid, "LocationEnter") > gettime()) return SCMf(playerid, COLOR_LGREEN, "Please wait %d seconds!", GetPVarInt(playerid, "LocationEnter") - gettime());
						   SetPlayerPosEx(playerid,HouseInfo[i][hExitx],HouseInfo[i][hExity],HouseInfo[i][hExitz]);
						   SetPlayerInterior(playerid,HouseInfo[i][hInterior]);
						   PlayerInfo[playerid][pInt] = HouseInfo[i][hInterior];
						   PlayerInfo[playerid][pLocal] = i;
						   SetPlayerVirtualWorld(playerid,HouseInfo[i][hVirtual]);
						   InHouse[playerid] = i;
						   SetPVarInt(playerid, "LocationEnter", gettime() + 10);
						   HouseRadio(playerid, i);
					   }
					   else GameTextForPlayer(playerid, "~r~~h~Inchis", 1000, 1);
				   }
			   }
						   for(new i = 1; i < sizeof(BizzInfo); i++) {
				   if(IsPlayerInRangeOfPoint(playerid,2,BizzInfo[i][bEntranceX], BizzInfo[i][bEntranceY], BizzInfo[i][bEntranceZ]) && BizzInfo[i][bStatic] == 0) {
				       if(GetPVarInt(playerid, "LocationEnter") > gettime()) return SCMf(playerid, COLOR_LGREEN, "Please wait %d seconds!", GetPVarInt(playerid, "LocationEnter") - gettime());
				       if(InWar[PlayerInfo[playerid][pMember]] == 1) return SCM(playerid, COLOR_LIGHTRED, "Eroare: Nu poti intra intr-o afacere in timpul war-ului!");
					   if(GetPlayerCash(playerid) < BizzInfo[i][bFee]) return GameTextForPlayer(playerid, "~r~~h~Nu ai destui bani", 1000, 1);
					   if(OnDuty[playerid] == 1 || PlayerHit[playerid] != -1) { }
					   else if(BizzInfo[i][bLocked] == 1) return GameTextForPlayer(playerid, "~r~~h~Inchis", 1000, 1);
					   if(BizzInfo[i][bType] == 6) {
							if(HaveFish[playerid] != 0) ShowPlayerDialog(playerid, DIALOG_FISH, DIALOG_STYLE_MSGBOX, "Vinde pestele:", "Vrei sa vinzi pestele in acest magazin?", "Da", "Nu");
					   }
					   if(BizzInfo[i][bType] == 1) SCM(playerid,COLOR_WHITE,"Comenzi disponibile: /withdraw, /transfer, /deposit");
					   if(BizzInfo[i][bType] == 9) SCM(playerid,COLOR_WHITE,"Comenzi disponibile: /dice, /minesweeper.");
					   if(BizzInfo[i][bType] == 8 || BizzInfo[i][bType] == 21) {
							SCM(playerid,COLOR_WHITE,"Comenzi disponibile: /eat.");
							if(BizzInfo[i][bType] == 8) {
								if(KG[playerid] != 0) {
									GiveJobSalary(playerid);
									DisablePlayerCheckpointEx(playerid);
									CP[playerid] = 0;
									GunoiKG[playerid] = 0;
									KG[playerid] = 0;
									PlayerInfo[playerid][pFarmerSkill] ++;
									Update(playerid, pFarmerSkillx);				
									for(new m; m < 2; m++) {
										if(PlayerInfo[playerid][pDailyMission][m] == 4) CheckMission(playerid, m);
									}				
									DestroyVehicle(JobVehicle[playerid]);
									JobVehicle[playerid] = 0, JobWorking[playerid] = 0;
									PlayerTextDrawHide(playerid, JobTD);
								}	
							}
					   }						   
					   if(BizzInfo[i][bType] == 2) SCM(playerid,COLOR_WHITE,"Press Y in front of the NPC.");
					   if(BizzInfo[i][bType] == 3) SCM(playerid,COLOR_WHITE,"Comenzi disponibile: /drink.");
					   if(BizzInfo[i][bType] == 5) SCM(playerid,COLOR_WHITE,"Press Y in front of the NPC.");
					   if(BizzInfo[i][bType] == 6 || BizzInfo[i][bType] == 20) SCM(playerid,COLOR_WHITE,"Press Y in front of the NPC.");
					   if(BizzInfo[i][bType] == 7) SCM(playerid,COLOR_WHITE,"Comenzi disponibile: /clothes, /glasses, /buyhat, /accs.");
				       SetPVarInt(playerid, "LocationEnter", gettime() + 10);
					   GivePlayerCash(playerid,-BizzInfo[i][bFee]);
					   BizzInfo[i][bBalance] += BizzInfo[i][bFee];
					   BizzRadio(playerid, i);							   
					   if(BizzInfo[i][bStatic] == 0) {
						   SetPlayerInterior(playerid,BizzInfo[i][bInterior]);
						   SetPlayerPosEx(playerid,BizzInfo[i][bExitX],BizzInfo[i][bExitY],BizzInfo[i][bExitZ]);
						   PlayerInfo[playerid][pInt] = BizzInfo[i][bInterior];
						   PlayerInfo[playerid][pLocal] = i+99;
						   SetPlayerVirtualWorld(playerid,BizzInfo[i][bVirtual]);
						   InBussines[playerid] = i;
						   Update(playerid, pCashx);
						   new str1[184];
						   format(str1,sizeof(str1),"UPDATE `bizz` SET `Till`='%d' WHERE `ID`='%d'",BizzInfo[i][bBalance],i);
						   mysql_query(SQL,str1);
						   format(str1, sizeof(str1), "~r~-$%d", BizzInfo[i][bFee]);
						   GameTextForPlayer(playerid, str1, 1000, 1);						   
					   } 
				   }
			   }
			   	if (IsPlayerInRangeOfPoint(playerid,2,1397.0253,-1571.0708,14.2703)) // tribunal
				{
					SetPlayerInterior(playerid,5);
					SetPlayerPosEx(playerid,322.2210,303.0282,999.1484);
					PlayerInfo[playerid][pInt] = 5;
				}
				else if(IsPlayerInRangeOfPoint(playerid, 4.0, 1524.5557,-1677.8672,6.2188) && IsACop(playerid)) {
					SetPlayerPosEx(playerid,1564.8662,-1666.4962,28.3956);
				}
				else if(IsPlayerInRangeOfPoint(playerid, 4.0, 1564.8662,-1666.4962,28.3956) && IsACop(playerid)) {
				    SetPlayerPosEx(playerid,1524.5557,-1677.8672,6.2188);
				}
				else if(IsPlayerInRangeOfPoint(playerid, 4.0, 2267.9790,2448.8770,3.5313) && IsACop(playerid)) {
				    SetPlayerPosEx(playerid,2299.0493,2458.6294,38.6875);
				}
				else if(IsPlayerInRangeOfPoint(playerid, 4.0, 2299.0493,2458.6294,38.6875) && IsACop(playerid)) {
				    SetPlayerPosEx(playerid,2267.9790,2448.8770,3.5313);
				}
				else if(IsPlayerInRangeOfPoint(playerid, 4.0, 1630.2517,1793.0970,10.8203) && PlayerInfo[playerid][pMember] == 14) {
				    SetPlayerPosEx(playerid,1608.1704,1787.0535,30.4688);
				}
				else if(IsPlayerInRangeOfPoint(playerid, 4.0, 1608.1704,1787.0535,30.4688) && PlayerInfo[playerid][pMember] == 14) {
				    SetPlayerPosEx(playerid,1630.2517,1793.0970,10.8203);
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,1798.3613,-1578.8060,14.0908)) // jaills
				{
					SetPlayerInterior(playerid,6);
					SetPlayerPosEx(playerid,246.8740,63.5291,1003.6406);
					PlayerInfo[playerid][pInt] = 6;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,246.8740,63.5291,1003.6406)) // jaills
				{
					SetPlayerInterior(playerid,0);
					SetPlayerPosEx(playerid,1798.3613,-1578.8060,14.0908);
					PlayerInfo[playerid][pInt] = 0;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,1090.7542,-1476.3380,22.7465)) //tatto
				{
					SetPlayerInterior(playerid,16);
					SetPlayerPosEx(playerid,-204.439987,-26.453998,1002.273437);
					GameTextForPlayer(playerid, "~r~Tatto", 5000, 1);
					PlayerInfo[playerid][pInt] = 16;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,-2764.6082,375.6342,6.3416)) //SFPRIMARIE
				{
				    SetPlayerVirtualWorld(playerid,41);
					SetPlayerInterior(playerid,3);
					SetPlayerPosEx(playerid,389.8432,173.7614,1008.3828);
					GameTextForPlayer(playerid, "~r~Primarie SF", 5000, 1);
					PlayerInfo[playerid][pInt] = 3;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,389.8432,173.7614,1008.3828)) //SFPRIMARIE
				{
				    SetPlayerVirtualWorld(playerid,0);
					SetPlayerInterior(playerid,0);
					SetPlayerPosEx(playerid,-2764.6082,375.6342,6.3416);
					PlayerInfo[playerid][pInt] = 0;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,1765.1732,-1569.0253,1742.4930)) // enter visit
				{
					SetPlayerPosEx(playerid,1764.3419,-1567.7599,1742.4967);
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,2166.4771,-1671.7883,15.0743)) // drugs house
				{
					SetPlayerInterior(playerid,5);
					SetPlayerVirtualWorld(playerid,2);
					SetPlayerPosEx(playerid,318.5867,1115.4735,1083.8828);
					PlayerInfo[playerid][pInt] = 5;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,318.5867,1115.4735,1083.8828)) // drugs house
				{
					SetPlayerInterior(playerid,0);
					SetPlayerVirtualWorld(playerid,0);
					SetPlayerPosEx(playerid,2166.4771,-1671.7883,15.0743);
					PlayerInfo[playerid][pInt] = 0;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,1780.6133, -1569.6526, 1737.6211)) // area 51 - afara
				{
					if(!IsACop(playerid) && PlayerInfo[playerid][pJailTime] < 1) return 1;
					SetPlayerInterior(playerid,0);
					SetPlayerVirtualWorld(playerid, 51);
					SetPlayerPosEx(playerid,230.0804, 1888.0027, 17.7138);
					PlayerInfo[playerid][pInt] = 0;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,230.0804, 1888.0027, 17.7138)) // area 51 - inauntru
				{
					if(!IsACop(playerid) && PlayerInfo[playerid][pJailTime] < 1) return 1;
					SetPlayerInterior(playerid,0);
					SetPlayerVirtualWorld(playerid, 0);
					SetPlayerPosEx(playerid,1780.6133, -1569.6526, 1737.6211);
					PlayerInfo[playerid][pInt] = 0;
					SetTimerEx("UnfreezePlayer", 2000, 0, "%d", playerid);
					TogglePlayerControllable(playerid, 0);
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,2307.2935,-1786.0671,13.5557)) // b'dub house
				{
					SetPlayerInterior(playerid,3);
					SetPlayerPosEx(playerid,1527.229980,-11.574499,1002.097106);
					GameTextForPlayer(playerid, "~w~B'Dub House", 5000, 1);
					PlayerInfo[playerid][pInt] = 3;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,157.3923,1903.2848,18.6660)) // armoury NG
				{
					if (IsACop(playerid))
					{
						SetPlayerInterior(playerid,10);
						SetPlayerPosEx(playerid,246.5872,109.0304,1003.2188);
						GameTextForPlayer(playerid, "~w~National Guard Armoury", 5000, 1);
						PlayerInfo[playerid][pInt] = 10;
						SetPlayerVirtualWorld(playerid, 4);
						InHQ[playerid] = 3;
					}
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,928.3403,-1352.9470,13.3438)) // Cluckin' Bell
				{
					SetPlayerInterior(playerid,9);
					SetPlayerPosEx(playerid,365.7158,-9.8873,1001.8516);
					GameTextForPlayer(playerid, "~w~Cluckin' Bell", 5000, 1);
					PlayerInfo[playerid][pInt] = 9;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,2229.3289,-1722.0793,13.5625))
				{
					SetPlayerInterior(playerid,5);
					SetPlayerPosEx(playerid,772.111999,-3.898649,1000.728820);
					GameTextForPlayer(playerid, "~w~Ls Gym", 5000, 1);
					PlayerInfo[playerid][pInt] = 5;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,1833.0640,-1842.5887,13.5781))
				{
					SetPlayerInterior(playerid,4);
					SetPlayerPosEx(playerid,-27.312299,-29.277599,1003.557250);
					GameTextForPlayer(playerid, "~w~24/7", 5000, 1);
					PlayerInfo[playerid][pInt] = 4;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,1481.1063,-1771.2532,18.7958))
				{
					SetPlayerInterior(playerid,3);
					SetPlayerPosEx(playerid,387.7978,173.8582,1008.3828);
					PlayerInfo[playerid][pInt] = 3;
				}
				else if(PlayerToPoint(5,playerid,387.7978,173.8582,1008.3828))
				{
					SetPlayerPosEx(playerid,1481.1063,-1771.2532,18.7958);
					SetPlayerInterior(playerid,0);
				}
				else if (IsPlayerInRangeOfPoint(playerid,1,306.1372,-141.8831,1004.0547))//gunshopusa 1
				{
					SetPlayerPosEx(playerid,304.0046,-141.7622,1004.0625);
				}
				else if (IsPlayerInRangeOfPoint(playerid,1,300.4256,-141.7166,1004.0625))//gunshopusa 2
				{
					SetPlayerPosEx(playerid,299.1350,-141.8335,1004.0547);
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,1671.5824,-1329.4281,17.4524))
				{
					if(areape == 1)
					{
						SetPlayerInterior(playerid,15);
						SetPlayerPosEx(playerid,-1423.5153,935.8321,1036.4756);
						PlayerInfo[playerid][pInt] = 15;
					}
					else return SCM(playerid,COLOR_WHITE,"Event area is closed.");
				}
				for(new i = 1; i <  sizeof(HouseInfo); i++)
				{
					if (PlayerToPoint(2, playerid,HouseInfo[i][hExitx], HouseInfo[i][hExity], HouseInfo[i][hExitz]) && HouseInfo[i][hVirtual] == GetPlayerVirtualWorld(playerid))
					{
						SetPlayerVirtualWorld(playerid,0);
						StopAudioStreamForPlayer(playerid);
						SetPlayerInterior(playerid,0);
						SetPlayerPosEx(playerid,HouseInfo[i][hEntrancex],HouseInfo[i][hEntrancey],HouseInfo[i][hEntrancez]);
						PlayerInfo[playerid][pInt] = 0;
						PlayerInfo[playerid][pLocal] = 255;
						InHouse[playerid] = -1;
					}
				}
				for(new i = 1; i <  sizeof(BizzInfo); i++)
				{
					if (PlayerToPoint(2, playerid,BizzInfo[i][bExitX], BizzInfo[i][bExitY], BizzInfo[i][bExitZ]) && BizzInfo[i][bVirtual]==GetPlayerVirtualWorld(playerid))
					{
						SetPlayerInterior(playerid,0);
						PlayerInfo[playerid][pInt] = 0;
						SetPlayerPosEx(playerid,BizzInfo[i][bEntranceX],BizzInfo[i][bEntranceY],BizzInfo[i][bEntranceZ]);
						PlayerInfo[playerid][pLocal] = 255;
						SetPlayerVirtualWorld(playerid,0);
						InBussines[playerid] = -1;
					}
					if(i == 3)
					{
						StopAudioStreamForPlayer(playerid);
					}
			    }
				if (IsPlayerInRangeOfPoint(playerid,2,1764.3419,-1567.7599,1742.4967)) // exit visit
				{
				   SetPlayerPosEx(playerid,1765.1732,-1569.0253,1742.4930);
				}
			   	else if (IsPlayerInRangeOfPoint(playerid,2,322.2210,303.0282,999.1484))
				{
					SetPlayerInterior(playerid,0);
					SetPlayerPosEx(playerid,1397.0253,-1571.0708,14.2703);
					PlayerInfo[playerid][pInt] = 0;
				}
				else if(IsPlayerInRangeOfPoint(playerid,2,246.5872,109.0304,1003.2188) && GetPlayerVirtualWorld(playerid) == 4) // armoury NG
				{
					SetPlayerInterior(playerid,0);
					SetPlayerPosEx(playerid,157.3923,1903.2848,18.6660);
					PlayerInfo[playerid][pInt] = 0;
					SetPlayerVirtualWorld(playerid, 0);
					InHQ[playerid] = -1;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,-204.439987,-26.453998,1002.273437))
				{
					SetPlayerInterior(playerid,0);
					SetPlayerPosEx(playerid,1090.7542,-1476.3380,22.7465);
					PlayerInfo[playerid][pInt] = 0;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,1527.229980,-11.574499,1002.097106))
				{
					SetPlayerInterior(playerid,0);
					SetPlayerPosEx(playerid,2307.2935,-1786.0671,13.5557);
					PlayerInfo[playerid][pInt] = 0;
				}
				else if (IsPlayerInRangeOfPoint(playerid,1,304.5868,-141.9874,1004.0625))//gunshopusa
				{
					SetPlayerPosEx(playerid,305.7950,-141.8203,1004.0547);
				}
				else if (IsPlayerInRangeOfPoint(playerid,1,298.8386,-141.9191,1004.0547))//gunshopusa
				{
					SetPlayerPosEx(playerid,300.1631,-141.8074,1004.0625);
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,834.1988,7.1422,1004.1870))
				{
					SetPlayerInterior(playerid,0);
					SetPlayerPosEx(playerid,1122.9225,-1127.9012,23.8047);
					PlayerInfo[playerid][pInt] = 0;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,365.7158,-9.8873,1001.8516))
				{
					SetPlayerInterior(playerid,0);
					SetPlayerPosEx(playerid,928.3403,-1352.9470,13.3438);
					PlayerInfo[playerid][pInt] = 0;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,203.7114,-48.8409,1001.8047))
				{
					SetPlayerInterior(playerid,0);
					SetPlayerPosEx(playerid,2112.8286,-1211.8368,23.9634);
					PlayerInfo[playerid][pInt] = 0;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,772.111999,-3.898649,1000.728820))
				{
					SetPlayerInterior(playerid,0);
					SetPlayerPosEx(playerid,2229.3289,-1722.0793,13.5625);
					PlayerInfo[playerid][pInt] = 0;
					PlayerInfo[playerid][pLocal] = 255;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,-27.6573,-31.3035,1003.5573))
				{
					SetPlayerInterior(playerid,0);
					SetPlayerPosEx(playerid,1833.0640,-1842.5887,13.5781);
					PlayerInfo[playerid][pInt] = 0;
					PlayerInfo[playerid][pLocal] = 255;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,6.091179,-29.271898,1003.549438))
				{
					SetPlayerInterior(playerid,0);
					SetPlayerPosEx(playerid,1315.5227,-898.4055,39.5781);
					PlayerInfo[playerid][pInt] = 0;
					PlayerInfo[playerid][pLocal] = 255;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,-25.884498,-185.868988,1003.546875))
				{
					SetPlayerInterior(playerid,0);
					SetPlayerPosEx(playerid,1352.4180,-1758.4011,13.5078);
					PlayerInfo[playerid][pInt] = 0;
					PlayerInfo[playerid][pLocal] = 255;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,-25.132598,-139.066986,1003.546875))
				{
					SetPlayerInterior(playerid,0);
					SetPlayerPosEx(playerid,1929.3660,-1776.2944,13.5469);
					PlayerInfo[playerid][pInt] = 0;
					PlayerInfo[playerid][pLocal] = 255;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,-30.946699,-89.609596,1003.546875))
				{
					SetPlayerInterior(playerid,0);
					SetPlayerPosEx(playerid,1000.1578,-919.8109,42.3281);
					PlayerInfo[playerid][pInt] = 0;
					PlayerInfo[playerid][pLocal] = 255;
				}
				else if (IsPlayerInRangeOfPoint(playerid,2,-1423.5153,935.8321,1036.4756))
				{
					if(areape == 1)
					{
						SetPlayerInterior(playerid,0);
						SetPlayerPosEx(playerid,1671.5824,-1329.4281,17.4524);
						PlayerInfo[playerid][pInt] = 0;
					}
					else return SCM(playerid,COLOR_WHITE,"Event area is closed.");
				}
			}
			if(GetPlayerVehicleID(playerid) == rentls[1] || GetPlayerVehicleID(playerid) == rentls[2] || GetPlayerVehicleID(playerid) == rentls[3])
			{
				TogglePlayerControllable(playerid, 1);
				RemovePlayerFromVehicleEx(playerid);
			}
			if(GetPlayerVehicleID(playerid) == scooter[1] || GetPlayerVehicleID(playerid) == scooter[2] || GetPlayerVehicleID(playerid) == scooter[3] || GetPlayerVehicleID(playerid) == scooter[4] || GetPlayerVehicleID(playerid) == scooter[5] ||
			GetPlayerVehicleID(playerid) == scooter[6] || GetPlayerVehicleID(playerid) == scooter[7] || GetPlayerVehicleID(playerid) == scooter[8] || GetPlayerVehicleID(playerid) == scooter[9] || GetPlayerVehicleID(playerid) == scooter[10])
			{
				TogglePlayerControllable(playerid, 1);
				RemovePlayerFromVehicleEx(playerid);
			}
			if(NoFuel[playerid] == 1)
			{
				RemovePlayerFromVehicleEx(playerid);
				TogglePlayerControllable(playerid, 1);
				NoFuel[playerid] = 0;
			}
		 	new car = GetClosestVehicle(playerid);
			new carid = FindSpawnID(car);
			if(CarInfo[carid][Userid] == PlayerInfo[playerid][pSQLID])
			{
				SetVehicleParamsForPlayer(car, playerid, 0, 0);
			}
			if(UsedFly[playerid] == 1)
			{
				StopFly(playerid);
				UsedFly[playerid] = 0;
				SetPlayerHealthEx(playerid, 100);
				return 1;
			}
	    }
	    return 1;
	}
    if (newkeys & KEY_ACTION)
    {
		if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
		{
			if(GetPVarInt(playerid, "Lights") == 0)
			{
				GetVehicleParamsEx(veh,engine,lights,alarm,doors,bonnet,boot,objective);
				SetVehicleParamsEx(veh,engine,VEHICLE_PARAMS_ON,alarm,doors,bonnet,boot,objective);
				SetPVarInt(playerid, "Lights", 1);
			}
			else if(GetPVarInt(playerid, "Lights") == 1)
			{
				GetVehicleParamsEx(veh,engine,lights,alarm,doors,bonnet,boot,objective);
				SetVehicleParamsEx(veh,engine,VEHICLE_PARAMS_OFF,alarm,doors,bonnet,boot,objective);
				SetPVarInt(playerid, "Lights", 0);
			}
		}
        return 1;
    }
    if (newkeys & KEY_ANALOG_UP)
    {
		if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
		{
			if(GetPVarInt(playerid, "Bonnet") == 0)
			{
				GetVehicleParamsEx(veh,engine,lights,alarm,doors,bonnet,boot,objective);
				SetVehicleParamsEx(veh,engine,lights,alarm,doors,VEHICLE_PARAMS_ON,boot,objective);
				SetPVarInt(playerid, "Bonnet", 1);
			}
			else if(GetPVarInt(playerid, "Bonnet") == 1)
			{
				GetVehicleParamsEx(veh,engine,lights,alarm,doors,bonnet,boot,objective);
				SetVehicleParamsEx(veh,engine,lights,alarm,doors,VEHICLE_PARAMS_OFF,boot,objective);
				SetPVarInt(playerid, "Bonnet", 0);
			}
		}
        return 1;
    }
    return 0;
}
function OnVehicleSpawn(vehicleid)
{
	if(vehicleid == civilcar[1] || vehicleid == civilcar[2])
	{
		Gas[vehicleid] = GasMax;
	}
	SetVehicleHealth(vehicleid, 999);
	return 1;
}
stock SetPlayerPosEx(playerid, Float:x, Float:y, Float:z) {
	SetPlayerPos(playerid, x, y, z);
	GetPlayerPos(playerid, LastPos[playerid][0], LastPos[playerid][1], LastPos[playerid][2]);
	Exception[playerid] += 1;
    foreach(Player, i) {
		if(Spectate[i] == playerid) {
			TogglePlayerSpectating(i, 1);
			SetPlayerInterior(i, GetPlayerInterior(playerid));
			SetPlayerVirtualWorld(i, GetPlayerVirtualWorld(playerid));
			if(IsPlayerInAnyVehicle(playerid)) PlayerSpectateVehicle(i, GetPlayerVehicleID(playerid));
			else PlayerSpectatePlayer(i, playerid);	
		}
	}	
	return 1;
}

function SyncUp()
{
	foreach(Player, i) {
	    if(IsPlayerConnected(i)) {
			if(PlayerTime[i] != 0) PlayerTime[i] --;
			if(PlayerTime2[i] != 0) PlayerTime2[i] --;
			if(PlayerTime3[i] != 0) PlayerTime3[i] --;
			if(PlayerTime4[i] != 0) PlayerTime4[i] --;
			if(PlayerTime5[i] != 0) PlayerTime5[i] --;
			if(PlayerTime6[i] != 0) PlayerTime6[i] --;
			if(PlayerTime7[i] != 0) PlayerTime7[i] --;
			if(PlayerTime8[i] != 0) PlayerTime8[i] --;
			if(PlayerTime10[i] != 0) PlayerTime10[i] --;
		}
	}
	new tmphour;
	new tmpminute;
	new tmpsecond;
	new hour,minn,sec;
	gettime(hour,minn,sec);
	gettime(tmphour, tmpminute, tmpsecond);
	FixHour(tmphour);
	tmphour = shifthour;
	if ((tmphour > ghour) || (tmphour == 0 && ghour == 23))
	{
		ghour = tmphour;
		PayDay();
		if(hour == 00) {
			new query[128];
			format(query, sizeof(query), "UPDATE `users` SET `DayLogin`='0'");
			mysql_query(SQL, query);
		}
		if(hour == 00) {
			new ftime[200];
			mysql_format(SQL, ftime, sizeof(ftime), "UPDATE `users` SET `FactionTime` = FactionTime+1 WHERE `Member` > 0");
			mysql_tquery(SQL, ftime, "", "");
		}
		if(hour == 23)
		{
			new str[256];
		    for(new turf = 1; turf < sizeof(TurfInfo); turf++)
		    {
				TurfInfo[turf][zTime] = 0;
				format(str,sizeof(str),"UPDATE `turfs` SET `Time`='0' WHERE `ID`='%d'",turf);
				mysql_query(SQL,str);
		    }
        	foreach(Player, i)
        	{
				new escstr2[MAX_PLAYER_NAME],
					result[500],
					query[500];
				GetPlayerName(i, escstr2, sizeof(escstr2));
            	format(query, sizeof(query), "SELECT `FactionTime` FROM users WHERE `name` = '%s'", escstr2);
            	mysql_store_result();
				mysql_query(SQL,query);
				if(mysql_retrieve_row())
      			{
					mysql_fetch_field_row(result, "FactionTime"); PlayerInfo[i][pFactionTime] = strval( result );
				}
				mysql_free_result();
			}
		}
		if (realtime)
		{
			SetWorldTime(hour);
		}
	}
	return 1;
}

function IsPlayerInArea(playerid, Float:minx, Float:miny, Float:maxx, Float:maxy)
{
   new Float:x, Float:y, Float:z;
   GetPlayerPos(playerid, x, y, z);
   if (x > minx && x < maxx && y > miny && y < maxy) return 1;
   return 0;
}

function IsPlayerInTurf(playerid, turfid)
{
	if(IsPlayerConnected(playerid))
	{
		if(turfid == -1)
		{
			return 0;
		}
		new Float:x, Float:y, Float:z;
		GetPlayerPos(playerid,x,y,z);
		if(x >= TurfInfo[turfid][zMinX] && x < TurfInfo[turfid][zMaxX] && y >= TurfInfo[turfid][zMinY] && y < TurfInfo[turfid][zMaxY])
		{
	 		return 1;
		}
	}
	return 0;
}

function GetPlayerTurf(playerid)
{
    for(new i = 1; i < sizeof(Turfs); i++)
    {
        if(IsPlayerInTurf(playerid, i))
        {
            return i;
        }
    }
    return -1;
}

function Production()
{
	foreach(Player,i)
	{
		if(IsPlayerConnected(i))
		{
		    if(PlayerDrunk[i] > 0)
			{
			    PlayerDrunk[i] = 0;
		     	PlayerDrunkTime[i] = 0;
	    		GameTextForPlayer(i, "~p~Drunk effect~n~~w~Gone", 3500, 1);
	    		SetPlayerDrunkLevel(i, 0);
			}
		    if(PlayerInfo[i][pPayDay] < 6)
			{
	    		PlayerInfo[i][pPayDay] += 1;
			}
		}
	}
	return 1;
}
cmd:charity(playerid,params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    new suma,string[500],query[500];
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(sscanf(params,"d",suma))return SCM(playerid,COLOR_SYNTAX,"Syntax: /charity <Amount>");
    if(suma < 1 || suma > 50000) return SCM(playerid,COLOR_GREY,"Suma invalida(1$ - 50.000$)");
    if(suma > GetPlayerCash(playerid) || suma < 1) return SendClientMessage(playerid, COLOR_GREY, "Nu ai aceasta suma.");
    GivePlayerCash(playerid, -suma);
    Update(playerid,pCashx);
   	DynamicFactions[7][fBank] += suma;
	format(query,sizeof(query),"UPDATE `factions` SET `Bank`='%d' WHERE `ID`='7'",DynamicFactions[7][fBank]);
	mysql_query(SQL,query);
    format(string,sizeof(string),"* %s a donat %s$ pentru jucatorii cu nivel 1-7. Balanta: %s$",GetName(playerid),FormatNumber(suma),FormatNumber(DynamicFactions[7][fBank]));
	SendTeamMessage(7,COLOR_BZYELLOW,string);
	format(string,sizeof(string),"Ai donat %s$ pentru jucatorii cu nivel 1-7",FormatNumber(suma));
	SendClientMessage(playerid,COLOR_BZYELLOW,string);
	return 1;
}
cmd:givetax(playerid, params[])	{
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMember] != 7) return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu esti Primar.");
	if(DynamicFactions[7][fBank] < 1000) return SCM(playerid,COLOR_GREY,"Nu ai destule fonduri in seif pentru a distribui taxa(minim 1,000$)");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new players = 0, string[128],query[500];
	foreach(Player, i) {
		if((PlayerInfo[playerid][pLevel] > 1) && (PlayerInfo[playerid][pLevel] < 8))
		players++;
	}
	if(players == 0) return SendClientMessage(playerid,0x33CCFFAA, "Nu sunt jucatori conectati.");
	new amount = DynamicFactions[7][fBank]/players;
	foreach(Player, i) {
		if((PlayerInfo[playerid][pLevel] > 1) && (PlayerInfo[playerid][pLevel] < 8)) {
			GivePlayerCash(i,amount);
		}
	}
	DynamicFactions[7][fBank] -= players*amount;
	format(query,sizeof(query),"UPDATE `factions` SET `Bank`='%d' WHERE `ID`='7'",DynamicFactions[7][fBank]);
	mysql_query(SQL,query);
	format(string, sizeof(string), "<< Primarul %s a impartit %s$ la %d jucatori cu nivel intre 2-7 >>", GetName(playerid), FormatNumber(amount), players);
	SendClientMessageToAll(COLOR_LGREEN, string);
	return 1;
}
cmd:taxstatus(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMember] != 7) return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu esti Primar.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new players = 0, string[128];
	foreach(Player, i) {
		if((PlayerInfo[playerid][pLevel] > 1) && (PlayerInfo[playerid][pLevel] < 8))
		players++;
	}
	if(players == 0) return SendClientMessage(playerid,0x33CCFFAA, "Nu sunt jucatori conectati.");
	new amount = DynamicFactions[7][fBank]/players;
	format(string, sizeof(string), "Taxa se poate imparti catre %d jucatori(%s$ pentru fiecare).",players,FormatNumber(amount));
	SCM(playerid,COLOR_LGREEN, string);
	return 1;
}
cmd:settax(playerid,params[]) {
    if(PlayerInfo[playerid][pMember] != 7) return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu esti Primar.");
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new tax,string[500],query[500];
	if(sscanf(params,"i",tax)) return SCM(playerid,COLOR_SYNTAX,"Syntax: /settax <Value>");
	if(tax < 0 || tax > 5000) return SCM(playerid,COLOR_GREY,"Taxa invalida(1$ - 5000$)");
	format(string,sizeof(string),"AdmCmd: Primarul %s a setat valoarea taxei la %d$.",GetName(playerid),tax);
	SendAdminMessage(COLOR_LIGHTRED,string,1);
	format(string,sizeof(string),"Ai setat taxa la urmatorul payday aceasta fiind %d$",tax);
	SCM(playerid,COLOR_LGREEN,string);
	format(query,sizeof(query),"UPDATE `stuff` SET `TaxValue` ='%d' WHERE ID = '1'",tax);
	mysql_query(SQL,query);
	TaxValue = tax;
	return 1;
}
cmd:test(playerid,params[]) {
	PayDay();
	return 1;
}
function PayDay() {
	new string[600],str[256];
	new interest,account[MAX_PLAYERS];
	new hour,minn,sec;
	new rent[MAX_PLAYERS];
	gettime(hour,minn,sec);
	new count=0;
	foreach(Player,i)
	{
		if(IsPlayerConnected(i))
		{
		    if(PlayerInfo[i][pLevel] >= 0)
		    {
		        count++;
            	new wakaname[25];
                GetPlayerName(i,wakaname,sizeof(wakaname));
				new playername2[MAX_PLAYER_NAME];
				GetPlayerName(i, playername2, sizeof(playername2));
				new key = PlayerInfo[i][pHouse];
				if(key != 999)
				{
					rent[i] = HouseInfo[key][hRent];
					HouseInfo[key][hTakings] += rent[i];
				    format(str,sizeof(str),"UPDATE `houses` SET `Takings`='%d' WHERE `ID`='%d'",HouseInfo[key][hTakings],key);
				    mysql_query(SQL,str);
				}
				new tmpintrate;
				if(PlayerInfo[i][pPremiumAccount] >= 1)
				{
					tmpintrate = 2;
					PlayerInfo[i][pPayDayHad] += 1;
					if(PlayerInfo[i][pPayDayHad] >= 5)
					{
						PlayerInfo[i][pExp]++;
						PlayerInfo[i][pPayDayHad] = 0;
						//SCM(i,COLOR_LIGHTBLUE,"Ai primit 1 RP deoarece ai cont premium.");
					}
					new bonus = PlayerInfo[i][pPayCheck] / 2;
					PlayerInfo[i][pPayCheck] += bonus;
				}
				else
				{
					tmpintrate = 1;
				}
				account[i] = PlayerInfo[i][pAccount];
				if(PlayerInfo[i][pLevel] > 5 && PlayerInfo[i][pAccount] - TaxValue > 0) {
					PlayerInfo[i][pAccount] -= TaxValue;
					GivePlayerCash(i, -TaxValue);
					Update(i,pCashx);
				}
				new checks = 3000 + random(1000);
				PlayerInfo[i][pAccount] += checks;
				interest = (PlayerInfo[i][pAccount]/5000)*(tmpintrate);
				PlayerInfo[i][pExp] += 1;
				PlayerInfo[i][pAccount] += interest+1000;
				DynamicFactions[7][fBank] +=count*TaxValue;

                new exp = PlayerInfo[i][pExp];
		        new nxtlevel = PlayerInfo[i][pLevel];
				new expamount = nxtlevel*levelexp;

                format(string,sizeof(string),"~y~P~w~ay~y~D~w~ay~n~- ~y~P~w~lata: %s$~n~- ~y~B~w~alanta: %s$~n~- ~y~T~w~axa: %s$~n~- ~y~R~w~espect: %d/%d~n~- ~y~A~w~i jucat %0.2f ore(%0.1f minute)",FormatNumber(checks),FormatNumber(PlayerInfo[i][pAccount]),FormatNumber(TaxValue),exp,expamount,PlayerInfo[i][pSeconds]/3600, PlayerInfo[i][pSeconds]/60);
                PlayerTextDrawSetString(i, PayDayText[i], string);
		   	 	PlayerTextDrawShow(i, PayDayText[i]);
                if(PlayerInfo[i][pHouse] != 999) {
                    format(string,sizeof(string),"~y~P~w~ay~y~D~w~ay~n~- ~y~P~w~lata: %s$~n~- ~y~B~w~alanta: %s$~n~- ~y~T~w~axa: %s$~n~- ~y~R~w~espect: %d/%d~n~- ~y~C~w~astiguri ~y~T~w~otale: %s$~n~- ~y~A~w~i jucat %0.2f ore(%0.1f minute)",
					FormatNumber(checks),FormatNumber(PlayerInfo[i][pAccount]),FormatNumber(TaxValue),FormatNumber(HouseInfo[PlayerInfo[i][pHouse]][hTakings]),exp,expamount,PlayerInfo[i][pSeconds]/3600, PlayerInfo[i][pSeconds]/60);
	                PlayerTextDrawSetString(i, PayDayText[i], string);
			   	 	PlayerTextDrawShow(i, PayDayText[i]);
				}
				SetTimerEx("HidePayDayText",6000,0,"d",i);
				
                if(PlayerInfo[i][pSeconds] >= 1800) {
					PlayerInfo[i][pGiftPoints] ++;
					Update(i, pGiftPointsx);
				}
				PlayerInfo[i][pConnectTime] += PlayerInfo[i][pSeconds]/3600;
				PlayerInfo[i][pSeconds] = 0;
				
				PlayerInfo[i][pPayDay] = 0;
				PlayerInfo[i][pPayCheck] = 0;
				
				if(PlayerInfo[i][pCarLicT] > 0)
				{
					PlayerInfo[i][pCarLicT] -= 1;
				}
				if(PlayerInfo[i][pFlyLicT] > 0)
				{
					PlayerInfo[i][pFlyLicT] -= 1;
				}
				if(PlayerInfo[i][pBoatLicT] > 0)
				{
					PlayerInfo[i][pBoatLicT] -= 1;
				}
				if(PlayerInfo[i][pFishLicT] > 0)
				{
					PlayerInfo[i][pFishLicT] -= 1;
				}
				if(PlayerInfo[i][pGunLicT] > 0)
				{
					PlayerInfo[i][pGunLicT] -= 1;
				}
				if(PlayerInfo[i][pRob] < 20 && PlayerInfo[i][pPremiumAccount] == 0) PlayerInfo[i][pRob]++;
				else if(PlayerInfo[i][pRob] < 40 && PlayerInfo[i][pPremiumAccount] != 0) PlayerInfo[i][pRob]++;
				
				if(PlayerInfo[i][pFpunish] > 0)
				{
					PlayerInfo[i][pFpunish]--;
				}
				if(PlayerInfo[i][pMember] == 7 || PlayerInfo[i][pLeader] == 7 || IsACop(i))
				{
					PlayerInfo[i][pLawyer] += 1;
				}
				if(PlayerInfo[i][pMember] == 8 || PlayerInfo[i][pLeader] == 8)
				{
					PlayerInfo[i][pTow] += 2;
				}
			}
		}
	}
	return 1;
}
cmd:faction(playerid,params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new dialog[600];
	if(PlayerInfo[playerid][pLeader] == 0) return SCM(playerid,COLOR_BZWHITE,"Eroare: Nu esti lider.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(IsAMember(playerid) || PlayerInfo[playerid][pLeader] == 7) {
		format(dialog,2000,"Faction: {%s}%s{FFFFFF}\nSet Faction MOTD\nControl Faction Chat: %s\nApplications Status: %s\nHQ Status: %s\n",
		DynamicFactions[PlayerInfo[playerid][pMember]][fFactionColor],NumeFactiune(PlayerInfo[playerid][pMember]),(TogFChat[PlayerInfo[playerid][pMember]] == 0) ? ("{00FF40}Pornit{FFFFFF}") : ("{DB0000}Oprit{FFFFFF}"),
		(DynamicFactions[PlayerInfo[playerid][pLeader]][fApp] == 1) ? ("{00FF40}Deschise{FFFFFF}") : ("{DB0000}Inchise{FFFFFF}"), (DynamicFactions[PlayerInfo[playerid][pLeader]][fHQStats] == 1) ? ("{00FF40}Descuiat{FFFFFF}") : ("{DB0000}Incuiat{FFFFFF}"));
	}
	else format(dialog,2000,"Faction: {%s}%s{FFFFFF}\nSet Faction MOTD\nControl Faction Chat: %s\nApplications Status: %s\nHQ Status: %s\nShow Members Raport\nSet Members Raport\nReset Members Raport",
	DynamicFactions[PlayerInfo[playerid][pMember]][fFactionColor],NumeFactiune(PlayerInfo[playerid][pMember]),(TogFChat[PlayerInfo[playerid][pMember]] == 0) ? ("{00FF40}Pornit{FFFFFF}") : ("{DB0000}Oprit{FFFFFF}"),
	(DynamicFactions[PlayerInfo[playerid][pLeader]][fApp] == 1) ? ("{00FF40}Deschise{FFFFFF}") : ("{DB0000}Inchise{FFFFFF}"), (DynamicFactions[PlayerInfo[playerid][pLeader]][fHQStats] == 1) ? ("{00FF40}Descuiat{FFFFFF}") : ("{DB0000}Incuiat{FFFFFF}"));
	ShowPlayerDialog(playerid,DIALOG_FCONTROL,DIALOG_STYLE_LIST,"Faction Settings",dialog,"Select","Close");
	return 1;
}
cmd:so(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new userid, string[256];
	if(!IsACop(playerid)) return SCM(playerid,COLOR_BZWHITE,"Eroare: Nu faci parte dintr-un departament.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(OnDuty[playerid] == 0) return SCM(playerid, COLOR_BZYELLOW, "Nu poti folosi aceasta comanda deoarece nu esti la datorie!");
	if(sscanf(params,"us",userid)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /so <Nume/Playerid>"); {
		if(userid == playerid) return 1;
		if(!ProxDetectorS(30.0, playerid, userid)) return SendClientMessage(playerid, -1, "Acel player nu este in raza ta.");
        if(PlayerInfo[userid][pWantedLevel] != 0) {
			format(string, sizeof(string), "> %s: {4FD6FF}%s{FFFF00}, te predai? <", GetName(playerid), GetName(userid));
		}
	    else if(PlayerInfo[userid][pWantedLevel] == 0 && IsPlayerInAnyVehicle(userid)) {
			format(string, sizeof(string), "> %s: {4FD6FF}%s{FFFF00}, trage pe dreapta! <", GetName(playerid), GetName(userid));
		}
		else {
			format(string, sizeof(string), "> %s: {4FD6FF}%s{FFFF00}, opreste-te! <", GetName(playerid), GetName(userid));
		}
		ProxDetector(30.0, playerid, string, COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW);
	}
	return 1;
}
cmd:edit(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	new id, code[256], list,type;
	if(PlayerInfo[playerid][pAdmin] < 5) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(sscanf(params, "iiis[256]",type, id,list,code)) {
 		SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /edit <Type> <ID> <Item> <Amount>");
 		SendClientMessage(playerid, 0xFFFFFFFF, "Type: (1) House, (2) Biz | Variables: (1) Level, (2) Nume, (3) Pret");
 		return 1;
 	}
	if(type < 1 || type > 2) return 1;
 	if(type == 2) {
 		if(BizzInfo[id][bID] == 0) return SendClientMessage(playerid, COLOR_GOLD, "Aceasta afacere nu exista!");
	}
	else if(type == 1) {
        if(HouseInfo[id][hID] == 0) return SendClientMessage(playerid, COLOR_GOLD, "Aceasta casa nu exista!");
	}
 	new result = strval(code), string[256];
 	switch(type) {
 	    case 1: {
 	        switch(list) {
		 	    case 1: {
		 	        format(string, 256, "Ai editat nivelul la casa %d in %d.", id, result);
		 	        SCM(playerid, COLOR_GOLD, string);
		 	        HouseInfo[id][hLevel] = result;
					new str[256];
					format(str,sizeof(str),"UPDATE houses SET Level='%d' WHERE ID='%d'",HouseInfo[id][hLevel],id);
					mysql_query(SQL,str);
		 	    }
		 	    case 2: {
		 	        format(string, 256, "Ai editat numele la casa %d in %s.", id, code);
		 	        SCM(playerid, COLOR_GOLD, string);
		 	        format(HouseInfo[id][hDiscription],256,code);
					new str[256];
					format(str,sizeof(str),"UPDATE houses SET Discription='%s' WHERE ID='%d'",HouseInfo[id][hDiscription],id);
					mysql_query(SQL,str);
			     }
		 	    case 3: {
		 	        format(string, 256, "Ai editat pretul la casa %d in $%s.", id, FormatNumber(result));
		 	        SCM(playerid, COLOR_GOLD, string);
					HouseInfo[id][hValue] = result;
			        format(string, sizeof(string), "UPDATE houses SET `Value`='%d' WHERE ID=%d",result,id);
			        mysql_query(SQL,string);
		 	    }
		 	}
		 	UpdateLabel(1, id);
		}
 	    case 2: {
		 	switch(list) {
		 	    case 1: {
		 	        format(string, 256, "Ai editat nivelul la afacerea %d in %d.", id, result);
		 	        SCM(playerid, COLOR_GOLD, string);
		 	        BizzInfo[id][bLevelNeeded] = result;
					new str[256];
					format(str,sizeof(str),"UPDATE bizz SET Level='%d' WHERE ID='%d'",BizzInfo[id][bLevelNeeded],id);
					mysql_query(SQL,str);
		 	    }
		 	    case 2: {
		 	        format(string, 256, "Ai editat numele la afacerea %d in %s.", id, code);
		 	        SCM(playerid, COLOR_GOLD, string);
		 	        format(BizzInfo[id][bMessage],256,code);
					new str[256];
					format(str,sizeof(str),"UPDATE bizz SET Message='%s' WHERE ID='%d'",BizzInfo[id][bMessage],id);
					mysql_query(SQL,str);
			     }
		 	    case 3: {
		 	        format(string, 256, "Ai editat pretul la afacerea %d in $%s.", id, FormatNumber(result));
		 	        SCM(playerid, COLOR_GOLD, string);
					BizzInfo[id][bBuyPrice] = result;
			        format(string, sizeof(string), "UPDATE bizz SET `Value`='%d' WHERE ID=%d",result,id);
			        mysql_query(SQL,string);
		 	    }
		 	}
		 	UpdateLabel(2, id);
		}
	}
	return 1;
}
cmd:movehouse(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new house;
	if(sscanf(params, "i", house)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /movehouse <House ID>");
	if(house < 1 || house > housess) return SCM(playerid, COLOR_GREY, "Invalid house!");
	new Float: Pos[3];
	GetPlayerPos(playerid, Pos[0], Pos[1], Pos[2]);
	HouseInfo[house][hEntrancex] = Pos[0];
	HouseInfo[house][hEntrancey] = Pos[1];
	HouseInfo[house][hEntrancez] = Pos[2];
	SCM(playerid, COLOR_LGREEN, "Casa a fost mutata in aceasta locatie!");
	UpdateLabel(1, house);
	new query[256];
	format(query, sizeof(query), "UPDATE `houses` SET `Entrancex`='%f', `Entrancey`='%f', `Entrancez`='%f' WHERE `ID`='%d'", Pos[0], Pos[1], Pos[2], house);
	mysql_query(SQL, query);
	return 1;	
}
cmd:movebiz(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new house;
	if(sscanf(params, "i", house)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /movebiz <Biz ID>");
	if(house < 1 || house > sizeof(BizzInfo)) return SCM(playerid, COLOR_GREY, "Invalid biz!");
	DestroyDynamicPickup(BizzInfo[house][bPickup]);
	new Float: Pos[3];
	GetPlayerPos(playerid, Pos[0], Pos[1], Pos[2]);
	BizzInfo[house][bEntranceX] = Pos[0];
	BizzInfo[house][bEntranceY] = Pos[1];
	BizzInfo[house][bEntranceZ] = Pos[2];
	BizzInfo[house][bPickup] = CreateDynamicPickup(1239, 1, BizzInfo[house][bEntranceX], BizzInfo[house][bEntranceY], BizzInfo[house][bEntranceZ]);		
	SCM(playerid, COLOR_LGREEN, "Afacerea a fost mutata in aceasta locatie!");
	UpdateLabel(2, house);
	new query[256];
	format(query, sizeof(query), "UPDATE `bizz` SET `Entrancex`='%f', `Entrancey`='%f', `Entrancez`='%f' WHERE `ID`='%d'", Pos[0], Pos[1], Pos[2], house);
	mysql_query(SQL, query);
	return 1;	
}
cmd:free(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new id,moneyfree,string[100];
	if(!IsACop(playerid)) return 1;
	if(OnDuty[playerid] == 0) return SCM(playerid, COLOR_BZYELLOW, "Nu poti folosi aceasta comanda deoarece nu esti la datorie!");
	if(PlayerInfo[playerid][pLawyer] < 3) return SendClientMessage(playerid, COLOR_GRAD2, "You do not have an accept.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "ui", id,moneyfree)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /free <Nume/Playerid> <Pret>");
	if(PlayerInfo[id][pJailed] < 1) return SCM(playerid,COLOR_GRAD2, "Acel player nu este in inchisoare.");
	if(playerid == id) return 1;
	if(moneyfree < 1 || moneyfree > 50000) return SCM(playerid, COLOR_GREY, "Suma invalida! (1$-50,000$)");
	if(ProxDetectorS(10.0, playerid, id)) {
        if(IsPlayerConnected(id)) {
            if(id != INVALID_PLAYER_ID) {
 				FreeOffer[id] = playerid;
				FreePrice[id] = moneyfree;

				format(string, sizeof(string), "* I-ai oferit lui %s un free pentru %s$.",GetName(id),FormatNumber(moneyfree));
				SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
				format(string, sizeof(string), "* %s ti-a oferit un free pentru %s$, (scrie /accept free %d) pentru a accepta.",GetName(playerid),FormatNumber(moneyfree),playerid);
				SendClientMessage(id, COLOR_LIGHTBLUE, string);
			}
		}
		else return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	else return SCM(playerid,COLOR_WHITE,"{FFB870}Acel player nu este in raza ta.");
	return 1;
}

stock GetWeaponSlot (weaponid)
{
	switch (weaponid)
	{
		case 0, 1:
			return 0;

		case 2 .. 9:
			return 1;
		case 10 .. 15:
			return 10;
		case 16 .. 19, 39:
			return 8;
		case 22 .. 24:
			return 2;
		case 25 .. 27:
			return 3;
		case 28, 29, 32:
			return 4;
		case 30, 31:
			return 5;
		case 33, 34:
			return 6;
		case 35 .. 38:
			return 7;
		case 40:
			return 12;
		case 41 .. 43:
			return 9;

		case 44 .. 46:
			return 11;
	}
	return 0;
}

stock GivePlayerWeaponEx(playerid,weapon,ammo)
{
	WeaponData[playerid][GetWeaponSlot(weapon)] = true;
	return GivePlayerWeapon(playerid,weapon,ammo);
}

stock ResetPlayerWeaponsEx(playerid)
{
	WeaponData[playerid][0] = false; WeaponData[playerid][1] = false; WeaponData[playerid][2] = false; WeaponData[playerid][3] = false;
	WeaponData[playerid][4] = false; WeaponData[playerid][5] = false; WeaponData[playerid][6] = false; WeaponData[playerid][7] = false;
	WeaponData[playerid][8] = false; WeaponData[playerid][9] = false; WeaponData[playerid][10] = false; WeaponData[playerid][11] = false;
	WeaponData[playerid][12] = false;
	return ResetPlayerWeapons(playerid);
}

stock GetWeaponNameEx(id, name[], len) return format(name,len, "%s", GunNames[id]);

stock RemovePlayerWeapon(playerid, weaponid);
function RemovePlayerWeapon(playerid, weaponid)
{
	new plyWeapons[12] = 0;
	new plyAmmo[12] = 0;
	for(new sslot = 0; sslot != 12; sslot++)
	{
		new wep, ammo;
		GetPlayerWeaponData(playerid, sslot, wep, ammo);
		if(wep != weaponid && ammo != 0) GetPlayerWeaponData(playerid, sslot, plyWeapons[sslot], plyAmmo[sslot]);
	}
	ResetPlayerWeaponsEx(playerid);
	ResetPlayerWeapons(playerid);
	for(new sslot = 0; sslot != 12; sslot++)
	{
	    if(plyAmmo[sslot] != 0) GivePlayerWeaponEx(playerid, plyWeapons[sslot], plyAmmo[sslot]);
	}
	return 1;
}

strtok(const string[], &index)
{
	new length = strlen(string);
	while ((index < length) && (string[index] <= ' '))
	{
		index++;
	}

	new offset = index;
	new result[20];
	while ((index < length) && (string[index] > ' ') && ((index - offset) < (sizeof(result) - 1)))
	{
		result[index - offset] = string[index];
		index++;
	}
	result[index - offset] = EOS;
	return result;
}

function split(const strsrc[], strdest[][], delimiter)
{
	new i, li;
	new aNum;
	new len;
	while(i <= strlen(strsrc)){
	    if(strsrc[i]==delimiter || i==strlen(strsrc)){
	        len = strmid(strdest[aNum], strsrc, li, i, 128);
	        strdest[aNum][len] = 0;
	        li = i+1;
	        aNum++;
		}
		i++;
	}
	return 1;
}

function OnPlayerRegister(playerid, password[])
{
	if(IsPlayerConnected(playerid))
	{
		new playername3[MAX_PLAYER_NAME];
		GetPlayerName(playerid, playername3, sizeof(playername3));
		new Str[200];
		format(Str,sizeof(Str),"INSERT INTO `users` (`name`,`password`) VALUES ('%s','%s')",playername3,password);
		mysql_query(SQL,Str);
		strmid(PlayerInfo[playerid][pKey], password, 0, strlen(password), 255);
		PlayerInfo[playerid][pCash] = GetPlayerCash(playerid);
	    //GetPlayerHealthEx(playerid,PlayerInfo[playerid][pHealth]);
		if ((PlayerInfo[playerid][pPos_x]==0.0 && PlayerInfo[playerid][pPos_y]==0.0 && PlayerInfo[playerid][pPos_z]==0.0))
		{
     	    PlayerInfo[playerid][pPos_x] = 2246.6;
     	    PlayerInfo[playerid][pPos_y] = -1161.9;
     	    PlayerInfo[playerid][pPos_z] = 1029.7;
		}
		if(Spectate[playerid] != 255)
		{
			PlayerInfo[playerid][pPos_x] = Unspec[playerid][sPx];
			PlayerInfo[playerid][pPos_y] = Unspec[playerid][sPy];
			PlayerInfo[playerid][pPos_z] = Unspec[playerid][sPz];
			PlayerInfo[playerid][pInt] = Unspec[playerid][sPint];
			PlayerInfo[playerid][pLocal] = Unspec[playerid][sLocal];
		}
		new wakaname[25];
		GetPlayerName(playerid,wakaname,25);
		new loginstring[128];
		new loginname[64];
		GetPlayerName(playerid,loginname,sizeof(loginname));
		format(loginstring,sizeof(loginstring),"Contul a fost inregistrat cu succes!\n\nIntrodu parola mai jos pentru a te autentifica.",loginname);
		ShowPlayerDialog(playerid,DIALOG_LOGIN2,DIALOG_STYLE_PASSWORD,"SERVER: Login",loginstring,"Login","Cancel");
		PlayerInfo[playerid][pShowLogo] = 1;
		PlayerInfo[playerid][pShowCeas] = 1;
		return 1;
	}
	return 1;
}

function OnPlayerLogin(playerid,password[])
{
	new playername2[MAX_PLAYER_NAME];
    GetPlayerName(playerid, playername2, sizeof(playername2));
    new qstr[100];
    new result[456];
    format(qstr,100,"SELECT * FROM users WHERE `name`='%s' AND `password`='%s'",playername2,password);
    mysql_query(SQL,qstr);
    mysql_store_result();
    if(mysql_num_rows() > 0)
    {
      	if(mysql_retrieve_row())
      	{
    		mysql_fetch_field_row(result,"password"); format(PlayerInfo[playerid][pKey], 128, result);
			mysql_fetch_field_row(result,"Level"); PlayerInfo[playerid][pLevel] = strval( result );
			mysql_fetch_field_row(result,"Admin"); PlayerInfo[playerid][pAdmin] = strval( result );
			PlayerInfo[playerid][pShowHud][0] = cache_get_field_content_int(0, "ShowHud", SQL);
			PlayerInfo[playerid][pShowHud][1] = cache_get_field_content_int(0, "ShowHud1", SQL);
			PlayerInfo[playerid][pShowHud][2] = cache_get_field_content_int(0, "ShowHud2", SQL);
			PlayerInfo[playerid][pShowHud][3] = cache_get_field_content_int(0, "ShowHud3", SQL);
			PlayerInfo[playerid][pShowHud][4] = cache_get_field_content_int(0, "ShowHud4", SQL);			
			PlayerInfo[playerid][pSlot][0] = cache_get_field_content_int(0, "Slot1", SQL);
			PlayerInfo[playerid][pSlot][1] = cache_get_field_content_int(0, "Slot2", SQL);
			PlayerInfo[playerid][pSlot][2] = cache_get_field_content_int(0, "Slot3", SQL);
			PlayerInfo[playerid][pSlot][3] = cache_get_field_content_int(0, "Slot4", SQL);
			PlayerInfo[playerid][pSlot][4] = cache_get_field_content_int(0, "Slot5", SQL);
			mysql_fetch_field_row(result,"Glasses"); PlayerInfo[playerid][pGlasses] = strval( result );
			mysql_fetch_field_row(result,"ShowGlasses"); PlayerInfo[playerid][pShowGlasses] = strval( result );
			mysql_fetch_field_row(result,"Hat"); PlayerInfo[playerid][pHat] = strval( result );
			mysql_fetch_field_row(result,"ShowHat"); PlayerInfo[playerid][pShowHat] = strval( result );	
			
			mysql_fetch_field_row(result,"Helper"); PlayerInfo[playerid][pHelper] = strval( result );
			mysql_fetch_field_row(result,"Premium"); PlayerInfo[playerid][pPremiumAccount] = strval( result );
			mysql_fetch_field_row(result,"GPS"); PlayerInfo[playerid][pGPS] = strval( result );
			mysql_fetch_field_row(result,"TotalGold"); PlayerInfo[playerid][pTotalGold] = strval( result );	
			mysql_fetch_field_row(result,"ReportTime"); PlayerInfo[playerid][pReportTime] = strval( result );
			mysql_fetch_field_row(result,"HelpedPlayers"); PlayerInfo[playerid][pHelpedPlayers] = strval( result );
			mysql_fetch_field_row(result,"Color"); PlayerInfo[playerid][pColor] = strval( result );	
			mysql_fetch_field_row(result,"ConnectedTime"); PlayerInfo[playerid][pConnectTime] = floatstr( result );
			mysql_fetch_field_row(result,"Registered"); PlayerInfo[playerid][pReg] = strval( result );
			mysql_fetch_field_row(result,"Sex"); PlayerInfo[playerid][pSex] = strval( result );
			mysql_fetch_field_row(result,"Age"); PlayerInfo[playerid][pAge] = strval( result );
			mysql_fetch_field_row(result,"Muted"); PlayerInfo[playerid][pMuted] = strval( result );
			mysql_fetch_field_row(result,"MuteTime"); PlayerInfo[playerid][pMuteTime] = strval( result );
			mysql_fetch_field_row(result,"Respect"); PlayerInfo[playerid][pExp] = strval( result );
			mysql_fetch_field_row(result,"Money"); PlayerInfo[playerid][pCash] = strval( result );
			mysql_fetch_field_row(result,"Bank"); PlayerInfo[playerid][pAccount] = strval( result );
			mysql_fetch_field_row(result,"Crimes"); PlayerInfo[playerid][pCrimes] = strval( result );
			mysql_fetch_field_row(result,"Kills"); PlayerInfo[playerid][pKills] = strval( result );
			mysql_fetch_field_row(result,"Deaths"); PlayerInfo[playerid][pDeaths] = strval( result );
			mysql_fetch_field_row(result,"Arrested"); PlayerInfo[playerid][pArrested] = strval( result );
			mysql_fetch_field_row(result,"WantedDeaths"); PlayerInfo[playerid][pWantedDeaths] = strval( result );
			mysql_fetch_field_row(result,"WantedLevel"); PlayerInfo[playerid][pWantedLevel] = strval( result );
			mysql_fetch_field_row(result,"Job"); PlayerInfo[playerid][pJob] = strval( result );
			mysql_fetch_field_row(result,"Paycheck"); PlayerInfo[playerid][pPayCheck] = strval( result );
			mysql_fetch_field_row(result,"Jailed"); PlayerInfo[playerid][pJailed] = strval( result );
			mysql_fetch_field_row(result,"JailTime"); PlayerInfo[playerid][pJailTime] = strval( result );
			mysql_fetch_field_row(result,"Materials"); PlayerInfo[playerid][pMats] = strval( result );
			mysql_fetch_field_row(result,"Drugs"); PlayerInfo[playerid][pDrugs] = strval( result );
			mysql_fetch_field_row(result,"Leader"); PlayerInfo[playerid][pLeader] = strval( result );
			mysql_fetch_field_row(result,"Member"); PlayerInfo[playerid][pMember] = strval( result );
			mysql_fetch_field_row(result,"Rank"); PlayerInfo[playerid][pRank] = strval( result );
			mysql_fetch_field_row(result,"CChar"); PlayerInfo[playerid][pChar] = strval( result );
			mysql_fetch_field_row(result,"FWarn"); PlayerInfo[playerid][pFACWarns] = strval( result );
			mysql_fetch_field_row(result,"FPunish"); PlayerInfo[playerid][pFpunish] = strval( result );
			mysql_fetch_field_row(result,"Acceptpoints"); PlayerInfo[playerid][pLawyer] = strval( result );
			mysql_fetch_field_row(result,"LawSkill"); PlayerInfo[playerid][pLawSkill] = strval( result );
			mysql_fetch_field_row(result,"MechSkill"); PlayerInfo[playerid][pMechSkill] = strval( result );
			mysql_fetch_field_row(result,"DrugsSkill"); PlayerInfo[playerid][pDrugsSkill] = strval( result );
			mysql_fetch_field_row(result,"TruckerSkill"); PlayerInfo[playerid][pTruckerSkill] = strval( result );
			mysql_fetch_field_row(result,"MowerSkill"); PlayerInfo[playerid][pMowerSkill] = strval( result );
			mysql_fetch_field_row(result,"GarbageSkill"); PlayerInfo[playerid][pGarbageSkill] = strval( result );
			mysql_fetch_field_row(result,"FarmerSkill"); PlayerInfo[playerid][pFarmerSkill] = strval( result );
			mysql_fetch_field_row(result,"FishSkill"); PlayerInfo[playerid][pFishSkill] = strval( result );
			mysql_fetch_field_row(result,"IceSkill"); PlayerInfo[playerid][pJackerSkill] = strval( result );
			
			mysql_fetch_field_row(result,"ConstructorSkill"); PlayerInfo[playerid][pConstructorSkill] = strval( result );
			mysql_fetch_field_row(result,"BusSkill"); PlayerInfo[playerid][pBusSkill] = strval( result );
			mysql_fetch_field_row(result,"HotSkill"); PlayerInfo[playerid][pHotSkill] = strval( result );
			mysql_fetch_field_row(result,"GasCan"); PlayerInfo[playerid][pGasCan] = strval( result );
			mysql_fetch_field_row(result,"CadouLuat"); PlayerInfo[playerid][pCadouLuat] = strval( result );
			mysql_fetch_field_row(result,"DetectivSkill"); PlayerInfo[playerid][pDetectivSkill] = strval( result );
			
			mysql_fetch_field_row(result,"MatSkill"); PlayerInfo[playerid][pMatSkill] = strval( result );
			mysql_fetch_field_row(result,"RobSkill"); PlayerInfo[playerid][pRobSkill] = strval( result );
	        mysql_fetch_field_row(result,"Model"); PlayerInfo[playerid][pModel] = strval( result );
	        mysql_fetch_field_row(result,"PhoneNr"); PlayerInfo[playerid][pPnumber] = strval( result );
	        mysql_fetch_field_row(result,"House"); PlayerInfo[playerid][pHouse] = strval( result );
	        mysql_fetch_field_row(result,"Bizz"); PlayerInfo[playerid][pBizz] = strval( result );
	        mysql_fetch_field_row(result,"Pos_x"); PlayerInfo[playerid][pPos_x] = floatstr( result );
	        mysql_fetch_field_row(result,"Pos_y"); PlayerInfo[playerid][pPos_y] = floatstr( result );
	        mysql_fetch_field_row(result,"Pos_z"); PlayerInfo[playerid][pPos_z] = floatstr( result );
	        mysql_fetch_field_row(result,"Rob"); PlayerInfo[playerid][pRob] = strval( result );
	        mysql_fetch_field_row(result,"CarLicT"); PlayerInfo[playerid][pCarLicT] = strval( result );
	        mysql_fetch_field_row(result,"CarLic"); PlayerInfo[playerid][pCarLic] = strval( result );
	        mysql_fetch_field_row(result,"FlyLicT"); PlayerInfo[playerid][pFlyLicT] = strval( result );
	        mysql_fetch_field_row(result,"FlyLic"); PlayerInfo[playerid][pFlyLic] = strval( result );
	        mysql_fetch_field_row(result,"BoatLicT"); PlayerInfo[playerid][pBoatLicT] = strval( result );
	        mysql_fetch_field_row(result,"BoatLic"); PlayerInfo[playerid][pBoatLic] = strval( result );
	        mysql_fetch_field_row(result,"FishLicT"); PlayerInfo[playerid][pFishLicT] = strval( result );
	        mysql_fetch_field_row(result,"FishLic"); PlayerInfo[playerid][pFishLic] = strval( result );
	        mysql_fetch_field_row(result,"GunLicT"); PlayerInfo[playerid][pGunLicT] = strval( result );
	        mysql_fetch_field_row(result,"GunLic"); PlayerInfo[playerid][pGunLic] = strval( result );
	        mysql_fetch_field_row(result,"PayDay"); PlayerInfo[playerid][pPayDay] = strval( result );
	        mysql_fetch_field_row(result,"PayDayHad"); PlayerInfo[playerid][pPayDayHad] = strval( result );
	        mysql_fetch_field_row(result,"Tutorial"); PlayerInfo[playerid][pTut] = strval( result );
	        mysql_fetch_field_row(result,"Warnings"); PlayerInfo[playerid][pWarns] = strval( result );
	        mysql_fetch_field_row(result,"Rented"); PlayerInfo[playerid][pRented] = strval( result );
	        mysql_fetch_field_row(result,"Fuel"); PlayerInfo[playerid][pFuel] = strval( result );
	        mysql_fetch_field_row(result,"WTalkie"); PlayerInfo[playerid][pWTalkie] = strval( result );
	        mysql_fetch_field_row(result,"Lighter"); PlayerInfo[playerid][pLighter] = strval( result );
	        mysql_fetch_field_row(result,"Cigarettes"); PlayerInfo[playerid][pCigarettes] = strval( result );
	        mysql_fetch_field_row(result,"Tow"); PlayerInfo[playerid][pTow] = strval( result );
			mysql_fetch_field_row(result,"Email"); strmid(PlayerInfo[playerid][pEmail], result, 0, strlen(result), 255);
			mysql_fetch_field_row(result,"RegisterDate"); strmid(PlayerInfo[playerid][pRegistredDate], result, 0, strlen(result), 255);
	        mysql_fetch_field_row(result,"Banned"); PlayerInfo[playerid][pBanned] = strval( result );
            mysql_fetch_field_row(result,"CRank"); PlayerInfo[playerid][pCRank] = strval( result );
			mysql_fetch_field_row(result,"Phone"); PlayerInfo[playerid][pPhone] = strval( result );
			mysql_fetch_field_row(result,"id"); PlayerInfo[playerid][pSQLID] = strval( result );
            mysql_fetch_field_row(result,"Victim"); strmid(PlayerInfo[playerid][pVictim], result, 0, strlen(result), 255);
            mysql_fetch_field_row(result,"Accused"); strmid(PlayerInfo[playerid][pAccused], result, 0, strlen(result), 255);
			mysql_fetch_field_row(result,"Crime1"); strmid(PlayerInfo[playerid][pCrime1], result, 0, strlen(result), 255);
			mysql_fetch_field_row(result,"Crime2"); strmid(PlayerInfo[playerid][pCrime2], result, 0, strlen(result), 255);
			mysql_fetch_field_row(result,"Crime3"); strmid(PlayerInfo[playerid][pCrime3], result, 0, strlen(result), 255);
			mysql_fetch_field_row(result,"BTemp"); PlayerInfo[playerid][pBTemp] = strval( result );
			mysql_fetch_field_row(result,"BYear"); PlayerInfo[playerid][pBYear] = strval( result );
			mysql_fetch_field_row(result,"BMonth"); PlayerInfo[playerid][pBMonth] = strval( result );
			mysql_fetch_field_row(result,"BDay"); PlayerInfo[playerid][pBDay] = strval( result );
			mysql_fetch_field_row(result,"BBy"); strmid(PlayerInfo[playerid][pBBy], result, 0, strlen(result), 255);
			mysql_fetch_field_row(result,"BReason"); strmid(PlayerInfo[playerid][pBReason], result, 0, strlen(result), 255);
			mysql_fetch_field_row(result,"ALeader"); PlayerInfo[playerid][pALeader] = strval( result );
			mysql_fetch_field_row(result,"GiftPoints"); PlayerInfo[playerid][pGiftPoints] = strval( result );
			mysql_fetch_field_row(result,"ShowJob"); PlayerInfo[playerid][pShowJob] = strval( result );
			mysql_fetch_field_row(result,"ShowFaction"); PlayerInfo[playerid][pShowFaction] = strval( result );

			mysql_fetch_field_row(result,"ShowFP"); PlayerInfo[playerid][pShowFP] = strval( result );
			mysql_fetch_field_row(result,"ShowLogo"); PlayerInfo[playerid][pShowLogo] = strval( result );
			mysql_fetch_field_row(result,"ShowCeas"); PlayerInfo[playerid][pShowCeas] = strval( result );

			mysql_fetch_field_row(result,"GoldPoints"); PlayerInfo[playerid][pPremiumPoints] = strval( result );
			mysql_fetch_field_row(result,"Clan"); PlayerInfo[playerid][pClan] = strval( result );
			mysql_fetch_field_row(result,"ClanRank"); PlayerInfo[playerid][pClanRank] = strval( result );
			mysql_fetch_field_row(result,"Commands"); PlayerInfo[playerid][pCommands] = strval( result );
			mysql_fetch_field_row(result,"ConstructorSkill"); PlayerInfo[playerid][pConstructorSkill] = strval( result );
			mysql_fetch_field_row(result,"PizzaSkill"); PlayerInfo[playerid][pPizzaSkill] = strval( result );
			mysql_fetch_field_row(result,"CurierSkill"); PlayerInfo[playerid][pCurierSkill] = strval( result );
			
			PlayerInfo[playerid][pSeconds] = cache_get_field_content_float(0, "Seconds");
			PlayerInfo[playerid][pCarKey][0] = cache_get_field_content_int(0, "CarKey1", SQL);
			PlayerInfo[playerid][pCarKey][1] = cache_get_field_content_int(0, "CarKey2", SQL);
			PlayerInfo[playerid][pCarKey][2] = cache_get_field_content_int(0, "CarKey3", SQL);
			PlayerInfo[playerid][pCarKey][3] = cache_get_field_content_int(0, "CarKey4", SQL);
			PlayerInfo[playerid][pCarKey][4] = cache_get_field_content_int(0, "CarKey5", SQL);
			PlayerInfo[playerid][pCarKey][5] = cache_get_field_content_int(0, "CarKey6", SQL);
			PlayerInfo[playerid][pCarKey][6] = cache_get_field_content_int(0, "CarKey7", SQL);
			PlayerInfo[playerid][pCarKey][7] = cache_get_field_content_int(0, "CarKey8", SQL);
			PlayerInfo[playerid][pCarKey][8] = cache_get_field_content_int(0, "CarKey9", SQL);
			PlayerInfo[playerid][pCarKey][9] = cache_get_field_content_int(0, "CarKey10", SQL);
			
			if(PlayerInfo[playerid][pHelper] > 0 && PlayerInfo[playerid][pHelper] < 3) Iter_Add(Helpers, playerid);
			if(PlayerInfo[playerid][pAdmin] > 0 && PlayerInfo[playerid][pAdmin] < 6) Iter_Add(Admins, playerid);
			if(PlayerInfo[playerid][pLeader] > 0 && PlayerInfo[playerid][pAdmin] < 4) Iter_Add(Leaders, playerid);

			new string[256];
			PlayerInfo[playerid][pPin] = cache_get_field_content(0, "Pin", string);
			format(PlayerInfo[playerid][pPin], 5, string);
			lasttime[playerid] = cache_get_field_content_int(0, "LastTimeOn", SQL);
			lastpremium[playerid] = cache_get_field_content_int(0, "PremiumDate", SQL);
			UpdateVar(playerid, "DayLogin", 1);
			new playername[25],sendername[25];
			GetPlayerName(playerid, playername, sizeof(playername));
			if(GetDays(lasttime[playerid]) != 0 && lasttime[playerid] != 0) {
			    if(PlayerInfo[playerid][pHouse] != 999 || PlayerInfo[playerid][pBizz] != 255) {
					if(GetDays(lasttime[playerid]) < 13) format(string, 256, "Nu ai mai intrat de %d zile pe cont. La 14 zile de inactivitate pierzi afacerea si casa.", GetDays(lasttime[playerid]));
					else if(GetDays(lasttime[playerid]) >= 14) {
						format(string, 256, "Nu ai mai intrat de %d zile pe cont. Casa/afacerea ta a fost vanduta.", GetDays(lasttime[playerid]));
						if(PlayerInfo[playerid][pHouse] != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0)
						{
							new house = PlayerInfo[playerid][pHouse];
							HouseInfo[house][hHel] = 0;
							HouseInfo[house][hArm] = 0;
							HouseInfo[house][hLock] = 0;
							HouseInfo[house][hOwned] = 0;
				            PlayerInfo[playerid][pRented] = 0;
							GetPlayerName(playerid, sendername, sizeof(sendername));
							strmid(HouseInfo[house][hOwner], "The State", 0, strlen("The State"), 255);
							format(HouseInfo[house][hDiscription], 256, "");
							HouseInfo[house][hValue] = 50000;
							PlayerInfo[playerid][pHouse] = 999;
							PlayerInfo[playerid][pRented] = -1;
							if(PlayerInfo[playerid][pLocal] == house)
							{
								SetPlayerInterior(playerid,0);
								SetPlayerPosEx(playerid,HouseInfo[house][hEntrancex],HouseInfo[house][hEntrancey],HouseInfo[house][hEntrancez]);
								PlayerInfo[playerid][pInt] = 0;
							}
							Update(playerid,pCashx);
							Update(playerid,pRentedx);
							Update(playerid,pHousex);
							new str2[256];
							format(str2,sizeof(str2),"UPDATE `houses` SET `Hel`='0',`Arm`='0',`Lockk`='0',`Owned`='0',`Owner`='The State' WHERE `ID`='%d'",HouseInfo[house][hID]);
							mysql_query(SQL,str2);
							UpdateLabel(1,house);
						}
						if(strcmp(GetName(playerid), BizzInfo[PlayerInfo[playerid][pBizz]][bOwner], true) == 0)
						{
							new bouse = PlayerInfo[playerid][pBizz];
							BizzInfo[bouse][bLocked] = 1;
							BizzInfo[bouse][bOwned] = 0;
							strmid(BizzInfo[bouse][bOwner], "The State", 0, strlen("The State"), 255);
							BizzInfo[bouse][bBuyPrice] = 100000;
							PlayerInfo[playerid][pBizz] = 255;
				            new str1[184];
							format(str1,sizeof(str1),"UPDATE `bizz` SET `Locked`='0',`Owned`='0',`Till`='0',`Owner`='The State',`BuyPrice`='10000' WHERE `ID`='%d'",bouse);
							mysql_query(SQL,str1);
							Update(playerid,pCashx);
							Update(playerid,pBizzx);
							UpdateLabel(2,bouse);
						}
					}
					SCM(playerid, COLOR_GOLD, string);
				}
			}			
			new clanid = PlayerInfo[playerid][pClan];
			if(clanid != 0) {
				format(string, sizeof(string), "(Clan): %s.", ClanInfo[PlayerInfo[playerid][pClan]][clMotd]);
				SendClientMessage(playerid, COLOR_YELLOW, string);
				format(string, sizeof(string), "%s, faci parte din clanul %s (#%d) cu tagul %s unde detii rang-ul %d.", GetName(playerid), ClanInfo[clanid][clName], clanid, ClanInfo[clanid][clTag], PlayerInfo[playerid][pClanRank]);
				SendClientMessage(playerid, COLOR_YELLOW, string);
			}
			if(PlayerInfo[playerid][pClan] != 0 && ClanInfo[clanid][clTagType] == 0) {
			    format(string, sizeof(string), "%s%s", ClanInfo[clanid][clTag], PlayerInfo[playerid][pUsername]);
			    SetPlayerName(playerid, string);
			}
			else if(PlayerInfo[playerid][pClan] != 0 && ClanInfo[clanid][clTagType] == 1) {
			    format(string, sizeof(string), "%s%s", PlayerInfo[playerid][pUsername], ClanInfo[clanid][clTag]);
			    SetPlayerName(playerid, string);
			}
			if(PlayerInfo[playerid][pCarKey][0] != 0) SpawnPlayerCar(PlayerInfo[playerid][pCarKey][0]), DespawnCar[playerid][0] = 1540;
			if(PlayerInfo[playerid][pCarKey][1] != 0) SpawnPlayerCar(PlayerInfo[playerid][pCarKey][1]), DespawnCar[playerid][1] = 1540;
			if(PlayerInfo[playerid][pCarKey][2] != 0) SpawnPlayerCar(PlayerInfo[playerid][pCarKey][2]), DespawnCar[playerid][2] = 1540;
			if(PlayerInfo[playerid][pCarKey][3] != 0) SpawnPlayerCar(PlayerInfo[playerid][pCarKey][3]), DespawnCar[playerid][3] = 1540;
			if(PlayerInfo[playerid][pCarKey][4] != 0) SpawnPlayerCar(PlayerInfo[playerid][pCarKey][4]), DespawnCar[playerid][4] = 1540;
	   	}
	}
	else
	{
		new loginstring[128];
		new loginname[64];
		GetPlayerName(playerid,loginname,sizeof(loginname));
		format(loginstring,sizeof(loginstring),"Parola introdusa nu se potriveste cu cea a contului!\n\nTe rog sa introduci parola corecta.",loginname);
		ShowPlayerDialog(playerid,DIALOG_LOGIN3,DIALOG_STYLE_PASSWORD,"SERVER: Login",loginstring,"Login","Cancel");
        mysql_free_result();
        gPlayerLogTries[playerid] += 1;
        if(gPlayerLogTries[playerid] == 4)
		{
			KickEx(playerid);
		}
        return 1;
	}
	mysql_free_result();
	ResetPlayerCash(playerid);
	GivePlayerCash(playerid,PlayerInfo[playerid][pCash]);
	CurrentMoney[playerid] = PlayerInfo[playerid][pCash];
	KillTimer(login[playerid]);
	TempBanCheck(playerid);
	if(PlayerInfo[playerid][pReg] == 0)
	{
		PlayerInfo[playerid][pLevel] = 1;
 	    PlayerInfo[playerid][pPos_x] = 2246.6;
 	    PlayerInfo[playerid][pPos_y] = -1161.9;
 	    PlayerInfo[playerid][pPos_z] = 1029.7;
		PlayerInfo[playerid][pInt] = 0;
		PlayerInfo[playerid][pLocal] = 255;
		PlayerInfo[playerid][pModel] = 250;
		new randphone = 10000 + random(9999);//minimum 1000  max 9999 //giving one at the start
		PlayerInfo[playerid][pPnumber] = randphone;
		PlayerInfo[playerid][pHouse] = 999;
		PlayerInfo[playerid][pBizz] = 255;
		PlayerInfo[playerid][pAccount] = 1000;
		PlayerInfo[playerid][pReg] = 1;
		SetPlayerInterior(playerid,0);
		new string[300];
		new d,m,y;
		getdate(y,m,d);
		new h,mine,s;
		gettime(h,mine,s);
		format(string,sizeof(string),  "%d/%d/%d %d:%d:%d",d,m,y,h,mine,s);
		strmid(PlayerInfo[playerid][pRegistredDate], string, 0, strlen(string), 255);
		new str[256];
		format(str,sizeof(str),"UPDATE users SET `pHealth`='100.0',`Team`='3',`Model`='250' WHERE `ID`='%d'",PlayerInfo[playerid][pSQLID]);
		mysql_query(SQL,str);
		Update(playerid,pCashx);
		Update(playerid,pLevelx);
		Update(playerid,pHousex);
		Update(playerid,pBizzx);
		Update(playerid,pPnumberx);
		Update(playerid,pRegx);
		Update(playerid,pRegistredDatex);
	}
	else {
		TextDrawHideForPlayer(playerid, ServerStatusBar);
		TextDrawHideForPlayer(playerid, ServerStatusBox);
		new szQuery[256], szString[256], onf, Cache: results;
		format(szQuery, sizeof(szQuery), "SELECT * FROM `friends` WHERE `AddBy` = '%d'", PlayerInfo[playerid][pSQLID]);
		results = mysql_query(SQL, szQuery);
		// playerid login
		for(new i, j = cache_get_row_count (); i != j; ++i)
		{
			cache_get_field_content(i, "friendName", szString);
			new userID = GetPlayerID(szString);
			if(userID != INVALID_PLAYER_ID) onf ++;
		}
		cache_delete(results);
		if(onf != 0) {
			format(szString, sizeof(szString), "Ai %d prieteni conectati in~n~lista ta", onf);
			PlayerTextDrawSetString(playerid, FriendsTD, szString);
			PlayerTextDrawShow(playerid, FriendsTD);
			SetTimerEx("HideFriendsTDs", 10000, 0, "d", playerid);
		}
		foreach(Player, i) {
			if(IsPlayerConnected(i)) {
				format(szQuery, sizeof(szQuery), "SELECT * FROM `friends` WHERE `AddBy` = '%d' AND `friendID` = '%d'", PlayerInfo[i][pSQLID], PlayerInfo[playerid][pSQLID]);
				results = mysql_query(SQL, szQuery);
				cache_get_field_content(0, "AddBy", szString);
				new friendID = strval(szString);
				cache_delete(results);
				if(PlayerInfo[i][pSQLID] == friendID && friendID != 0) {
					format(szString, sizeof(szString), "%s (%d)~n~tocmai s-a logat.", GetName(playerid), playerid);
					PlayerTextDrawSetString(i, FriendsTD, szString);
					PlayerTextDrawShow(i, FriendsTD);
					SetTimerEx("HideFriendsTDs", 10000, 0, "d", i);
				}
			}
		}	
	}
	if(PlayerInfo[playerid][pBanned] == 1) //autoban
	{
        SendClientMessage(playerid, COLOR_LIGHTRED, "Acest cont este banat permanent.");
        SendClientMessage(playerid, COLOR_LIGHTRED, "Daca crezi ca ai fost nedreptatit, fa o cerere de unban pe forum.");
		Ban(playerid);
	}
	for( new j = 0; j <= 50; j++) SendClientMessage(playerid, COLOR_WHITE, "");
    StopAudioStreamForPlayer(playerid);
	SetPlayerScore(playerid, PlayerInfo[playerid][pLevel]);
	new string2[256];
	new string[500];
	if(PlayerInfo[playerid][pTut] == 1 || PlayerInfo[playerid][pTut] == 2) {
		format(string,sizeof(string),"SERVER: Bine ai venit, %s!",GetName(playerid));
		SCM(playerid,COLOR_WHITE,string);
		if(PlayerInfo[playerid][pAdmin] > 0)
		{
		    format(string,sizeof(string),"SERVER: Te-ai autentificat ca Admin Level %d.",PlayerInfo[playerid][pAdmin]);
		    SCM(playerid,COLOR_WHITE,string);
		}
		if(PlayerInfo[playerid][pHelper] > 0)
		{
		    format(string,sizeof(string),"SERVER: Te-ai autentificat ca Helper Level %d.",PlayerInfo[playerid][pHelper]);
		    SCM(playerid,COLOR_WHITE,string);
		}
		if(PlayerInfo[playerid][pLeader] > 0)
		{
		    format(string,sizeof(string),"SERVER: Te-ai autentificat ca Lider %s.",DynamicFactions[PlayerInfo[playerid][pLeader]][fName]);
		    SCM(playerid,COLOR_WHITE,string);
		}
		if(PlayerInfo[playerid][pPremiumAccount] != 0) {
			if(PlayerInfo[playerid][pPremiumAccount] == 1 && 7-GetDays(lastpremium[playerid]) < 0) {
				PlayerInfo[playerid][pPremiumAccount] = 0, SCM(playerid, COLOR_GOLD, "* Contul premium a expirat.");
			}
			else if(PlayerInfo[playerid][pPremiumAccount] == 2 && 30-GetDays(lastpremium[playerid]) < 0) {
				PlayerInfo[playerid][pPremiumAccount] = 0, SCM(playerid, COLOR_GOLD, "* Contul premium a expirat.");
			}
			else {
				if(PlayerInfo[playerid][pPremiumAccount] == 1) format(string, 256, "SERVER: Contul tau este unul Premium! Valabilitate: %d zile", 7-GetDays(lastpremium[playerid]));
				else if(PlayerInfo[playerid][pPremiumAccount] == 2) format(string, 256, "SERVER: Contul tau este unul Premium! Valabilitate: %d zile", 30-GetDays(lastpremium[playerid]));
				SCM(playerid, COLOR_WHITE, string);
			}
		}
		HudProgress[playerid][0] = CreatePlayerProgressBar(playerid,52.00, 282.00, 72.50, 4.19, 0x00FF00FF, 100.0);
		HudProgress[playerid][1] = CreatePlayerProgressBar(playerid,52.00, 316.00, 72.50, 4.19, 0x00FF00FF, 100.0);
		if (PlayerInfo[playerid][pWantedLevel] > 0)
		{
			format(string2, sizeof(string2), "Cand ai iesit de pe server aveai Wanted Level %d.",PlayerInfo[playerid][pWantedLevel]);
			SetPlayerWantedLevel(playerid, PlayerInfo[playerid][pWantedLevel]);
			SendClientMessage(playerid, COLOR_LOGS, string2);
			wantedlost[playerid] = 1800;
			WantedPoints[playerid] = PlayerInfo[playerid][pWantedLevel]*2;
		}
		if(strlen(PlayerInfo[playerid][pPin]) == 1) {
			SendClientMessage(playerid, COLOR_LIGHTBLUE, "Contul tau nu are un PIN setat. Pentru a imbunatati securitatea contului tau foloseste /addpin si seteaza-ti un PIN.");
		}
		else if(strlen(PlayerInfo[playerid][pPin]) != 0) {
			SendClientMessage(playerid, COLOR_LIGHTBLUE, "Pentru a folosi comenzile de transfer al banilor trebuie sa iti deblochezi contul. Foloseste comanda /pin sau /unlockacc pentru a il debloca.");
		}
		if(PlayerInfo[playerid][pLevel] <= 4 && PlayerInfo[playerid][pAdmin] < 1) SCM(playerid,COLOR_YELLOW,"Foloseste comanda /bonus pentru a primi: Nivel 5, 250 Puncte Premium si o suma random de bani.");
	}
	SetSpawnInfo(playerid, 0, PlayerInfo[playerid][pModel], 1642.4734, -2239.2910, 13.5285, 1.0, -1, -1, -1, -1, -1, -1);
	if(PlayerInfo[playerid][pMember] != 0)
	{
		if(strlen(DynamicFactions[PlayerInfo[playerid][pMember]][fAnn]) > 0)
		{
		    new factioninfo[128];
			format(factioninfo,sizeof(factioninfo), "Mesajul Factiunii: %s",DynamicFactions[PlayerInfo[playerid][pMember]][fAnn]);
			SCM(playerid,COLOR_YELLOW3,factioninfo);
		}
	}
	new playersip[64],iplog[184];
	GetPlayerIp(playerid,playersip,sizeof(playersip));
	LogIP(playersip,PlayerInfo[playerid][pSQLID]);
	format(iplog,sizeof(iplog),"%s(%d) s-a conectat pe server cu IP: %s.",GetName(playerid),playerid,playersip);
	SendIP(COLOR_WHITE,iplog);
	IsPlayerLogged[playerid] = 1;
	
	SpawnPlayer(playerid);
	
	new qqerry[128];
	format(qqerry, sizeof(qqerry), "UPDATE `users` SET `Status` = '1' WHERE `name`='%s'", GetName(playerid));
    mysql_query(SQL,qqerry);
	printf("%s has logged in with IP %s.",GetName(playerid),playersip);
	return 1;
}

function UpdateVar(playerid, varname[], amount) {
	if(playerid == INVALID_PLAYER_ID) return 1;
	new query[256];
	mysql_format(SQL, query, sizeof(query), "UPDATE `users` SET `%s`='%d' WHERE `ID`='%d'", varname, amount, PlayerInfo[playerid][pSQLID]);
	mysql_tquery(SQL, query, "", "");
	return 1;
}	

function HideFriendsTDs(playerid) {
	if(IsPlayerConnected(playerid)) {
		PlayerTextDrawHide(playerid, FriendsTD);
	}
	return 1;
}
/*
function NightBot(playerid, reason[]) {
	new string[180];
	format(string, sizeof(string), "AdmCmd: %s a primit kick de la AdmBot, motiv: %s.", GetName(playerid), reason);
	SendClientMessageToAll(COLOR_LIGHTRED, string);
	InsereazaSanctiune(playerid, -1, KICK, reason);
	KickEx(playerid);	
	printf(string);
	return 1;
}*/
function OnPlayerPickUpDynamicPickup(playerid, pickupid)
{
	new str[256], gunname[256];
	for(new i = 0; i < MAX_PICKUPSW; i++) {
		if(pickupid == Pickups[i][psID]) {
			if(IsAMember(playerid)) {
				if(Pickups[i][psType] == 1) {
				    GetWeaponName(Pickups[i][psWeapon], gunname, sizeof(gunname));
				    format(str, sizeof(str), "Ai gasit pe jos arma %s cu %d gloante.", gunname, Pickups[i][psAmmo]);
					SCM(playerid, COLOR_LIGHTBLUE, str);
					GivePlayerWeapon(playerid, Pickups[i][psWeapon], Pickups[i][psAmmo]);
				}
				else {
					SCM(playerid, COLOR_LIGHTBLUE, "Ai gasit o trusa de prim ajutor pe jos. (+10 HP)");
					new Float:HP;
				 	GetPlayerHealthEx(playerid,HP);
					if(HP < 90) SetPlayerHealthEx( playerid, HP+10);
					else SetPlayerHealthEx( playerid, 100);
				}
				DestroyDynamicPickup(Pickups[i][psID]);
				Pickups[i][psType] = 0;
				Pickups[i][psID] = 0;
			}
		}
	}
	
	for(new i = 0; i < MAX_COBJECTS; i++) {
		if(ObjectInfo[i][oID] != 0) {
			if(pickupid == ObjectInfo[i][oID]) {
				new id = GetObjects();
				if(PlayerInfo[playerid][pAdmin] != 0) return 1;
				GivePlayerCash(playerid, ObjectInfo[i][oMoney]);				
				if(id == 1) {
					format(str, 256, "AdmBot: Evenimentul a fost incheiat! %s a gasit obiectul si a castigat $%s.", GetName(playerid), FormatNumber(ObjectInfo[i][oMoney]));
					SendClientMessageToAll(COLOR_ORANGE, str);
				}
				else {
					format(str, 256, "NR AdmBot: Un obiect din event a fost gasit de %s. Acesta a castigat un premiu de %s!", GetName(playerid), FormatNumber(ObjectInfo[i][oMoney]));
					SendClientMessageToAll(COLOR_ORANGE, str);				
					format(str, 256, "NR AdmBot: Eventul continua. Mai sunt %d obiecte de gasit!", id-1);
					SendClientMessageToAll(COLOR_ORANGE, str);				
				}
				RemoveObject(i);
			}
		}
	}	
    return 1;
}
cmd:deletepunish(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new id;
	if(PlayerInfo[playerid][pAdmin] < 5) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "i", id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /deletepunish <Punish ID>");
	new szQuery[256];
	format(szQuery, sizeof(szQuery), "SELECT * FROM `sanctions` WHERE `ID`='%d'", id);
	new Cache: result = mysql_query(SQL, szQuery);
	new test = cache_get_row_count ();
	cache_delete(result);
	if(test == 0) return SCM(playerid, COLOR_GREY, "Punish id invalid!");
	format(szQuery, sizeof(szQuery), "DELETE FROM `sanctions` WHERE `ID`='%d'", id);
	mysql_query(SQL, szQuery);
	return 1;
}
cmd:lastpunish(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new id;
	if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "u", id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /lastpunish <Nume/Playerid>");
	if(id == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	ShowPunish(playerid, id);
	return 1;
}

cmd:mylp(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	ShowPunish(playerid, playerid);
	return 1;
}
function ShowPunish(playerid, targetid) {
	new 
		szDialog2[4000], szResult[180], id, szQuery[256], string[180], Cache: result, b, k, j, m, w,
		by[180], time[180], reason[180];
		
	format(szQuery, sizeof(szQuery), "SELECT * FROM `sanctions` WHERE `Userid`='%d' AND `Type`='%d' ORDER BY `sanctions`.`ID` DESC LIMIT 10", PlayerInfo[targetid][pSQLID], BAN);
	result = mysql_query(SQL, szQuery);	
	for(new i, x = cache_get_row_count (); i < x; i++) {
		cache_get_field_content(i, "ID", szResult); id = strval(szResult);
		cache_get_field_content(i, "By", szResult); format(by, 256, szResult);
		cache_get_field_content(i, "Time", szResult); format(time, 256, szResult);	
		cache_get_field_content(i, "Reason", szResult); format(reason, 256, szResult);
		format(string, sizeof(string), "(#%d) [%s] Ban primit de la adminul %s, motiv: %s.\n", id, time, by, reason);
		strcat(szDialog2, string);		
		b ++;
	}
	cache_delete(result);
	
	format(szQuery, sizeof(szQuery), "SELECT * FROM `sanctions` WHERE `Userid`='%d' AND `Type`='%d' ORDER BY `sanctions`.`ID` DESC LIMIT 10", PlayerInfo[targetid][pSQLID], KICK);
	result = mysql_query(SQL, szQuery);
	for(new i, x = cache_get_row_count (); i < x; i++) {	
		cache_get_field_content(i, "ID", szResult); id = strval(szResult);
		cache_get_field_content(i, "By", szResult); format(by, 256, szResult);
		cache_get_field_content(i, "Time", szResult); format(time, 256, szResult);	
		cache_get_field_content(i, "Reason", szResult); format(reason, 256, szResult);
		format(string, sizeof(string), "(#%d) [%s] Kick primit de la adminul %s, motiv: %s.\n", id, time, by, reason);
		strcat(szDialog2, string);		
		k ++;
	}	
	cache_delete(result);

	format(szQuery, sizeof(szQuery), "SELECT * FROM `sanctions` WHERE `Userid`='%d' AND `Type`='%d' ORDER BY `sanctions`.`ID` DESC LIMIT 10", PlayerInfo[targetid][pSQLID], WARN);
	result = mysql_query(SQL, szQuery);
	for(new i, x = cache_get_row_count (); i < x; i++) {	
		cache_get_field_content(i, "ID", szResult); id = strval(szResult);
		cache_get_field_content(i, "By", szResult); format(by, 256, szResult);
		cache_get_field_content(i, "Time", szResult); format(time, 256, szResult);	
		cache_get_field_content(i, "Reason", szResult); format(reason, 256, szResult);
		format(string, sizeof(string), "(#%d) [%s] Warn primit de la adminul %s, motiv: %s.\n", id, time, by, reason);
		strcat(szDialog2, string);		
		w ++;
	}
	cache_delete(result);	
	
	format(szQuery, sizeof(szQuery), "SELECT * FROM `sanctions` WHERE `Userid`='%d' AND `Type`='%d' ORDER BY `sanctions`.`ID` DESC LIMIT 10", PlayerInfo[targetid][pSQLID], JAIL);
	result = mysql_query(SQL, szQuery);
	for(new i, x = cache_get_row_count (); i < x; i++) {	
		cache_get_field_content(i, "ID", szResult); id = strval(szResult);
		cache_get_field_content(i, "By", szResult); format(by, 256, szResult);
		cache_get_field_content(i, "Time", szResult); format(time, 256, szResult);	
		cache_get_field_content(i, "Reason", szResult); format(reason, 256, szResult);
		format(string, sizeof(string), "(#%d) [%s] Jail primit de la adminul %s, motiv: %s.\n", id, time, by, reason);
		strcat(szDialog2, string);		
		j ++;
	}
	cache_delete(result);	

	format(szQuery, sizeof(szQuery), "SELECT * FROM `sanctions` WHERE `Userid`='%d' AND `Type`='%d' ORDER BY `sanctions`.`ID` DESC LIMIT 10", PlayerInfo[targetid][pSQLID], MUTE);
	result = mysql_query(SQL, szQuery);
	for(new i, x = cache_get_row_count (); i < x; i++) {
		cache_get_field_content(i, "ID", szResult); id = strval(szResult);
		cache_get_field_content(i, "By", szResult); format(by, 256, szResult);
		cache_get_field_content(i, "Time", szResult); format(time, 256, szResult);	
		cache_get_field_content(i, "Reason", szResult); format(reason, 256, szResult);
		format(string, sizeof(string), "(#%d) [%s] Mute primit de la adminul %s, motiv: %s.\n", id, time, by, reason);
		strcat(szDialog2, string);		
		m ++;
	}
	cache_delete(result);	
	ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Sanctiuni", szDialog2, "Ok", "");
	return 1;
}

function InsereazaSanctiune(playerid, by, type, reason[]) {
	new 
		szQuery[1024], name[180], aname[180],
		szDate[180], Year, Month, Day, Hour, Minute, Second;
		
	format(name, 256, "%s (%d)", GetName(playerid), PlayerInfo[playerid][pSQLID]);
	getdate(Year, Month, Day);
	gettime(Hour, Minute, Second);
	format(szDate, sizeof(szDate), "%02d/%02d/%d - %02d:%02d:%02d", Day, Month, Year, Hour, Minute, Second);
	
	if(by == AdmBot) aname = "AdmBot";
	else format(aname, 256, "%s (%d)", GetName(by), PlayerInfo[by][pSQLID]);
	format(szQuery, sizeof(szQuery), "INSERT INTO `sanctions` (`Player`, `By`, `Time`, `Userid`, `Type`, `Reason`) VALUES ('%s', '%s', '%s', '%d', '%d', '%s')", name, aname, szDate, PlayerInfo[playerid][pSQLID], type, reason);
	mysql_query(SQL, szQuery);	
	return 1;
}

function InsereazaSanctiune2(playerid, pname[], by, bname[], type, reason[]) {
	new 
		szQuery[1024], name[180], aname[180],
		szDate[180], Year, Month, Day, Hour, Minute, Second;
		
	format(name, 256, "%s (%d)", pname, playerid);
	getdate(Year, Month, Day);
	gettime(Hour, Minute, Second);
	format(szDate, sizeof(szDate), "%02d/%02d/%d - %02d:%02d:%02d", Day, Month, Year, Hour, Minute, Second);
	
	if(by == AdmBot) aname = "AdmBot";
	else format(aname, 256, "%s (%d)", bname, by);
	format(szQuery, sizeof(szQuery), "INSERT INTO `sanctions` (`Player`, `By`, `Time`, `Userid`, `Type`, `Reason`) VALUES ('%s', '%s', '%s', '%d', '%d', '%s')", name, aname, szDate, playerid, type, reason);
	mysql_query(SQL, szQuery);	
	return 1;
}


function BroadCast(color,const string[])
{
	SendClientMessageToAll(color, string);
	return 1;
}

function LeaderChat(color,const string[])
{
	foreach(Player, i)
 	{
		if(IsPlayerLogged[i] == 1)
		{
			if(PlayerInfo[i][pLeader] >= 1)
			{
			    if(toglc[i] == 0)
				{
					SendClientMessage(i, color, string);
				}
			}
		}
	}
	return 1;
}

function SendAdminMessage(color,const string[],level)
{
	foreach(Player, i)
	{
	    if(IsPlayerConnected(i))
	    {
			if(IsPlayerLogged[i] == 1)
			{
				if (PlayerInfo[i][pAdmin] >= level)
				{
					SendClientMessage(i, color, string);
				}
			}
		}
	}
	return 1;
}
function SendLeadersMessage(color,const string[])
{
	foreach(Player, i)
	{
	    if(IsPlayerConnected(i))
	    {
			if(IsPlayerLogged[i] == 1)
			{
				if (PlayerInfo[i][pLeader] > 0)
				{
					SendClientMessage(i, color, string);
				}
			}
		}
	}
	return 1;
}
function SendIP(color,const string[])
{
	foreach(Player, i)
	{
		if (PlayerInfo[i][pAdmin] >= 1)
		{
			if(togip[i] == 1)
			{
				SendClientMessage(i, color, string);
			}
		}
	}
	return 1;
}

function HLChat(color,const string[])
{
	foreach(Player, i)
	{
		if(IsPlayerLogged[i] == 1)
		{
			if (PlayerInfo[i][pHelper] >= 1)
			{
				SendClientMessage(i, color, string);
			}
		}
	}
	return 1;
}
#define EX_SPLITLENGTH 130

stock SendSplitMessage(playerid, color, final[])
{
    new buffer[EX_SPLITLENGTH+5];
    new len = strlen(final);
    if(len>EX_SPLITLENGTH)
    {
        new times = (len/EX_SPLITLENGTH);
        for(new i = 0; i < times+1; i++)
        {
            strdel(buffer, 0, EX_SPLITLENGTH+5);
            if(len-(i*EX_SPLITLENGTH)>EX_SPLITLENGTH)
            {
                strmid(buffer, final, EX_SPLITLENGTH*i, EX_SPLITLENGTH*(i+1));
                format(buffer, sizeof(buffer), "%s ...", buffer);
            }
            else
            {
                strmid(buffer, final, EX_SPLITLENGTH*i, len);
            }
            SendClientMessage(playerid, color, buffer);
        }
    }
    else
    {
        SendClientMessage(playerid, color, final);
    }
    return 1;
}

function OOCNews(color,string[])
{
	foreach(Player, i)
	{
	    if(!gNews[i])
	    {
			SendSplitMessage(i, color, string);
		}
	}
	return 1;
}

function OOCNews2(color,const string[])
{
	foreach(Player, i)
	{
		SendClientMessage(i, color, string);
	}
	return 1;
}

function SendRadioMessage(member, color, string[])
{
	foreach(Player, i)
	{
	    if(PlayerInfo[i][pMember] == member || PlayerInfo[i][pLeader] == member)
	    {
			SendClientMessage(i, color, string);
		}
	}
	return 1;
}

function SendTeamMessage(member, color, string[])
{
	foreach(Player, i)
	{
	    if(PlayerInfo[i][pMember] == member || PlayerInfo[i][pLeader] == member)
	    {
			SendClientMessage(i, color, string);
		}
	}
	return 1;
}

function SendFactionMessage(family, color, string[])
{
	foreach(Player, i)
	{
        if(IsPlayerLogged[i] == 1)
        {
		    if(PlayerInfo[i][pMember] == family || PlayerInfo[i][pLeader] == family)
		    {
	            if(!gFam[i])
	            {
					SendClientMessage(i, color, string);
				}
			}
		}
	}
	return 1;
}
OnePlayAnim(playerid,animlib[],animname[], Float:Speed, looping, lockx, locky, lockz, lp)
{
	ApplyAnimation(playerid, animlib, animname, Speed, looping, lockx, locky, lockz, lp);
}

LoopingAnim(playerid,animlib[],animname[], Float:Speed, looping, lockx, locky, lockz, lp)
{
    gPlayerUsingLoopingAnim[playerid] = 1;
    ApplyAnimation(playerid, animlib, animname, Speed, looping, lockx, locky, lockz, lp);
}

StopLoopingAnim(playerid)
{
	gPlayerUsingLoopingAnim[playerid] = 0;
    ApplyAnimation(playerid, "CARRY", "crry_prtial", 4.0, 0, 0, 0, 0, 0);
}

PreloadAnimLib(playerid, animlib[])
{
	ApplyAnimation(playerid,animlib,"null",0.0,0,0,0,0,0);
}

function OnPlayerPickUpPickup(playerid, pickupid)
{

	return 1;
}
function ValidNeonCar(carid)
{
	if(GetVehicleModel(carid) == 400 || GetVehicleModel(carid) == 401 || GetVehicleModel(carid) == 402 || GetVehicleModel(carid) == 404 || GetVehicleModel(carid) == 405 || GetVehicleModel(carid) == 406 || GetVehicleModel(carid) == 410 || GetVehicleModel(carid) == 411 || GetVehicleModel(carid) == 412
	|| GetVehicleModel(carid) == 415 || GetVehicleModel(carid) == 419 || GetVehicleModel(carid) == 421 || GetVehicleModel(carid) == 422 || GetVehicleModel(carid) == 426 || GetVehicleModel(carid) == 429 || GetVehicleModel(carid) == 436 || GetVehicleModel(carid) == 439 || GetVehicleModel(carid) == 445
	|| GetVehicleModel(carid) == 451 || GetVehicleModel(carid) == 458 || GetVehicleModel(carid) == 474 || GetVehicleModel(carid) == 475 || GetVehicleModel(carid) == 477 || GetVehicleModel(carid) == 479 || GetVehicleModel(carid) == 480 || GetVehicleModel(carid) == 491 || GetVehicleModel(carid) == 499
	|| GetVehicleModel(carid) == 494 || GetVehicleModel(carid) == 495 || GetVehicleModel(carid) == 502 || GetVehicleModel(carid) == 503 || GetVehicleModel(carid) == 506 || GetVehicleModel(carid) == 507 || GetVehicleModel(carid) == 516 || GetVehicleModel(carid) == 517 || GetVehicleModel(carid) == 518
	|| GetVehicleModel(carid) == 533 || GetVehicleModel(carid) == 534 || GetVehicleModel(carid) == 535 || GetVehicleModel(carid) == 536 || GetVehicleModel(carid) == 540 || GetVehicleModel(carid) == 541 || GetVehicleModel(carid) == 545 || GetVehicleModel(carid) == 546 || GetVehicleModel(carid) == 547
	|| GetVehicleModel(carid) == 550 || GetVehicleModel(carid) == 551 || GetVehicleModel(carid) == 555 || GetVehicleModel(carid) == 558 || GetVehicleModel(carid) == 559 || GetVehicleModel(carid) == 560 || GetVehicleModel(carid) == 561 || GetVehicleModel(carid) == 562 || GetVehicleModel(carid) == 565
	|| GetVehicleModel(carid) == 566 || GetVehicleModel(carid) == 567 || GetVehicleModel(carid) == 579 || GetVehicleModel(carid) == 580 || GetVehicleModel(carid) == 585 || GetVehicleModel(carid) == 587 || GetVehicleModel(carid) == 589 || GetVehicleModel(carid) == 602 || GetVehicleModel(carid) == 603)
	{
  		return 1;
	}
	return 0;
}
function ValidTuningCar(carid)
{
	if(GetVehicleModel(carid) == 558 || GetVehicleModel(carid) == 565 || GetVehicleModel(carid) == 561 || GetVehicleModel(carid) == 562 || GetVehicleModel(carid) == 559 || GetVehicleModel(carid) == 560)
	{
	    return 1;
	}
	return 0;
}
cmd:myad(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new string[184];
	if(AdTimer[playerid] == 0) return SCM(playerid,COLOR_GREY, "Nu ai un anunt.");
	format(string,256,"Text: %s", AdText[playerid]);
	SCM(playerid, COLOR_YELLOW, string);
	format(string,sizeof(string),"Anuntul tau va fi afisat in %d minute (%d secunde).",AdTimer[playerid]/60,AdTimer[playerid]);
	SCM(playerid,COLOR_YELLOW,string);
	return 1;
}
cmd:fmotd(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    new newsf[128],string[184];
	if(PlayerInfo[playerid][pMember] == 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte dintr-o factiune.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(PlayerInfo[playerid][pRank] >= 6) {
		if(sscanf(params, "s[128]",newsf)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /fmotd <Message>");
		strmid(DynamicFactions[PlayerInfo[playerid][pMember]][fAnn], newsf, 0, strlen(newsf), 255);
		if(PlayerInfo[playerid][pRank] == 7) {
			format(string,sizeof(string),"Liderul %s a actualizat mesjul factiunii: %s",GetName(playerid),DynamicFactions[PlayerInfo[playerid][pMember]][fAnn]);
		}
		if(PlayerInfo[playerid][pRank] == 6) {
			format(string,sizeof(string),"%s %s a actualizat mesjul factiunii: %s",GetRankName(playerid),GetName(playerid),DynamicFactions[PlayerInfo[playerid][pMember]][fAnn]);
		}
		SendFactionMessage(PlayerInfo[playerid][pMember],COLOR_YELLOW,string);
		format(string, sizeof(string), "UPDATE `factions` SET `Anunt`='%s' WHERE `ID`='%d'",DynamicFactions[PlayerInfo[playerid][pMember]][fAnn], PlayerInfo[playerid][pMember]);
		mysql_query(SQL ,string);
	}
	else {
	    if(strlen(DynamicFactions[PlayerInfo[playerid][pMember]][fAnn]) > 0) {
		    format(string,sizeof(string), "Mesajul Factiunii: %s",DynamicFactions[PlayerInfo[playerid][pMember]][fAnn]);
			SCM(playerid,COLOR_YELLOW3,string);
		}
	}
	return 1;
}
cmd:managearea(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid,COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new x_nr[10];
    if(sscanf(params, "s[10]",x_nr)) SCM(playerid, COLOR_SYNTAX, "Syntax: /managearea <Deschide/Inchide>");
    if(strcmp(x_nr,"deschide",true) == 0) {
		Update3DTextLabelText(areap, 0xFFFFFFFF, "Arena de event este deschisa\nApasa pe tasta F pentru a intra");
		areape = 1;
	}
    if(strcmp(x_nr,"inchide",true) == 0) {
		Update3DTextLabelText(areap, 0xFFFFFFFF, "Arena de event este inchisa\nAsteapta...");
		areape = 0;
 	}
	return 1;
}
cmd:bet(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new number,money;
	if(!PlayerToPoint(5.0, playerid,830.6540,0.2702,1004.1797) && !PlayerToPoint(5.0, playerid,834.3984, 3.2266, 1004.0703)) return SCM(playerid,COLOR_BZYELLOW, "Nu esti langa o zona in care poti paria.");
	if(sscanf(params, "dd",number,money)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /bet <Number> <Money>");
	if(number < 1 || number > 20) return SCM(playerid,COLOR_GREY, "Numar invalid. 1 - 20.");
	if(money < 5000) return SCM(playerid,COLOR_GREY, "Suma invalida. $5.000 - infinit.");
	if(GetPlayerCash(playerid) < money) return SCM(playerid,COLOR_GREY, "Nu ai destui bani.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new n2 = random(20);
	GivePlayerCash(playerid,-money);
	Update(playerid,pCashx);
	if(number == n2) {
	    new cash = money*number,string[100];
	    GivePlayerCash(playerid,cash);
	    Update(playerid,pCashx);
	    format(string,sizeof(string),"Ai castigat $%s cu numarul %d.",FormatNumber(cash),number);
	    SCM(playerid,COLOR_LIGHTBLUE,string);
		new r = random(100);
		if(r == 9) {
		    SCM(playerid,COLOR_LIGHTBLUE,"Ai castigat un respect points.");
		    PlayerInfo[playerid][pExp]++;
		    Update(playerid,pRP);
		}
	}
	else return SCM(playerid,COLOR_GREY, "Incearca din nou...");
	return 1;
}
cmd:top(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	new p=0,t=0,s=0,r=0,b=0,c=0,d=0,e=0,f=0,string[184];
	for(new i = 1; i < sizeof(Turfs); i++) {
		if(TurfInfo[i][zOwned] == 4) t++;
		if(TurfInfo[i][zOwned] == 5) p++;
		if(TurfInfo[i][zOwned] == 6) s++;
		if(TurfInfo[i][zOwned] == 10) r++;
		if(TurfInfo[i][zOwned] == 20) b++;
		if(TurfInfo[i][zOwned] == 21) c++;
		if(TurfInfo[i][zOwned] == 22) d++;
		if(TurfInfo[i][zOwned] == 23) e++;
		if(TurfInfo[i][zOwned] == 24) f++;
	}
	SCM(playerid,COLOR_WHITE,"");
	SCM(playerid,COLOR_SERVER1,"|________|TOP GANGS|________|");
	format(string,sizeof(string),"{33AA33}Green Street Bloods{FFFFFF} - %d Teritorii",t);
	SCM(playerid,COLOR_WHITE,string);
	format(string,sizeof(string),"{2A2A2A}Verdant Family{FFFFFF} - %d Teritorii",s);
	SCM(playerid,COLOR_WHITE,string);
	format(string,sizeof(string),"{769C98}Vietnamese Boys{FFFFFF} - %d Teritorii",c);
	SCM(playerid,COLOR_WHITE,string);
	format(string,sizeof(string),"{B32CF6}Southern Pimps{FFFFFF} - %d Teritorii",p);
	SCM(playerid,COLOR_WHITE,string);
	format(string,sizeof(string),"{946141}The Tsar Bratva{FFFFFF} - %d Teritorii",r);
	SCM(playerid,COLOR_WHITE,string);
	format(string,sizeof(string),"{D0000F}Red Dragon Triad{FFFFFF} - %d Teritorii",b);
	SCM(playerid,COLOR_WHITE,string);
	format(string,sizeof(string),"{00FFE4}69 Pier Mobs{FFFFFF} - %d Teritorii",d);
	SCM(playerid,COLOR_WHITE,string);
	format(string,sizeof(string),"{3A460C}Avispa Rifa{FFFFFF} - %d Teritorii",e);
	SCM(playerid,COLOR_WHITE,string);
	format(string,sizeof(string),"{FF9900}El Loco Cartel{FFFFFF} - %d Teritorii",f);
	SCM(playerid,COLOR_WHITE,string);
	SCM(playerid,COLOR_SERVER1,"|___________________________|");
	return 1;
}
cmd:topplayers(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new item[256], page;
	if(sscanf(params, "s[50]", item)) {
		SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /topplayers <Item>");
		SendClientMessage(playerid, COLOR_WHITE, "Valabile: Ore, Level, Bani.");
		return 1;
	}	
	new szQuery[1024], szResult[1024], szDialog[1024], szDialog2[1000], Cache: result;
	if(sscanf(params, "s[50]i", item, page)) {
		SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /topplayers <Name> <Number (1-50)>");
		SendClientMessage(playerid, COLOR_WHITE, "Valabile: Mafii, Ore, Level, Bani.");
		return 1;
	}		
	if(page < 1 || page > 50) return SendClientMessage(playerid, -1, "{FF9494}*{FFFFFF} Numar invalid. (1-50)");
	if(strcmp(item, "ore", true, strlen(item)) == 0)
	{	
		format(szQuery, sizeof(szQuery), "SELECT * FROM `users` ORDER BY `users`.`ConnectedTime` DESC LIMIT %d", page);
		result = mysql_query(SQL, szQuery);
		
		new szName[256], ore, x;
		format(szDialog, sizeof(szDialog), "{FFEE00}Top %d jucatori:{FFFFFF}\n", page);
		strcat(szDialog2, szDialog);
		for(new i, j = cache_get_row_count (); i < j; i++) {
			cache_get_field_content(i, "name", szResult); format(szName, 256, szResult);
			cache_get_field_content(i, "ConnectedTime", szResult); ore = strval(szResult);
			x ++;
			
			if(x <= 3) {
				format(szDialog, sizeof(szDialog), "{00FF04}%d.{FFFFFF} %s - %d ore jucate.\n", x, szName, ore);
			}
			else {
				format(szDialog, sizeof(szDialog), "{2E9DFF}%d.{FFFFFF} %s - %d ore jucate.\n", x, szName, ore);
			}
			strcat(szDialog2, szDialog);
		}
		cache_delete(result);
		ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Top: Ore", szDialog2, "Ok", "");
	}
	else if(strcmp(item, "level", true, strlen(item)) == 0)
	{	
		format(szQuery, sizeof(szQuery), "SELECT * FROM `users` ORDER BY `users`.`Level` DESC LIMIT %d", page);
		result = mysql_query(SQL, szQuery);
		
		new szName[256], lvl, x;
		format(szDialog, sizeof(szDialog), "{FFEE00}Top %d jucatori:{FFFFFF}\n", page);
		strcat(szDialog2, szDialog);
		for(new i, j = cache_get_row_count (); i < j; i++) {
			cache_get_field_content(i, "name", szResult); format(szName, 256, szResult);
			cache_get_field_content(i, "Level", szResult); lvl = strval(szResult);
			x ++;
			
			if(x <= 3) {
				format(szDialog, sizeof(szDialog), "{00FF04}%d.{FFFFFF} %s - Level %d.\n", x, szName, lvl);
			}
			else {
				format(szDialog, sizeof(szDialog), "{2E9DFF}%d.{FFFFFF} %s - Level %d.\n", x, szName, lvl);
			}
			strcat(szDialog2, szDialog);
		}
		cache_delete(result);
		ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Top: Level", szDialog2, "Ok", "");
	}	
	else if(strcmp(item, "bani", true, strlen(item)) == 0)
	{	
		format(szQuery, sizeof(szQuery), "SELECT * FROM `users` ORDER BY `users`.`Bank`+`Money` DESC LIMIT %d", page);
		result = mysql_query(SQL, szQuery);
		
		new szName[256], bani, banca, x;
		format(szDialog, sizeof(szDialog), "{FFEE00}Top %d jucatori:{FFFFFF}\n", page);
		strcat(szDialog2, szDialog);
		for(new i, j = cache_get_row_count (); i < j; i++) {
			cache_get_field_content(i, "name", szResult); format(szName, 256, szResult);
			cache_get_field_content(i, "Money", szResult); bani = strval(szResult);
			cache_get_field_content(i, "Bank", szResult); banca = strval(szResult);
			
			x ++;
			
			if(x <= 3) {
				format(szDialog, sizeof(szDialog), "{00FF04}%d.{FFFFFF} %s - $%s bani.\n", x, szName, FormatNumber(bani+banca));
			}
			else {
				format(szDialog, sizeof(szDialog), "{2E9DFF}%d.{FFFFFF} %s - $%s bani.\n", x, szName, FormatNumber(bani+banca));
			}
			strcat(szDialog2, szDialog);
		}
		cache_delete(result);
		ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Top: Bani", szDialog2, "Ok", "");
	}		
	else SendClientMessage(playerid, COLOR_WHITE, "Valabile: Mafii, Ore, Level, Bani.");
	return 1;
}

cmd:toglc(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pLeader] < 1) return SCM(playerid,COLOR_BZWHITE,"Eroare: Nu esti lider.");
	if(toglc[playerid] == 0) {
	    toglc[playerid] = 1;
	    SCM(playerid,COLOR_WHITE,"Ai dezactivat chatul liderilor.");
	}
	else if(toglc[playerid] == 1) {
	    toglc[playerid] = 0;
	    SCM(playerid,COLOR_WHITE,"Ai activat chatul liderilor.");
	}
	return 1;
}
cmd:pingsound(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(pingsound[playerid] == 0) {
	    pingsound[playerid] = 1;
		SCM(playerid,COLOR_WHITE,"Ai activat sunetul.");
	}
	else {
	    pingsound[playerid] = 0;
		SCM(playerid,COLOR_WHITE,"Ai dezactivat sunetul.");
	}
	return 1;
}
cmd:playdice(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new id,money,string[184];
	if(sscanf(params, "ud",id,money)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /playdice <Nume/Playerid> <Money>");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(id == INVALID_PLAYER_ID) return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	if(money < 1 || money > 1000000) return SCM(playerid,COLOR_GREY, "Limita este $1,000,000.");
	if(IsPlayerConnected(id)) {
		if(GetPlayerCash(playerid) < money) return SCM(playerid,COLOR_GREY, "Nu ai acesti bani.");
	    if(GetPlayerCash(id) < money) return SCM(playerid,COLOR_GREY, "Acel player nu are destui bani.");
	    if(id == playerid) return SendClientMessage(playerid, COLOR_GREY, "Nu poti da pe tine.");
		if(ProxDetectorS(10.0, playerid, id)) {
		    format(string, sizeof(string), "* L-ai provocat pe %s la barbut pentru $%s.",GetName(id),FormatNumber(money));
			SendClientMessage(playerid, 0xFFBABAFF, string);
			format(string, sizeof(string), "* %s te-a provocat la barbut pentru $%s, (scrie /accept dice %d) pentru a accepta.",GetName(playerid),FormatNumber(money),playerid);
			SendClientMessage(id, 0xFFBABAFF, string);
			Diceid[id] = playerid;
			Dicem[id] = money;
		}
		else return SendClientMessage(playerid, COLOR_GREY, "Acel player nu este in raza ta.");
	}
	return 1;
}
cmd:undercover(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMember] != 11 && PlayerInfo[playerid][pLeader] != 11) return SCM(playerid, COLOR_BZWHITE, "Eroare: Nu faci parte din factiunea Hitmen Agency.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(GetPVarInt(playerid, "Undercover") == 0) {
		SetPVarInt(playerid, "Undercover", 1);		
	    SendClientMessage(playerid, COLOR_YELLOW, "Acum esti sub acoperire!");
        foreach(Player, i) ShowPlayerNameTagForPlayer(i, playerid, false);
		PlayerTextDrawShow(playerid, UndercoverTD);
	}
	else {
	    SetPVarInt(playerid, "Undercover", 0);
	    SendClientMessage(playerid, COLOR_YELLOW, "Nu mai esti sub acoperire.");
        foreach(Player, i) ShowPlayerNameTagForPlayer(i, playerid, true);
		PlayerTextDrawHide(playerid, UndercoverTD);
	}	
	return 1;
}	
cmd:gethit(playerid, params[]) {
	new userID, playerID[MAX_PLAYERS], contracts, szMessage[180];
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMember] != 11 && PlayerInfo[playerid][pLeader] != 11) return SCM(playerid, COLOR_BZWHITE, "Eroare: Nu faci parte din factiunea Hitmen Agency.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(PlayerHit[playerid] != -1) return SendClientMessage(playerid, COLOR_WHITE, "Ai deja un contract.");		
	foreach(Player, i) {
		if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1) {
			if(Contract[i] == 1 && UsedContract[i] == 0) {
				contracts ++;
				playerID[contracts] = i;
			}
		}
	}
	if(contracts == 0) return SendClientMessage(playerid, COLOR_WHITE, "Momentan, nu sunt contracte.");
	if(contracts == 1) userID = playerID[1];
	else userID = random(contracts);
	if(PlayerInfo[userID][pMember] == 11) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu poti folosi aceasta comanda acum!");
	UsedContract[userID] = 1;
	PlayerHit[playerid] = userID;
	format(szMessage, sizeof(szMessage), "* %s (%d) a primit un nou contract in valoare de %d$.", GetName(playerid), playerid, HeadValue[userID]);
	SendFactionMessage(11, COLOR_LIGHTBLUE, szMessage);
	return 1;
}
cmd:contracts(playerid, params[]) {
	new contracts, szMessage[180];
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMember] != 11 && PlayerInfo[playerid][pLeader] != 11) return SCM(playerid, COLOR_BZWHITE, "Eroare: Nu faci parte din factiunea Hitmen Agency.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	foreach(Player, i) {
		if(IsPlayerConnected(i) && UsedContract[i] == 0) {
			if(Contract[i] == 1) {
				contracts ++;
			}
		}
	}
	if(contracts == 0) return SendClientMessage(playerid, COLOR_BZYELLOW, "Momentan nu sunt contracte disponibile.");
	else {
		format(szMessage, 256,  "Au fost gasite %d contracte.", contracts);
		SCM(playerid, COLOR_BZYELLOW, szMessage);
	}
	return 1;
}
cmd:leavehit(playerid, params[]) {
	new szMessage[180];
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMember] != 11 && PlayerInfo[playerid][pLeader] != 11) return SCM(playerid, COLOR_BZWHITE, "Eroare: Nu faci parte din factiunea Hitmen Agency.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(PlayerHit[playerid] == -1) return SendClientMessage(playerid, COLOR_GREY, "Nu ai un contract.");
	new userID = PlayerHit[playerid];
	format(szMessage, sizeof(szMessage), "* %s (%d) a anulat contractul pe care il avea.", GetName(playerid), playerid);
	SendFactionMessage(11, COLOR_LIGHTBLUE, szMessage);
	UsedContract[userID] = 0;
	PlayerHit[playerid] = -1;
	return 1;
}
cmd:mycontract(playerid, params[]) {
	new szMessage[180];
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMember] != 11 && PlayerInfo[playerid][pLeader] != 11) return SCM(playerid, COLOR_BZWHITE, "Eroare: Nu faci parte din factiunea Hitmen Agency.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(PlayerHit[playerid] == -1) return SendClientMessage(playerid, COLOR_GREY, "Nu ai un contract.");
	format(szMessage, sizeof(szMessage), "Ai un contract pe %s(%d) pentru suma de $%s.", GetName(PlayerHit[playerid]), PlayerHit[playerid], FormatNumber(HeadValue[PlayerHit[playerid]]));
	SendClientMessage(playerid, COLOR_SERVER, szMessage);
	return 1;
}
cmd:startradar(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(!IsACop(playerid)) return SCM(playerid,COLOR_BZWHITE,"Eroare: Nu faci parte dintr-un departament.");
	if(OnDuty[playerid] != 1) return SendClientMessage(playerid,COLOR_BZYELLOW, "Nu esti la datorie.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new tmpcar = GetPlayerVehicleID(playerid);
	new ccar = IsPlayerInAnyVehicle(playerid);
	if(ccar && ServerVehicles[tmpcar][vFaction] == PlayerInfo[playerid][pMember]) {
		if(Radaron[playerid] == 1) return SCM(playerid,COLOR_GREY, "Ai deja activat radaru.");
		new viteza,string[128];
		if(sscanf(params, "d",viteza)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /startradar <Speed Limit>");
		if(viteza > 200 || viteza < 40) return SCM(playerid,COLOR_GREY, "Viteza invalida (200-40).");
		Radaron[playerid] = 1;
		Radarlimit[playerid] = viteza;
		TogglePlayerControllable(playerid, 0);
		format(string,sizeof(string),"{FFFF00}Ai activat radarul, viteza maxima: %d KM/H.",viteza);
		SCM(playerid,COLOR_WHITE,string);
	}
	else return SCM(playerid,COLOR_BZYELLOW, "Nu esti intr-o masina a factiunii.");
	return 1;
}
cmd:radars(playerid,params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    new count = 0,string[500],name[600];
    if(IsACop(playerid)) {
        if(PlayerInfo[playerid][pRank] > 4) {
			foreach(Player,i) {
			    if(Radaron[i] == 1) {
			        count++;
			        format(name,sizeof(name),"Jucatori cu radar: %d",count);
			        format(string,sizeof(string),"%s %s - %s - %d",string,GetName(i),NumeFactiune(PlayerInfo[i][pMember]),PlayerInfo[i][pRank]);
			        ShowPlayerDialog(playerid,DIALOG_RADARS,DIALOG_STYLE_LIST,name,string,"Close","");
			    }
			}
			if(count == 0) {
				ShowPlayerDialog(playerid,0,DIALOG_STYLE_MSGBOX,"Error:","Nu sunt jucatori cu radarul activ.","Close","");
			}
		}
		else return SCM(playerid,COLOR_BZWHITE,"Pentru a folosi aceasta comanda ai nevoie de Rang 5+.");
    }
    else return SCM(playerid,COLOR_BZWHITE,"Eroare: Nu faci parte dintr-un departament.");
	return 1;
}
cmd:stopradar(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(!IsACop(playerid)) return SCM(playerid,COLOR_BZWHITE,"Eroare: Nu faci parte dintr-un departament.");
	if(Radaron[playerid] == 0) return SCM(playerid,COLOR_GREY, "Nu ai radarul activ.");
	Radaron[playerid] = 0;
	Radarlimit[playerid] = 0;
	SCM(playerid,COLOR_WHITE,"{FFFF00}Ai oprit radarul.");
	TogglePlayerControllable(playerid, 1);
    return 1;
}
cmd:buydildo(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(!IsPlayerInRangeOfPoint(playerid,10,-104.0826,-21.9337,1000.7188)) return SCM(playerid,COLOR_GREY, "You're not in the place where you can get dildo.");
    new x_nr[20];
    if(sscanf(params, "s[20]",x_nr)) {
  	    SCM(playerid, COLOR_SYNTAX, "Syntax: /buydildo <Item>");
		SendClientMessage(playerid, COLOR_GREY, "Double-endedDildo($15), Dildo($10), Vibrator($20), SilverVibrator($25).");
		return 1;
	}
    if(strcmp(x_nr,"double-endeddildo",true) == 0) {
 	    GivePlayerWeaponEx(playerid, 10, 1);
 	    GivePlayerCash(playerid, -15);
 	    curatj[playerid] = 1;
 	    SCM(playerid,COLOR_WHITE,"Ai cumparat Double-ended Dildo.");
		BizzInfo[7][bBalance] += 15;
		new sendername[25],string[184];
		GetPlayerName(playerid,sendername,sizeof(sendername));
	    format(string, sizeof(string), "UPDATE users SET Money='%d' WHERE name='%s'", GetPlayerCash(playerid), sendername);
	    mysql_query(SQL,string);
		format(string,sizeof(string),"UPDATE `bizz` SET `Till`='%d',`Products`='%d' WHERE `ID`='7'",BizzInfo[7][bBalance],BizzInfo[7][bProducts]);
		mysql_query(SQL,string);
 	    return 1;
 	}
 	if(strcmp(x_nr,"dildo",true) == 0) {
 	    GivePlayerWeaponEx(playerid, 11, 1);
 	    GivePlayerCash(playerid, -10);
 	    SCM(playerid,COLOR_WHITE,"Ai cumparat Dildo.");
 	    curatj[playerid] = 1;
		BizzInfo[7][bBalance] += 10;
		new sendername[25],string[184];
		GetPlayerName(playerid,sendername,sizeof(sendername));
        format(string, sizeof(string), "UPDATE users SET Money='%d' WHERE name='%s'", GetPlayerCash(playerid), sendername);
        mysql_query(SQL,string);
		format(string,sizeof(string),"UPDATE `bizz` SET `Till`='%d',`Products`='%d' WHERE `ID`='7'",BizzInfo[7][bBalance],BizzInfo[7][bProducts]);
		mysql_query(SQL,string);
 	    return 1;
 	}
 	if(strcmp(x_nr,"vibrator",true) == 0) {
 	    GivePlayerWeaponEx(playerid, 12, 1);
 	    GivePlayerCash(playerid, -20);
 	    curatj[playerid] = 1;
 	    SCM(playerid,COLOR_WHITE,"Ai cumparat Vibrator.");
		BizzInfo[7][bBalance] += 20;
		new sendername[25],string[184];
		GetPlayerName(playerid,sendername,sizeof(sendername));
        format(string, sizeof(string), "UPDATE users SET Money='%d' WHERE name='%s'", GetPlayerCash(playerid), sendername);
        mysql_query(SQL,string);
		format(string,sizeof(string),"UPDATE `bizz` SET `Till`='%d',`Products`='%d' WHERE `ID`='7'",BizzInfo[7][bBalance],BizzInfo[7][bProducts]);
		mysql_query(SQL,string);
 	    return 1;
 	}
 	if(strcmp(x_nr,"silvervibrator",true) == 0) {
 	    GivePlayerWeaponEx(playerid, 13, 1);
 	    GivePlayerCash(playerid, -25);
 	    curatj[playerid] = 1;
 	    SCM(playerid,COLOR_WHITE,"Ai cumparat Silver Vibrator.");
		BizzInfo[7][bBalance] += 25;
		new sendername[25],string[184];
		GetPlayerName(playerid,sendername,sizeof(sendername));
        format(string, sizeof(string), "UPDATE users SET Money='%d' WHERE name='%s'", GetPlayerCash(playerid), sendername);
        mysql_query(SQL,string);
		format(string,sizeof(string),"UPDATE `bizz` SET `Till`='%d',`Products`='%d' WHERE `ID`='7'",BizzInfo[7][bBalance],BizzInfo[7][bProducts]);
		mysql_query(SQL,string);
 	    return 1;
 	}
	return 1;
}
cmd:music(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(!IsPlayerInRangeOfPoint(playerid,5.0,475.6506,-15.0195,1003.6953)) return SCM(playerid,COLOR_GREY, "You're not in the place where you can put music.");
	if(PlayerInfo[playerid][pPremiumAccount] == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu ai premium account.");
	new link[100],string[124];
	if(sscanf(params, "s[100]",link)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /music <Link>");
	strmid(alhamusic, link, 0, strlen(link), 255);
    foreach(Player, i) {
		if(InBussines[i] == 3) {
			PlayAudioStreamForPlayer(i, link);
			format(string,sizeof(string),"* %s a pus muzica in club.",GetName(playerid));
			SCM(i,COLOR_WHITE,string);
		}
	}
	return 1;
}
cmd:serverpass(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new pass[64],string[128];
	if(sscanf(params, "s[64]", pass)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /serverpass <Password>");
	format(string,sizeof(string),"password %s",pass);
	SendRconCommand(string);
	format(string,sizeof(string), "{FFFF00}Ai schimbat parola in: %s.",pass);
	SendClientMessage(playerid,COLOR_WHITE,string);
	return 1;
}
cmd:servername(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new name[64],string[128];
	if(sscanf(params, "s[64]", name)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /servername <Name>");
	format(string,sizeof(string),"hostname %s",name);
	SendRconCommand(string);
	format(string,sizeof(string), "{FFFF00}Ai schimbat numele in: %s.",name);
	SendClientMessage(playerid,COLOR_WHITE,string);
	return 1;
}
cmd:speedlimit(playerid, params[]) {
	new string[128], speed;
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER) {
		if(IsABike(GetPlayerVehicleID(playerid))) return SendClientMessage(playerid,COLOR_WHITE,"Nu poti folosi aceasta comanda intr-o bicicleta.");
		if(IsAPlane(GetPlayerVehicleID(playerid))) return SendClientMessage(playerid,COLOR_WHITE,"Command can not be used on plane.");
		if(sscanf(params, "i", speed)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /speedlimit <Speed>"); {
			if(speed == 0) {
				Speedlimit[playerid] = 0;
				format(string, sizeof(string), "{c4faf6}* Ai dezactivat limita de viteza.", speed);
				SendClientMessage(playerid, COLOR_WHITE, string);
				return 1;
			}
			if(!(speed>160 || speed < 90)) {
				Speedlimit[playerid] = speed-25;
				format(string, sizeof(string), "{c4faf6}* Limita de viteza este acum de %d KM/H.", speed);
				SendClientMessage(playerid, COLOR_WHITE, string);
			}
			else return SendClientMessage(playerid, COLOR_GREY, "Viteza trebuie sa fie intre 160 si 90 km/h.");
		}
	}
	else return SendClientMessage(playerid, COLOR_GREY, "Nu conduci un vehicul.");
	return 1;
}
cmd:togiplog(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid,COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(togip[playerid] == 0) {
	    togip[playerid] = 1;
	    SCM(playerid,COLOR_WHITE,"Ai activat IP log.");
	    return 1;
	}
	else if(togip[playerid] == 1) {
	    togip[playerid] = 0;
	    SCM(playerid,COLOR_WHITE,"Ai dezactivat IP log.");
	    return 1;
	}
	return 1;
}
cmd:mp3(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pPremiumAccount] == 0) return SCM(playerid, COLOR_GREY, "Nu ai cont premium!");
	new radiostr[1024];
	format(radiostr, sizeof(radiostr), "{E82727}Opreste Radio-ul\nRadio Taraf Romania\nRadio Funky Manele\nRadio Gangsta Manele\nRadio Gangsta Dance\nRadio Bandit Romania\nRadio Hot Romania\nRadio Tequila HipHop\nRadio Kiss FM\nRadio ZU Romania\nRadio Greu de Difuzat\nRadio Pro FM\nRadio ClubMix\nRadio Popular\nRadio B-zone\nRadio B-zone Trap\nRadio B-zone Legend");
	ShowPlayerDialog(playerid,DIALOG_MP3,DIALOG_STYLE_LIST,"Mp3",radiostr,"Ok", "Iesire");
    return 1;
}
cmd:carradio(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(!IsPlayerInAnyVehicle(playerid)) return SCM(playerid, COLOR_WHITE, "Poti asculta radio doar atunci cand te afli intr-un vehicul!");
	if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return SCM(playerid, COLOR_WHITE, "Doar soferul poate schimba postul de radio!");
	new radiostr[1024];
	format(radiostr, sizeof(radiostr), "{E82727}Opreste Radio-ul\nRadio Taraf Romania\nRadio Funky Manele\nRadio Gangsta Manele\nRadio Gangsta Dance\nRadio Bandit Romania\nRadio Hot Romania\nRadio Tequila HipHop\nRadio Kiss FM\nRadio ZU Romania\nRadio Greu de Difuzat\nRadio Pro FM\nRadio ClubMix\nRadio Popular");
	ShowPlayerDialog(playerid,170,DIALOG_STYLE_LIST,"Radio",radiostr,"Ok", "Iesire");
    return 1;
}
alias:carradio("carmusic");
cmd:event(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(activeevent == 0) return SendClientMessage(playerid, COLOR_YELLOW, "Nu este un event activ.");
   	new string[300],name[MAX_PLAYER_NAME];
   	foreach(Player, i) {
   		if(eventorganizer[i] == 1) {
    		GetPlayerName(i, name, sizeof(name));
    	}
   	}
   	format(string, sizeof(string), "Eveniment: Titlu: %s Suma: $%s Locatie: %s Timp: %s",eventtitle,FormatNumber(eventprize), eventlocation, eventtime);
   	SendClientMessage(playerid, COLOR_YELLOW, string);
   	format(string, sizeof(string), "Eveniment: Organizator: %s Descriere: %s",name,eventdescription);
   	SendClientMessage(playerid, COLOR_YELLOW, string);
   	return 1;
}
cmd:e(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(eventorganizer[playerid] == 0) return SCM(playerid,COLOR_BZYELLOW,"Nu esti organizatorul unui event.");
	new string[300],text[250];
	if(sscanf(params, "s[250]", text)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /e <Message>");
	new name[MAX_PLAYER_NAME];
	GetPlayerName(playerid, name, sizeof(name));
	format(string, sizeof(string), "Organizator %s: %s", name, text);
	SendClientMessageToAll(0x7094DBFF, string);
	if(activeevent == 1)
	{
		if(PlayerInfo[playerid][pAdmin] > 0)
		{
		    format(string, sizeof(string), "%s: %s", name, text);
			SendClientMessageToAll(0x7094DBFF, string);
		}
		if(PlayerInfo[playerid][pHelper] > 1)
		{
		    format(string, sizeof(string), "Helper %s: %s", name, text);
			SendClientMessageToAll(0x7094DBFF, string);
		}
	}
	return 1;
}
cmd:stopevent(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(activeevent == 0 && PlayerInfo[playerid][pAdmin] >= 1) return 1;
	if(eventorganizer[playerid] == 0 && PlayerInfo[playerid][pAdmin] < 1) return 1;
	foreach(Player, i) {
		eventorganizer[i] = 0;
	}
	SendClientMessageToAll(COLOR_YELLOW, "Event terminat.");
	activeevent = 0;
	return 1;
}
cmd:acceptevent(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1 && PlayerInfo[playerid][pHelper] < 2) return SendClientMessage(playerid, COLOR_LGREEN, HelperOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(activeevent == 1) return SendClientMessage(playerid, COLOR_GREY, "Este deja un event activ.");
	new eventid;
	if(sscanf(params, "d", eventid)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /acceptevent <EventID>");
	if(requestingevent[eventid] == 0) return SendClientMessage(playerid, COLOR_GREY, "Invalid event ID.");
	strmid(eventtitle, requestingtitle[eventid], 0, strlen(requestingtitle[eventid]));
	strmid(eventlocation, requestinglocation[eventid], 0, strlen(requestinglocation[eventid]));
	strmid(eventdescription, requestingdescription[eventid], 0, strlen(requestingdescription[eventid]));
	eventprize = requestingprize[eventid];
	strmid(eventtime, requestingtime[eventid], 0, strlen(requestingtime[eventid]));
	new string[300],name[MAX_PLAYER_NAME];
	GetPlayerName(eventid, name, sizeof(name));
 	format(string, sizeof(string), "Eveniment: Titlu: %s Suma: $%s Locatie: %s Timp: %s",eventtitle,FormatNumber(eventprize), eventlocation, eventtime);
   	SendClientMessageToAll(COLOR_YELLOW, string);
   	format(string, sizeof(string), "Eveniment: Organizator: %s Descriere: %s",name,eventdescription);
	SendClientMessageToAll(COLOR_YELLOW, string);
	eventorganizer[eventid] = 1;
	requestingevent[eventid] = 0;
	activeevent = 1;
	format(string,sizeof(string),"* %s(%d) a acceptat event-ul lui %s.",GetName(playerid),playerid,name);
	SendAdminMessage(COLOR_YELLOW,string,1);
	AllEvents--;
	foreach(Player,i)
	{
        if(PlayerInfo[i][pHelper] > 0 || PlayerInfo[i][pAdmin] > 0)
		{
			format(string,sizeof(string),"~b~~h~~h~%d",AllEvents);
        	PlayerTextDrawSetString(i, EventsInfo[i], string);
			PlayerTextDrawShow(i, EventsInfo[i]);
		}
	}
	return 1;
}
cmd:requestevent(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
	if(activeevent == 1) return SendClientMessage(playerid, COLOR_GREY, "Este un event activ.");
	if(requestingevent[playerid] == 1) return SendClientMessage(playerid, COLOR_GREY, "Ai mai facut o cerere.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new title[50], location[50], description[100], prize, time[50];
	if(sscanf(params, "p<|>s[50]s[50]s[50]s[100]d", title, location, time, description, prize)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /requestevent <Titlu|Locatie|Timp|Descriere|Suma>");
	if(strlen(title) < 1 || strlen(title) > 50) return SendClientMessage(playerid, COLOR_GREY, "Titlu prea mare.");
	if(strlen(location) < 1 || strlen(location) > 50) return SendClientMessage(playerid, COLOR_GREY, "Locatie prea mare.");
	if(strlen(time) < 1 || strlen(time) > 50) return SendClientMessage(playerid, COLOR_GREY, "Timp prea mare.");
	if(strlen(description) < 1 || strlen(description) > 100) return SendClientMessage(playerid, COLOR_GREY, "Descriere prea mare.");
	if(prize < 1 || prize > 5000000) return SendClientMessage(playerid, COLOR_GREY, "Suma invalida.");
	new string[1000],name[MAX_PLAYER_NAME];
	GetPlayerName(playerid, name, sizeof(name));
	requestingevent[playerid] = 1;
	strmid(requestingtitle[playerid], title, 0, strlen(title));
	strmid(requestinglocation[playerid], location, 0, strlen(location));
	strmid(requestingdescription[playerid], description, 0, strlen(description));
	requestingprize[playerid] = prize;
	strmid(requestingtime[playerid], time, 0, strlen(time));
	format(string, sizeof(string), "Cerere trimisa!", playerid);
	SendClientMessage(playerid, COLOR_YELLOW, string);
	format(string, sizeof(string), "Eveniment: Titlu: %s Suma: $%s Locatie: %s Timp: %s",title,FormatNumber(prize), location, time);
   	SendClientMessage(playerid, COLOR_YELLOW, string);
   	format(string, sizeof(string), "Eveniment: Organizator: %s Descriere: %s",name,description);
   	SendClientMessage(playerid, COLOR_YELLOW, string);
	format(string, sizeof(string), "O noua solictare pentru eventul playerului %d.", playerid);
	SendAdminMessage(COLOR_YELLOW,string,1);
	format(string, sizeof(string), "Event %d: Titlu: %s Suma: $%s Locatie: %s Timp: %s",playerid,title,FormatNumber(prize), location, time);
   	SendAdminMessage(COLOR_YELLOW,string,1);
	format(string, sizeof(string), "Event %d: Organizator: %s Descriere: %s",playerid,name,description);
	SendAdminMessage(COLOR_YELLOW,string,1);
	format(string, sizeof(string), "Foloseste [/acceptevent %d] to accept this event.", playerid);
	SendAdminMessage(COLOR_YELLOW,string,1);
	AllEvents++;
	foreach(Player,i)
	{
        if(PlayerInfo[i][pHelper] > 0 || PlayerInfo[i][pAdmin] > 0)
		{
			format(string,sizeof(string),"~b~~h~~h~%d",AllEvents);
        	PlayerTextDrawSetString(i, EventsInfo[i], string);
			PlayerTextDrawShow(i, EventsInfo[i]);
		}
	}
	return 1;
}
cmd:rejectevent(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1 && PlayerInfo[playerid][pHelper] < 2) return SendClientMessage(playerid, COLOR_LGREEN, HelperOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id, reason[100],string[300];
	if(sscanf(params, "us[100]", id, reason)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /rejectevent <EventID> <Reason>");
	if(requestingevent[id] == 0) return SendClientMessage(playerid, COLOR_GREY, "Invalid event ID.");
	requestingevent[id] = 0;
	format(string, sizeof(string), "%s ti-a respins cererea, motiv: %s", GetName(playerid), reason);
	SendClientMessage(id, COLOR_YELLOW, string);
	format(string, sizeof(string), "Ai respins eventul lui %s, motiv: %s", GetName(id), reason);
	SendClientMessage(playerid, COLOR_YELLOW, string);
	AllEvents--;
	foreach(Player,i)
	{
        if(PlayerInfo[i][pHelper] > 0 || PlayerInfo[i][pAdmin] > 0)
		{
			format(string,sizeof(string),"~b~~h~~h~%d",AllEvents);
        	PlayerTextDrawSetString(i, EventsInfo[i], string);
			PlayerTextDrawShow(i, EventsInfo[i]);
		}
	}
	return 1;
}
cmd:events(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1 && PlayerInfo[playerid][pHelper] < 2) return SendClientMessage(playerid, COLOR_LGREEN, HelperOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    new string[300],tmpstring[100], titlestring[100], count = 0, name[MAX_PLAYER_NAME];
	foreach(Player, i) {
		if(requestingevent[i] == 1) {
  			GetPlayerName(i, name, sizeof(name));
    		format(tmpstring, sizeof(tmpstring), "Nume: %s | ID: %d | Titlu: %s\n", name, i, requestingtitle[i]);
     		strcat(string, tmpstring);
      		count ++;
       	}
   	}
   	if(count == 0) return ShowPlayerDialog(playerid, DIALOG_PENDEVENT, DIALOG_STYLE_MSGBOX, "In asteptare: 0", "Nu sunt cereri.", "Cancel", "");
   	format(titlestring, sizeof(titlestring), "In asteptare: %d", count);
   	ShowPlayerDialog(playerid, 5345, DIALOG_STYLE_LIST, titlestring, string, "Cancel", "");
   	SendClientMessage(playerid, COLOR_YELLOW, "Foloseste comanda /cevent pentru mai multe informatii.");
   	return 1;
}
cmd:cevent(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new eventid,string[300];
	if(sscanf(params, "u", eventid)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /cevent <EventID>");
	if(requestingevent[eventid] == 0) return SendClientMessage(playerid, COLOR_GREY, "Invalid event ID.");
	new name[MAX_PLAYER_NAME];
	GetPlayerName(eventid, name, sizeof(name));
	format(string, sizeof(string), "Event %d: Titlu: %s Suma: $%s Locatie: %s Timp: %s",eventid,requestingtitle[eventid],FormatNumber(requestingprize[eventid]), requestinglocation[eventid], requestingtime[eventid]);
   	SendClientMessage(playerid, COLOR_YELLOW, string);
	format(string, sizeof(string), "Event %d: Organizator: %s Descriere: %s",eventid,name,requestingdescription[eventid]);
	SendClientMessage(playerid, COLOR_YELLOW, string);
	format(string, sizeof(string), "Foloseste [/acceptevent %d] pentru a accepta.", eventid);
    SendClientMessage(playerid, COLOR_YELLOW, string);
   	return 1;
}
stock GetFactionMembersOn2(fid) {
	new x;
	foreach(Player, i) {
	    if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1) {
	        if(PlayerInfo[i][pMember] == fid) { x++; }
	    }
	}
	return x;
}

stock GetFactionMembersOn(playerid) {
	new x;
	foreach(Player, i) {
	    if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1) {
	        if(PlayerInfo[i][pMember] == PlayerInfo[playerid][pMember]) { x++; }
	    }
	}
	return x;
}

GetWeekDay(day=0, month=0, year=0) {
	if(!day) getdate(year, month, day);
	new weekday_str[10], j, e;
	if(month <= 2) {
		month += 12;
		--year;
	}

	j = year % 100;
	e = year / 100;

	switch ((day + (month+1)*26/10 + j + j/4 + e/4 - 2*e) % 7) {
		case 0: weekday_str = "Saturday";
		case 1: weekday_str = "Sunday";
		case 2: weekday_str = "Monday";
		case 3: weekday_str = "Tuesday";
		case 4: weekday_str = "Wednesday";
		case 5: weekday_str = "Thursday";
		case 6: weekday_str = "Friday";
	}
	return weekday_str;
}
		
cmd:attack(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(!IsAMember(playerid)) return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte dintr-un gang.");
	if(PlayerInfo[playerid][pRank] < 3) return SCM(playerid,COLOR_BZWHITE,"Pentru a folosi aceasta comanda ai nevoie de Rang 3+.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new turf,string[100];
	for(new i = 1; i <= sizeof(TurfInfo); i++) {
		if(IsPlayerInTurf(playerid, i) == 1) {
			turf = i;
			break;
		}
    }
	new hour,minute,second, year, month, day;
	gettime(hour,minute,second);
	getdate(year, month, day);
	new days[180];
	format(days, sizeof(days), GetWeekDay(day, month, year));
	if(PlayerInfo[playerid][pAdmin] < 5) {
		if(strcmp(days,"Saturday",true) == 0 || strcmp(days,"Sunday",true) == 0) return SCM(playerid, COLOR_LIGHTRED, "Nu se dau war-uri in weekend!");	
		if(hour == 20 || hour == 21) {}
		else return SendClientMessage(playerid, COLOR_LIGHTRED, "War-uri se pot da doar in intervalul 20:00 - 22:00!");
		if(GetFactionMembersOn2(PlayerInfo[playerid][pMember]) < 2) return SCM(playerid, COLOR_LGREEN, "Nu poti folosi aceasta comanda deoarece nu sunt minim 2 membri conectati din factiunea ta!");
		if(GetFactionMembersOn2(TurfInfo[turf][zOwned]) < 2) return SCM(playerid, COLOR_LGREEN, "Nu poti folosi aceasta comanda deoarece nu sunt minim 2 membri conectati din factiunea care detine teritoriul!");			
	}	
    if(turf == 0 || GetPlayerInterior(playerid) != 0) return SCM(playerid, COLOR_BZYELLOW, "Nu esti pe un turf.");
    new faction = PlayerInfo[playerid][pMember];
    if(TurfInfo[turf][zOwned] == faction) return SendClientMessage(playerid, COLOR_GREY, "Nu poti ataca turful mafiei tale.");
	if(WarInfo[turf][wAttacker] != 0) return SendClientMessage(playerid, COLOR_WHITE, "Acest turf este deja atacat.");
	if(InWar[faction] == 1) return SendClientMessage(playerid, COLOR_WHITE, "Este deja un war activ.");
	if(InWar[TurfInfo[turf][zOwned]] == 1) return SendClientMessage(playerid, COLOR_WHITE, "Aceasta mafie are deja un war activ.");
	if(FactionDeelay[PlayerInfo[playerid][pMember]] != 0) {
		format(string, sizeof(string), "Poti folosi aceasta comanda peste %d minute (%d secunde).", FactionDeelay[PlayerInfo[playerid][pMember]]/60, FactionDeelay[PlayerInfo[playerid][pMember]]);
		SCM(playerid, COLOR_LGREEN, string);
		return 1;
	}
	format(string, sizeof(string), "[WAR] %s a atacat teritoriul %d detinut de factiunea %s.",GetName(playerid),turf,NumeFactiune(TurfInfo[turf][zOwned]));
	SendFactionMessage(faction,COLOR_MONEY,string);
	format(string, sizeof(string), "[WAR] %s (%s) a atacat teritoriul %d detinut de factiunea ta.",NumeFactiune(WarInfo[turf][wAttacker]),GetName(playerid),turf);
	SendFactionMessage(TurfInfo[turf][zOwned],COLOR_MONEY,string);
	foreach(Player,i) {
		if(PlayerInfo[i][pMember] == faction || PlayerInfo[i][pMember] == TurfInfo[turf][zOwned]) {
			PlayerInfo[i][pShowFaction] = 1;
			Update(i,pShowFactionx);
		}
	}
	new query[128];
	format(query,sizeof(query),"UPDATE `turfs` SET `Time`='24' WHERE `ID`='%d'",turf);
	mysql_query(SQL,query);
	
	TurfInfo[turf][zTime] = 24;
	WarInfo[turf][wTime] = 1200;
	WarInfo[turf][wAttacker] = faction;
	WarInfo[turf][wFaction] = TurfInfo[turf][zOwned];
	worstscoreat[turf] = 0;
	worstmemberat[turf] = 999;
	bestscoreat[turf] = 0;
	bestmemberat[turf] = 999;
	worstscoredf[turf] = 0;
	worstmemberdf[turf] = 999;
	bestscoredf[turf] = 0;
	bestmemberdf[turf] = 999;
	InWar[TurfInfo[turf][zOwned]] = 1;
	InWar[faction] = 1;
	
	InWarTurf[faction] = turf;
	InWarTurf[TurfInfo[turf][zOwned]] = turf;
	PlayerInfo[faction][pShowFaction] = 1;
	PlayerInfo[TurfInfo[turf][zOwned]][pShowFaction] = 1;
	
	foreach(Player, i) {
		if(IsPlayerLogged[i] == 1) {
			if(PlayerInfo[i][pMember] == faction || PlayerInfo[i][pMember] == TurfInfo[turf][zOwned]) UpdateVar(i, "WarTurf", turf);
		}
	}
	
	SetVehicle(faction, turf);
	SetVehicle(TurfInfo[turf][zOwned], turf);
	return 1;
}

function SetVehicle(fid, turf) {
	for(new i; i < MAX_SVEHICLES; i++) {
		if(ServerVehicles[i][vFaction] == fid && ServerVehicles[i][vModel] != 487) SetVehicleVirtualWorld(i, turf);
	}					
	return 1;
}

function RespawnVehicle(fid) {
	for(new i; i < MAX_SVEHICLES; i++) {
		if(ServerVehicles[i][vFaction] == fid) {
			SetVehicleVirtualWorld(i, 0);
			SetVehicleToRespawn(i);
		}	
	}					
	return 1;
}

cmd:turfs(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(TurfsDisp[playerid] == 0) {
		TurfsDisp[playerid] = 1;
		for(new i = 1; i < sizeof(Turfs); i++) {
			if(TurfInfo[i][zOwned] == 0) {
				GangZoneShowForPlayer(playerid, Turfs[i], 0xFFFFFF99); //None
			}
			if(TurfInfo[i][zOwned] == 4) {
				GangZoneShowForPlayer(playerid, Turfs[i], 0x33AA3399); //GSB
			}
			if(TurfInfo[i][zOwned] == 5) {
				GangZoneShowForPlayer(playerid, Turfs[i], 0xB32CF699); //SP
			}
			if(TurfInfo[i][zOwned] == 6) {
				GangZoneShowForPlayer(playerid, Turfs[i], 0x2A2A2A99); //VERDANT
			}
			if(TurfInfo[i][zOwned] == 10) {
				GangZoneShowForPlayer(playerid, Turfs[i], 0x94614199); //TTB
			}
			if(TurfInfo[i][zOwned] == 20) {
				GangZoneShowForPlayer(playerid, Turfs[i], 0xD0000F99); //RDT
			}
			if(TurfInfo[i][zOwned] == 21) {
				GangZoneShowForPlayer(playerid, Turfs[i], 0x769C9899); //VTB
			}
			if(TurfInfo[i][zOwned] == 22) {
				GangZoneShowForPlayer(playerid, Turfs[i], 0x00FFE499); //69PM
			}
			if(TurfInfo[i][zOwned] == 23)
			{
				GangZoneShowForPlayer(playerid, Turfs[i], 0x3A460C99); //AVISPA
			}
			if(TurfInfo[i][zOwned] == 24) {
				GangZoneShowForPlayer(playerid, Turfs[i], 0xFF990099); //ELC
			}
		}
		ArataLinii(playerid);
	}
	else
	{
		TurfsDisp[playerid] = 0;
		AscundeLinii(playerid);
		for(new i = 1; i < sizeof(Turfs); i++)
		{
			GangZoneHideForPlayer(playerid, Turfs[i]);
		}
	}
	return 1;
}
cmd:fdeposit(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pMember] != 0) {
        if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		new x = PlayerInfo[playerid][pMember],string[100],cashdeposit;
		if(sscanf(params, "d", cashdeposit)) {
			SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /fdeposit <Money>");
			format(string,sizeof(string),"Balanta: %s$",FormatNumber(DynamicFactions[x][fBank]));
			SendClientMessage(playerid,COLOR_SYNTAX,string);
		}
		if(cashdeposit < 1 || cashdeposit > 10000000) return SendClientMessage(playerid,-1, "Limita este $1 - $10,000,000.");
		if(IsPlayerInRangeOfPoint(playerid,50.0,DynamicFactions[x][fcX],DynamicFactions[x][fcY],DynamicFactions[x][fcZ])) {
			if(GetPlayerCash(playerid) >= cashdeposit) {
				DynamicFactions[x][fBank] += cashdeposit;
				GivePlayerCash(playerid, -cashdeposit);
				Update(playerid,pCashx);
				new str[184];
				format(str,sizeof(str),"UPDATE `factions` SET `Bank`='%d' WHERE `ID`='%d'",DynamicFactions[x][fBank],x);
				mysql_query(SQL,str);
				format(string, 256, "Ai depozitat $%s. Balanta: $%s", FormatNumber(cashdeposit), FormatNumber(DynamicFactions[x][fBank]));
				SendClientMessage(playerid, 0xFAAC25FF, string);
			}
			else return SendClientMessage(playerid, COLOR_BZYELLOW, "Nu ai aceasta suma de bani.");
		}
		else return SendClientMessage(playerid, COLOR_BZYELLOW, "Nu esti in HQ.");
	}
	else return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte dintr-o factiune.");
	return 1;
}

cmd:fwithdraw(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pLeader] !=0) {
		new cashdwithdraw,x = PlayerInfo[playerid][pLeader],string[100];
		if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		if(sscanf(params, "d", cashdwithdraw)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /fwithdraw <Money>");
		if(GetPlayerInterior(playerid) == 0) return SendClientMessage(playerid,COLOR_BZYELLOW, "Nu esti in HQ.");
		if(IsPlayerInRangeOfPoint(playerid,50.0,DynamicFactions[x][fcX],DynamicFactions[x][fcY],DynamicFactions[x][fcZ])) {
			if(DynamicFactions[x][fBank] < cashdwithdraw || cashdwithdraw < 0) return SendClientMessage(playerid, COLOR_GREY, "Nu ai aceasta suma de bani in seif."); 
			GivePlayerCash(playerid,cashdwithdraw);
			Update(playerid,pCashx);
			DynamicFactions[x][fBank] -= cashdwithdraw;
			new str[184];
			format(str,sizeof(str),"UPDATE `factions` SET `Bank`='%d' WHERE `ID`='%d'",DynamicFactions[x][fBank],x);
			mysql_query(SQL,str);
			format(string, 256, "Ai scos $%s din depozit. Balanta: $%s", FormatNumber(cashdwithdraw), FormatNumber(DynamicFactions[x][fBank]));
			SendClientMessage(playerid, 0xFAAC25FF, string);
        }
        else return SCM(playerid,COLOR_BZYELLOW,"Nu esti in HQ.");
    }
	else return SCM(playerid,COLOR_BZWHITE,"Eroare: Nu esti lider.");
	return 1;
}
cmd:fdrugs(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(IsAMember(playerid)) {
	    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		new x,x_nr[70],drugsam,string[100];
		x = PlayerInfo[playerid][pMember];
		if(sscanf(params, "s[70]d",x_nr,drugsam)) {
			if(PlayerToPoint(100.0,playerid,DynamicFactions[x][fcX],DynamicFactions[x][fcY],DynamicFactions[x][fcZ])) {
				format(string, sizeof(string), "Drogurile factiunii: %d", DynamicFactions[x][fDrugs]);
				SendClientMessage(playerid, COLOR_WHITE, string);
			}
			SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /fdrugs <Item> <Amount>");
		  	SendClientMessage(playerid, COLOR_WHITE, "Valabile: Take, Put.");
			return 1;
		}
		if(drugsam < 1 || drugsam > 100) return SendClientMessage(playerid,COLOR_BZYELLOW, "Droguri invalide.");
		if(GetPlayerInterior(playerid) == 0) return SendClientMessage(playerid,COLOR_BZYELLOW, "Nu esti in HQ.");
		if(strcmp(x_nr,"take",true) == 0) {
			if(PlayerToPoint(100.0,playerid,DynamicFactions[x][fcX],DynamicFactions[x][fcY],DynamicFactions[x][fcZ])) {
				if(drugsam <=DynamicFactions[x][fDrugs]) {
					if(PlayerInfo[playerid][pLeader] == 0) return SCM(playerid,COLOR_BZWHITE,"Eroare: Nu esti lider.");
					PlayerInfo[playerid][pDrugs] += drugsam;
					DynamicFactions[x][fDrugs]=DynamicFactions[x][fDrugs]-drugsam;
					format(string, 256, "Ai scos %d grame de droguri din depozit. Total: %d", drugsam, DynamicFactions[x][fDrugs]);
					SendClientMessage(playerid, 0xFAAC25FF, string);
					new str[256];
					format(str,sizeof(str),"UPDATE `factions` SET `Drugs`='%d' WHERE `ID`='%d'",DynamicFactions[x][fDrugs],x);
					mysql_query(SQL,str);
					format(str,sizeof(str),"UPDATE users SET `Drugs`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pDrugs],PlayerInfo[playerid][pSQLID]);
					mysql_query(SQL,str);
					return 1;
				}
		 		else {
					SendClientMessage(playerid, COLOR_BZYELLOW, "Nu sunt atatea droguri.");
					return 1;
				}
			}
			else {
				SendClientMessage(playerid, COLOR_BZYELLOW, "Nu esti in HQ.");
				return 1;
			}
		}
		else if(strcmp(x_nr,"put",true) == 0) {
			if(PlayerToPoint(100.0,playerid,DynamicFactions[x][fcX],DynamicFactions[x][fcY],DynamicFactions[x][fcZ])) {
				if(drugsam <= PlayerInfo[playerid][pDrugs]) {
					PlayerInfo[playerid][pDrugs] =PlayerInfo[playerid][pDrugs]-drugsam;
					DynamicFactions[x][fDrugs] +=drugsam;
					format(string, 256, "Ai bagat %d grame de droguri din depozit. Total: %d", drugsam, DynamicFactions[x][fDrugs]);
					SendClientMessage(playerid, 0xFAAC25FF, string);
					new str[184];
					format(str,sizeof(str),"UPDATE `factions` SET `Drugs`='%d' WHERE `ID`='%d'",DynamicFactions[x][fDrugs],x);
					mysql_query(SQL,str);
					format(str,sizeof(str),"UPDATE users SET `Drugs`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pDrugs],PlayerInfo[playerid][pSQLID]);
					mysql_query(SQL,str);
					return 1;
				}
		 		else {
					SendClientMessage(playerid, COLOR_BZYELLOW, "Nu ai atatea droguri la tine.");
					return 1;
				}
			}
			else {
				SendClientMessage(playerid, COLOR_BZYELLOW, "Nu esti in HQ.");
				return 1;
			}
		}
    }
    else {
        SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte dintr-un gang.");
        return 1;
	}
	return 1;
}
cmd:fmats(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(IsAMember(playerid)) {
	    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
        new x,x_nr[70],matsam,string[100];
		x = PlayerInfo[playerid][pMember];
		if(sscanf(params, "s[70]d",x_nr,matsam)) {
			if(PlayerToPoint(100.0,playerid,DynamicFactions[x][fcX],DynamicFactions[x][fcY],DynamicFactions[x][fcZ])) {
					format(string, sizeof(string), "Materiale: %d.", DynamicFactions[x][fMats]);
					SendClientMessage(playerid, COLOR_WHITE, string);
			}
			SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /fmats <Item> <Amount>");
		  	SendClientMessage(playerid, COLOR_WHITE, "Valabile: Take, Put.");
			return 1;
		}
		if(matsam < 1 || matsam > 1000000) return SendClientMessage(playerid,COLOR_BZYELLOW, "Invalid materials.");
		if(GetPlayerInterior(playerid) == 0) return SendClientMessage(playerid,COLOR_BZYELLOW, "Nu esti in HQ.");
		if(strcmp(x_nr,"take",true) == 0) {
			if(PlayerInfo[playerid][pRank] < 5) return SendClientMessage(playerid, -1, "You need to be Rank 5.");
			if(PlayerToPoint(100.0,playerid,DynamicFactions[x][fcX],DynamicFactions[x][fcY],DynamicFactions[x][fcZ])) {
				if(matsam <=DynamicFactions[x][fMats]) {
					PlayerInfo[playerid][pMats] += matsam;
					DynamicFactions[x][fMats]=DynamicFactions[x][fMats]-matsam;
					format(string, 256, "Ai luat %d materiale din depozit. Total: %d", matsam, DynamicFactions[x][fMats]);
					SendClientMessage(playerid, 0xFAAC25FF, string);
					new str[256];
					format(str,sizeof(str),"UPDATE `factions` SET `Mats`='%d' WHERE `ID`='%d'",DynamicFactions[x][fMats],x);
					mysql_query(SQL,str);
					format(str,sizeof(str),"UPDATE users SET `Materials`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pMats],PlayerInfo[playerid][pSQLID]);
					mysql_query(SQL,str);
					return 1;
				}
 				else return SCM(playerid,COLOR_BZYELLOW,"Sunt prea multe materuale.");
			}
			else return SCM(playerid,COLOR_BZYELLOW,"Nu esti in HQ.");
		}
		else if(strcmp(x_nr,"put",true) == 0) {
			if(PlayerToPoint(100.0,playerid,DynamicFactions[x][fcX],DynamicFactions[x][fcY],DynamicFactions[x][fcZ])) {
				if(matsam <= PlayerInfo[playerid][pMats]) {
					PlayerInfo[playerid][pMats] =PlayerInfo[playerid][pMats]-matsam;
					DynamicFactions[x][fMats] +=matsam;
					format(string, 256, "Ai bagat %d materiale in depozit. Total: %d", matsam, DynamicFactions[x][fMats]);
					SendClientMessage(playerid, 0xFAAC25FF, string);
					new str[256];
					format(str,sizeof(str),"UPDATE `factions` SET `Mats`='%d' WHERE `ID`='%d'",DynamicFactions[x][fMats],x);
					mysql_query(SQL,str);
					format(str,sizeof(str),"UPDATE users SET `Materials`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pMats],PlayerInfo[playerid][pSQLID]);
					mysql_query(SQL,str);
					return 1;
				}
		 		else return SCM(playerid,COLOR_BZYELLOW,"Invalid mats.");
			}
			else return SCM(playerid,COLOR_BZYELLOW,"Nu esti in HQ.");
		}
    }
    else return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte dintr-un gang.");
	return 1;
}
cmd:government(playerid, params[]) {
	new result[256], szMessage[256];
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "s[160]", result)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /gov <Message>");
	if(PlayerInfo[playerid][pRank] < 5) return SendClientMessage(playerid, COLOR_WHITE, "Iti trebuie minim Rank 5 pentru a folosi aceasta comanda!");
	if(PlayerInfo[playerid][pMember] == 1) {
	    if(PlayerInfo[playerid][pRank] >= 5) {
			SendClientMessageToAll(COLOR_WHITE, "|________________ Anunt guvernamental ________________|");
			format(szMessage, sizeof(szMessage), "%s %s: %s",GetRankName(playerid),GetName(playerid), result);
			SendClientMessageToAll(COLOR_GOV, szMessage);
		}
	}
	else if(PlayerInfo[playerid][pMember] == 2) {
		if(PlayerInfo[playerid][pRank] >= 5) {
			SendClientMessageToAll(COLOR_WHITE, "|________________ Anunt guvernamental ________________|");
			format(szMessage, sizeof(szMessage), "%s %s: %s", GetRankName(playerid),GetName(playerid), result);
			SendClientMessageToAll(COLOR_GOV, szMessage);
		}
	}
	else if(PlayerInfo[playerid][pMember] == 3) {
		if(PlayerInfo[playerid][pRank] >= 5) {
			SendClientMessageToAll(COLOR_WHITE, "|________________ Anunt guvernamental ________________|");
			format(szMessage, sizeof(szMessage), "%s %s: %s",GetRankName(playerid), GetName(playerid), result);
			SendClientMessageToAll(COLOR_GOV, szMessage);
		}
	}
	else if(PlayerInfo[playerid][pMember] == 15) {
		if(PlayerInfo[playerid][pRank] >= 5) {
			SendClientMessageToAll(COLOR_WHITE, "|________________ Anunt guvernamental ________________|");
			format(szMessage, sizeof(szMessage), "%s %s: %s",GetRankName(playerid), GetName(playerid), result);
			SendClientMessageToAll(COLOR_GOV, szMessage);
		}
	}
	else if(PlayerInfo[playerid][pMember] == 25) {
		if(PlayerInfo[playerid][pRank] >= 5) {
			SendClientMessageToAll(COLOR_WHITE, "|________________ Anunt guvernamental ________________|");
			format(szMessage, sizeof(szMessage), "%s %s: %s", GetRankName(playerid),GetName(playerid), result);
			SendClientMessageToAll(COLOR_GOV, szMessage);
		}
	}
	else if(PlayerInfo[playerid][pMember] == 7) {
		SendClientMessageToAll(COLOR_WHITE, "|________________ Anunt guvernamental ________________|");
		format(szMessage, sizeof(szMessage), "Primar %s: %s", GetName(playerid), result);
		SendClientMessageToAll(COLOR_GOV, szMessage);
	}
	return 1;
}
alias:government("gov");
cmd:order(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(IsAMember(playerid))
	{
		if(PlayerInfo[playerid][pGunLic] == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu ai licenta de arme.");
		if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	    if(IsAtOrderPlace(playerid)) {
    	    new x_nr[50];
	        if(sscanf(params, "s[50]",x_nr)) {
    	  	    SCM(playerid, COLOR_SYNTAX, "Syntax: /order <Pachage>");
	        	if(PlayerInfo[playerid][pRank] >= 1) {
    			 	SendClientMessage(playerid, COLOR_GREY, "(1) ($20) Rank 1+: Desert Eagle");
       		   		if(PlayerInfo[playerid][pRank] >= 2) {
				    	SendClientMessage(playerid, COLOR_GREY, "(2) ($50) Rank 2+: Desert Eagle, AK-47");
    		 			if(PlayerInfo[playerid][pRank] >= 3) {
    						SendClientMessage(playerid, COLOR_GREY, "(3) ($60) Rank 3+: Desert Eagle, M4");
        					if(PlayerInfo[playerid][pRank] >= 4) {
          						SendClientMessage(playerid, COLOR_GREY, "(4) ($70) Rank 4+: Desert Eagle, M4, Tec-9, Combat Shotgun");
        						if(PlayerInfo[playerid][pRank] >= 5) {
        							SendClientMessage(playerid, COLOR_GREY, "(5) ($80) Rank 5+: Desert Eagle, M4, Tec-9, Combat Shotgun, Rifle");
								}
						  	}
					 	}
					}
				}
				return 1;
        	}
            if(strcmp(x_nr,"1",true) == 0) {
                if(PlayerInfo[playerid][pRank] >= 1) {
                    if(GetPlayerCash(playerid) >= 20) {
	         	        GivePlayerWeaponEx(playerid, 24, 500);
		                GivePlayerCash(playerid, - 20);
						Update(playerid, pCashx);
						new x = PlayerInfo[playerid][pMember];
						DynamicFactions[x][fBank] = DynamicFactions[x][fBank]+20;
						new str2[184];
						format(str2,sizeof(str2),"UPDATE `factions` SET `Bank`='%d' WHERE `ID`='%d'",DynamicFactions[x][fBank],x);
						mysql_query(SQL,str2);
	            	}
        	    	else return SCM(playerid,COLOR_GREY,"Nu ai destui bani.");
	        	}
  	        }
            if(strcmp(x_nr,"2",true) == 0) {
                if(PlayerInfo[playerid][pRank] >= 2) {
                    if(GetPlayerCash(playerid) >= 50) {
	          	        GivePlayerWeaponEx(playerid, 24, 500); GivePlayerWeaponEx(playerid, 30, 1000);
		                GivePlayerCash(playerid, - 50);
						Update(playerid, pCashx);
						new x = PlayerInfo[playerid][pMember];
						DynamicFactions[x][fBank]= DynamicFactions[x][fBank]+50;
						new str2[184];
						format(str2,sizeof(str2),"UPDATE `factions` SET `Bank`='%d' WHERE `ID`='%d'",DynamicFactions[x][fBank],x);
						mysql_query(SQL,str2);
		            }
        	    	else return SCM(playerid,COLOR_GREY,"Nu ai destui bani.");
	        	}
        		else return SCM(playerid,COLOR_BZWHITE,"Eroare: Ai nevoie de Rang 2+ pentru a lua acest pachet.");
    		}
    		if(strcmp(x_nr,"3",true) == 0) {
                if(PlayerInfo[playerid][pRank] >= 3) {
                    if(GetPlayerCash(playerid) >= 60) {
		         		GivePlayerWeaponEx(playerid, 24, 500); GivePlayerWeaponEx(playerid, 31, 1000);
		                GivePlayerCash(playerid, - 60);
						Update(playerid, pCashx);
						new x = PlayerInfo[playerid][pMember];
						DynamicFactions[x][fBank]= DynamicFactions[x][fBank]+60;
						new str2[184];
						format(str2,sizeof(str2),"UPDATE `factions` SET `Bank`='%d' WHERE `ID`='%d'",DynamicFactions[x][fBank],x);
						mysql_query(SQL,str2);
		            }
        	    	else return SCM(playerid,COLOR_GREY,"Nu ai destui bani.");
	        	}
        		else return SCM(playerid,COLOR_BZWHITE,"Eroare: Ai nevoie de Rang 3+ pentru a lua acest pachet.");
	        }
        	if(strcmp(x_nr,"4",true) == 0) {
                if(PlayerInfo[playerid][pRank] >= 4) {
                    if(GetPlayerCash(playerid) >= 70) {
		                GivePlayerWeaponEx(playerid, 24, 500); GivePlayerWeaponEx(playerid, 31, 1000); GivePlayerWeaponEx(playerid, 32, 2000); GivePlayerWeaponEx(playerid, 27, 1000);
		                GivePlayerCash(playerid, - 70);
						Update(playerid, pCashx);
						new x = PlayerInfo[playerid][pMember];
						DynamicFactions[x][fBank]= DynamicFactions[x][fBank]+70;
						new str2[184];
						format(str2,sizeof(str2),"UPDATE `factions` SET `Bank`='%d' WHERE `ID`='%d'",DynamicFactions[x][fBank],x);
						mysql_query(SQL,str2);
		            }
        	    	else return SCM(playerid,COLOR_GREY,"Nu ai destui bani.");
	        	}
        		else return SCM(playerid,COLOR_BZWHITE,"Eroare: Ai nevoie de Rang 4+ pentru a lua acest pachet.");
	        }
     		if(strcmp(x_nr,"5",true) == 0) {
                if(PlayerInfo[playerid][pRank] >= 5) {
                    if(GetPlayerCash(playerid) >= 80) {
                        GivePlayerWeaponEx(playerid, 24, 500); GivePlayerWeaponEx(playerid, 31, 1000); GivePlayerWeaponEx(playerid, 32, 2000); GivePlayerWeaponEx(playerid, 27, 1000); GivePlayerWeaponEx(playerid, 33, 200);
		                GivePlayerCash(playerid, - 80);
						Update(playerid, pCashx);
						new x = PlayerInfo[playerid][pMember];
						DynamicFactions[x][fBank]= DynamicFactions[x][fBank]+80;
						new str2[184];
						format(str2,sizeof(str2),"UPDATE `factions` SET `Bank`='%d' WHERE `ID`='%d'",DynamicFactions[x][fBank],x);
						mysql_query(SQL,str2);
		            }
        	    	else return SCM(playerid,COLOR_BZYELLOW,"Nu ai destui bani.");
	        	}
        		else return SCM(playerid,COLOR_BZWHITE,"Eroare: Ai nevoie de Rang 5+ pentru a lua acest pachet.");
	        }
        }
        else return SCM(playerid, COLOR_BZYELLOW,"Nu esti in zona in care poti lua arme.");
    }
    else if(PlayerInfo[playerid][pMember] == 11) {
		new result[32];
		new x = PlayerInfo[playerid][pMember];
		if(!PlayerToPoint(100.0,playerid,DynamicFactions[x][fcX],DynamicFactions[x][fcY],DynamicFactions[x][fcZ])) return 1;
		if(sscanf(params, "s[30]", result)) {
			SendClientMessage(playerid, COLOR_GREY, "Syntax: {FFFFFF}/order <id>");
			SendClientMessage(playerid, COLOR_WHITE, "1. Knife (50 $) | 2. SD-Pistol (100 $) | 3. Sniper (200 $)");
		}
		if(PlayerInfo[playerid][pGunLic] == 0) return SCM(playerid,-1,"Nu ai licenta de arme!");
		if(strcmp(result,"1",true) == 0) {
			if(GetPlayerCash(playerid) < 10) return 1;
			GivePlayerWeapon(playerid, 4, 200);
			SendClientMessage(playerid, COLOR_MONEY, "Ti-ai cumparat un cutit la pretul de 50$.");
			GivePlayerCash(playerid, -10);
			Update(playerid, pCashx);
			DynamicFactions[x][fBank]= DynamicFactions[x][fBank]+50;
			new str2[184];
			format(str2,sizeof(str2),"UPDATE `factions` SET `Bank`='%d' WHERE `ID`='%d'",DynamicFactions[x][fBank],x);
			mysql_query(SQL,str2);
		}
		else if(strcmp(result,"2",true) == 0) {
			if(GetPlayerCash(playerid) < 100) return 1;
			GivePlayerWeapon(playerid, 23, 200);
			SendClientMessage(playerid, COLOR_MONEY, "Ti-ai cumparat un SD-Pistol la pretul de 100$.");
			GivePlayerCash(playerid, -100);
			DynamicFactions[x][fBank]= DynamicFactions[x][fBank]+100;
			new str2[184];
			format(str2,sizeof(str2),"UPDATE `factions` SET `Bank`='%d' WHERE `ID`='%d'",DynamicFactions[x][fBank],x);
			mysql_query(SQL,str2);
		}
		else if(strcmp(result,"3",true) == 0) {
			if(GetPlayerCash(playerid) < 200) return 1;
			GivePlayerWeapon(playerid, 34, 200);
			SendClientMessage(playerid, COLOR_MONEY, "Ti-ai cumparat un Sniper la pretul de 200$.");
			GivePlayerCash(playerid, -200);
			DynamicFactions[x][fBank]= DynamicFactions[x][fBank]+100;
			new str2[184];
			format(str2,sizeof(str2),"UPDATE `factions` SET `Bank`='%d' WHERE `ID`='%d'",DynamicFactions[x][fBank],x);
			mysql_query(SQL,str2);
		}			
	}
    return 1;
}
cmd:megaphone(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	new tmpcar = GetPlayerVehicleID(playerid),textmeg[250],string[200];
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(PlayerInfo[playerid][pMuted] == 1) {
		format(string, sizeof(string), "Nu poti scrie pe chat sau folosi comenzi deoarece ai mute timp de %d secunde.",PlayerInfo[playerid][pMuteTime]);
		SendClientMessage(playerid, COLOR_LIGHTRED, string);
		return 1;
	}
	if(sscanf(params, "s[250]", textmeg)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /m <message>");
	if(IsACop(playerid)) {
		if(OnDuty[playerid] == 0) return SCM(playerid, COLOR_BZYELLOW, "Nu poti folosi aceasta comanda deoarece nu esti la datorie!");
		if(ServerVehicles[tmpcar][vFaction] != PlayerInfo[playerid][pMember]) return SendClientMessage(playerid, COLOR_BZYELLOW, "Nu esti intr-un vehicul de-al factiunii.");
		if(PlayerInfo[playerid][pMember] == 1||PlayerInfo[playerid][pLeader] == 1) {
			format(string, sizeof(string), "[LSPD Ofiter %s: %s]", GetName(playerid), textmeg);
			ProxDetector(60.0, playerid, string,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW);
		}
		else if(PlayerInfo[playerid][pMember] == 2||PlayerInfo[playerid][pLeader] == 2) {
			format(string, sizeof(string), "[Agent %s: %s]", GetName(playerid), textmeg);
			ProxDetector(60.0, playerid, string,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW);
		}
		else if(PlayerInfo[playerid][pMember] == 3||PlayerInfo[playerid][pLeader] == 3) {
			format(string, sizeof(string), "[Soldat %s: %s]", GetName(playerid), textmeg);
			ProxDetector(60.0, playerid, string,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW);
		}
		else if(PlayerInfo[playerid][pMember] == 15||PlayerInfo[playerid][pLeader] == 15) {
			format(string, sizeof(string), "[LVPD Ofiter %s: %s]", GetName(playerid), textmeg);
			ProxDetector(60.0, playerid, string,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW);
		}
		else if(PlayerInfo[playerid][pMember] == 25||PlayerInfo[playerid][pLeader] == 25) {
			format(string, sizeof(string), "[SFPD Ofiter %s: %s]", GetName(playerid), textmeg);
			ProxDetector(60.0, playerid, string,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW);
		}
		printf("%s", string);
	}
	else return SCM(playerid, COLOR_GREY, "Nu faci parte dinr-un departament.");
	return 1;
}
alias:megaphone("m");
alias:radio("r");
cmd:radio(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(IsACop(playerid) || PlayerInfo[playerid][pMember] == 14) {
	    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		new radiomsj[120],string[200];
		if(TogFChat[PlayerInfo[playerid][pMember]] == 1 && PlayerInfo[playerid][pRank] < 6) return SCM(playerid, COLOR_LIGHTBLUE, "Chat-ul factiunii este dezactivat.");
		if(PlayerInfo[playerid][pMuted] == 1) {
			format(string, sizeof(string), "Nu poti scrie pe chat sau folosi comenzi deoarece ai mute timp de %d secunde.",PlayerInfo[playerid][pMuteTime]);
			SendClientMessage(playerid, COLOR_LIGHTRED, string);
			return 1;
		}
		if(sscanf(params, "s[120]", radiomsj)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /r <Message>");
		if(PlayerInfo[playerid][pRank] > 0 && PlayerInfo[playerid][pRank] < 7) {
            format(string, sizeof(string), "{8D8DFF}** %s %s: %s, over. **", GetRankName(playerid), GetName(playerid), radiomsj);
            SendRadioMessage(PlayerInfo[playerid][pMember], 0x8D8DFFFF, string);
		}
		else if(PlayerInfo[playerid][pRank] == 7) {
            format(string, sizeof(string), "{4040FF}** %s %s: %s, over. **", GetRankName(playerid), GetName(playerid), radiomsj);
            SendRadioMessage(PlayerInfo[playerid][pMember], 0x4040FFFF, string);
		}
	}
	else return SendClientMessage(playerid, COLOR_BZYELLOW, "Nu esti politist sau medic.");
	return 1;
}
cmd:f(playerid,params[]) {
    if(IsPlayerConnected(playerid)) {
		new string[500];
		if(PlayerInfo[playerid][pMember] == 0 || PlayerInfo[playerid][pMember] == 7) return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte dintr-o factiune.");
		if(TogFChat[PlayerInfo[playerid][pMember]] == 1 && PlayerInfo[playerid][pRank] < 6) return SCM(playerid, COLOR_LIGHTBLUE, "Chat-ul factiunii este dezactivat.");
        if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		if(PlayerInfo[playerid][pMuted] == 1) {
			format(string, sizeof(string), "Nu poti scrie pe chat sau folosi comenzi deoarece ai mute timp de %d secunde.",PlayerInfo[playerid][pMuteTime]);
			SendClientMessage(playerid, COLOR_LIGHTRED, string);
			return 1;
		}
		new result,sendername[25];
    	if(sscanf(params, "s[250]",result)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /f <Message>");
		GetPlayerName(playerid, sendername, sizeof(sendername));
		if(IsACop(playerid)) return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte dintr-o factiune.");
		if(PlayerInfo[playerid][pMember] == 14) return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte dintr-o factiune.");
	    if(PlayerInfo[playerid][pMember] >= 4 || PlayerInfo[playerid][pLeader] >= 4) {
	        if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
			if(PlayerInfo[playerid][pLeader] >= 4) { format(string, sizeof(string), "{00b8e6}** %s %s: (( %s )) **",GetRankName(playerid), sendername, result); }
			else if(PlayerInfo[playerid][pRank] == 6) { format(string, sizeof(string), "{33ccff}** %s %s: (( %s )) **",GetRankName(playerid), sendername, result); }
			else if(PlayerInfo[playerid][pRank] == 5) { format(string, sizeof(string), "{33ccff}** %s %s: (( %s )) **",GetRankName(playerid), sendername, result); }
			else if(PlayerInfo[playerid][pRank] == 4) { format(string, sizeof(string), "{33ccff}** %s %s: (( %s )) **", GetRankName(playerid),sendername, result); }
			else if(PlayerInfo[playerid][pRank] == 3) { format(string, sizeof(string), "{33ccff}** %s %s: (( %s )) **", GetRankName(playerid),sendername, result); }
			else if(PlayerInfo[playerid][pRank] == 2) { format(string, sizeof(string), "{33ccff}** %s %s: (( %s )) **", GetRankName(playerid),sendername, result); }
			else if(PlayerInfo[playerid][pRank] == 1) { format(string, sizeof(string), "{33ccff}** %s %s: (( %s )) **", GetRankName(playerid),sendername, result); }
			else { format(string, sizeof(string), "** %s %s: %s.  **",GetRankName(playerid), sendername, result); }
			SendFactionMessage(PlayerInfo[playerid][pMember], COLOR_WHITE, string);
		}
		else return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte dintr-o factiune.");
	}
	return 1;
}
cmd:duty(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pGunLic] == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu ai licenta de arme.");
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new house = PlayerInfo[playerid][pHouse],string[200];
	if(IsACop(playerid)) {
		if(PlayerInfo[playerid][pLocal] == house || IsPlayerInRangeOfPoint(playerid, 150.0, 245.8297,112.4436,1003.2188) || IsPlayerInRangeOfPoint(playerid, 150.0, 236.3031,162.9478,1003.0300)) {
			if(GetPlayerInterior(playerid) != 0) {
				if(OnDuty[playerid] == 0) {
               		if(PlayerInfo[playerid][pMember] == 1 || PlayerInfo[playerid][pLeader] == 1) {
			      		format(string, sizeof(string), "* Ofiter %s a luat o insinga si un pistol din dulapul lui.", GetName(playerid));
						ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
						GivePlayerWeaponEx(playerid, 24, 500);
						GivePlayerWeaponEx(playerid, 3, 0);
						GivePlayerWeaponEx(playerid, 41, 500);
						GivePlayerWeaponEx(playerid, 29, 1000);
						GivePlayerWeaponEx(playerid, 31, 1000);
						SetPlayerArmourEx(playerid, 100);
   						SetPlayerHealthEx(playerid, 100);
						OnDuty[playerid] = 1;
					}
					if(PlayerInfo[playerid][pMember] == 2 || PlayerInfo[playerid][pLeader] == 2) {
			      		format(string, sizeof(string), "* Ofiter %s a luat o insinga si un pistol din dulapul lui.", GetName(playerid));
						ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
						GivePlayerWeaponEx(playerid, 24, 500);
						GivePlayerWeaponEx(playerid, 29, 3000);
						GivePlayerWeaponEx(playerid, 41, 500);
						GivePlayerWeaponEx(playerid, 31, 1000);
						SetPlayerArmourEx(playerid, 100);
						SetPlayerHealthEx(playerid, 100);
						OnDuty[playerid] = 1;
					}
					if(PlayerInfo[playerid][pMember] == 3 || PlayerInfo[playerid][pLeader] == 3) {
			      		format(string, sizeof(string), "* Ofiter %s a luat o insinga si un pistol din dulapul lui.", GetName(playerid));
						ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
						GivePlayerWeaponEx(playerid, 24, 500);
						GivePlayerWeaponEx(playerid, 31, 3000);
						GivePlayerWeaponEx(playerid, 31, 1000);
						SetPlayerArmourEx(playerid, 100);
						SetPlayerHealthEx(playerid, 100);
						OnDuty[playerid] = 1;
					}
					if(PlayerInfo[playerid][pMember] == 15 || PlayerInfo[playerid][pLeader] == 15) {
			      		format(string, sizeof(string), "* Ofiter %s a luat o insinga si un pistol din dulapul lui.", GetName(playerid));
						ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
						GivePlayerWeaponEx(playerid, 24, 500);
						GivePlayerWeaponEx(playerid, 29, 3000);
						GivePlayerWeaponEx(playerid, 41, 500);
						GivePlayerWeaponEx(playerid, 31, 1000);
						SetPlayerArmourEx(playerid, 100);
						SetPlayerHealthEx(playerid, 100);
						OnDuty[playerid] = 1;
					}
					if(PlayerInfo[playerid][pMember] == 25 || PlayerInfo[playerid][pLeader] == 25) {
			      		format(string, sizeof(string), "* Ofiter %s a luat o insinga si un pistol din dulapul lui.", GetName(playerid));
						ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
						GivePlayerWeaponEx(playerid, 24, 500);
						GivePlayerWeaponEx(playerid, 29, 3000);
						GivePlayerWeaponEx(playerid, 41, 500);
						GivePlayerWeaponEx(playerid, 31, 1000);
						SetPlayerArmourEx(playerid, 100);
						SetPlayerHealthEx(playerid, 100);
						OnDuty[playerid] = 1;
					}
					SetPlayerSkinEx(playerid, PlayerInfo[playerid][pChar]);				
				}
				else if(OnDuty[playerid]==1) {
					format(string, sizeof(string), "* Ofiter %s a plasat insinga si nu mai este la datorie.", GetName(playerid));
					ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
					OnDuty[playerid] = 0;
					SetPlayerArmourEx(playerid, 0);
					SetPlayerSkinEx(playerid, 250);
				}
				SetPlayerToTeamColor(playerid);
    		}
   			else return SCM(playerid, COLOR_GREY, "Nu esti in zona corecta.");
		}
		else return SCM(playerid, COLOR_GREY, "Nu esti in zona corecta.");
	}
	else SCM(playerid,COLOR_BZWHITE,"Eroare: Nu faci parte dintr-un departament.");
	return 1;
}
alias:departments("d");
cmd:departments(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(IsACop(playerid)) {
		new text[250],string[200];
		if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		if(PlayerInfo[playerid][pMuted] == 1) {
			format(string, sizeof(string), "Nu poti scrie pe chat sau folosi comenzi deoarece ai mute timp de %d secunde.",PlayerInfo[playerid][pMuteTime]);
			SendClientMessage(playerid, COLOR_LIGHTRED, string);
			return 1;
		}
		if(sscanf(params, "s[250]", text)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /d <Message>");
		if(PlayerInfo[playerid][pMember] == 1 || PlayerInfo[playerid][pLeader] == 1) format(string, sizeof(string), "* %s %s: %s, over.", GetRankName(playerid), GetName(playerid), text);
		else if(PlayerInfo[playerid][pMember] == 2 || PlayerInfo[playerid][pLeader] == 2) format(string, sizeof(string), "* %s %s: %s, over.", GetRankName(playerid), GetName(playerid), text);
		else if(PlayerInfo[playerid][pMember] == 3 || PlayerInfo[playerid][pLeader] == 3) format(string, sizeof(string), "* %s %s: %s, over.", GetRankName(playerid), GetName(playerid), text);
		else if(PlayerInfo[playerid][pMember] == 15 || PlayerInfo[playerid][pLeader] == 15) format(string, sizeof(string), "* %s %s: %s, over.", GetRankName(playerid), GetName(playerid), text);
		else if(PlayerInfo[playerid][pMember] == 25 || PlayerInfo[playerid][pLeader] == 25) format(string, sizeof(string), "* %s %s: %s, over.", GetRankName(playerid), GetName(playerid), text);
		SendTeamMessage(3, COLOR_DEPART2, string);
		SendTeamMessage(2, COLOR_DEPART2, string);
		SendTeamMessage(1, COLOR_DEPART2, string);
		SendTeamMessage(15, COLOR_DEPART2, string);
		SendTeamMessage(25, COLOR_DEPART2, string);
	}
	else return SCM(playerid,COLOR_BZWHITE,"Eroare: Nu faci parte dintr-un departament.");
	return 1;
}
cmd:tx(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(IsATaxiMember(playerid)) {
        if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		new text[250],string[200];
		if(PlayerInfo[playerid][pMuted] == 1) {
			format(string, sizeof(string), "Nu poti scrie pe chat sau folosi comenzi deoarece ai mute timp de %d secunde.",PlayerInfo[playerid][pMuteTime]);
			SendClientMessage(playerid, COLOR_LIGHTRED, string);
			return 1;
		}
		if(sscanf(params, "s[250]", text)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /tx <Message>");
		if(PlayerInfo[playerid][pMember] == 13 || PlayerInfo[playerid][pLeader] == 13) format(string, sizeof(string), "* %s %s: %s, over.", GetRankName(playerid), GetName(playerid), text);
		else if(PlayerInfo[playerid][pMember] == 16 || PlayerInfo[playerid][pLeader] == 16) format(string, sizeof(string), "* %s %s: %s, over.", GetRankName(playerid), GetName(playerid), text);
		else if(PlayerInfo[playerid][pMember] == 17 || PlayerInfo[playerid][pLeader] == 17) format(string, sizeof(string), "* %s %s: %s, over.", GetRankName(playerid), GetName(playerid), text);
		SendTeamMessage(13, COLOR_DEPART2, string);
		SendTeamMessage(16, COLOR_DEPART2, string);
		SendTeamMessage(17, COLOR_DEPART2, string);
	}
	else return SCM(playerid,COLOR_GREY,"Nu esti taximetrist.");
	return 1;
}
cmd:sx(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(IsAInstructor(playerid)) {
	    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		new text[250],string[200];
		if(PlayerInfo[playerid][pMuted] == 1) {
			format(string, sizeof(string), "Nu poti scrie pe chat sau folosi comenzi deoarece ai mute timp de %d secunde.",PlayerInfo[playerid][pMuteTime]);
			SendClientMessage(playerid, COLOR_LIGHTRED, string);
			return 1;
		}
		if(sscanf(params, "s[250]", text)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /sx <Message>");
		if(PlayerInfo[playerid][pMember] == 12 || PlayerInfo[playerid][pLeader] == 12) format(string, sizeof(string), "* %s %s: %s, over.", GetRankName(playerid), GetName(playerid), text);
		else if(PlayerInfo[playerid][pMember] == 18 || PlayerInfo[playerid][pLeader] == 18) format(string, sizeof(string), "* %s %s: %s, over.", GetRankName(playerid), GetName(playerid), text);
		else if(PlayerInfo[playerid][pMember] == 19 || PlayerInfo[playerid][pLeader] == 19) format(string, sizeof(string), "* %s %s: %s, over.", GetRankName(playerid), GetName(playerid), text);
		SendTeamMessage(12, COLOR_DEPART2, string);
		SendTeamMessage(18, COLOR_DEPART2, string);
		SendTeamMessage(19, COLOR_DEPART2, string);
	}
	else return SCM(playerid, COLOR_BZWHITE, "Eroare: Nu esti Instructor.");
	return 1;
}
cmd:confiscate(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(IsACop(playerid)) {
        if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
        if(OnDuty[playerid] != 1) return SendClientMessage(playerid, COLOR_GREY, "Nu esti la datorie.");
        new x_nr[15],giveplayerid,string[256];
		if(sscanf(params, "us[15]",giveplayerid,x_nr)) {
			SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /confiscate <Nume/Playerid> <License>");
	  		SendClientMessage(playerid, COLOR_WHITE, "Licente: Driverslic, Flyinglic, Boatlic, Gunlic.");
	  		SendClientMessage(playerid, COLOR_WHITE, "Items: Weapons, Drugs, Materials.");
			return 1;
		}
	    if(strcmp(x_nr,"driverslic",true) == 0) {
			if(IsPlayerConnected(giveplayerid)) {
			    if(giveplayerid != INVALID_PLAYER_ID) {
			        if (ProxDetectorS(8.0, playerid, giveplayerid)) {
				        format(string, sizeof(string), "* I-ai confiscat lui %s's Drivers License.", GetName(giveplayerid));
				        SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
				        format(string, sizeof(string), "* Ofiter %s ti-a confiscat licenta de Drivers License.", GetName(playerid));
				        SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, string);
				        PlayerInfo[giveplayerid][pCarLic] = 0;
				        PlayerInfo[giveplayerid][pCarLicT] = 0;
						new str[128];
						format(str,sizeof(str),"UPDATE users SET `CarLic`='0',`CarLicT`='0' WHERE `ID`='%d'",PlayerInfo[giveplayerid][pSQLID]);
						mysql_query(SQL,str);
						PlayerInfo[playerid][pCommands] ++;
						Update(playerid,pCommandsx);
					}
					else return SendClientMessage(playerid, COLOR_YELLOW2, "Acel player nu este langa tine.");
			    }
			}
			else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
		else if(strcmp(x_nr,"boatlic",true) == 0) {
			if(IsPlayerConnected(giveplayerid)) {
			    if(giveplayerid != INVALID_PLAYER_ID) {
			        if (ProxDetectorS(8.0, playerid, giveplayerid)) {
				        format(string, sizeof(string), "* I-ai confiscat lui %s's Boat License.", GetName(giveplayerid));
				        SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
				        format(string, sizeof(string), "* Ofiter %s ti-a confiscat licenta de Boat License.", GetName(playerid));
				        SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, string);
				        PlayerInfo[giveplayerid][pBoatLic] = 0;
				        PlayerInfo[giveplayerid][pBoatLicT] = 0;
						new str[128];
						format(str,sizeof(str),"UPDATE users SET `BoatLic`='0',`BoatLicT`='0' WHERE `ID`='%d'",PlayerInfo[giveplayerid][pSQLID]);
						mysql_query(SQL,str);
						PlayerInfo[playerid][pCommands] ++;
						Update(playerid,pCommandsx);
					}
					else return SendClientMessage(playerid, COLOR_YELLOW2, "Acel player nu este langa tine.");
			    }
			}
			else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
		else if(strcmp(x_nr,"gunlic",true) == 0) {
			if(IsPlayerConnected(giveplayerid)) {
			    if(giveplayerid != INVALID_PLAYER_ID) {
			        if (ProxDetectorS(8.0, playerid, giveplayerid)) {
				        format(string, sizeof(string), "* I-ai confiscat lui %s's Gun License.", GetName(giveplayerid));
				        SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
				        format(string, sizeof(string), "* Ofiter %s ti-a confiscat licenta de Gun License.", GetName(playerid));
				        SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, string);
				        PlayerInfo[giveplayerid][pGunLic] = 0;
				        PlayerInfo[giveplayerid][pGunLicT] = 0;
						new str[128];
						format(str,sizeof(str),"UPDATE users SET `GunLic`='0',`GunLicT`='0' WHERE `ID`='%d'",PlayerInfo[giveplayerid][pSQLID]);
						mysql_query(SQL,str);
						PlayerInfo[playerid][pCommands] ++;
						Update(playerid,pCommandsx);
					}
					else return SendClientMessage(playerid, COLOR_YELLOW2, "Acel player nu este langa tine.");
			    }
			}
			else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
		else if(strcmp(x_nr,"flyinglic",true) == 0) {
			if(IsPlayerConnected(giveplayerid)) {
			    if(giveplayerid != INVALID_PLAYER_ID) {
			        if (ProxDetectorS(8.0, playerid, giveplayerid)) {
				        format(string, sizeof(string), "* I-ai confiscat lui %s licenta de zbor.", GetName(giveplayerid));
				        SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
				        format(string, sizeof(string), "* Ofiter %s ti-a confiscat licenta de zbor.", GetName(playerid));
				        SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, string);
				        PlayerInfo[giveplayerid][pFlyLic] = 0;
				        PlayerInfo[giveplayerid][pFlyLicT] = 0;
						new str[128];
						format(str,sizeof(str),"UPDATE users SET `FlyLic`='0',`FlyLicT`='0' WHERE `ID`='%d'",PlayerInfo[giveplayerid][pSQLID]);
						mysql_query(SQL,str);
						PlayerInfo[playerid][pCommands] ++;
						Update(playerid,pCommandsx);
					}
					else return SendClientMessage(playerid, COLOR_YELLOW2, "Acel player nu este langa tine.");
			    }
			}
			else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
		else if(strcmp(x_nr,"weapons",true) == 0) {
			if(IsPlayerConnected(giveplayerid)) {
			    if(giveplayerid != INVALID_PLAYER_ID) {
			        if (ProxDetectorS(8.0, playerid, giveplayerid)) {
				        format(string, sizeof(string), "* I-ai confiscat lui %s armele.", GetName(giveplayerid));
				        SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
				        format(string, sizeof(string), "* Officer %s ti-a confiscat armele.", GetName(playerid));
				        SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, string);
				        ResetPlayerWeaponsEx(giveplayerid);
				        ResetPlayerWeapons(giveplayerid);
						PlayerInfo[playerid][pCommands] ++;
						Update(playerid,pCommandsx);
					}
					else return SendClientMessage(playerid, COLOR_YELLOW2, "Acel player nu este langa tine.");
			    }
			}
			else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
		else if(strcmp(x_nr,"materials",true) == 0) {
			if(IsPlayerConnected(giveplayerid)) {
			    if(giveplayerid != INVALID_PLAYER_ID) {
			        if (ProxDetectorS(8.0, playerid, giveplayerid)) {
					    format(string, sizeof(string), "* I-ai confiscat lui %s materialele.", GetName(giveplayerid));
				        SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
				        format(string, sizeof(string), "* Officer %s ti-a confiscat materialele.", GetName(playerid));
				        SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, string);
				        PlayerInfo[giveplayerid][pMats] = 0;
						new str[128];
						format(str,sizeof(str),"UPDATE users SET `Materials`='0' WHERE `ID`='%d'",PlayerInfo[giveplayerid][pSQLID]);
						mysql_query(SQL,str);
						PlayerInfo[playerid][pCommands] ++;
						Update(playerid,pCommandsx);
					}
					else return SendClientMessage(playerid, COLOR_YELLOW2, "Acel player nu este langa tine.");
			    }
			}
			else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
		else if(strcmp(x_nr,"droguri",true) == 0) {
            if(PlayerInfo[playerid][pRank] < 2) return SendClientMessage(playerid, COLOR_GRAD1, "You need to be Rank 2 or Higher for this action.");
			if(IsPlayerConnected(giveplayerid)) {
			    if(giveplayerid != INVALID_PLAYER_ID) {
			        if (ProxDetectorS(8.0, playerid, giveplayerid)) {
					    format(string, sizeof(string), "* I-ai confiscat lui %s drogurile.", GetName(giveplayerid));
				        SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
				        format(string, sizeof(string), "* Officer %s ti-a confiscat drogurile.", GetName(playerid));
				        SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, string);
				        PlayerInfo[giveplayerid][pDrugs] = 0;
						new str[128];
						format(str,sizeof(str),"UPDATE users SET `Drugs`='0' WHERE `ID`='%d'",PlayerInfo[giveplayerid][pSQLID]);
						mysql_query(SQL,str);
						PlayerInfo[playerid][pCommands] ++;
						Update(playerid,pCommandsx);
					}
					else return SendClientMessage(playerid, COLOR_YELLOW2, "Acel player nu este langa tine.");
			    }
			}
			else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
		else return SendClientMessage(playerid, COLOR_GRAD1, "Unknown confiscate name.");
    }
    else return SCM(playerid,COLOR_BZWHITE,"Eroare: Nu faci parte dintr-un departament.");
    return 1;
}

function ShowMDC(playerid, targetid) {
	new id = targetid,  string[256];
	if(PlayerInfo[id][pWantedLevel] == 0) return SCM(playerid, COLOR_GREY, "Acel player nu are wanted!");
	SCM(playerid, -1, "------------------------------------------- MDC -------------------------------------------");	
	format(string, sizeof(string), "Name: %s (%d)| Wanted: %d | Wanted Time: %d minutes | Chased by %d cops", GetName(id), id, PlayerInfo[id][pWantedLevel], 10-WantedTime[id], ChasedBy(id));
	SCM(playerid, -1, string);
	new mdc[256];
	if(strcmp(PlayerInfo[id][pCrime1],  "Fara Crima", false) == 0) { }
	else {
		format(mdc, sizeof(mdc), "%s", PlayerInfo[id][pCrime1]);
		SendClientMessage(playerid, -1, mdc);
	}
	if(strcmp(PlayerInfo[id][pCrime2],  "Fara Crima", false) == 0) { }
	else {
		format(mdc, sizeof(mdc), "%s", PlayerInfo[id][pCrime2]);
		SendClientMessage(playerid, -1, mdc);
	}
	if(strcmp(PlayerInfo[id][pCrime3], "Fara Crima", false) == 0) { }
	else {
		format(mdc, sizeof(mdc), "%s", PlayerInfo[id][pCrime3]);
		SendClientMessage(playerid, -1, mdc);
	}					
	SCM(playerid, -1, "----------------------------------------------------------------------------------------------");
	return 1;
}

function ChasedBy(playerid) {
	new x;
	foreach(Player, i) {
		if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1) {
			if(targetfind[i] == playerid) x++;
		}
	}
	return x;
}
cmd:mdc(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(!IsACop(playerid)) return SCM(playerid, COLOR_BZWHITE,"Eroare: Nu faci parte dintr-un departament.");
	if(OnDuty[playerid] == 0) return SCM(playerid, COLOR_LGREEN, "Nu poti folosi aceasta comanda deoarece nu esti la datorie!");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id;
	if(sscanf(params, "u", id)) return SendClientMessage(playerid,COLOR_SYNTAX, "Syntax: /mdc <Nume/Playerid>"); {
		if(IsPlayerConnected(id)) ShowMDC(playerid, id);
		else SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	return 1;
}
cmd:amdc(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id;
	if(sscanf(params, "u", id)) return SendClientMessage(playerid,COLOR_SYNTAX, "Syntax: /amdc <Nume/Playerid>"); {
		if(IsPlayerConnected(id)) ShowMDC(playerid, id);
		else SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	return 1;
}
cmd:su(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new id,level,reason[64],giveplayer[30],sendername[25],string[256],ini;
	if(IsACop(playerid)) {
	    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		if(sscanf(params, "uis[64]", id,level,reason)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /su <Nume/Playerid> <Level> <Reason>");
		GetPlayerName(id, giveplayer, sizeof(giveplayer));
  		GetPlayerName(playerid, sendername, sizeof(sendername)); {
			if(id != INVALID_PLAYER_ID) {
				if(level < 7 && level > 0) {
					if(OnDuty[playerid] != 1) return SendClientMessage(playerid, COLOR_GREY, "Nu esti la datorie.");
					if(IsACop(id)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi comanda pe un politist!");
					ini = PlayerInfo[id][pWantedLevel];
					if(level + PlayerInfo[id][pWantedLevel] > 6) {
						PlayerInfo[id][pWantedLevel] = 6;
					}
					else {
						PlayerInfo[id][pWantedLevel] = level+PlayerInfo[id][pWantedLevel];
					}
					format(string, sizeof(string), "Necunoscut");
					strmid(PlayerInfo[id][pVictim], string, 0, strlen(string), 255);
					Update(id,pVictimx);
					strmid(PlayerInfo[id][pAccused], GetName(playerid), 0, strlen(GetName(playerid)), 255);
					Update(id,pAccusedx);
					new y,m,d,h,mi;
					getdate(y,m,d);
					gettime(h,mi);
					if(strcmp(PlayerInfo[id][pCrime1], "Fara Crima", true) == 0) {
		    			format(string,sizeof(string),"- %s pe %02d.%02d.%02d %02d:%02d",reason,y,m,d,h,mi);
						strmid(PlayerInfo[id][pCrime1], string, 0, strlen(string), 255);
						Update(id,pCrime1x);
					}
					else if(strcmp(PlayerInfo[id][pCrime2], "Fara Crima", true) == 0) {
		    			format(string,sizeof(string),"- %s pe %02d.%02d.%02d %02d:%02d",reason,y,m,d,h,mi);
						strmid(PlayerInfo[id][pCrime2], string, 0, strlen(string), 255);
						Update(id,pCrime2x);
					}
					else if(strcmp(PlayerInfo[id][pCrime3], "Fara Crima", true) == 0) {
		    			format(string,sizeof(string),"- %s pe %02d.%02d.%02d %02d:%02d",reason,y,m,d,h,mi);
					    strmid(PlayerInfo[id][pCrime3], string, 0, strlen(string), 255);
						Update(id,pCrime3x);
					}
					else if(strcmp(PlayerInfo[id][pCrime1],  "Fara Crima", true) == 0 && strcmp(PlayerInfo[id][pCrime2], "Fara Crima", true) == 0 && strcmp(PlayerInfo[id][pCrime3], "Fara Crima", true) == 0) { }
					else {
						format(string,sizeof(string),"- %s pe %02d.%02d.%02d %02d:%02d",reason,y,m,d,h,mi);
					    strmid(PlayerInfo[id][pCrime1], string, 0, strlen(string), 255);
						Update(id,pCrime1x);
						format(string, sizeof(string), "Fara Crima");
						strmid(PlayerInfo[id][pCrime2], string, 0, strlen(string), 255);
						strmid(PlayerInfo[id][pCrime3], string, 0, strlen(string), 255);
						Update(id,pCrime2x);
						Update(id,pCrime3x);
					}
					SetPlayerWantedLevel(id,PlayerInfo[id][pWantedLevel]);
					ini = PlayerInfo[id][pWantedLevel]-ini;
					format(string, sizeof(string), "Ai comis o noua crima (%s). W: +%d, Reporter: %s.",reason,ini,sendername);
					SendClientMessage(id, COLOR_LIGHTRED, string);
					format(string, sizeof(string), "Wanted-ul actual: %d", PlayerInfo[id][pWantedLevel]);
					SendClientMessage(id, COLOR_YELLOW, string);
					format(string, sizeof(string), "Informatie: Toate unitatile: Reporter: %s, Crima: %s, W:+%d(%d), Suspect: %s(%d).",sendername,reason,ini,PlayerInfo[id][pWantedLevel],giveplayer,id);
					SendTeamMessage(3, 0x3350FFFF, string);
					SendTeamMessage(2, 0x3350FFFF, string);
					SendTeamMessage(1, 0x3350FFFF, string);
					SendTeamMessage(15, 0x3350FFFF, string);
					SendTeamMessage(25, 0x3350FFFF, string);
					wantedlost[id] = 1800;
					Update(id,pWantedLevelx);
					WantedPoints[id] = PlayerInfo[id][pWantedLevel]*2;
				}
				else return SendClientMessage(playerid, COLOR_GREY, "Invalid wanted level.");
			}
			else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
	}
	else return SCM(playerid, COLOR_BZWHITE,"Eroare: Nu faci parte dintr-un departament.");
	return 1;
}
/*cmd:su(playerid,params[])
{
	if(IsPlayerConnected(playerid))
	{
		if(IsACop(playerid))
		{
		    new id,name;
		    if(sscanf(params,"u",id)) return SCM(playerid,COLOR_SYNTAX,"Syntax: /su <Nume/Playerid>");
		    if(OnDuty[playerid] != 1) return SendClientMessage(playerid, COLOR_GREY, "Nu esti la datorie.");
		    if(IsPlayerConnected(id))
		    {
		        format(name,sizeof(name),"Suspect: %s",GetName(id));
		        ShowPlayerDialog(playerid, DIALOG_SU,DIALOG_STYLE_LIST,name,"
		    }
		    else return SCM(playerid,COLOR_GREY,"Acel jucator nu este conectat.");
		}
	}
	return 1;
}*/
cmd:wanted(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(!IsACop(playerid)) return SCM(playerid, COLOR_BZWHITE,"Eroare: Nu faci parte dintr-un departament.");
	if(OnDuty[playerid] == 0) return SCM(playerid, COLOR_LGREEN, "Nu poti folosi aceasta comanda deoarece nu esti la datorie!");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new iString[512],string[300],sendername[MAX_PLAYER_NAME],count = 0,online[50];
	foreach(Player,i) {
		if(PlayerInfo[i][pWantedLevel] >= 1) {
		    SelectedPlayer[playerid][count] = i;
			GetPlayerName(i, sendername, sizeof(sendername));
			string[0] = 0;
			if(PlayerInfo[i][pSleeping] == 1) {
				format(string, sizeof(string), "%s(%d) - Wanted Nivel: %d (AFK)\n",sendername,i,PlayerInfo[i][pWantedLevel]);
				count++;
			}
			else if(PlayerInfo[i][pSleeping] == 0) {
				format(string, sizeof(string), "%s(%d) - Wanted Nivel: %d\n",sendername,i,PlayerInfo[i][pWantedLevel]);
				count++;
			}
			strcat(iString,string);
		}
	}
	format(online, sizeof(online),"Wanted online: %d",count);
	if(count == 0) return SCM(playerid,COLOR_GREY, "Nu sunt suspecti conectati.");
	ShowPlayerDialog(playerid, DIALOG_WANTEDON, DIALOG_STYLE_LIST, online, iString , "Cancel", "");
	return 1;
}
cmd:nearwanted(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(!IsACop(playerid)) return SCM(playerid, COLOR_BZWHITE,"Eroare: Nu faci parte dintr-un departament.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new iString[512],string[300],sendername[MAX_PLAYER_NAME],count = 0,online[50];
	foreach(Player,i) {
		if(PlayerInfo[i][pWantedLevel] >= 1) {
            if(ProxDetectorS(200.0, playerid,i)) {
                SelectedPlayer[playerid][count] = i;
			    GetPlayerName(i, sendername, sizeof(sendername));
				string[0] = 0;
				if(PlayerInfo[i][pSleeping] == 0)
  				{
					format(string, sizeof(string), "%s(%d) - Wanted Nivel: %d - Distance: %.0f m\n",sendername,i,PlayerInfo[i][pWantedLevel],GetDistanceBetweenPlayers(playerid,i));
					count++;
				}
				strcat(iString,string);
				format(online, sizeof(online),"Near Wanted: %d",count);
			}
		}
	}
	if(count == 0) return SCM(playerid,COLOR_GREY, "Nu sunt suspecti conectati in jurul tau.");
	ShowPlayerDialog(playerid, DIALOG_WANTEDON, DIALOG_STYLE_LIST, online, iString , "Cancel", "");
	return 1;
}
cmd:instructors(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new iString[512],string[200],sendername[MAX_PLAYER_NAME],count = 0,online[50];
	foreach(Player,i) {
		if(PlayerInfo[i][pMember] == 12) {
			GetPlayerName(i, sendername, sizeof(sendername));
			string[0] = 0;
			if(PlayerInfo[i][pSleeping] == 1) {
				if(IsAInstructor(i)) format(string, sizeof(string), "LV Instructor - %s(%d) - (AFK) - %d\n",sendername,i,PlayerInfo[i][pPnumber]);
				count++;
			}
			else if(PlayerInfo[i][pSleeping] == 0) {
				if(IsAInstructor(i)) format(string, sizeof(string), "LV Instructor - %s(%d) - %d\n",sendername,i,PlayerInfo[i][pPnumber]);
				count++;
			}
			strcat(iString,string);
			format(online, sizeof(online),"Instructors online: %d",count);
		}
		if(PlayerInfo[i][pMember] == 18) {
			GetPlayerName(i, sendername, sizeof(sendername));
			string[0] = 0;
			if(PlayerInfo[i][pSleeping] == 1) {
				if(IsAInstructor(i)) format(string, sizeof(string), "LS Instructor - %s(%d) - (AFK) - %d\n",sendername,i,PlayerInfo[i][pPnumber]);
				count++;
			}
			else if(PlayerInfo[i][pSleeping] == 0) {
				if(IsAInstructor(i)) format(string, sizeof(string), "LS Instructor - %s(%d) - %d\n",sendername,i,PlayerInfo[i][pPnumber]);
				count++;
			}
			strcat(iString,string);
			format(online, sizeof(online),"Instructors online: %d",count);
		}
		if(PlayerInfo[i][pMember] == 19) {
			GetPlayerName(i, sendername, sizeof(sendername));
			string[0] = 0;
			if(PlayerInfo[i][pSleeping] == 1) {
				if(IsAInstructor(i)) format(string, sizeof(string), "SF Instructor - %s(%d) - (AFK) - %d\n",sendername,i,PlayerInfo[i][pPnumber]);
				count++;
			}
			else if(PlayerInfo[i][pSleeping] == 0) {
				if(IsAInstructor(i)) format(string, sizeof(string), "SF Instructor - %s(%d) - %d\n",sendername,i,PlayerInfo[i][pPnumber]);
				count++;
			}
			strcat(iString,string);
			format(online, sizeof(online),"Instructors online: %d",count);
		}
	}
	if(count == 0) return SCM(playerid,COLOR_GREY, "Instructors not online at the moment.");
	ShowPlayerDialog(playerid, DIALOG_INSTRUCTORS, DIALOG_STYLE_LIST, online, iString , "Cancel", "");
	SCM(playerid,COLOR_WHITE,"Use /requestlicense for take a license.");
	return 1;
}

cmd:sellhouse(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new hIDs = PlayerInfo[playerid][pHouse];
	if(hIDs != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0) {
		new price, string[256], szQuery[256];
		if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		if(sscanf(params, "i", price)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /sellhouse <Price>");
		format(string, 256, "Ai setat pretul casei la $%s.", FormatNumber(price));
		SCM(playerid, COLOR_MONEY, string);
		HouseInfo[hIDs][hValue] = price;
		format(szQuery, sizeof(szQuery), "UPDATE `houses` SET `Value`= '%d' WHERE `ID`= '%d'", HouseInfo[hIDs][hValue], hIDs);
		mysql_query(SQL, szQuery);
		UpdateLabel(1,hIDs);
	}
	else SCM(playerid, -1, "Nu detii o casa!");
	return 1;
}
cmd:buyhouse(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    new szQuery[256], moneys, newmoneys, id;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new Float:oldposx, Float:oldposy, Float:oldposz,string[100],playername[MAX_PLAYER_NAME],sendername[MAX_PLAYER_NAME];
	GetPlayerName(playerid, playername, sizeof(playername));
	GetPlayerPos(playerid, oldposx, oldposy, oldposz);
	for(new h = 1; h < sizeof(HouseInfo); h++) {
		if(PlayerToPoint(2.0, playerid, HouseInfo[h][hEntrancex], HouseInfo[h][hEntrancey], HouseInfo[h][hEntrancez])) {
		    if(HouseInfo[h][hValue] == 0) return SCM(playerid,COLOR_GREY,"Aceasta casa nu este de vanzare.");
		    printf("%d hv", HouseInfo[h][hValue]);
			if(PlayerInfo[playerid][pLevel] < HouseInfo[h][hLevel]) {
				format(string, sizeof(string), "Ai nevoie de nivel %d.", HouseInfo[h][hLevel]);
				SendClientMessage(playerid, COLOR_WHITE, string);
				return 1;
			}
			if(PlayerInfo[playerid][pHouse] != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0) return SendClientMessage(playerid, COLOR_GREY, "Ai deja o casa.");
			if(GetPlayerCash(playerid) >= HouseInfo[h][hValue]) {
				id = GetPlayerID(HouseInfo[h][hOwner]);
				if(id != INVALID_PLAYER_ID) {
					PlayerInfo[id][pHouse] = 999;
					Update(id, pHousex);
					PlayerInfo[id][pAccount] += HouseInfo[h][hValue];
					/*format(string, sizeof(string), "* %s ti-a cumparat casa pentru {19CF2E}$%s{239931}. Banii au fost transferati in contul tau bancar.", GetName(playerid), FormatNumber(HouseInfo[h][hValue]));
					SendClientMessage(id, 0x239931FF, string);	*/
				}
				else {
					format(szQuery, sizeof(szQuery), "SELECT * FROM `users` WHERE `name` = '%s'", HouseInfo[h][hOwner]);
					new Cache: result = mysql_query(SQL, szQuery);
					if(cache_get_row_count() != 0) {
						cache_get_field_content(0, "Bank", string); moneys = strval(string);
						newmoneys = moneys + HouseInfo[h][hValue];
					}
					cache_delete(result);
					format(szQuery, sizeof(szQuery), "UPDATE `users` SET `Bank` = '%d', `House` = '999' WHERE `name` = '%s'", newmoneys, HouseInfo[h][hOwner]);
					mysql_tquery(SQL, szQuery, "", "");
				}	
				format(string,sizeof(string),"($)%s a cumparat casa %d de la %s pentru %s$.",GetName(playerid),HouseInfo[h][hID],HouseInfo[h][hOwner],FormatNumber(HouseInfo[h][hValue]));
				SendAdminMessage(COLOR_YELLOW,string,1);
		        InHouse[playerid] = h;
				PlayerInfo[playerid][pHouse] = h;
 				PlayerInfo[playerid][pRented] = -1;
				HouseInfo[h][hOwned] = 1;
				format(szQuery, sizeof(szQuery), "UPDATE `houses` SET `Value`= '0' WHERE `ID`= '%d'", h);
				mysql_query(SQL, szQuery);
				GetPlayerName(playerid, sendername, sizeof(sendername));
				strmid(HouseInfo[h][hOwner], GetName(playerid), 0, strlen(GetName(playerid)), 255);
				GivePlayerCash(playerid,-HouseInfo[h][hValue]);
				HouseInfo[h][hValue] = 0;
				SetPlayerInterior(playerid,HouseInfo[h][hInterior]);
				SetPlayerPosEx(playerid,HouseInfo[h][hExitx],HouseInfo[h][hExity],HouseInfo[h][hExitz]);
				SetPlayerVirtualWorld(playerid,HouseInfo[h][hVirtual]);
				GameTextForPlayer(playerid, "~w~Bine ai venit acasa~n~", 5000, 3);
				PlayerInfo[playerid][pInt] = HouseInfo[h][hInterior];
				PlayerInfo[playerid][pLocal] = h;
				SendClientMessage(playerid, COLOR_WHITE, "Felicitari pentru noua achizitie!");
				SendClientMessage(playerid, COLOR_WHITE, "Foloseste comanda /help pentru a vedea comenzile disponibile!");
				Update(playerid,pCashx);
				Update(playerid,pHousex);
				new str2[256];
				format(str2,sizeof(str2),"UPDATE `houses` SET `Owned`='1',`Owner`='%s' WHERE `ID`='%d'",sendername,HouseInfo[h][hID]);
				mysql_query(SQL,str2);
				UpdateLabel(1,h);
				return 1;
			}
			else return SCM(playerid, COLOR_GREY, "Nu ai banii necesari.");
		}
	}
	return 1;
}
cmd:renters(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pHouse] == 999) return SCM(playerid,COLOR_GREY, "Nu ai o casa sau chirie.");
	new count = 0,playername[MAX_PLAYER_NAME],giveplayer[MAX_PLAYER_NAME],string[200];
	GetPlayerName(playerid, playername, sizeof(playername));
	new h = PlayerInfo[playerid][pHouse];
	if(PlayerInfo[playerid][pHouse] == h) {
		foreach(Player,i) {
			if(PlayerInfo[i][pRented] == h) {
	        	GetPlayerName(i,giveplayer,sizeof(giveplayer));
				format(string,sizeof(string),"{FFCC99}* Jucator %s(%d).",giveplayer,i);
				SendClientMessage(playerid, COLOR_WHITE, string);
		        count++;
			}
		}
	   	if(count == 0) {
    		SendClientMessage(playerid,COLOR_WHITE,"* Nu sunt chiriasi conectati.");
		}
		else if(count >= 1) {
			format(string, 256, "* Sunt %d chiriasi conectati.", count);
			SCM(playerid, COLOR_WHITE, string);
		}
	}
	return 1;
}
cmd:rentroom(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	new Float:oldposx, Float:oldposy, Float:oldposz,playername[MAX_PLAYER_NAME];
	GetPlayerName(playerid, playername, sizeof(playername));
	GetPlayerPos(playerid, oldposx, oldposy, oldposz);
	for(new h = 1; h < sizeof(HouseInfo); h++) {
		if(IsPlayerInRangeOfPoint(playerid,2.0, HouseInfo[h][hEntrancex], HouseInfo[h][hEntrancey], HouseInfo[h][hEntrancez]) && HouseInfo[h][hOwned] == 1 &&  HouseInfo[h][hRentabil] == 1) {
			if(PlayerInfo[playerid][pHouse] != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0) return SendClientMessage(playerid, COLOR_WHITE, "You already own a house.");
			if(GetPlayerCash(playerid) > HouseInfo[h][hRent]) {
				PlayerInfo[playerid][pRented] = h;
                PlayerInfo[playerid][pHouse] = h;
				InHouse[playerid] = h;
    			GivePlayerCash(playerid,-HouseInfo[h][hRent]);
				HouseInfo[h][hTakings] = HouseInfo[h][hTakings]+HouseInfo[h][hRent];
				SetPlayerInterior(playerid,HouseInfo[h][hInterior]);
				SetPlayerPosEx(playerid,HouseInfo[h][hExitx],HouseInfo[h][hExity],HouseInfo[h][hExitz]);
				SetPlayerVirtualWorld(playerid,HouseInfo[h][hVirtual]);
				GameTextForPlayer(playerid, "~w~Bine ai venit acasa~n~", 5000, 3);
				PlayerInfo[playerid][pInt] = HouseInfo[h][hInterior];
				PlayerInfo[playerid][pLocal] = h;
				Update(playerid,pCashx);
				new str[128];
				format(str,sizeof(str),"UPDATE users SET `Rented`='%d',`House`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pRented],PlayerInfo[playerid][pRented],PlayerInfo[playerid][pSQLID]);
				mysql_query(SQL,str);
			 	return 1;
			}
			else return SCM(playerid, COLOR_GREY, "Nu ai banii necesari.");
		}
	}
	return 1;
}
cmd:houseinfo(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(IsPlayerConnected(playerid))	{
		new bouse = PlayerInfo[playerid][pHouse];
    	if (PlayerInfo[playerid][pHouse] != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0) {
  		    new string[256];
  		    SCM(playerid, -1, "- - Informatii despre casa - -");
  		    format(string, sizeof(string), "ID: %d | Pret: $%s | Rent: $%s | Seif: $%s | Nivel: %s",
  			bouse, FormatNumber(HouseInfo[bouse][hValue]), FormatNumber(HouseInfo[bouse][hRent]), FormatNumber(HouseInfo[bouse][hTakings]),
			FormatNumber(HouseInfo[bouse][hLevel]));
  		    SCM(playerid, -1, string);
  		}
  		else SCM(playerid, -1, "Nu ai o casa!");
  	}
  	return 1;
}
cmd:housename(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	new bouse = PlayerInfo[playerid][pHouse],housename[250],string[100],playername[MAX_PLAYER_NAME];
	GetPlayerName(playerid, playername, sizeof(playername));
	if (PlayerInfo[playerid][pHouse] != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0) {
		if(sscanf(params, "s[250]", housename)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /housename <Name>");
		new maxc = strlen(housename);
		if(maxc > 20) return SCM(playerid,COLOR_GREY, "Maximul de caractere este de 20.");
		new housename2[250];
		mysql_real_escape_string(housename, housename2);
		strmid(HouseInfo[bouse][hDiscription], housename2, 0, 64, 255);
	 	format(string, sizeof(string), "Numele casei a fost setat in: %s",HouseInfo[bouse][hDiscription]);
		SendClientMessage(playerid, COLOR_WHITE, string);
		new str[256];
		format(str,sizeof(str),"UPDATE houses SET Discription='%s' WHERE ID='%d'",HouseInfo[bouse][hDiscription],PlayerInfo[playerid][pHouse]);
		mysql_query(SQL,str);
		UpdateLabel(1, bouse);
	}
	else return SendClientMessage(playerid, COLOR_GREY, "Nu detii o casa.");
	return 1;
}
cmd:housewithdraw(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	new bouse = PlayerInfo[playerid][pHouse],moneyhouse,string[100],playername[MAX_PLAYER_NAME];
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	GetPlayerName(playerid, playername, sizeof(playername));
	if(PlayerInfo[playerid][pHouse] != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0) {
		if(sscanf(params, "d",moneyhouse)) {
			SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /housewithdraw <Amount>");
			format(string, sizeof(string), "{B8FFDB}Ai $%s in depozit.", FormatNumber(HouseInfo[bouse][hTakings]));
			SendClientMessage(playerid, COLOR_WHITE, string);
			return 1;
		}
        if(moneyhouse > 10000000) return SCM(playerid,COLOR_GREY, "Maximul de bani este de $10,000,000.");
		if (moneyhouse >  HouseInfo[bouse][hTakings] || moneyhouse < 1) return SendClientMessage(playerid, COLOR_GREY, "Nu ai aceasta suma.");
		if (!PlayerToPoint(100, playerid,HouseInfo[bouse][hExitx],HouseInfo[bouse][hExity],HouseInfo[bouse][hExitz])) {
			SendClientMessage(playerid, COLOR_GREY, "Nu esti langa casa ta.");
			return 1;
		}
		else {
			GivePlayerCash(playerid,moneyhouse);
			HouseInfo[bouse][hTakings] = HouseInfo[bouse][hTakings]-moneyhouse;
			format(string, sizeof(string), "{B8FFDB}Ai scos $%s din depozit. Acum mai ai: $%s", FormatNumber(moneyhouse),FormatNumber(HouseInfo[bouse][hTakings]));
			Update(playerid, pCashx);
			new str2[184];
			format(str2,sizeof(str2),"UPDATE `houses` SET `Takings`='%d' WHERE `ID`='%d'",HouseInfo[bouse][hTakings],HouseInfo[bouse][hID]);
			mysql_query(SQL,str2);
			SCM(playerid, COLOR_WHITE, string);
		}
	}
	else return SCM(playerid, COLOR_GREY, "Nu detii o casa.");
	return 1;
}
cmd:evict(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new bouse = PlayerInfo[playerid][pHouse],playername[25],target;
	GetPlayerName(playerid, playername, sizeof(playername));
	if(bouse != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0){
		if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		if(sscanf(params, "u",target)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /evict <Nume/Playerid>");
		if (target == playerid) return SendClientMessage(target, COLOR_GREY, "Nu te poti da afara pe tine.");
		if(IsPlayerConnected(target)) {
		    if(target != INVALID_PLAYER_ID) {
				if(PlayerInfo[target][pHouse] == PlayerInfo[playerid][pHouse]) {
					SendClientMessage(target, COLOR_WHITE, "Ai fost scos afara din casa unde aveai chirie.");
					SendClientMessage(playerid, COLOR_WHITE, "Jucatorul a fost scos afara din casa.");
					PlayerInfo[target][pHouse] = 999;
					PlayerInfo[target][pRented] = 0;
					new wakaname[25];
					GetPlayerName(target,wakaname,25);
					new str[100];
					format(str,100,"UPDATE users SET `House`='999',`Rented`='0' WHERE `ID`='%d'",PlayerInfo[target][pSQLID]);
					mysql_query(SQL,str);
					return 1;
				}
				else return SendClientMessage(playerid, COLOR_GREY, "Acel player nu sta in chirie la casa ta.");
			}
		}
		else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	else return SendClientMessage(playerid, COLOR_GREY, "Nu detii o casa.");
	return 1;
}
cmd:evictall(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new bouse = PlayerInfo[playerid][pHouse];
	if (bouse != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0) {
		foreach(Player, i) {
			if(i != playerid) {
				if (PlayerInfo[i][pHouse] == PlayerInfo[playerid][pHouse]) {
					SendClientMessage(i, COLOR_WHITE, "Ai fost scos afara din casa unde aveai chirie.");
					SendClientMessage(playerid, COLOR_WHITE, "Jucatorii (care aveau chirie la tine) au fost scos afara din casa.");
					PlayerInfo[i][pHouse] = 999;
					PlayerInfo[i][pRented] = 0;
					new str[100];
					format(str,100,"UPDATE users SET `House`='999',`Rented`='0' WHERE `ID`='%d'",PlayerInfo[i][pSQLID]);
					mysql_query(SQL,str);
					return 1;
				}
			}
		}
	}
	else return SendClientMessage(playerid, COLOR_GREY, "Nu detii o casa.");
	return 1;
}
cmd:sellhousetostate(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new playername[25],sendername[25];
	GetPlayerName(playerid, playername, sizeof(playername));
	if(PlayerInfo[playerid][pHouse] == 999) return SendClientMessage(playerid, COLOR_GREY, "Nu detii o casa.");
	if(PlayerInfo[playerid][pHouse] != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0) {
		new house = PlayerInfo[playerid][pHouse];
		HouseInfo[house][hHel] = 0;
		HouseInfo[house][hArm] = 0;
		HouseInfo[house][hLock] = 0;
		HouseInfo[house][hOwned] = 0;
        PlayerInfo[playerid][pRented] = 0;
		GetPlayerName(playerid, sendername, sizeof(sendername));
		strmid(HouseInfo[house][hOwner], "The State", 0, strlen("The State"), 255);
		format(HouseInfo[house][hDiscription], 256, "");
		HouseInfo[house][hValue] = 50000;
		ConsumingMoney[playerid] = 1;
		new cashh = 25000;
		GivePlayerCash(playerid,cashh);
		PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
		new string[70];
		format(string, sizeof(string), "~w~Felicitari~n~ Ti-ai vandut casa pentru ~n~~g~$%d", cashh);
		GameTextForPlayer(playerid, string, 10000, 3);
		PlayerInfo[playerid][pHouse] = 999;
		PlayerInfo[playerid][pRented] = -1;
		if(PlayerInfo[playerid][pLocal] == house) {
			SetPlayerInterior(playerid,0);
			SetPlayerPosEx(playerid,HouseInfo[house][hEntrancex],HouseInfo[house][hEntrancey],HouseInfo[house][hEntrancez]);
			PlayerInfo[playerid][pInt] = 0;
		}
		Update(playerid,pCashx);
		Update(playerid,pRentedx);
		Update(playerid,pHousex);
		new str2[256];
		format(str2,sizeof(str2),"UPDATE `houses` SET `Hel`='0',`Arm`='0',`Lockk`='0',`Owned`='0',`Owner`='The State' WHERE `ID`='%d'",HouseInfo[house][hID]);
		mysql_query(SQL,str2);
		UpdateLabel(1,house);
	}
	else return SendClientMessage(playerid, COLOR_GREY, "Nu detii o casa.");
	return 1;
}
cmd:sellhouseto(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id22 = PlayerInfo[playerid][pHouse];
	if(!IsPlayerInRangeOfPoint(playerid, 4,HouseInfo[id22][hEntrancex],HouseInfo[id22][hEntrancey],HouseInfo[id22][hEntrancez])) return SCM(playerid,COLOR_WHITE,"Nu esti langa casa ta.");
	new money,giveplayerid,sendername[25],giveplayer[25],string[150],playername[25];
	GetPlayerName(playerid, playername, sizeof(playername));
	if(PlayerInfo[playerid][pHouse] != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0) {
		if(sscanf(params, "ui",giveplayerid,money)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /sellhouseto <Nume/Playerid> <Price>");
		if(money < 1 || money > 1000000000) return SendClientMessage(playerid, COLOR_GREY, "Cel mai mic pret 1, cel mai mare $1,000,000,000.");
		if(IsPlayerConnected(giveplayerid)) {
		    if(giveplayerid != INVALID_PLAYER_ID) {
		        if(PlayerInfo[giveplayerid][pHouse] != 999) return SendClientMessage(playerid, COLOR_WHITE, "Acel player are deja o casa/chirie.");
				if(PlayerInfo[giveplayerid][pLevel] < HouseInfo[PlayerInfo[playerid][pHouse]][hLevel]) return SCM(playerid,COLOR_WHITE,"Acel player nu are nivelul necesar.");
		        if(ProxDetectorS(8.0, playerid, giveplayerid)) {
				    if(giveplayerid == playerid) return 1;
					if(GetPlayerCash(giveplayerid) < money) return SCM(playerid,COLOR_GREY, "Acel player nu are destui bani.");
				    GetPlayerName(giveplayerid, giveplayer, sizeof(giveplayer));
					GetPlayerName(playerid, sendername, sizeof(sendername));
				    format(string, sizeof(string), "{B8FFDB}* I-ai oferit casa ta lui %s pentru $%s.", giveplayer, FormatNumber(money));
					SendClientMessage(playerid, COLOR_WHITE, string);
					format(string, sizeof(string), "{B8FFDB}* %s doreste sa-ti vanda casa lui pentru $%s, (scrie /accept house %d) pentru a accepta.", sendername, FormatNumber(money),playerid);
					SendClientMessage(giveplayerid, COLOR_WHITE, string);
					HouseID[giveplayerid] = PlayerInfo[playerid][pHouse];
					HouseOffer[giveplayerid] = playerid;
					HousePrice[giveplayerid] = money;
				}
				else return SendClientMessage(playerid, COLOR_YELLOW2, "Acel player nu este langa tine.");
			}
		}
		else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	else return SendClientMessage(playerid, COLOR_GREY, "Nu detii o casa.");
	return 1;
}
cmd:setrent(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new bouse = PlayerInfo[playerid][pHouse],playername[25],string[25],fee;
	GetPlayerName(playerid, playername, sizeof(playername));
	if (bouse != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0) {
		if(sscanf(params, "d",fee)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /setrent <Money>");
		if(fee < 1 || fee > 50) return SendClientMessage(playerid, COLOR_WHITE, "Minim $0, maxim $50.");
		if(HouseInfo[bouse][hRentabil] == 0) return SCM(playerid,COLOR_GREY,"Casa ta nu primesti cheriasi(/setrentable)");
		HouseInfo[bouse][hRent] = fee;
		new str2[64];
		format(str2,64,"UPDATE `houses` SET `Rent`='%d' WHERE `ID`='%d'",fee,bouse);
		mysql_query(SQL,str2);
		format(string, sizeof(string), "Chirie setata la $%s.", FormatNumber(HouseInfo[bouse][hRent]));
		SendClientMessage(playerid, COLOR_WHITE, string);
		UpdateLabel(1,PlayerInfo[playerid][pHouse]);
	}
	else return SendClientMessage(playerid, COLOR_GREY, "Nu detii o casa.");
	return 1;
}
cmd:setrentable(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new bouse = PlayerInfo[playerid][pHouse],test,playername[25],string[30];
	GetPlayerName(playerid, playername, sizeof(playername));
	if (bouse != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0) {
		if(sscanf(params, "d",test)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /setrentable <0(No) - 1(Yes)>");
		if(test < 0 || test > 1) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /setrentable <0(No) - 1(Yes)>");
		HouseInfo[bouse][hRentabil] = test;
		new str2[64];
		format(str2,64,"UPDATE `houses` SET `Rentabil`='%d' WHERE `ID`='%d'",test,bouse);
		mysql_query(SQL,str2);
		format(string, sizeof(string), "Chirie setata la %d.", HouseInfo[bouse][hRentabil]);
		SendClientMessage(playerid, COLOR_WHITE, string);
		UpdateLabel(1,PlayerInfo[playerid][pHouse]);
	}
	else return SendClientMessage(playerid, COLOR_GREY, "Nu detii o casa.");
	return 1;
}
function UpdateHouseRadio(house) {
	foreach(Player, i) {
		if(IsPlayerConnected(i) && InHouse[i] == house) {
			switch(HouseInfo[house][hRadio]) {
				case 0: StopAudioStreamForPlayer(i);
				case 1: PlayAudioStreamForPlayer(i, "http://live.radiotaraf.com:8181");
				case 2: PlayAudioStreamForPlayer(i, "http://radiofunky.ro/live.pls");
				case 3: PlayAudioStreamForPlayer(i, "http://live.radiogangsta.ro:8800");
				case 4: PlayAudioStreamForPlayer(i, "http://dance.radiogangsta.ro:8800");
				case 5: PlayAudioStreamForPlayer(i, "http://rbandit.dyndns.tv:8000");
				case 6: PlayAudioStreamForPlayer(i, "http://live.radiohot.ro:8000");
				case 7: PlayAudioStreamForPlayer(i, "http://www.radiotequila.ro/hiphop.m3u");
				case 8: PlayAudioStreamForPlayer(i, "http://80.86.106.136/listen.pls");
				case 9: PlayAudioStreamForPlayer(i, "http://stream.radiozu.ro:8020");
				case 10: PlayAudioStreamForPlayer(i, "http://nextgen.go.ro:8012");
				case 11: PlayAudioStreamForPlayer(i, "http://stream.profm.ro:8012/profm.mp3");
				case 12: PlayAudioStreamForPlayer(i, "http://live.radioclubmix.ro: 9999");
				case 13: PlayAudioStreamForPlayer(i, "http://livemp3.radiopopular.ro:7777");
			}
		}
	}
	return 1;
}
	
cmd:houseupgrade(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new house = PlayerInfo[playerid][pHouse];
	new playername[25],item;
	GetPlayerName(playerid, playername, sizeof(playername));
	if (house != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0) {
		if(sscanf(params, "d",item)) {
			SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /houseupgrade <Item>");
			SendClientMessage(playerid, COLOR_WHITE, "(1) Health Upgrade $5000.");
			SendClientMessage(playerid, COLOR_WHITE, "(2) Armour Upgrade $10,000.");
			SendClientMessage(playerid, COLOR_WHITE, "(3) Radio $5,000.");
			
			return 1;
		}
		switch (item) {
			case 1:
			{
				if(GetPlayerCash(playerid) < 5000) return SendClientMessage(playerid, COLOR_GREY, "Nu ai banii necesari pentru a cumpara acest lucru.");
				HouseInfo[house][hHel] = 1;
				GivePlayerCash(playerid,-5000);
				BizzInfo[9][bBalance] += 5000;
				PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
				SendClientMessage(playerid, COLOR_WHITE, "Acum poti lua si viata din casa. Tasteaza /heal.");
				new str2[64];
				format(str2,64,"UPDATE `houses` SET `Hel`='1' WHERE `ID`='%d'",house);
				mysql_query(SQL,str2);
			}
			case 2:
			{
			    if(!IsACop(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti cumpara acest lucru deoarece nu faci parte din politie.");
				if(GetPlayerCash(playerid) < 10000) return SendClientMessage(playerid, COLOR_GREY, "Nu ai banii necesari pentru a cumpara acest lucru.");
				HouseInfo[house][hArm] = 1;
				GivePlayerCash(playerid,-10000);
				BizzInfo[9][bBalance] += 10000;
				PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
				SendClientMessage(playerid, COLOR_WHITE, "Acum poti lua si armura din casa. Tasteaza /heal.");
				new str2[64];
				format(str2,64,"UPDATE `houses` SET `Arm`='1' WHERE `ID`='%d'",house);
				mysql_query(SQL,str2);
			}
			case 3: {
				new radiostr[1024];
				format(radiostr, sizeof(radiostr), "{E82727}Opreste Radio-ul\nRadio Taraf Romania\nRadio Funky Manele\nRadio Gangsta Manele\nRadio Gangsta Dance\nRadio Bandit Romania\nRadio Hot Romania\nRadio Tequila HipHop\nRadio Kiss FM\nRadio ZU Romania\nRadio Greu de Difuzat\nRadio Pro FM\nRadio ClubMix\nRadio Popular");
				ShowPlayerDialog(playerid,171,DIALOG_STYLE_LIST,"Radio",radiostr,"Ok", "Iesire");
			}
		}
	}
	else return SendClientMessage(playerid, COLOR_GREY, "Nu detii o casa.");
	return 1;
}
cmd:aimtest(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(Spectate[playerid] == 255) return SCM(playerid,COLOR_GREY, "Nu esti spectator.");
	new targetplayer = GetPlayerTargetPlayer(Spectate[playerid]);
	if(targetplayer == INVALID_PLAYER_ID) return 1;
	new Float:x2,Float:y2,Float:z2;
	GetPlayerPos(targetplayer,x2,y2,z2);
	Aimx[targetplayer] = x2;
	Aimy[targetplayer] = y2;
	Aimz[targetplayer] = z2;
	new Float:x,Float:y,Float:z;
	GetPlayerPos(Spectate[playerid],x,y,z);
    SetPlayerPosEx(targetplayer, x,y+10,z);
    SetTimerEx("aimback",3000,0,"d",targetplayer);
    new string[100],giveplayer[25],executor[25];
    GetPlayerName(Spectate[playerid], giveplayer, sizeof(giveplayer));
    GetPlayerName(playerid, executor, sizeof(executor));
	format(string, sizeof(string), "AdmCmd: %s a facut cu succes un AIM test pe %s (/aimtest %d)",executor,giveplayer,Spectate[playerid]);
    SendAdminMessage(COLOR_LOGS, string,1);
	return 1;
}
cmd:unbanip(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new ip[30],string[128],sendername[MAX_PLAYER_NAME];
	if(sscanf(params, "s[16]", ip)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /unbanip <IP>"); {
		format(string,sizeof(string),"unbanip %s",ip);
		SendRconCommand(string);
		SendRconCommand("reloadbans");
		GetPlayerName(playerid, sendername, sizeof(sendername));
		format(string,sizeof(string),"Log: %s unbanip %s.",sendername,ip);
		Adminlog(string);
	}
	return 1;
}
cmd:getip(playerid, params[]) {
	new id,playersip[256],giveplayer[30],string[256];
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "u", id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /getip <Nume/Playerid>"); {
		GetPlayerName(id, giveplayer, sizeof(giveplayer));
		if(id != INVALID_PLAYER_ID) {
			GetPlayerIp(id,playersip,sizeof(playersip));
			format(string, sizeof(string), "Jucator: %s (%d) IP: %s",giveplayer,id,playersip);
			SendClientMessage(playerid,COLOR_GRAD2,string);
		}
		else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	return 1;
}
cmd:am(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 5) return SCM(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new msjam[250],string[250];
	if(sscanf(params, "s[250]", msjam)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /am <Message>");
	foreach(Player, i) {
	    if(IsPlayerConnected(i)) {
	        if(PlayerInfo[i][pAdmin] < 1) {
	            format(string, sizeof(string), "*Admin: %s", msjam);
	            SCM(i,COLOR_LIGHTBLUE1,string);
	        }
	        else {
	            format(string, sizeof(string), "*Admin(%s): %s", GetName(playerid),msjam);
	            SCM(i,COLOR_LIGHTBLUE1,string);
	        }
		}
	}
	return 1;
}
cmd:agivemats(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new string[100],id,mats,giveplayer[30],sendername[MAX_PLAYER_NAME];
	if(sscanf(params, "ui", id,mats)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /agivemats <Nume/Playerid> <Mats>");
	GetPlayerName(id, giveplayer, sizeof(giveplayer)); {
    	PlayerInfo[id][pMats] += mats;
		GetPlayerName(playerid, sendername, sizeof(sendername));
		format(string, 256, "AdmCmd: %s i-a dat lui %s %d materiale.", sendername,giveplayer,mats);
		SendAdminMessage(COLOR_LOGS,string,4);
		new wakaname[25],str[128];
		GetPlayerName(id,wakaname,sizeof(wakaname));
		format(str,sizeof(str),"UPDATE users SET `Mats`='%d' WHERE `ID`='%d'",PlayerInfo[id][pMats],PlayerInfo[id][pSQLID]);
		mysql_query(SQL,str);
	}
	return 1;
}
cmd:setage(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 2) return SCM(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new string[100],id,age,giveplayer[30],sendername[MAX_PLAYER_NAME];
	if(sscanf(params, "ui", id,age)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /setage <Nume/Playerid> <Age>");
	GetPlayerName(id, giveplayer, sizeof(giveplayer));
	if(IsPlayerConnected(id)) {
		if(id != INVALID_PLAYER_ID) {
			PlayerInfo[id][pAge] = age;
			GetPlayerName(playerid, sendername, sizeof(sendername));
			format(string, 256, "AdmCmd: %s i-a setat varsta lui %s la %d.", sendername,giveplayer,age);
			SendAdminMessage(COLOR_LOGS,string,2);
			new wakaname[25],str[128];
			GetPlayerName(id,wakaname,sizeof(wakaname));
			format(str,sizeof(str),"UPDATE users SET `Age`='%d' WHERE `ID`='%d'",PlayerInfo[id][pAge],PlayerInfo[id][pSQLID]);
			mysql_query(SQL,str);
		}
	}
	else return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:recon(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,giveplayer[25],string[100];
	if(sscanf(params, "u", id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /recon <Nume/Playerid>"); {
		if(IsPlayerConnected(id)) {
		    if(id != INVALID_PLAYER_ID) {
		        Spectate[playerid] = id;
				new Float:health;
				GetPlayerHealthEx(Spectate[playerid], health);
				GetPlayerName(Spectate[playerid], giveplayer, sizeof(giveplayer));
				SpecPlayers[playerid] ++;
				if(SpecPlayers[playerid] == 1) {
					GetPlayerPos(playerid, SpecPos[playerid][0], SpecPos[playerid][1], SpecPos[playerid][2]);
					IsPlayerSpec[playerid] = 1;
  					pInteriorID[playerid] = GetPlayerInterior(playerid);
    				pVirtual[playerid] = GetPlayerVirtualWorld(playerid);
				}
				format(string, sizeof(string), "AdmCmd: %s este spectator pe %s.", GetName(playerid),GetName(id));
				SendAdminMessage(COLOR_LOGS, string,1);
				TogglePlayerSpectating(playerid, 1);
				if(IsPlayerInAnyVehicle(Spectate[playerid])) {
				    new carid = GetPlayerVehicleID(Spectate[playerid]);
				    PlayerSpectateVehicle(playerid, carid);
				}
				else {
				    PlayerSpectatePlayer(playerid, Spectate[playerid]);
				}
				PlayerTextDrawSetString(playerid, SpecTD, "Loading...");
				PlayerTextDrawShow(playerid, SpecTD);								
			}
		}
		else return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	return 1;
}
cmd:achangeemail(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid,COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,email[64];
	if(sscanf(params, "us[64]",id,email)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /achangeemail <Nume/Playerid> <Email>");
	if(id == INVALID_PLAYER_ID) return SendClientMessage(playerid,COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	if(IsPlayerConnected(id)) {
		strmid(PlayerInfo[playerid][pEmail], email, 0, strlen(email), 255);
		Update(id,pEmailx);
	}
	else return SendClientMessage(playerid,COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:forcename(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,changenametext[25],string[456],giveplayer[30];
	if(sscanf(params, "us[25]",id,changenametext)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /forcename <Nume/Playerid> <New Name>");
	if(PlayerInfo[id][pLevel] >= 2) return SCM(playerid,COLOR_GREY,"Acel jucator are nivelul prea mare.");
	if(IsPlayerConnected(id)) {
	    GetPlayerName(id, giveplayer, sizeof(giveplayer));
		new newname = MySQLCheckAccount(changenametext);
		if(newname != 0) return SCM(playerid,COLOR_GREY, "Nume existent.");
		if(PlayerInfo[id][pHouse] != 999 && strcmp(giveplayer, HouseInfo[PlayerInfo[id][pHouse]][hOwner], true) == 0) {
			new houseid = PlayerInfo[id][pHouse];
			strmid(HouseInfo[houseid][hOwner], changenametext, 0, strlen(changenametext), 255);
			format(string,sizeof(string),"UPDATE `houses` SET `Owner`='%s' WHERE `ID`='%d'",changenametext,houseid);
			mysql_query(SQL,string);
			UpdateLabel(1,PlayerInfo[id][pHouse]);
   		}
		if(PlayerInfo[id][pBizz] != 255) {
			new bizid2 = PlayerInfo[id][pBizz];
			strmid(BizzInfo[bizid2][bOwner], changenametext, 0, strlen(changenametext), 255);
			format(string,sizeof(string),"UPDATE `bizz` SET `Owner`='%s' WHERE `ID`='%d'",changenametext,bizid2);
			mysql_query(SQL,string);
			UpdateLabel(2,PlayerInfo[id][pBizz]);
   		}
		new str[128];
		format(str,sizeof(str),"UPDATE users SET `name`='%s' WHERE `ID`='%d'",changenametext,PlayerInfo[id][pSQLID]);
		mysql_query(SQL,str);
		SetPlayerName(id, changenametext);
		format(string, 256, "AdmCmd: %s i-a schimbat fortat lui %s numele in %s.", GetName(playerid),GetName(id),changenametext);
		SendAdminMessage(COLOR_LOGS,string,4);
		SCM(id,COLOR_LIGHTRED,"Ai primit kick pentru a se salva in baza de date.");
		KickEx(id);
	}
	else return SendClientMessage(playerid,COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:achangename(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,changenametext[25],string[456],giveplayer[30],sendername[30];
	if(sscanf(params, "us[25]",id,changenametext)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /achangename <Nume/Playerid> <Name>");
	GetPlayerName(id, giveplayer, sizeof(giveplayer));
	GetPlayerName(playerid, sendername, sizeof(sendername));
	if(IsPlayerConnected(id)) {
		new newname = MySQLCheckAccount(changenametext);
		if(newname != 0) return SCM(playerid,COLOR_GREY, "Nume existent.");
		if(PlayerInfo[id][pHouse] != 999 && strcmp(giveplayer, HouseInfo[PlayerInfo[id][pHouse]][hOwner], true) == 0) {
			new houseid = PlayerInfo[id][pHouse];
			strmid(HouseInfo[houseid][hOwner], changenametext, 0, strlen(changenametext), 255);
			format(string,sizeof(string),"UPDATE `houses` SET `Owner`='%s' WHERE `ID`='%d'",changenametext,houseid);
			mysql_query(SQL,string);
			UpdateLabel(1,PlayerInfo[id][pHouse]);
   		}
		if(PlayerInfo[id][pBizz] != 255) {
			new bizid2 = PlayerInfo[id][pBizz];
			strmid(BizzInfo[bizid2][bOwner], changenametext, 0, strlen(changenametext), 255);
			format(string,sizeof(string),"UPDATE `bizz` SET `Owner`='%s' WHERE `ID`='%d'",changenametext,bizid2);
			mysql_query(SQL,string);
			UpdateLabel(2,PlayerInfo[id][pBizz]);
   		}
		new str[128];
		format(str,sizeof(str),"UPDATE users SET `name`='%s' WHERE `ID`='%d'",changenametext,PlayerInfo[id][pSQLID]);
		mysql_query(SQL,str);
		SetPlayerName(id, changenametext);
		format(string, 256, "AdmCmd: %s i-a schimbat lui %s numele in %s.", sendername,giveplayer,changenametext);
		SendAdminMessage(COLOR_LOGS,string,4);
		SCM(id,COLOR_LIGHTRED,"Ai primit kick pentru a se salva in baza de date.");
		KickEx(id);
	}
	else return SendClientMessage(playerid,COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:sethour(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,hours,string[100],giveplayer[30],sendername[30];
	if(sscanf(params, "ui",id,hours)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /sethour <Nume/Playerid> <Hours Played>"); {
	    if(IsPlayerConnected(id)) {
	        if(id != INVALID_PLAYER_ID) {
				GetPlayerName(id, giveplayer, sizeof(giveplayer));
				GetPlayerName(playerid, sendername, sizeof(sendername));
				PlayerInfo[id][pConnectTime] = hours;
				format(string, sizeof(string), "AdmCmd: %s i-a setat lui %s %d ore jucate.", sendername,giveplayer,hours);
				SendAdminMessage(COLOR_LOGS,string,5);
				Update(id,pConnectTimex);
			}
		}
		else return SendClientMessage(playerid,COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	return 1;
}
cmd:giveallmoney(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new moneyall,sendername[MAX_PLAYER_NAME],string[100];
	GetPlayerName(playerid, sendername, sizeof(sendername));
	if(sscanf(params, "i",moneyall)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /giveallmoney <Money>");
	if(moneyall >= 99999999) return SendClientMessage(playerid, COLOR_GREY, "Prea multi bani.");
	else if(moneyall < 99999999) {
		format(string, sizeof(string),"%s a dat %s$ tuturor jucatorilor conectati.",sendername,FormatNumber(moneyall));
		SendClientMessageToAll(COLOR_YELLOW,string);
		foreach(Player,i) {
			GivePlayerCash(i, moneyall);
			Update(i,pCashx);
		}
	}
	return 1;
}
cmd:givealllevel(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new rpall,sendername[MAX_PLAYER_NAME],string[100];
	GetPlayerName(playerid, sendername, sizeof(sendername));
	if(sscanf(params, "i",rpall)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /givealllevel <Level>");
	if(rpall >= 50) return 1;
	else if(rpall < 50) {
		format(string, sizeof(string),"%s a dat %d nivele tuturor jucatorilor conectati.",sendername,rpall);
		SendClientMessageToAll(COLOR_YELLOW,string);
		foreach(Player,i) {
			PlayerInfo[i][pLevel] += rpall;
			SetPlayerScore(i,PlayerInfo[i][pLevel]);
			Update(i, pLevelx);
		}
	}
	return 1;
}
cmd:giveallrp(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5) return SCM(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new rpall,sendername[MAX_PLAYER_NAME],string[100];
	GetPlayerName(playerid, sendername, sizeof(sendername));
	if(sscanf(params, "i",rpall)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /giveallrp <Respect Points>");
	if(rpall >= 50) return SendClientMessage(playerid, COLOR_GREY, "RP-uri prea multe (1-50).");
	else if(rpall < 50) {
		format(string, sizeof(string),"%s a dat %d RP-uri tuturor jucatorilor conectati.",sendername,rpall);
		SendClientMessageToAll(COLOR_YELLOW,string);
		foreach(Player,i) {
			PlayerInfo[i][pExp] += rpall;
			Update(i, pRP);
		}
	}
	return 1;
}
alias:helperhelp("hh");
cmd:helperhelp(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	new level = 0;
	if(PlayerInfo[playerid][pHelper] < 1) return SendClientMessage(playerid, COLOR_ERROR, HelperOnly1);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params,"i",level)) return SendClientMessage(playerid,COLOR_SYNTAX, "Syntax: /(h)elper(h)elp <1-2>");
	if(level > 2) return SCM(playerid,COLOR_SYNTAX,"Syntax: /(h)elper(h)elp <1-2>"); {
	    switch(level) {
	        case 1: {
	            if(PlayerInfo[playerid][pHelper] >= 1) {
	                SendClientMessage(playerid, COLOR_GREY, "*1* HELPER *** /hc /hduty /nreport /nreply /nskip /ndelete /checkhelp /goto /gotols /pm");
				}
				else return SCM(playerid,COLOR_ERROR,HelperOnly1);
			}
			case 2: {
			    if(PlayerInfo[playerid][pHelper] >= 2) {
          		    SendClientMessage(playerid, COLOR_GREY, "*2* HELPER *** /acceptevent /rejectevent /events /e");
                }
                else return SCM(playerid,COLOR_ERROR,HelperOnly1);
			}
		}
	}
	return 1;
}
cmd:cnn(playerid, params[]) {
	new message[128], string[256];
	if(PlayerInfo[playerid][pAdmin] < 2) return SCM(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "s[128]", message)) return SCM(playerid,COLOR_SYNTAX,"Syntax: /cnn <Message>");
	format(string, sizeof(string), "~b~%s: ~w~%s",GetName(playerid),message);
	foreach(Player, i) {
		GameTextForPlayer(i, string, 5000, 6);
	}
	return 1;
}
cmd:skydive(playerid,params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    new Float: poz[3];
	if(PlayerInfo[playerid][pAdmin] < 2) return SCM(playerid, COLOR_WHITE,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	GetPlayerPos(playerid, poz[0], poz[1], poz[2]);
	if(IsPlayerConnected(playerid)) {
		GivePlayerWeaponEx(playerid, 46, 0);
		SetPlayerPos(playerid,poz[0], poz[1], poz[2]+1500);
	}
	return 1;
}
alias:adminhelp("ah");
cmd:adminhelp(playerid, params[]) {
   	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(PlayerInfo[playerid][pAdmin] >= 1) {
	    SCM(playerid,COLOR_SERVER1,"________________________________________________");
	    SCM(playerid, COLOR_GREY, "*1* ADMIN ** /ban /bano /banex /banexo /mute /muteo /jailo /jail /mutedplayers /jaillist /warn /warno");
	    SCM(playerid, COLOR_GREY, "*1* ADMIN ** /togfind /gethere /goto /gotogift /gotols /recon /disarm /checkgun /cc /va /rveh /amdc");
		SCM(playerid, COLOR_GREY, "*1* ADMIN ** /a /aimtest /bigears /flip /gsearch /alicenses (/av)ehicles /askills /rnewbie /dn /up");
		SCM(playerid, COLOR_GREY, "*1* ADMIN ** (/un)freeze /check /pm /slap /acceptevent /rejectevent /events /cevent /stopevent");
		SCM(playerid, COLOR_GREY, "*1* ADMIN ** /setint /setvw /kick (/a)ccept(r)eport (/c)lose(r)eport /al /rmute /reports /helps");
		SCM(playerid, COLOR_GREY, "*1* ADMIN ** /fly /lastpunish /managearea /togiplog /freq /forcename /cancelad (/un)freezerange");
	}
	if(PlayerInfo[playerid][pAdmin] >= 2) {
		SCM(playerid, 0xB3B3B3FF, "*2* ADMIN ** /armourrange /healrange /disarmrange /gunrange /givegun /entercar /outcar /slapcar");
		SCM(playerid, 0xB8B8B8FF, "*2* ADMIN ** /gotocar /getcar /oplace /removeobjects /startevent /skick /skydive /cnn /setage");
	}
	if(PlayerInfo[playerid][pAdmin] >= 3) {
		SCM(playerid, 0xBABABAFF, "*3* ADMIN ** /makehelper /mark /gotomark /aclear /(re)spawn /nos /apanel /healall /gotosf /gotolv");
		SCM(playerid, 0xBDBDBDFF, "*3* ADMIN ** /houseenter /houseexit (/goto)biz (/goto)job /unmute /unjail /unjailo /gotopos /rac");
	}
	if(PlayerInfo[playerid][pAdmin] >= 4) {
	    SCM(playerid, 0xC2C2C2FF, "*4* ADMIN ** /clearvote /setanswers /startvote /stopvote /setfuel /veh /vehs /vre /vreall /vds");
		SCM(playerid, 0xBFBFBFFF, "*4* ADMIN ** /makeleader /makemember /fids /fveh (/goto)hq /gunall /sethp /setarmour /agivemats");
		SCM(playerid, 0xBFBFBFFF, "*4* ADMIN ** /unwarn /vehcolor /weather /getip /temporarskin /flymode /youtube /fuelcars /fixveh");
	}
	if(PlayerInfo[playerid][pAdmin] >= 5) {
	    SCM(playerid, 0xC4C4C4FF, "*5* ADMIN ** /setfp /setfpo /unban /franknames /setskin /afklist /am /editfaction /givelevel /giverp");
		SCM(playerid, 0xC2C2C2FF, "*5* ADMIN ** /asellbiztostate /asellhousetostate /edit /givemoney /givebank /fcolors /stockfcolors");
		SCM(playerid, 0xC4C4C4FF, "*5* ADMIN ** /attack /endwar /auction /endauction /tod /agl /setturf /hirecar /weatherall /setteam");
		SCM(playerid, 0xC7C7C7FF, "*5* ADMIN ** /giveallrp /givealllevel /auctions");
	}
	if(PlayerInfo[playerid][pAdmin] >= 6) {
		SCM(playerid, 0xC7C7C7FF, "*6* ADMIN ** /createhouse /movehouse /set /gmx /movebiz /givehouse /givebiz /givecar /unbanex /unbanip");
		SCM(playerid, 0xC9C9C9FF, "*6* ADMIN ** /achangeemail /achangename /giftpointsall /addsafezone /editsafezone /showpin /makeadmin");
		SCM(playerid, 0xCCCCCCFF, "*6* ADMIN ** /editvehicle /createvehicle /vpark /vstats /givepp /giveallmoney /setlevel /editclan /editjob");
		SCM(playerid, 0xC9C9C9FF, "*6* ADMIN ** /serverpass /servername /deletepunish /deleteclan /setmoney /setbank /dsprice /sethour");
	}
	SCM(playerid,COLOR_SERVER1,"________________________________________________");
	return 1;
}
cmd:auctions(playerid, params[]) {
	if(PlayerInfo[playerid][pAdmin] < 5) return SCM(playerid,COLOR_ERROR,AdminOnly);
	new szDialog[1024];
	strcat(szDialog,"ID\tType\n");
	for(new i = 1; i < sizeof(HouseInfo); i++) {
		if(strcmp(HouseInfo[i][hOwner],"The State",true) == 0 && HouseInfo[i][hOwned] == 1) {
			format(szGlobal, sizeof(szGlobal), "%d\tHouse\n", i);
			strcat(szDialog, szGlobal);
		}
	}
	for(new i = 1; i < sizeof(BizzInfo); i++) {
		if(strcmp(BizzInfo[i][bOwner],"The State",true) == 0 && BizzInfo[i][bOwned] == 0) {
			format(szGlobal, sizeof(szGlobal), "%d\tBusiness\n", i);
			strcat(szDialog, szGlobal);
		}
	}
	ShowPlayerDialog(playerid, 0, DIALOG_STYLE_TABLIST_HEADERS, "Licitatii:",szDialog, "Close", "");
	return 1;
}
cmd:showpin(playerid,params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,string[256];
	if(sscanf(params,"u",id)) return SCM(playerid,COLOR_SYNTAX,"Syntax: /showpin <Nume/Playerid>");
	if(!IsPlayerConnected(id)) return SCM(playerid,COLOR_GREY,"Acel jucator nu este conectat");
	if(strlen(PlayerInfo[id][pPin]) == 1) return SCM(playerid,COLOR_GREY,"Acel jucator nu are un cod pin setat.");
	format(string,sizeof(string),"Codul pin al jucatorului %s este %s.",GetName(id),PlayerInfo[id][pPin]);
	SCM(playerid,COLOR_WARNING,string);
	return 1;
}
cmd:freezerange(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new range,string[256];
	new count = 0;
	if(sscanf(params, "i",range)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /freezerange <Range>");
	for(new i = 0; i < MAX_PLAYERS; i ++) {
		if (ProxDetectorS(range, playerid, i)) {
			TogglePlayerControllable(i, 0);
			count++;
		}
	}
	format(string, sizeof(string), "AdmCmd: %s a folosit /freezerange si a inghetat %d jucatori.", GetName(playerid),count);
    SendAdminMessage(COLOR_LIGHTRED,string,2);
	return 1;
}
cmd:unfreezerange(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new range,string[256];
	new count = 0;
	if(sscanf(params, "i",range)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /unfreezerange <Range>");
	for(new i = 0; i < MAX_PLAYERS; i ++) {
		if (ProxDetectorS(range, playerid, i)) {
			TogglePlayerControllable(i, 1);
			count++;
		}
	}
	format(string, sizeof(string), "AdmCmd: %s a folosit /unfreezerange si a dezghetat %d jucatori.", GetName(playerid),count);
	SendAdminMessage(COLOR_LIGHTRED,string,2);
	return 1;
}
cmd:disarmrange(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 2) return SendClientMessage(playerid, COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new range,string[256];
	new count = 0;
	if(sscanf(params, "i",range)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /disarmrange <Range>");
	for(new i = 0; i < MAX_PLAYERS; i ++) {
		if (ProxDetectorS(range, playerid, i)) {
			ResetPlayerWeaponsEx(i);
    		ResetPlayerWeapons(i);
    		count++;
	 	}
  	}
  	format(string, sizeof(string), "AdmCmd: %s a folosit /disarmrange si a dezarmat %d jucatori.", GetName(playerid), count);
    SendAdminMessage(COLOR_LIGHTRED,string,2);
	return 1;
}
cmd:gunrange(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 2) return SendClientMessage(playerid, COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new range,gun,ammo,string[256],count=0;
	if(sscanf(params, "iii", range, gun, ammo)) return SCM(playerid, COLOR_SYNTAX, "Syntax: /gunrange <Range> <GunID> <Ammo>");
    foreach(Player, i) {
		if(IsPlayerConnected(i) && ProxDetectorS(range, playerid, i)) count++;
	}
    if(gun < 1||gun > 46||gun==19||gun==20||gun==21||gun==45) return SCM(playerid,COLOR_WHITE,"Invalid weapond ID.");
    if(ammo <1||ammo > 1000) return SCM(playerid,COLOR_WHITE,"Invalid ammo (1-1000).");
	foreach(Player,i) {
		if(IsPlayerConnected(i)) {
			if(ProxDetectorS(range, playerid, i)) {
				GivePlayerWeaponEx(i, gun, ammo);
				if(GetPlayerState(i) == PLAYER_STATE_PASSENGER) {
		        	new gun2,tmp;
		        	GetPlayerWeaponData(i,5,gun2,tmp);
		        	#pragma unused tmp
		        	if(gun2) {
						SetPlayerArmedWeapon(i,gun2);
					}
		        	else {
						SetPlayerArmedWeapon(i,0);
					}
				}
			}
		}
	}
	format(string, sizeof(string), "AdmCmd: %s a folosit /gunrange si a oferit un %s la %d jucatori.", GetName(playerid),GunNames[gun],count);
	SendAdminMessage(COLOR_LIGHTRED,string,2);
	return 1;
}
cmd:armourrange(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 2) return SendClientMessage(playerid, COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new range,string[256],arm;
	new count = 0;
	if(sscanf(params, "ii", range,arm)) return SCM(playerid, COLOR_SYNTAX, "Syntax: /armourrange <Range> <Procent>");
	for(new i = 0; i < MAX_PLAYERS; i ++)
	{
		if (ProxDetectorS(range, playerid, i)) {
			SetPlayerArmourEx(i, arm);
			count++;
		}
	}
	format(string, 256, "AdmCmd: %s a folosit /armourrange si a oferit armura la %d jucatori.", GetName(playerid), count);
	SendAdminMessage(COLOR_LIGHTRED,string,2);
	return 1;
}
cmd:healrange(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 2) return SendClientMessage(playerid, COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new range,string[256],heal;
	new count = 0;
	if(sscanf(params, "ii", range,heal)) return SCM(playerid, COLOR_SYNTAX, "Syntax: /healrange <Range> <Procent>");
	for(new i = 0; i < MAX_PLAYERS; i ++) {
		if(ProxDetectorS(range, playerid, i)) {
			SetPlayerHealthEx(i, heal);
			count++;
		}
	}
 	format(string, 256, "AdmCmd: %s a folosit /healrange si a dat viata la %d jucatori.", GetName(playerid),count);
	SendAdminMessage(COLOR_LIGHTRED,string,2);
	return 1;
}
cmd:skick(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new id,string[100];
	if(PlayerInfo[playerid][pAdmin]  < 2) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
 	if(sscanf(params, "u", id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /skick <Nume/Playerid>");
 	if(id == INVALID_PLAYER_ID) return SCM(playerid, COLOR_GREY, "Acel jucator nu este conectat.");
 	if(PlayerInfo[id][pAdmin] == 7) return 1;
	KickEx(id);
	format(string,sizeof(string),"AdmCmd: %s a primit sKick de la %s.",GetName(id),GetName(playerid));
	SendAdminMessage(COLOR_LOGS,string,1);
	return 1;
}
cmd:kick(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new id, reason[128], string[256], sendername[25], giveplayer[25];
	if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(sscanf(params, "us[128]", id, reason)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /kick <Nume/Playerid> <Reason>");
    if(id != INVALID_PLAYER_ID) {
        if(PlayerInfo[id][pAdmin] == 7) return 1;
		GetPlayerName(id, giveplayer, sizeof(giveplayer));
		GetPlayerName(playerid, sendername, sizeof(sendername));
		format(string, sizeof(string), "AdmCmd: %s a primti kick de la %s, motiv: %s", giveplayer, sendername, reason);
		Adminlog(string);
		format(string, sizeof(string), "AdmCmd: %s a primti kick de la %s, motiv: %s", giveplayer, sendername, reason);
		SendClientMessageToAll(COLOR_LIGHTRED, string);
		InsereazaSanctiune(id, playerid, KICK, reason);	
		KickEx(id);
	}
	else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:rveh(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new car;
    if(sscanf(params, "d",car)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /rveh <Vehicle ID>");
	new bool:unwanted[CAR_AMOUNT];
    for(new player=0; player<MAX_PLAYERS; player++) {
         if(IsPlayerInAnyVehicle(player)) {
		 	unwanted[GetPlayerVehicleID(player)]=true;
		 }
 	}
	if(!unwanted[car]) SetVehicleToRespawn(car);
	return 1;
}
cmd:rac(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new string[200];
	if(PlayerInfo[playerid][pAdmin] < 3) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	SetTimer("Rac", 10000, 0);
	format(string,200,"(( %s: Toate vehiculele vor fi respawnate in 10 secunde ))",GetName(playerid));
	SendClientMessageToAll(COLOR_OOC,string);
	return 1;
}
alias:respawn("spawn");
cmd:respawn(playerid, params[]) {
 	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,sendername[30],giveplayer[30],string[100];
	if(sscanf(params, "u", id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /(re)spawn <Nume/Playerid>"); {
		if(IsPlayerConnected(id)) {
		    if(id != INVALID_PLAYER_ID) {
				GetPlayerName(id, giveplayer, sizeof(giveplayer));
				SpawnPlayer(id);
				GetPlayerName(playerid, sendername, sizeof(sendername));
				format(string, 256, "AdmCmd: %s l-a respawnat pe %s.", sendername, giveplayer);
				SendAdminMessage(COLOR_LOGS,string,1);
				format(string, sizeof(string), "* Ai primit respawn de la %s", sendername);
				SendClientMessage(id, COLOR_LIGHTBLUE, string);
				return 1;
			}
		}
        else return SCM(playerid,COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	return 1;
}
cmd:fillup(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER) {
		if(GetPVarInt(playerid, "Engine") == 0) {
		    if(IsAtGasStation(playerid)) {
				new idcar = GetPlayerVehicleID(playerid),fillgas,procent,fillupmon,string[100];
				if(sscanf(params, "i", fillgas)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /fillup <Gas Procent>");
				procent = fillgas + Gas[idcar];
				fillupmon = GasMax - Gas[idcar];
				fillupmon = fillupmon * 100;
				if(GetPlayerCash(playerid) < fillupmon) return SCM(playerid,COLOR_GREY, "Not enough money to fill the tank.");
				if(procent > 100) return SCM(playerid,COLOR_GREY, "Your car tank with procent is full.");
				else if(procent <= 100) {
                    TogglePlayerControllable(playerid, 0);
                    Gas[idcar] += fillgas;
                    BizzInfo[13][bBalance] += fillupmon;
                    GivePlayerCash(playerid, - fillupmon);
                    format(string, sizeof(string), "Ti-ai facut plinul cu %d procente si ai platit %s$.", fillgas, FormatNumber(fillupmon));
                    SCM(playerid,COLOR_LIGHTBLUE,string);
                    TogglePlayerControllable(playerid, 1);
                    new str[184];
					Update(playerid, pCashx);
			    	format(str,sizeof(str),"UPDATE `bizz` SET `Till`='%d' WHERE `ID`='13'",BizzInfo[13][bBalance]);
					mysql_query(SQL,str);
			    }
		    }
		    else return SendClientMessage(playerid,COLOR_GREY, "Nu esti la o benzinarie.");
	    }
	    else return SendClientMessage(playerid,COLOR_GREY, "Motorul este pornit, opreste-l.");
	}
    return 1;
}
cmd:lc(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pLeader] < 1) return SCM(playerid,COLOR_BZWHITE,"Eroare: Nu esti lider."); {
	    if(PlayerInfo[playerid][pMuted] == 1) {
		    new string[500];
			format(string, sizeof(string), "Nu poti scrie pe chat sau folosi comenzi deoarece ai mute timp de %d secunde.",PlayerInfo[playerid][pMuteTime]);
			SendClientMessage(playerid, COLOR_LIGHTRED, string);
			return 1;
		}
		if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		new sendername[30],mesajelc[250],string[250];
       	GetPlayerName(playerid, sendername, sizeof(sendername));
    	if(sscanf(params, "s[250]",mesajelc)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /lc <Message>");
    	if(PlayerInfo[playerid][pLeader] >= 1)
    	{
			format(string, sizeof(string), "%s Leader %s: %s",NumeFactiune(PlayerInfo[playerid][pLeader]), sendername, mesajelc);
     		LeaderChat(COLOR_SERVER, string);
    	}
	}
	return 1;
}
cmd:fveh(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new fid, string[5000],fname[5000];
	if(sscanf(params, "i", fid)) return SCM(playerid, COLOR_SYNTAX, "Syntax: /fveh <Faction ID>");
	if(fid < 1 || fid > serverfactions) return SCM(playerid, COLOR_GREY, "Invalid faction!");
	format(fname, sizeof(fname), "(%d) %s's vehicles:", fid,NumeFactiune(fid));
	for(new v = 0; v < MAX_SVEHICLES; v++) {	
		if(ServerVehicles[v][vFaction] == fid) {
			format(string, sizeof(string), "%s ID: %d | Rank: %d | Model: %s(%d)\n", string, v,ServerVehicles[v][vRank],aVehicleNames[ServerVehicles[v][vModel]-400],ServerVehicles[v][vModel]);
		}
	}
	ShowPlayerDialog(playerid,DIALOG_FVEH,DIALOG_STYLE_MSGBOX,fname,string,"Close","");
	return 1;
}
cmd:fcolors(playerid,params[]) {
   	if(IsPlayerLogged[playerid] == 0) return 1;
   	new string[1000];
	if(PlayerInfo[playerid][pAdmin] < 5) return SCM(playerid,COLOR_ERROR,AdminOnly);
	for(new i = 1; i < 26; i++) {
		format(string,sizeof(string),"%s %s(%d) - %s\n",string,NumeFactiune(i),i,DynamicFactions[i][fFactionColor]);
	}
	ShowPlayerDialog(playerid,0,DIALOG_STYLE_MSGBOX,"Faction Colors:",string,"Close","");
	return 1;
}
cmd:franknames(playerid,params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new string[1000],fname[50],fid;
	if(sscanf(params, "i", fid)) return SCM(playerid, COLOR_SYNTAX, "Syntax: /franknames <Faction ID>");
	if(fid < 1 || fid > serverfactions) return SCM(playerid, COLOR_GREY, "Invalid faction!");
	format(fname,50,"%s's rank names:",NumeFactiune(fid));
	for(new i = 0; i <= 6; i++) {
		format(string,400,"%s - Rank %d: %s\n",string,i+1,fRankNames[fid][i]);
	}
	ShowPlayerDialog(playerid,0,DIALOG_STYLE_MSGBOX,fname,string,"Close","");
	return 1;
}
cmd:fids(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new string[1000],totalname[999];
	for(new v = 1; v <= serverfactions; v++) {
		format(string, sizeof(string), "%s - %s(%d)\n", string,DynamicFactions[v][fName],v);
	}
	format(totalname,999,"Acestea sunt ID-urile factiunilor noastre:\n\n%s",string);
	ShowPlayerDialog(playerid,DIALOG_FVEH,DIALOG_STYLE_MSGBOX,"Faction IDs",totalname,"Close","");
	return 1;
}
cmd:vstats(playerid, params[])	{
    if(IsPlayerLogged[playerid] == 0) return 1;
	new string[128],dialog[900];
	if(PlayerInfo[playerid][pAdmin] < 6) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(!IsPlayerInAnyVehicle(playerid)) return SCM(playerid, COLOR_BZWHITE, "Eroare: Trebuie sa fii intr-un vehicul.");
	new tmpcar = GetPlayerVehicleID(playerid);
	if(ServerVehicles[tmpcar][vID] == 0) return 1;
	format(string,sizeof(string),"{A9C4E4}Vehicle ID: {FFFFFF}%d\n",ServerVehicles[tmpcar][vID]);
	strcat(dialog, string);
	format(string,sizeof(string),"{A9C4E4}Model: {FFFFFF}%s(%d)\n",aVehicleNames[ServerVehicles[tmpcar][vModel]-400],ServerVehicles[tmpcar][vModel]);
	strcat(dialog, string);
	format(string,sizeof(string),"{A9C4E4}Position: {FFFFFF}X: %f Y: %f Z: %f\n", ServerVehicles[tmpcar][vLocation][0], ServerVehicles[tmpcar][vLocation][1], ServerVehicles[tmpcar][vLocation][2]);
	strcat(dialog, string);
	format(string,sizeof(string),"{A9C4E4}Angle: {FFFFFF}%f\n",ServerVehicles[tmpcar][vAngle]);
	strcat(dialog, string);
	format(string,sizeof(string),"{A9C4E4}Color One: {FFFFFF}%d | {A9C4E4}Two: {FFFFFF}%d\n",ServerVehicles[tmpcar][vColor][0], ServerVehicles[tmpcar][vColor][1]);
	strcat(dialog, string);
	format(string,sizeof(string),"{A9C4E4}Faction: {FFFFFF}%s(%d) | {A9C4E4}Rank: {FFFFFF}%d\n",NumeFactiune(ServerVehicles[tmpcar][vFaction]),ServerVehicles[tmpcar][vFaction],ServerVehicles[tmpcar][vRank]);
	strcat(dialog, string);
	ShowPlayerDialog(playerid, DIALOG_VSTATS,DIALOG_STYLE_MSGBOX,"Vehicle Info:",dialog,"Close","");
	return 1;
}
cmd:fvr(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    new string[500];
    if(PlayerInfo[playerid][pMember] == 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte dintr-o factiune.");
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
  	if(PlayerInfo[playerid][pRank] < 5) return SCM(playerid,COLOR_GREY,"Nu ai rank 5+");
	for(new v = 0; v < MAX_SVEHICLES; v++) {
		if(ServerVehicles[v][vFaction] == PlayerInfo[playerid][pMember]) {
			if(!IsVehicleOccupied(v)) SetVehicleToRespawn(v), Gas[v] = 100;
		}

	}
	if(PlayerInfo[playerid][pRank] == 7) {
	    format(string,sizeof(string),"Liderul %s a respawnat toate masinile factiunii.",GetName(playerid));
		SendTeamMessage(PlayerInfo[playerid][pMember], COLOR_LIGHTBLUE1, string);
	}
	else if(PlayerInfo[playerid][pRank] >= 5 && PlayerInfo[playerid][pRank] < 7) {
	    format(string,sizeof(string),"%s %s a respawnat toate masinile factiunii.",GetRankName(playerid),GetName(playerid));
		SendTeamMessage(PlayerInfo[playerid][pMember], COLOR_LIGHTBLUE1, string);
	}
    return 1;
}
stock ShowRaports(playerid) {
	if(PlayerInfo[playerid][pMember] + PlayerInfo[playerid][pLeader] == 0) return 1;
	new szQuery[256], string[256], MemberString[1500], szResult[256];
	new name[256], cmds[256], rank[256], fw[256];
	format(szQuery, sizeof(szQuery), "SELECT * FROM `users` WHERE `users`.`Member` = '%d' AND `Rank` != '7' ORDER BY `users`.`Rank` ASC LIMIT 50", PlayerInfo[playerid][pMember]);
	new Cache: result = mysql_query(SQL, szQuery);


    strcat(MemberString, "Nume\tRank\tRaport\tStatus\n");
	for(new i, j = cache_get_row_count (); i != j; ++i)
	{
		cache_get_field_content(i, "name", szResult); format(name, 256, szResult);
		cache_get_field_content(i, "Commands", szResult); format(cmds, 256, szResult);
		cache_get_field_content(i, "Rank", szResult); format(rank, 256, szResult);
		cache_get_field_content(i, "FWarn", szResult);  format(fw, 256, szResult);
		
		format(string, sizeof(string), "%s\t%d\t%d/%d\t%s\n", name, strval(rank), strval(cmds), GetNeedPointsR2(strval(rank), PlayerInfo[playerid][pMember]), (GetNeedPointsR2(strval(rank), PlayerInfo[playerid][pMember])-strval(cmds) <= 0) ? ("{0DFF00}Terminat{FFFFFF}") : ("{FF0000}Neterminat{FFFFFF}"));
        strcat(MemberString, string);
	}
	cache_delete(result);
	ShowPlayerDialog(playerid, 0, DIALOG_STYLE_TABLIST_HEADERS, "Raports", MemberString, "Select", "Cancel");
	return 1;
}
cmd:members(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMember] >= 1 && PlayerInfo[playerid][pRank] >= 1) {
		if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		if(PlayerInfo[playerid][pMember] == 7) return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte dintr-o factiune.");
		new aim[1000],query[300],test[300],aimtotal[1000],idd = 0,mid = 0,count = 0,result[300],rank,status,laston[900],test3[600],test2;
		format(query, sizeof(query), "SELECT * FROM `users` WHERE `Member` = '%d' AND `Admin` < 4 ORDER BY `Rank` DESC LIMIT 50", PlayerInfo[playerid][pMember]);
		new Cache: membresult = mysql_query(SQL, query);
		for(new i, j = cache_get_row_count (); i != j; ++i) {
			cache_get_field_content(i, "name", result); format(test, 300, result);
			cache_get_field_content(i, "lastOn", result); format(laston, 300, result);
			idd = cache_get_field_content_int(i, "id");
			test2 = cache_get_field_content_int(i, "FWarn");
			rank = cache_get_field_content_int(i, "Rank");
			status = cache_get_field_content_int(i, "Status");
			Selected[playerid][mid] = idd;
			if(status == 1) {
				if(rank != 7) {
					format(aim, sizeof(aim), "%s%s\tOnline\t%d\t%d/3\n",aim, test, rank,test2);
				}
				else {
				    format(aim, sizeof(aim), "%s%s\tOnline\tLeader\tN/A\n",aim, test);
				}
				count++;
			}
			else if(status == 0) {
				if(rank != 7) {
					format(aim, sizeof(aim), "%s%s\t%s\t%d\t%d/3\n", aim, test, laston,rank,test2);
				}
				else {
				    format(aim, sizeof(aim), "%s%s\t%s\tLeader\tN/A\n", aim, test,laston);
				}
			}
			else if(status == 2) {
				if(rank != 7) {
					format(aim, sizeof(aim), "%s%s\tAFK\t%d\t%d/3\n",aim, test, rank,test2);
				}
				else {
				    format(aim, sizeof(aim), "%s%s\tAFK\tLeader\tN/A\n",aim, test);
				}
				count++;
			}
			mid++;
		}
		if(mid == 0) return SCM(playerid,COLOR_GREY,"Nu exista membrii disponibili.");
		cache_delete(membresult);
		format(test3,sizeof(test3),"Membri: %d/%d Conectati (%d sloturi)",count,mid++,DynamicFactions[PlayerInfo[playerid][pMember]][fMaxMembers]);
		format(aimtotal, sizeof(aimtotal), "Name\tActive\tRank\tFaction Warns\n%s",aim);
		if(PlayerInfo[playerid][pRank] == 7) {
			ShowPlayerDialog(playerid,DIALOG_MEMBERS,DIALOG_STYLE_TABLIST_HEADERS,test3,aimtotal,"Select","Close");
		}
		else {
		    ShowPlayerDialog(playerid,0,DIALOG_STYLE_TABLIST_HEADERS,test3,aimtotal,"Close","");
		}
	}
	else return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte dintr-o factiune.");
	return 1;
}
cmd:stockfcolors(playerid,params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	ShowPlayerDialog(playerid,DIALOG_FSTOCKC,DIALOG_STYLE_MSGBOX,"Restaureaza culorile factiunilor:","Vrei sa resetezi culorile factiunilor in cele default?","Yes","Close");
	return 1;
}
cmd:raports(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMember] == 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte dintr-o factiune.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	ShowRaports(playerid);
	return 1;
}
cmd:warn(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid,COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,reason[128],string[200],giveplayer[30],sendername[30];
	if(sscanf(params, "us[128]", id, reason)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /warn <Nume/Playerid> <Reason>");
    if(IsPlayerConnected(id)) {
        new ip[25];
	    GetPlayerIp(id, ip, sizeof(ip));
        if(id != INVALID_PLAYER_ID) {
            if(PlayerInfo[id][pAdmin] == 7) return 1;
		    GetPlayerName(id, giveplayer, sizeof(giveplayer));
			GetPlayerName(playerid, sendername, sizeof(sendername));
			PlayerInfo[id][pWarns] += 1;
			format(string, sizeof(string), "AdmCmd: %s a primit o avertizare de la %s, motiv: %s", giveplayer, sendername, reason);
			SendClientMessageToAll(COLOR_LIGHTRED, string);
			format(string, sizeof(string), "AdmCmd: %s a primit o avertizare de la %s, motiv: %s", giveplayer, sendername, reason);
			Adminlog(string);
			Update(id,pWarnsx);
			if(PlayerInfo[id][pWarns] >= 3) {
			    new year,month,day;
			    getdate(year, month, day);
			    day += 2;
			    if (IsMonth31(month)) {
			        if (day > 31) {
			            month += 1;
			            if (month > 12) {
			                year += 1;
			                while(day > 31) day -= 31;
			            }
			            else while(day > 31) day -= 31;
			        }
			    }
			    else if (!IsMonth31(month)) {
			        if (day > 30) {
			            month += 1;
			            if (month > 12) {
			                year += 1;
			                while(day > 30) day -= 30;
			            }
			            else while(day > 30) day -= 30;
			        }
			    }
			    else if (!IsMonth31(month) && IsMonth29(year) && month == 2) {
			        if (day > 29) {
			            month += 1;
			            if (month > 12) {
			                year += 1;
			                while(day > 29) day -= 29;
			            }
			            else while(day > 29) day -= 29;
			        }
			    }
			    else if (!IsMonth31(month) && !IsMonth29(year) && month == 2) {
			        if (day > 28) {
			            month += 1;
			            if (month > 12) {
			                year += 1;
			                while(day > 28) day -= 28;
			            }
			            else while(day > 28) day -= 28;
			        }
			    }
				PlayerInfo[id][pBTemp] = 1;
				PlayerInfo[id][pBYear] = year;
				PlayerInfo[id][pBMonth] = month;
				PlayerInfo[id][pBDay] = day;
				strmid(PlayerInfo[id][pBBy], GetName(playerid), 0, strlen(GetName(playerid)), 255);
				strmid(PlayerInfo[id][pBReason], reason, 0, strlen(reason), 255);
				Update(id,pBTempx);
				Update(id,pBYearx);
				Update(id,pBMonthx);
				Update(id,pBDayx);
				Update(id,pBByx);
				Update(id,pBReasonx);
				PlayerInfo[id][pWarns] = 0;
				Update(id,pWarnsx);
				format(string, sizeof(string), "AdmCmd: %s a fost banat de AdmBot (3/3 avertizari) pentru 2 zile, motiv: %s", giveplayer,reason);
				SendClientMessageToAll(COLOR_LIGHTRED, string);
				Banlog(ip,GetName(id),GetName(playerid),"3 Warnings",2);
				KickEx(id);
				InsereazaSanctiune(id, playerid, BAN, "3/3 warns");
			}
			InsereazaSanctiune(id, playerid, WARN, reason);
			Warnlog(ip,PlayerInfo[id][pSQLID],PlayerInfo[playerid][pSQLID],reason);
		}
	}
    else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:warno(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid,COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id[25],reason[128],string[200],sendername[30],cont;
	if(sscanf(params, "s[25]s[128]", id, reason)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /warno <Name> <Reason>");
    cont = MySQLCheckAccount(id);
    if(cont == 0) return SCM(playerid,COLOR_GREY, "Acest nume nu exista in baza de date.");
	new intid,strid[32],str1[184];
	format(str1, sizeof(str1), "SELECT `Warnings` FROM users WHERE `name`='%s'",id);
	mysql_query(SQL,str1);
	mysql_store_result();
	mysql_fetch_row(strid);
	intid = strval(strid);
    mysql_free_result();
    intid++;
	GetPlayerName(playerid, sendername, sizeof(sendername));
	format(string, sizeof(string), "Offline: AdmCmd: %s a primit o avertizare de la %s, motiv: %s",id, sendername, reason);
	SendClientMessageToAll(COLOR_LIGHTRED, string);
	new str[256];
	if(intid >= 3) {
	    new year,month,day;
	    getdate(year, month, day);
	    day += 2;
	    if (IsMonth31(month)) {
	        if (day > 31) {
	            month += 1;
	            if (month > 12) {
	                year += 1;
	                while(day > 31) day -= 31;
	            }
	            else while(day > 31) day -= 31;
	        }
	    }
	    else if (!IsMonth31(month)) {
	        if (day > 30) {
	            month += 1;
	            if (month > 12) {
	                year += 1;
	                while(day > 30) day -= 30;
	            }
	            else while(day > 30) day -= 30;
	        }
	    }
	    else if (!IsMonth31(month) && IsMonth29(year) && month == 2) {
	        if (day > 29) {
	            month += 1;
	            if (month > 12)
	            {
	                year += 1;
	                while(day > 29) day -= 29;
	            }
	            else while(day > 29) day -= 29;
	        }
	    }
	    else if (!IsMonth31(month) && !IsMonth29(year) && month == 2) {
	        if (day > 28) {
	            month += 1;
	            if (month > 12)
	            {
	                year += 1;
	                while(day > 28) day -= 28;
	            }
	            else while(day > 28) day -= 28;
	        }
	    }
		format(string, sizeof(string), "AdmCmd: %s a fost banat de AdmBot (3/3 avertizari) pentru 2 zile, motiv: %s",id,reason);
		SendClientMessageToAll(COLOR_LIGHTRED, string);
		Banlog("Offline",id,GetName(playerid),"3 Warnings",2);
		new var[184];
		format(var, sizeof(var), "UPDATE `users` SET `BTemp`='1' WHERE `name`='%s'",id);
		mysql_query(SQL ,var);
		format(var, sizeof(var), "UPDATE `users` SET `BYear`='%d' WHERE `name`='%s'",year, id);
		mysql_query(SQL ,var);
		format(var, sizeof(var), "UPDATE `users` SET `BMonth`='%d' WHERE `name`='%s'",month, id);
		mysql_query(SQL ,var);
		format(var, sizeof(var), "UPDATE `users` SET `BDay`='%d' WHERE `name`='%s'",day, id);
		mysql_query(SQL ,var);
		format(var, sizeof(var), "UPDATE `users` SET `BBy`='%s' WHERE `name`='%s'",sendername, id);
		mysql_query(SQL ,var);
		format(var, sizeof(var), "UPDATE `users` SET `BReason`='%s' WHERE `name`='%s'",reason, id);
		mysql_query(SQL ,var);
		intid = 0;
	}
	format(str,sizeof(str),"UPDATE users SET `Warnings`='%d' WHERE `name`='%s'",intid,id);
	mysql_query(SQL,str);
	Warnlog("Offline",cont,PlayerInfo[playerid][pSQLID],reason);
	return 1;
}
cmd:unwarn(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,string[200],giveplayer[30],sendername[30];
	if(sscanf(params, "u", id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /unwarn <Nume/Playerid>");
    if(IsPlayerConnected(id)) {
        if(id != INVALID_PLAYER_ID) {
			if(PlayerInfo[id][pWarns] > 0) {
		    	GetPlayerName(id, giveplayer, sizeof(giveplayer));
				GetPlayerName(playerid, sendername, sizeof(sendername));
				PlayerInfo[id][pWarns] -= 1;
				format(string, sizeof(string), "I-ai sters o avertizare lui %s.", giveplayer);
	            SendClientMessage(playerid, COLOR_LIGHTRED, string);
		        format(string, sizeof(string), "%s ti-a sters o averitzare.", sendername);
		        SendClientMessage(id, COLOR_LIGHTRED, string);
	            format(string, sizeof(string), "AdmCmd: %s i-a sters o avertizare lui %s.", sendername, giveplayer);
	            Adminlog(string);
                Update(id,pWarnsx);
				return 1;
			}
			else return SCM(playerid, COLOR_GREY, "Player does not have warn.");
		}
	}
	else return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:banex(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new name[MAX_PLAYER_NAME];
	if(PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid,COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new giveplayerid,days,reason[128],string[128],giveplayer[25];
	if(sscanf(params, "uds[128]", giveplayerid,days,reason)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /banex <Nume/Playerid> <Days> <Reason>");
	if(IsPlayerConnected(giveplayerid)) {
		if(days <= 0 || days > 1000) return SendClientMessage(playerid, COLOR_GREY, "Invalid Day! (1-1000)");
		GetPlayerName(playerid, name, sizeof name);
		GetPlayerName(giveplayerid, giveplayer, sizeof(giveplayer));
		if(PlayerInfo[giveplayerid][pAdmin] == 7) return 1;
		if(PlayerInfo[giveplayerid][pAdmin] > PlayerInfo[playerid][pAdmin]) return SCM(playerid, -1, "Acel player are admin-ul mai mare ca tine!");
	    new year,month,day;
	    getdate(year, month, day);
	    day += days;
	    if (IsMonth31(month)) {
	        if (day > 31) {
	            month += 1;
	            if (month > 12) {
	                year += 1;
	                while(day > 31) day -= 31;
	            }
	            else while(day > 31) day -= 31;
	        }
	    }
	    else if (!IsMonth31(month)) {
	        if (day > 30) {
	            month += 1;
	            if (month > 12) {
	                year += 1;
	                while(day > 30) day -= 30;
	            }
	            else while(day > 30) day -= 30;
	        }
	    }
	    else if (!IsMonth31(month) && IsMonth29(year) && month == 2) {
	        if (day > 29) {
	            month += 1;
	            if (month > 12)
	            {
	                year += 1;
	                while(day > 29) day -= 29;
	            }
	            else while(day > 29) day -= 29;
	        }
	    }
	    else if (!IsMonth31(month) && !IsMonth29(year) && month == 2) {
	        if (day > 28) {
	            month += 1;
	            if (month > 12)
	            {
	                year += 1;
	                while(day > 28) day -= 28;
	            }
	            else while(day > 28) day -= 28;
	        }
	    }
		PlayerInfo[giveplayerid][pBTemp] = 1;
		PlayerInfo[giveplayerid][pBYear] = year;
		PlayerInfo[giveplayerid][pBMonth] = month;
		PlayerInfo[giveplayerid][pBDay] = day;
		strmid(PlayerInfo[giveplayerid][pBBy], name, 0, strlen(name), 255);
		strmid(PlayerInfo[giveplayerid][pBReason], reason, 0, strlen(reason), 255);
		Update(giveplayerid,pBTempx);
		Update(giveplayerid,pBYearx);
		Update(giveplayerid,pBMonthx);
		Update(giveplayerid,pBDayx);
		Update(giveplayerid,pBByx);
		Update(giveplayerid,pBReasonx);
		if(days == 1) {
			format(string,128,"AdmCmd: %s a primit ban de la %s pentru %d zi, motiv: %s",giveplayer,name,days,reason);
			SendClientMessageToAll(COLOR_LIGHTRED,string);
		}
		else if(days > 1) {
			format(string,128,"AdmCmd: %s a primit ban de la %s pentru %d zile, motiv: %s",giveplayer,name,days,reason);
			SendClientMessageToAll(COLOR_LIGHTRED,string);
		}
		new ip[25];
    	GetPlayerIp(giveplayerid, ip, sizeof(ip));
		Banlog(ip,GetName(giveplayerid),GetName(playerid),reason,days);
		KickEx(giveplayerid);
		InsereazaSanctiune(giveplayerid, playerid, BAN, reason);
	}
	else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:banexo(playerid, params[]) {
    new name[MAX_PLAYER_NAME];
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid,COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new giveplayerid[25],days,reason[128],string[128],cont;
	if(sscanf(params, "s[25]ds[128]", giveplayerid,days,reason)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /banexo <Name> <Days> <Reason>");
	if(days <= 0 || days > 1000) return SendClientMessage(playerid, COLOR_GREY, "Invalid Day! (1-1000)");
    cont = MySQLCheckAccount(giveplayerid);
    if(cont == 0) return SCM(playerid,COLOR_GREY, "Acest nume nu exista in baza de date.");
	GetPlayerName(playerid, name, sizeof name);
    new year,month,day;
    getdate(year, month, day);
    day += days;
    if (IsMonth31(month)) {
        if (day > 31) {
            month += 1;
            if (month > 12)
            {
                year += 1;
                while(day > 31) day -= 31;
            }
            else while(day > 31) day -= 31;
        }
    }
    else if (!IsMonth31(month)) {
        if (day > 30) {
            month += 1;
            if (month > 12) {
                year += 1;
                while(day > 30) day -= 30;
            }
            else while(day > 30) day -= 30;
        }
    }
    else if (!IsMonth31(month) && IsMonth29(year) && month == 2) {
        if (day > 29) {
            month += 1;
            if (month > 12)
            {
                year += 1;
                while(day > 29) day -= 29;
            }
            else while(day > 29) day -= 29;
        }
    }
    else if (!IsMonth31(month) && !IsMonth29(year) && month == 2) {
        if (day > 28) {
            month += 1;
            if (month > 12) {
                year += 1;
                while(day > 28) day -= 28;
            }
            else while(day > 28) day -= 28;
        }
    }
	new y,m,d;
	getdate(y,m,d);
	new var[184];
	format(var, sizeof(var), "UPDATE `users` SET `BTemp`='1' WHERE `name`='%s'",giveplayerid);
	mysql_query(SQL ,var);
	format(var, sizeof(var), "UPDATE `users` SET `BYear`='%d' WHERE `name`='%s'",y,giveplayerid);
	mysql_query(SQL ,var);
	format(var, sizeof(var), "UPDATE `users` SET `BMonth`='%d' WHERE `name`='%s'",m, giveplayerid);
	mysql_query(SQL ,var);
	format(var, sizeof(var), "UPDATE `users` SET `BDay`='%d' WHERE `name`='%s'",day, giveplayerid);
	mysql_query(SQL ,var);
	format(var, sizeof(var), "UPDATE `users` SET `BBy`='%s' WHERE `name`='%s'",name, giveplayerid);
	mysql_query(SQL ,var);
	format(var, sizeof(var), "UPDATE `users` SET `BReason`='%s' WHERE `name`='%s'",reason, giveplayerid);
	mysql_query(SQL ,var);
	if(days == 1) {
		format(string,128,"Offline: AdmCmd: %s a primit ban de la %s pentru %d zi, motiv: %s",giveplayerid,name,days,reason);
		SendClientMessageToAll(COLOR_LIGHTRED,string);
	}
	else if(days > 1) {
		format(string,128,"Offline: AdmCmd: %s a primit ban de la %s pentru %d zile, motiv: %s",giveplayerid,name,days,reason);
		SendClientMessageToAll(COLOR_LIGHTRED,string);
	}
	Banlog("Offline",giveplayerid,GetName(playerid),reason,days);
	return 1;
}
cmd:ban(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,reason[128],string[200],giveplayer[30],sendername[30],type,str[128];
	if(sscanf(params, "uds[128]", id,type,reason)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /ban <Nume/Playerid> <Type(1-Normal 2-Permanent)> <Reason>");
	if(IsPlayerConnected(id)) {
	    if(id != INVALID_PLAYER_ID) {
			GetPlayerName(id, giveplayer, sizeof(giveplayer));
			GetPlayerName(playerid, sendername, sizeof(sendername));
			if(PlayerInfo[id][pAdmin] == 7) return 1;
			if(PlayerInfo[id][pAdmin] > PlayerInfo[playerid][pAdmin])
			    return SCM(playerid, -1, "Acel player are admin-ul mai mare ca tine!");
			if(type == 1) {
				format(string, sizeof(string), "AdmCmd: %s a primit ban de la %s, motiv: %s", giveplayer, sendername, reason);
				SendClientMessageToAll(COLOR_LIGHTRED, string);
				PlayerInfo[id][pBanned] = 1;
                SendClientMessage(id,COLOR_LIGHTRED,"[BAN INFO]: Poti face o cerere de unban pe forumul nostru.");
                SendClientMessage(id,COLOR_LIGHTRED,"[HINT]: Te sfatuim sa faci o poza la aceste informatii,si sa o postezi cand faci cerere unban.Apasa F8 pentru a face poza.");
				format(str,sizeof(str),"UPDATE users SET `Banned`='1' WHERE `ID`='%d'",PlayerInfo[id][pSQLID]);
				mysql_query(SQL,str);
				new ip[25];
		    	GetPlayerIp(id, ip, sizeof(ip));
				Banlog(ip,GetName(id),GetName(playerid),reason,0);
				KickEx(id);
			}
			else if(type == 2) {
				format(string, sizeof(string), "AdmCmd: %s a primit ban de la %s, motiv: %s", giveplayer, sendername, reason);
				SendClientMessageToAll(COLOR_LIGHTRED, string);
				PlayerInfo[id][pBanned] = 1;
                SendClientMessage(id,COLOR_LIGHTRED,"[BAN INFO]: Poti face o cerere de unban pe forumul nostru.");
                SendClientMessage(id,COLOR_LIGHTRED,"[HINT]: Te sfatuim sa faci o poza la aceste informatii,si sa o postezi cand faci cerere unban.Apasa F8 pentru a face poza.");
    			format(str,sizeof(str),"UPDATE users SET `Banned`='1' WHERE `ID`='%d'",PlayerInfo[id][pSQLID]);
				mysql_query(SQL,str);
				new ip[25];
		    	GetPlayerIp(id, ip, sizeof(ip));
				Banlog(ip,GetName(id),GetName(playerid),reason,0);
				Ban(id);
			}
			InsereazaSanctiune(id, playerid, BAN, reason);
			return 1;
		}
	}
    else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:unbano(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pAdmin] < 5) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    new id[25],cont;
    if(sscanf(params, "s[25]", id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /unbanoff <Name>");
    cont = MySQLCheckAccount(id);
    if(cont == 0) return SCM(playerid,COLOR_GREY, "Acest nume nu exista in baza de date.");
	new str1[128];
	format(str1,sizeof(str1),"UPDATE users SET `Banned`='0' WHERE `name`='%s'",id);
	mysql_query(SQL,str1);
	return 1;
}
cmd:unbanex(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if (PlayerInfo[playerid][pAdmin] < 6) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    new id[25],cont;
    if(sscanf(params, "s[25]", id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /unbanex <Name>");
    cont = MySQLCheckAccount(id);
    if(cont == 0) return SCM(playerid,COLOR_GREY, "Acest nume nu exista in baza de date.");
	new str1[184];
	format(str1,sizeof(str1),"UPDATE users SET `BTemp`='0' WHERE `name`='%s'",id);
	mysql_query(SQL,str1);
	format(str1,sizeof(str1),"UPDATE users SET `BYear`='0' WHERE `name`='%s'",id);
	mysql_query(SQL,str1);
	format(str1,sizeof(str1),"UPDATE users SET `BMonth`='0' WHERE `name`='%s'",id);
	mysql_query(SQL,str1);
	format(str1,sizeof(str1),"UPDATE users SET `BDay`='0' WHERE `name`='%s'",id);
	mysql_query(SQL,str1);
	return 1;
}
cmd:setfpo(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pAdmin] < 5) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    new id[25],cont,fp;
    if(sscanf(params, "s[25]i",id,fp)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /setfp <Name> <FPunish>");
    cont = MySQLCheckAccount(id);
    if(cont == 0) return SCM(playerid,COLOR_GREY, "Acest nume nu exista in baza de date.");
	new str1[128];
	format(str1,sizeof(str1),"UPDATE users SET `FPunish`='%d' WHERE `name`='%s'",fp,id);
	mysql_query(SQL,str1);
	return 1;
}
cmd:setfp(playerid,params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pAdmin] < 5) return SCM(playerid,COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,fp;
	if(sscanf(params, "ud",id,fp)) return SCM(playerid, COLOR_SYNTAX, "Syntax: /setfp <Name/Playerid> <FPunish>");
	PlayerInfo[id][pFpunish] = fp;
    Update(id,pFpunishx);
    return 1;
}
cmd:bano(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    new id[25],cont,msg[80];
    if(sscanf(params, "s[25]s[80]", id,msg)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /bano <Name> <Reason>");
    cont = MySQLCheckAccount(id);
    if(cont == 0) return SCM(playerid,COLOR_GREY, "Acest nume nu exista in baza de date.");
    new sendername[25],string[75];
    GetPlayerName(playerid,sendername,sizeof(sendername));
    format(string, sizeof(string), "Offline: AdmCmd: %s a primit ban de la %s, motiv: %s", id, sendername,msg);
	SendClientMessageToAll(COLOR_LIGHTRED, string);
	new str1[184];
	format(str1,sizeof(str1),"UPDATE users SET `Banned`='1' WHERE `name`='%s'",id);
	mysql_query(SQL,str1);
	Banlog("Offline",id,GetName(playerid),msg,0);
	return 1;
}
cmd:muteo(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    new id[25],cont,msg[80],time;
    if(sscanf(params, "s[25]is[80]", id,time,msg)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /muteo <Name> <Time(Minutes)> <Reason>");
    cont = MySQLCheckAccount(id);
    if(cont == 0) return SCM(playerid,COLOR_GREY, "Acest nume nu exista in baza de date.");
    if(time <= 0) return SCM(playerid,COLOR_GREY, "Invalid mute time.");
    new sendername[25],string[184];
    GetPlayerName(playerid,sendername,sizeof(sendername));
    format(string, sizeof(string), "Offline: AdmCmd: %s a primit mute de la %s pentru %d minute, motiv: %s", id, sendername,time,msg);
	SendClientMessageToAll(COLOR_LIGHTRED, string);
	new timem = time*60;
	new str1[168];
	format(str1,sizeof(str1),"UPDATE users SET `Muted`='1',`MuteTime`='%d' WHERE `name`='%s'",timem,id);
	mysql_query(SQL,str1);
	Mutelog(cont,PlayerInfo[playerid][pSQLID],msg,time);
	return 1;
}
cmd:gmx(playerid, params[]) {
	if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	ShowPlayerDialog(playerid,DIALOG_GMX,DIALOG_STYLE_MSGBOX,"Server restart:","Esti sigur ca vrei sa restartezi serverul?","Restart","Close");
	return 1;
}
cmd:gunall(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new weaponid,ammo,string[100],sendername[30];
	if(sscanf(params, "ii", weaponid, ammo)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /gunall <Weapon ID> <Ammo>");
	GetPlayerName(playerid, sendername, sizeof(sendername));
	format(string, sizeof(string), "AdmCmd: %s a dat la toti arma %d.", sendername,weaponid);
	SendAdminMessage(COLOR_LOGS, string,4);
  	for(new i = 0; i <= MAX_PLAYERS; i++) {
		if(IsPlayerConnected(i)) {
			GivePlayerWeaponEx(i, weaponid, ammo);
		}
	}
	return 1;
}
cmd:fuelcars(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new gasvehicle,string[100];
	if(sscanf(params, "i", gasvehicle)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /fuelcars <Procent>");
   	for(new c=0;c<CAR_AMOUNT;c++) {
		Gas[c] = gasvehicle;
	}
	format(string, sizeof(string), "Toate vehiculele au primit %d % benzina.",gasvehicle);
	SendClientMessage(playerid, COLOR_WHITE, string);
	format(string, sizeof(string), "AdmCmd: %s a dat %d % benzina la toate vehiculele.", GetName(playerid),gasvehicle);
	SendAdminMessage(COLOR_LOGS, string,4);
	return 1;
}
cmd:setfuel(playerid,params[]) {
	new carid,string[100],fuel;
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(!IsPlayerInAnyVehicle(playerid)) {
		if(sscanf(params,"ii",carid,fuel)) return SCM(playerid,COLOR_SYNTAX,"Syntax: /setfuel <CarID> <Procent>");
		if(!IsValidVehicle(carid)) return 1;
		if(fuel < 0 || fuel > 150) return SCM(playerid,COLOR_GREY,"Invalid fuel procentage(0-150)");
		Gas[carid] = fuel;
		format(string, sizeof(string), "AdmCmd: %s a setat benzina vehiculului %d (%d).", GetName(playerid),carid,fuel);
		SendAdminMessage(COLOR_LOGS, string,4);
	}
    else {
		carid = GetPlayerVehicleID(playerid);
		if(sscanf(params,"i",fuel)) return SCM(playerid,COLOR_SYNTAX,"Syntax: /setfuel <Procent>");
		if(fuel < 0 || fuel > 150) return SCM(playerid,COLOR_GREY,"Invalid fuel procentage(0-150)");
		Gas[carid] = fuel;
		format(string, sizeof(string), "AdmCmd: %s a setat benzina vehiculului %d (%d).", GetName(playerid),carid,fuel);
		SendAdminMessage(COLOR_LOGS, string,4);
	}
	return 1;
}
cmd:givegun(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
 	if(PlayerInfo[playerid][pAdmin] < 2) return SCM(playerid,COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,gun,ammo,string[100],sendername[30],giveplayer[30];
	if(sscanf(params, "uii",id,gun,ammo))
	{
		SCM(playerid,COLOR_SYNTAX, "Syntax: /givegun <Nume/Playerid> <Weapon ID> <Ammo>");
	    SCM(playerid,COLOR_WHITE,"1-Brass Knuckles; 2-Golf Club; 3-Nightstick; 4-Knife; 5-Baseball Bat; 6-Shovel; 7-Pool Cue; 8-Katana;");
    	SCM(playerid,COLOR_WHITE,"9-Chainsaw; 10-Double-ended Dildo; 11-Dildo; 12-Vibrator; 13-Silver Vibrator; 14-Flowers; 15-Cane;");
    	SCM(playerid,COLOR_WHITE,"16-Grenade; 17-Tear Gas; 18-Molotov Cocktail; 22-9mm; 23-Silenced 9mm; 24-Desert Eagle; 25-Shotgun;");
    	SCM(playerid,COLOR_WHITE,"26-Sawnoff Shotgun; 27-Combat Shotgun; 28-Micro SMG/Uzi; 29-MP5; 30-AK-47; 31-M4; 32-Tec-9; 33-Country Rifle;");
    	SCM(playerid,COLOR_WHITE,"34-Sniper Rifle; 35-RPG; 36-HS Rocket; 37-Flamethrower; 38-Minigun; 39-Satchel Charge; 40-Detonator;");
    	SCM(playerid,COLOR_WHITE,"41-Spraycan; 42-Fire Extinguisher; 43-Camera; 44-Night Vis Goggles; 46-Parachute;");
	    return 1;
	}
    if(gun < 1||gun > 46||gun==19||gun==20||gun==21||gun==45) return SCM(playerid,COLOR_WHITE,"Invalid weapond ID.");
    if(ammo <1||ammo > 1000) return SCM(playerid,COLOR_WHITE,"Invalid ammo (1-1000).");
	if(IsPlayerConnected(id)) {
	    if(id != INVALID_PLAYER_ID) {
			GivePlayerWeaponEx(id, gun, ammo);
			GetPlayerName(id, giveplayer, sizeof(giveplayer));
			GetPlayerName(playerid, sendername, sizeof(sendername));
			new gunname[32];
			GetWeaponName(gun, gunname, 32);
			format(string, sizeof(string), "AdmCmd: %s i-a dat lui %s arma %s (%d ammo).",sendername,giveplayer,gunname, ammo);
			SendAdminMessage(COLOR_LOGS, string,1);
			if(GetPlayerState(id) == PLAYER_STATE_PASSENGER) {
		        new gun2,tmp;
		        GetPlayerWeaponData(id,5,gun2,tmp);
		        #pragma unused tmp
		        if(gun2)SetPlayerArmedWeapon(id,gun2);
		        else SetPlayerArmedWeapon(id,0);
			}
		}
	}
    else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:healall(playerid, params[]) {
   	if(IsPlayerLogged[playerid] == 0) return 1;
	new sendername[25],string[64];
    GetPlayerName(playerid, sendername, sizeof(sendername));
    if(PlayerInfo[playerid][pAdmin] < 3) return SCM(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	format(string, sizeof(string), "%s a dat viata la toti jucatorii conectati.", sendername);
	SendAdminMessage(COLOR_LOGS, string,3);
    foreach(Player,i) {
		if(IsPlayerConnected(i)) SetPlayerHealthEx(i, 100);
	}
	return 1;
}
cmd:sethp(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,string[100],Float:hp;
	if(sscanf(params, "uf", id, hp)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /sethp <Nume/Playerid> <Health>");
	if(IsPlayerConnected(id)) {
	    if(id != INVALID_PLAYER_ID) {
			SetPlayerHealthEx(id, hp);
			format(string, sizeof(string), "AdmCmd: %s i-a setat viata lui %s la %0.1f.", GetName(playerid),GetName(id),hp);
			SendAdminMessage(COLOR_LOGS,string,1);
		}
	}
    else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:setarmour(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,string[100],Float:armor;
	if(sscanf(params, "uf", id, armor)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /setarmour <Nume/Playerid> <Armor>");
	if(IsPlayerConnected(id)) {
	    if(id != INVALID_PLAYER_ID) {
			SetPlayerArmourEx(id, armor);
			format(string, sizeof(string), "AdmCmd: %s i-a setat armura lui %s la %0.1f.", GetName(playerid),GetName(id),armor);
			SendAdminMessage(COLOR_LOGS,string,1);
		}
	}
    else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:stats(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pLevel] < 1) return 1;
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	ShowStats(playerid,playerid);
	return 1;
}
cmd:report(playerid, params[]) {
	new text[180], string[180];
 	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(PlayerInfo[playerid][pReportTime] >= 1) {	    
		format(string, sizeof(string), "Vei putea da un report peste %d minute (%d secunde).", PlayerInfo[playerid][pReportTime]/60, PlayerInfo[playerid][pReportTime]);
		SendClientMessage(playerid, COLOR_WHITE, string);
		return 1;
	}
	else if(PlayerInfo[playerid][pAdmin] >= 1 || PlayerInfo[playerid][pHelper] >= 1) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Faci parte din staff.");
	if(sscanf(params, "s[180]",text)) {
		SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /report <Text>");
		return 1;
	}	
	if(strlen(text) < 10) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Reportul tau este prea scurt.");
	format(string, sizeof(string), "Report de la %s (ID: %d, Level: %d): %s.", GetName(playerid), playerid, PlayerInfo[playerid][pLevel], text);
	SendAdminMessage(0xC9161FFF, string, 1);
	format(string, sizeof(string), "Reportul tau a fost trimis adminilor.");
	SendClientMessage(playerid, COLOR_BZYELLOW2, string);
	if(ReportTimer[playerid] != 0) {
		KillTimer(ReportTimer[playerid]);
		ReportTimer[playerid] = 0;
	}			
	ReportTimer[playerid] = SetTimerEx("CheckReport", 300000, 0, "%d", playerid);
	PlayerInfo[playerid][pReportTime] = 120;
	Ajutor[playerid] = 1;
	format(ReportText[playerid], 256, "%s (%d): %s.", GetName(playerid), playerid, text);
	format(ReportText2[playerid], 256, text);
	AllReports++;
	foreach(Player,i) {
		if(IsPlayerConnected(i) && PlayerInfo[i][pAdmin] > 0) {
            format(string,sizeof(string),"~r~~h~%d",AllReports);
        	PlayerTextDrawSetString(i, ReportsInfo[i], string);
			PlayerTextDrawShow(i, ReportsInfo[i]);
		}
	}
	return 1;
}
alias:closereport("cr");
cmd:closereport(playerid, params[]) {
	new userID, result[180], string[180];
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(AcceptedReport[playerid] != -1) {
		SCM(playerid, COLOR_BZYELLOW2, "Conversatia a fost terminata.");
		SCM(AcceptedReport[playerid], COLOR_BZYELLOW2, "Conversatia a fost terminata.");
		AcceptedReport[AcceptedReport[playerid]] = -1;
		AcceptedReport[playerid] = -1;
		return 1;
	}
	if(sscanf(params, "us[180]", userID, result)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: (/c)lose(r)eport <Nume/Playerid> <Reason>");
	if(!IsPlayerConnected(userID) || userID == INVALID_PLAYER_ID) return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	if(Ajutor[userID] == 0) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu a dat report.");
	Ajutor[userID] = 0;
	format(string,sizeof(string),"Adminul %s ti-a inchis reportul, motiv: %s.",GetName(playerid), result);
	SCM(userID,COLOR_BZYELLOW2,string);
	format(string, sizeof(string), "AdmCmd: %s a inchis reportul lui %s, motiv: %s.", GetName(playerid), GetName(userID), result);
	SendAdminMessage(COLOR_LOGS, string, 1);
	AllReports--;
	foreach(Player,i) {
		if(IsPlayerConnected(i) && PlayerInfo[i][pAdmin] > 0) {
	        format(string,sizeof(string),"~r~~h~%d",AllReports);
	    	PlayerTextDrawSetString(i, ReportsInfo[i], string);
			PlayerTextDrawShow(i, ReportsInfo[i]);
		}
	}
	new szQuery[256];
	PlayerInfo[playerid][pHelpedPlayers] ++;
	format(szQuery, sizeof(szQuery), "UPDATE users SET `HelpedPlayers` = '%d' WHERE `ID` = '%d'", PlayerInfo[playerid][pHelpedPlayers], PlayerInfo[playerid][pSQLID]);
	mysql_query(SQL, szQuery);
	return 1;
}

alias:acceptreport("ar");
cmd:acceptreport(playerid, params[]) {
	new userID, string[180];
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(AcceptedReport[playerid] != -1) return SCM(playerid, COLOR_BZWHITE, "Eroare: Ai acceptat deja un report.");
	if(sscanf(params, "u", userID)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: (/a)cce(p)treport <Nume/Playerid>");
	if(!IsPlayerConnected(userID) || userID == INVALID_PLAYER_ID) return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	if(Ajutor[userID] == 0) return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu a dat report.");
	Ajutor[userID] = 0;
	format(string, sizeof(string), "Adminul %s ti-a acceptat report-ul si este in curs de rezolvare.", GetName(playerid));
	SendClientMessage(userID, COLOR_BZYELLOW2, string);
	format(string, sizeof(string), "AdmCmd: %s i-a acceptat report-ul lui %s.", GetName(playerid), GetName(userID));
	SendAdminMessage(COLOR_LOGS, string, 1);

	AcceptedReport[playerid] = userID;
	AcceptedReport[userID] = playerid;

	format(string, sizeof(string), "A fost creata o conversatie intre tine si adminul %s (%d). (/al)", GetName(playerid), playerid);
	SCM(userID, COLOR_BZYELLOW2, string);
	format(string, sizeof(string), "A fost creata o conversatie intre tine si jucatorul %s (%d). (/al)", GetName(userID), userID);
	SCM(playerid, COLOR_BZYELLOW2, string);
    AllReports--;
	foreach(Player,i) {
		if(IsPlayerConnected(i) && PlayerInfo[i][pAdmin] > 0) {
	        format(string,sizeof(string),"~r~~h~%d",AllReports);
	    	PlayerTextDrawSetString(i, ReportsInfo[i], string);
			PlayerTextDrawShow(i, ReportsInfo[i]);
		}
	}
	new szQuery[256];
	PlayerInfo[playerid][pHelpedPlayers] ++;
	format(szQuery, sizeof(szQuery), "UPDATE users SET `HelpedPlayers` = '%d' WHERE `ID` = '%d'", PlayerInfo[playerid][pHelpedPlayers], PlayerInfo[playerid][pSQLID]);
	mysql_query(SQL, szQuery);
	return 1;
}
cmd:al(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(AcceptedReport[playerid] == -1) return SCM(playerid, COLOR_BZWHITE, "Eroare: Nu esti intr-o conversatie.");
	new string[256], result[256];
	if(sscanf(params, "s[256]", result)) return SCM(playerid, COLOR_SYNTAX, "Syntax: /al <Text>");
	if(PlayerInfo[playerid][pAdmin] >= 1) format(string, sizeof(string), "Admin %s: %s", GetName(playerid), result);
	else format(string, sizeof(string), "Jucator %s: %s", GetName(playerid), result);
	SCM(playerid, COLOR_BZYELLOW2, string);
	SCM(AcceptedReport[playerid], COLOR_BZYELLOW2, string);
	return 1;
}
function CheckReport(playerid) {
	if(Ajutor[playerid] == 1) {
		SCM(playerid, COLOR_BZYELLOW, "Reportul tau a fost inchis automat deoarece nu ai primit un raspuns in 5 minute.");
		Ajutor[playerid] = 0;
		if(ReportTimer[playerid] != 0) ReportTimer[playerid] = 0;
	}
	return 1;
}	
cmd:rmute(playerid, params[]) {
	new userID, time, result[180];
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "uis[180]", userID, time, result)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /rmute <Nume/Playerid> <Time> <Reason>");
	if(!IsPlayerConnected(userID) || userID == INVALID_PLAYER_ID) return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	if(PlayerInfo[userID][pAdmin] > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi aceasta comanda asupra unui administrator!");
	if(userID == playerid) return SCM(playerid, COLOR_GREY, "Nu poti folosi aceasta comanda asupra ta!");
	PlayerInfo[userID][pReportTime] = time*60;
	new string[180];
	format(string, sizeof(string), "Ai primit mute pe /report pentru %d minute! Motiv: %s", time, result);
	SendClientMessage(userID, -1, string);
	format(string, sizeof(string), "AdmCmd: %s a primit mute %d minute pe /report de la %s, motiv: %s", GetName(userID), time, GetName(playerid), result);
	SendClientMessageToAll(COLOR_LIGHTRED, string);
	return 1;
}
cmd:reports(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new x, string[180],szName[200],szDialog[1000];
	if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	strcat(szDialog,"Name\tID\tReport\n");
	foreach(Player, i) {
	    if(Ajutor[i] == 1)
		{
		    x++;
			format(string,sizeof(string),"%s\t%d\t%s\n",GetName(i),i,ReportText2[i]);
			strcat(szDialog,string);
	    }
	}
	if(x == 0) return SCM(playerid,COLOR_BZYELLOW,"Nu sunt report-uri disponibile.");
	format(szName,200,"Reports: %d",x);
	ShowPlayerDialog(playerid,0,DIALOG_STYLE_TABLIST_HEADERS,szName,szDialog,"Close","");
	return 1;
}
cmd:apanel(playerid,params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	ShowPlayerDialog(playerid,DIALOG_APANEL,DIALOG_STYLE_LIST,"Server Staff","Helpers List: Admin Level 3\nLeaders List: Admin Level 4\nAdmins List: Admin Level 5","Select","Close");
	return 1;
}
cmd:admins(playerid, params[]) {
    new string[200];
	if(Iter_Count(Admins) == 0) return SCM(playerid,COLOR_NOON, "Nu sunt admini conectati.");
    SendClientMessage(playerid, COLOR_WHITE, "{ADFF5C}|____ Admins Online: ____|");
	foreach(Admins,i) {
	    format(string, 256, "{FF6347}%s {FFFFFF}(%d) - Admin Level %d %s", GetName(i),i,PlayerInfo[i][pAdmin], (PlayerInfo[i][pSleeping] == 1) ? ("(AFK)") : ("")), SCM(playerid, COLOR_WHITE, string);
	}
	if(Iter_Count(Admins) == 1) SendClientMessage(playerid,COLOR_WHITE,"{ADFF5C}* Este un admin conectat.");
	else if(Iter_Count(Admins) > 1) format(string, sizeof(string), "{ADFF5C}* Sunt %d admini conectati.", Iter_Count(Admins)), SCM(playerid, COLOR_WHITE, string);
	return 1;
}
cmd:helpers(playerid, params[]) {
	if(Iter_Count(Helpers) == 0) return SCM(playerid,COLOR_NOON, "Nu sunt helperi conectati.");
	SCM(playerid, -1, "{ADFF5C}|____ Helpers Online: ____|");
	foreach(Helpers,i) {
		format(szGlobal, sizeof(szGlobal), "{%s}%s {FFFFFF}(%d) - Helper Level %d %s", (HelperDuty[i] == 1) ? ("009900") : ("FF6347"),GetName(i),i,PlayerInfo[i][pHelper], (PlayerInfo[i][pSleeping] == 1) ? ("(AFK)") : (""));
		SCM(playerid, -1, szGlobal);
	}
	if(Iter_Count(Helpers) == 1) format(szGlobal,sizeof(szGlobal),"{ADFF5C}* Este un helper conectat, %d la datorie.",Iter_Count(HelpersDuty)), SCM(playerid,-1,szGlobal);
	else if (Iter_Count(Helpers) >= 2) format(szGlobal, sizeof(szGlobal), "{ADFF5C}* Sunt %d helperi conectati, %d la datorie.", Iter_Count(Helpers),Iter_Count(HelpersDuty)),SCM(playerid, -1, szGlobal);
	return 1;
}
cmd:leaders(playerid, params[]) {
    if(Iter_Count(Leaders) == 0) return SCM(playerid, COLOR_NOON, "Nu sunt lideri conectati.");
	SCM(playerid, -1, "{ADFF5C}|____ Leaders Online: ____|");
	foreach(Leaders,i) format(szGlobal, sizeof(szGlobal), "{FF6347}%s {FFFFFF}(%d) - %s %s", GetName(i),i,NumeFactiune(PlayerInfo[i][pLeader]), (PlayerInfo[i][pSleeping] == 1) ? ("(AFK)") : ("")), SCM(playerid, -1, szGlobal);
	if(Iter_Count(Leaders) == 1) SCM(playerid,-1,"{ADFF5C}* Este un lider conectat.");
	else if(Iter_Count(Leaders) >= 2) format(szGlobal, sizeof(szGlobal), "{ADFF5C}* Sunt %d lideri conectati.", Iter_Count(Leaders)),SCM(playerid, -1, szGlobal);
	return 1;
}
cmd:helps(playerid, params[]) {
	new x;
 	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1 && PlayerInfo[playerid][pHelper] < 1) return SCM(playerid,COLOR_ERROR,HelperOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	SendClientMessage(playerid, COLOR_SERVER1, "*______________________________*");
	foreach(Player, i) if(Helped[i] == 1) format(szGlobal, sizeof(szGlobal), "* %s (%d) il intreaba pe %s: %s", GetName(i), i, LaCineEsteIntrebarea(i), HelpText[i]),MesajLung(playerid, COLOR_LGREEN, szGlobal),x++;
	format(szGlobal, sizeof(szGlobal), "Sunt %d intrebari in acest moment!", x);
	SCM(playerid, -1, szGlobal);
	SCM(playerid, COLOR_SERVER1, "*______________________________*");
	return 1;
}
stock LaCineEsteIntrebarea(playerid) {
	new szName[180];
	format(szName, 256, "Server");
	foreach(Player, i) {
	    if(HaveHelp[i] == playerid && IsPlayerConnected(playerid)) {
			format(szName, 256, GetName(i));
		}
	}
	return szName;	
}
alias:newbie("n");
cmd:newbie(playerid, params[]) {
	new result[200], string[255],hd=0;
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	foreach(Player,i) {
		if(IsPlayerConnected(i)) {
            if(HelperDuty[i] == 1) hd++;
		}
	}
	if(hd == 0) return SCM(playerid,COLOR_GREY,"Nu este nici un helper duty, foloseste /report.");
	if(Helped[playerid] == 1) return SendClientMessage(playerid, -1, "Ai pus recent o intrebare. Asteapta un raspuns!");
	if(sscanf(params, "s[200]", result)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /newbie <Text>");
	if(PlayerInfo[playerid][pNewbieMute] >= 1) {
		format(string, sizeof(string), "Trebuie sa mai astepti %d secunde pentru a folosi din nou comanda /newbie!", PlayerInfo[playerid][pNewbieMute]);
		SendClientMessage(playerid, -1, string);
		return 1;
	}
	if(PlayerInfo[playerid][pHelper] >= 1 || PlayerInfo[playerid][pAdmin] >= 1) {
		if(GetPVarInt(playerid, "Cover") == 0)
		return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Faci parte din staff.");
	} 
	format(string, sizeof(string), "Intrebarea ta a fost trimisa helperilor. Asteapta sa-ti raspunda unul!");
	SCM(playerid, COLOR_YELLOW, string);
	HelpText[playerid] = "";
	format(HelpText[playerid], 256, result);
	PlayerInfo[playerid][pNewbieMute] = 120;
	Helped[playerid] = 1;
	OnHelper[playerid] = 0;
	AllHelps++;
	foreach(Player,i) {
		if(IsPlayerConnected(i) && PlayerInfo[i][pHelper] > 0) {
	        format(string,sizeof(string),"%d",AllHelps);
	    	PlayerTextDrawSetString(i, HelpsInfo[i], string);
			PlayerTextDrawShow(i, HelpsInfo[i]);
		}
	}
	return 1;
}

cmd:hduty(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pHelper] == 0) return SendClientMessage(playerid, COLOR_ERROR,HelperOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	switch(HelperDuty[playerid]) {
	    case 0: HelperDuty[playerid] = 1, Iter_Add(HelpersDuty, playerid), SCM(playerid, COLOR_LGREEN, "Acum esti on duty ca helper!");
	    case 1: {
			if(HaveHelp[playerid] != -1) return SCM(playerid, -1, "Eroare: Nu poti folosi aceasta comanda acum!");
			HelperDuty[playerid] = 0, Iter_Remove(HelpersDuty, playerid), SCM(playerid, COLOR_LGREEN, "Acum esti off duty ca helper!");
		}
	}
	return 1;
}
cmd:nskip(playerid, params[]) {
    if(PlayerInfo[playerid][pHelper] == 0) return SendClientMessage(playerid, COLOR_ERROR,HelperOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(HelperDuty[playerid] == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu esti la datorie ca helper.");
	if(HaveHelp[playerid] == -1) return SendClientMessage(playerid, COLOR_GREY, "Nu ai primit o intrebare.");
	foreach(Helpers, i) if(PlayerInfo[i][pHelper] != 0 && HelperDuty[i] == 1 && HaveHelp[i] == -1 && i != playerid) HaveHelper[Iter_Count(Helpers)] = i;
	if(Iter_Count(Helpers) <= 1) return SendClientMessage(playerid, COLOR_LGREEN, "Doar tu esti la datorie.");
    new userID = HaveHelper[random(Iter_Count(Helpers))]; PlayerPlaySound(userID, 1056, 0.0, 0.0, 0.0);
	format(szGlobal, sizeof(szGlobal), "AdmCmd: Helper-ul %s a sarit peste intrebarea lui %s si a fost preluata de %s.", GetName(playerid), GetName(HaveHelp[playerid]), GetName(userID));
	SendAdminMessage(COLOR_LOGS, szGlobal, 1);
	format(szGlobal, sizeof(szGlobal), "Helperul anterior a sarit peste intrebarea ta. Acum, intrebarea a fost preluata de helperul %s (%d).", GetName(userID), userID);
	SendClientMessage(HaveHelp[playerid], COLOR_HELPERC, szGlobal);
	format(szGlobal, sizeof(szGlobal), "* %s (%d) intreaba: %s", GetName(HaveHelp[playerid]), HaveHelp[playerid], HelpText[HaveHelp[playerid]]);
	SendClientMessage(userID, 0x4FB021FF, szGlobal);
	HaveHelp[userID] = HaveHelp[playerid];
	SendClientMessage(playerid, COLOR_HELPERC, "Ai sarit peste aceasta intrebare.");
	HaveHelp[playerid] = -1;
	return 1;
}
cmd:nreport(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pHelper] == 0) return SendClientMessage(playerid, COLOR_ERROR,HelperOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(HelperDuty[playerid] == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu esti la datorie ca helper.");
	if(HaveHelp[playerid] == -1) return SendClientMessage(playerid, COLOR_GREY, "Nu ai primit o intrebare.");
	new userID = HaveHelp[playerid];
	new string[180];
	format(string, sizeof(string), "AdmCmd: %s a trimis intrebarea lui %s (%d) adminilor.", GetName(playerid), GetName(userID), userID);
	SendStaffMessage(COLOR_LIGHTRED, string);
	SCM(userID, COLOR_HELPERC, "Intrebarea ta a fost trimisa adminilor!");
	format(string, sizeof(string), "Report de la %s (ID: %d, Level: %d): %s.", GetName(userID), userID, PlayerInfo[userID][pLevel],HelpText[userID]);
	SendAdminMessage(0xC9161FFF, string, 1);
	format(string, sizeof(string), "Reportul tau a fost trimis adminilor.");
	if(ReportTimer[userID] != 0) {
		KillTimer(ReportTimer[userID]);
		ReportTimer[userID] = 0;
	}			
	ReportTimer[userID] = SetTimerEx("CheckReport", 300000, 0, "%d", userID);
	SendClientMessage(userID, COLOR_YELLOW, string);
	PlayerInfo[userID][pReportTime] = 120;
	Ajutor[userID] = 1;
	format(ReportText[userID], 256, "%s (%d): %s.", GetName(userID), userID, HelpText[userID]);
	HaveHelp[playerid] = -1;
	Helped[userID] = 0;
	AllReports++;
	AllHelps--;
	foreach(Player,i) {
		if(IsPlayerConnected(i) && PlayerInfo[i][pAdmin] > 0) {
            format(string,sizeof(string),"~r~~h~%d",AllReports);
        	PlayerTextDrawSetString(i, ReportsInfo[i], string);
			PlayerTextDrawShow(i, ReportsInfo[i]);
		}
		if(IsPlayerConnected(i) && PlayerInfo[i][pHelper] > 0) {
	        format(string,sizeof(string),"%d",AllHelps);
	    	PlayerTextDrawSetString(i, HelpsInfo[i], string);
			PlayerTextDrawShow(i, HelpsInfo[i]);
		}
	}
	return 1;
}

cmd:rnewbie(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid, COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id;
	if(sscanf(params, "u", id)) return SCM(playerid, COLOR_SYNTAX, "Syntax: /rnewbie <Nume/Playerid>");
	if(!IsPlayerConnected(id) || id == INVALID_PLAYER_ID) return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	if(Ajutor[id] == 0) return SendClientMessage(playerid, COLOR_WHITE, "Acel player nu a dat report.");
	if(PlayerInfo[id][pHelper] != 0) return SCM(playerid, COLOR_WHITE, "Acel player este helper!");
	Ajutor[id] = 0;
	new string[180];
	format(string, sizeof(string), "AdmCmd: %s a trimis report-ul lui %s (%d) helperilor.", GetName(playerid), GetName(id), id);
	SendStaffMessage(COLOR_LIGHTRED, string);	
	SCM(id, COLOR_GOLD, "Report-ul tau a fost trimis helperilor! Asteapta un raspuns..");
	HelpText[id] = "";
	format(HelpText[id], 256, ReportText2[id]);
	PlayerInfo[id][pNewbieMute] = 120;
	Helped[id] = 1;
	OnHelper[id] = 0;		
	return 1;
}
function SendNewbieMessage2(color,const string[]) {
	new text[180];
	foreach(Player, i) {
	    if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1) {
			if(PlayerInfo[i][pAdmin] != 0 || PlayerInfo[i][pHelper] != 0) {
				format(text, 256, string);
				SendClientMessage(i, color, text);
			}
		}
	}
	return 1;
}
function SendNewbieMessage(color,const string[]) {
	new text[180];
	foreach(Player, i) {
	    if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1) {
			if(IsPlayerLogged[i] == 1 && NewbieChat[i] == 0) {
				format(text, 256, string);
				SendClientMessage(i, color, text);
			}
		}
	}
	return 1;
}
	
alias:nreply("nre");
cmd:nreply(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pHelper] == 0) return SendClientMessage(playerid, COLOR_ERROR,HelperOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(HelperDuty[playerid] == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu esti la datorie ca helper.");
	if(HaveHelp[playerid] == -1) return SendClientMessage(playerid, COLOR_GREY, "Nu ai primit o intrebare.");
	new result[250], string[180];
	if(sscanf(params, "s[250]",result)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /nreply <Text>");
	new userID = HaveHelp[playerid];
	format(string, sizeof(string), "* Incepator %s: %s", GetName(userID), HelpText[userID]);
	SendNewbieMessage(COLOR_HELPERC, string);
	format(string, sizeof(string), "* [%d]Helper %s: @%s, %s", PlayerInfo[playerid][pHelper],GetName(playerid), GetName(userID), result);
	foreach(Player, i) {
	    if(IsPlayerConnected(i) && NewbieChat[i] == 0) {
	        if(i == userID) MesajLung(i, COLOR_YELLOW, string);
	        else MesajLung(i, COLOR_HELPERC, string);
	    }
	}
	HaveHelp[playerid] = -1;
	PlayerInfo[playerid][pHelpedPlayers] ++;
	Helped[userID] = 0;
	new szQuery[256];
	format(szQuery, sizeof(szQuery), "UPDATE users SET `HelpedPlayers` = '%d' WHERE `ID` = '%d'", PlayerInfo[playerid][pHelpedPlayers], PlayerInfo[playerid][pSQLID]);
	mysql_query(SQL, szQuery);	
	AllHelps--;
	foreach(Player,i) {
		if(IsPlayerConnected(i) && PlayerInfo[i][pHelper] > 0) {
	        format(string,sizeof(string),"%d",AllHelps);
	    	PlayerTextDrawSetString(i, HelpsInfo[i], string);
			PlayerTextDrawShow(i, HelpsInfo[i]);
		}
	}
	return 1;
}
cmd:checkhelp(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pHelper] == 0) return SendClientMessage(playerid, COLOR_ERROR,HelperOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(HelperDuty[playerid] == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu esti la datorie ca helper.");
	if(HaveHelp[playerid] == -1) return SendClientMessage(playerid, COLOR_GREY, "Nu ai primit o intrebare.");
	new userID = HaveHelp[playerid], string[180];
	format(string, 180, "{FFA200}**{FFFF00} Intrebare de la %s(%d, Nivel %d) {FFA200}**", GetName(userID), userID, PlayerInfo[userID][pLevel]);
	SendClientMessage(playerid, COLOR_DBLUE, string);						
	format(string, 180, "%s", HelpText[userID]);	
	SendClientMessage(playerid, COLOR_YELLOW, string);
	return 1;
}

alias:ndelete("nd");
cmd:ndelete(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pHelper] == 0) return SendClientMessage(playerid, COLOR_ERROR,HelperOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(HelperDuty[playerid] == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu esti la datorie ca helper.");
	if(HaveHelp[playerid] == -1) return SendClientMessage(playerid, COLOR_GREY, "Nu ai primit o intrebare.");
	new result[64], string[256];
	if(sscanf(params, "s[64]",result)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /ndelete <Reason>");
	new userID = HaveHelp[playerid];
	format(string, sizeof(string), "* Intrebarea ta a fost stearsa de %s. Motiv: %s", GetName(playerid), result);
	SendClientMessage(userID, COLOR_HELPERC, string);
	format(string, sizeof(string), "AdmCmd: Helper-ul %s a sters intrebarea lui %s. Motiv: %s", GetName(playerid), GetName(HaveHelp[playerid]), result);
	SendAdminMessage(COLOR_LOGS, string, 1);
	
	format(string, sizeof(string), "(/ndelete) Raspuns trimis: %s", result);
	SendClientMessage(playerid, COLOR_GREY, string);
	Helped[userID] = 0;
	HaveHelp[playerid] = -1;
	PlayerInfo[playerid][pHelpedPlayers] ++;
	
	new szQuery[256];
	format(szQuery, sizeof(szQuery), "UPDATE users SET `HelpedPlayers` = '%d' WHERE `ID` = '%d'", PlayerInfo[playerid][pHelpedPlayers], PlayerInfo[playerid][pSQLID]);
	mysql_query(SQL, szQuery);
	AllHelps--;
	foreach(Player,i) {
		if(IsPlayerConnected(i) && PlayerInfo[i][pHelper] > 0) {
	        format(string,sizeof(string),"%d",AllHelps);
	    	PlayerTextDrawSetString(i, HelpsInfo[i], string);
			PlayerTextDrawShow(i, HelpsInfo[i]);
		}
	}
	return 1;
}

function HelpReset(playerid) {
	if(HelpMuted[playerid] == 1) HelpText[playerid] = "", HelpMuted[playerid] = 0;
}
cmd:makeadmin(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	//if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,adminlevel,string[200],str[256],info[200];
	if(sscanf(params, "ui",id,adminlevel)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /makeadmin <Nume/Playerid> <Admin Level(0-6)>");
	if(adminlevel < 0 || adminlevel > 6)  return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /makeadmin <Nume/Playerid> <Admin Level(0-6)>");
	if(IsPlayerConnected(id)) {
	    if(id != INVALID_PLAYER_ID) {
	        if(PlayerInfo[id][pAdmin] < adminlevel) info = "promovat";
	        else if(PlayerInfo[id][pAdmin] > adminlevel) info = "retrogradat";
	        if(PlayerInfo[id][pAdmin] == 7) return 1;
	        if(PlayerInfo[id][pAdmin] == adminlevel) return 1;
	        if(adminlevel == 0 || adminlevel == 6) Iter_Remove(Admins, id);
			else Iter_Add(Admins, id);
            format(string, sizeof(string), "Ai fost %s la gradul de Admin Level %d de catre %s.",info,adminlevel,GetName(playerid));
			SendClientMessage(id, COLOR_LIGHTBLUE, string);
			format(string, sizeof(string), "AdmCmd: %s l-a %s pe %s la gradul de Admin Level %d.", GetName(playerid),info,GetName(id),adminlevel);
			SendAdminMessage(COLOR_LOGS,string,1);
			format(string,sizeof(string),"~r~~h~%d",AllReports);
        	PlayerTextDrawSetString(id, ReportsInfo[id], string);
			PlayerTextDrawShow(id, ReportsInfo[id]);
			format(string,sizeof(string),"~b~~h~~h~%d",AllEvents);
        	PlayerTextDrawSetString(id, EventsInfo[id], string);
			PlayerTextDrawShow(id, EventsInfo[id]);
			PlayerInfo[id][pChar] = 217;
            SetPlayerSkinEx(id, 217);
			PlayerInfo[id][pAdmin] = adminlevel;
			format(str,256,"UPDATE users SET `Admin`='%d',`CChar`='%d' WHERE `ID`='%d'",PlayerInfo[id][pAdmin],PlayerInfo[id][pChar],PlayerInfo[id][pSQLID]);
			mysql_query(SQL,str);
			if(adminlevel == 0) {
			    PlayerTextDrawHide(id, ReportsInfo[id]);
			    PlayerTextDrawHide(id, EventsInfo[id]);
            	PlayerInfo[id][pChar] = 250;
            	SetPlayerSkinEx(id, 250);
            	mysql_format(SQL, str, 256, "UPDATE users SET CChar='250' WHERE ID='%d'",PlayerInfo[id][pSQLID]);
            	mysql_tquery(SQL, str, "", "");
			}
		}
	}
	else return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:makehelper(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3) return SCM(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,string[200],lvl,str[128],info[16];
	if(sscanf(params, "ui",id, lvl)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /makehelper <Nume/Playerid> <Helper Level(0-3)>");
	if(lvl < 0 || lvl > 3) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /makehelper <Nume/Playerid> <Helper Level(0-3)>");
	if(IsPlayerConnected(id)) {
	    if(id != INVALID_PLAYER_ID) {
	        if(lvl == 0 || lvl == 3) Iter_Remove(Helpers, id);
	        else Iter_Add(Helpers, id);
	        if(PlayerInfo[id][pHelper] < lvl) info = "promovat";
	        else if(PlayerInfo[id][pHelper] > lvl) info = "retrogradat";
	        if(PlayerInfo[id][pAdmin] == 7) return 1;
	        if(PlayerInfo[id][pHelper] == lvl) return 1;
			format(string, sizeof(string), "Ai fost %s la gradul de Helper Level %d de catre %s.",info,lvl,GetName(playerid));
			SendClientMessage(id, COLOR_LIGHTBLUE, string);
			format(string, sizeof(string), "AdmCmd: %s l-a %s pe %s la gradul de Helper Level %d.", GetName(playerid),info,GetName(id),lvl);
			SendAdminMessage(COLOR_LOGS,string,1);
			PlayerInfo[id][pHelper] = lvl;
			format(str,128,"UPDATE users SET `Helper`='%d' WHERE `ID`='%d'",PlayerInfo[id][pHelper],PlayerInfo[id][pSQLID]);
			mysql_query(SQL,str);
			if(lvl > 0) {
		        format(string,sizeof(string),"%d",AllHelps);
		    	PlayerTextDrawSetString(id, HelpsInfo[id], string);
				PlayerTextDrawShow(id, HelpsInfo[id]);
				format(string,sizeof(string),"~b~~h~~h~%d",AllEvents);
		    	PlayerTextDrawSetString(id, EventsInfo[id], string);
				PlayerTextDrawShow(id, EventsInfo[id]);
			}
			else if(lvl == 0) {
				PlayerTextDrawHide(id,HelpsInfo[id]);
				if(PlayerInfo[id][pAdmin] == 0) {
					PlayerTextDrawHide(id,EventsInfo[id]);
					if(HelperDuty[id] == 1) HelperDuty[id] = 0, Iter_Remove(HelpersDuty, id);
				}
			}
		}
	}
	else return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}

cmd:togfind(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid,COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(togfind[playerid] == 1) {
        togfind[playerid] = 0;
        SCM(playerid,COLOR_WHITE,"Ai dezactivat optiunea de a te cauta playerii.");
    }
    else {
    	togfind[playerid] = 1;
        SCM(playerid,COLOR_WHITE,"Ai activat optiunea de a te cauta playerii.");
    }
	return 1;
}
stock GetCity(playerid) {
	new string[180];
	if(IsPlayerInArea(playerid, -2997.40, -1115.50, -1213.90, 1659.60)) string ="SF";
	else if(IsPlayerInArea(playerid, 44.60, -2892.90, 2997.00, -768.00)) string ="LS";
	else if(IsPlayerInArea(playerid, 869.40, 596.30, 2997.00, 2993.80)) string ="LV";
	else string="Unknown";
	return string;
}
cmd:findhouse(playerid, params[]) return SCM(playerid,COLOR_BZYELLOW,"Aceasta comanda a fost scoasa, foloseste /gps.");
cmd:findbiz(playerid, params[]) return SCM(playerid,COLOR_BZYELLOW,"Aceasta comanda a fost scoasa, foloseste /gps.");
cmd:find(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerTime8[playerid] != 0) {
	    new string[256];
		format(string, sizeof(string), "Poti folosi aceasta comanda peste %d minute.", PlayerTime8[playerid]);
		SCM(playerid, COLOR_GOLD, string);
		return 1;
	}
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(CP[playerid] != 0) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ. Doresti sa-l anulezi?", "Ok", "Exit");
	new id,giveplayer[30],string[100];
	if(PlayerInfo[playerid][pJob] != 8) return SendClientMessage(playerid, COLOR_GREY, "Nu ai jobul 'Detective'.");
	if(sscanf(params, "u",id)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /find <Nume/Playerid>");
	if(GetPVarInt(id, "Undercover") == 1) return SCM(playerid, COLOR_GREY, "Acel player este ocupat!");
	if(IsPlayerConnected(id)) {
		if(id != INVALID_PLAYER_ID) {
		    if(id == playerid) return 1;
			if(togfind[id] == 1) return SCM(playerid,COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
			UsedFind[playerid] = 1;
			GetPlayerName(id, giveplayer, sizeof(giveplayer));
			new Float:X,Float:Y,Float:Z;
			GetPlayerPos(id, X,Y,Z);
			SetPlayerCheckpointEx(playerid, X,Y,Z, 3.5);
			targetfind[playerid] = id;
			CP[playerid] = 43;
			PlayerTime8[playerid] = 2;
			new FindTime[MAX_PLAYERS];
			PlayerInfo[playerid][pDetectivSkill] ++;
			Update(playerid, pDetectivSkillx);
			if(GetPlayerSkill(playerid) == 5) { }
			else {
                FindTime[playerid] = GetPlayerSkill(playerid) * 30;
                SetTimerEx("StopFind",GetPlayerSkill(playerid) * 30000, 0, "d", playerid);
                format(string, 256, "Pentru ca ai skill %d, punctul rosu va disparea de pe mapa peste %d secunde deoarece nu ai skill 5 la acest job!", GetPlayerSkill(playerid), FindTime[playerid]);
                SCM(playerid, COLOR_YELLOW, string);
			}
		}
	}
	else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
 	return 1;
}
function StopFind(playerid) {
	if(UsedFind[playerid] == 1) {
	    if(targetfind[playerid] != -1) {
	        UsedFind[playerid] = 0;
	        targetfind[playerid] = -1;
	        DisablePlayerCheckpoint(playerid);
	        SCM(playerid, COLOR_WHITE, "Timp expirat!");
	    }
	}
	return 1;
}
cmd:gethere(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
	if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new plo,sendername[30],giveplayer[30],string[100];
	if(sscanf(params, "u",plo)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /gethere <Nume/Playerid>");
	new Float:plocx,Float:plocy,Float:plocz;
    if(IsPlayerConnected(plo)) {
     	if(plo != INVALID_PLAYER_ID) {
	        if(playerid == plo) return 1;
			GetPlayerPos(playerid, plocx, plocy, plocz);
			SetPlayerInterior(plo,GetPlayerInterior(playerid));
			PlayerInfo[plo][pInt] = PlayerInfo[playerid][pInt];
			PlayerInfo[plo][pLocal] = PlayerInfo[playerid][pLocal];
			if (GetPlayerState(plo) == 2) {
				TelePos[plo][0] = 0.0;
				TelePos[plo][1] = 0.0;
				new tmpcar = GetPlayerVehicleID(plo);
				SetVehiclePos(tmpcar, plocx, plocy+4, plocz);
			}
			else {
				SetPlayerPosEx(plo,plocx,plocy+2, plocz);
			}
			if(InHouse[playerid] > 0) {
				InHouse[plo] = InHouse[playerid];
			}
			if(InHQ[playerid] > 0) {
				InHQ[plo] = InHQ[playerid];
			}
			if(InBussines[playerid] > 0) {
				InBussines[plo] = InBussines[playerid];
			}
			SetPlayerVirtualWorld(plo, GetPlayerVirtualWorld(playerid));
			SendClientMessage(plo, COLOR_GRAD1, "Ai fost teleportat cu succes.");
			GetPlayerName(playerid, sendername, sizeof(sendername));
			GetPlayerName(plo, giveplayer, sizeof(giveplayer));
		    format(string, sizeof(string), "AdmCmd: %s l-a teleportat pe %s la el.", sendername, giveplayer);
			SendAdminMessage(COLOR_LOGS, string, 1);
		    Adminlog(string);
		}
	}
	else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:gotopos(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pSleeping] == 1) return SCM(playerid,COLOR_LGREEN,"Nu poti folosi aceasta comanda deoarece esti pe /sleep");
    if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
	if(PlayerInfo[playerid][pAdmin] < 5 )return SCM(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new string[128],interior,vw;
	new Float:x, Float:y, Float:z;
	if(sscanf(params, "fffii", x,y,z,interior,vw)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /gotopos <X> <Y> <Z> <Interior> <Virtual World>"); {
		SetPlayerPosEx(playerid, x, y, z);
		format(string,sizeof(string),"Te-ai teleportat la x = %f, y = %f, z = %f, interior %d.",x,y,z,interior);
		SendClientMessage(playerid,COLOR_WHITE, string);
		SetPlayerVirtualWorld(playerid, vw);
		SetPlayerInterior(playerid,interior);
		InHQ[playerid] = -1;
		InHouse[playerid] = -1;
		InBussines[playerid] = -1;
	}
	return 1;
}
cmd:gotolv(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pSleeping] == 1) return SCM(playerid,COLOR_LGREEN,"Nu poti folosi aceasta comanda deoarece esti pe /sleep");
    if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
	new string[64],sendername[25];
	if(PlayerInfo[playerid][pAdmin] < 3) return SCM(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(GetPlayerState(playerid) == 2) {
		new tmpcar = GetPlayerVehicleID(playerid);
		SetVehiclePos(tmpcar, 1699.2, 1435.1, 10.7);
		TelePos[playerid][0] = 0.0;TelePos[playerid][1] = 0.0;
	}
	else {
		SetPlayerPosEx(playerid, 1699.2,1435.1, 10.7);
	}
	SendClientMessage(playerid, COLOR_GRAD1, "Ai fost teleportat cu succes.");
	SetPlayerInterior(playerid,0);
	PlayerInfo[playerid][pInt] = 0;
	GetPlayerName(playerid, sendername, sizeof(sendername));
	format(string, sizeof(string), "AdmCmd: %s s-a teleportat in LV.", sendername);
	Adminlog(string);
	InHQ[playerid] = -1;
	InHouse[playerid] = -1;
	InBussines[playerid] = -1;
	SetPlayerVirtualWorld(playerid,0);
	return 1;
}
cmd:gotosf(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pSleeping] == 1) return SCM(playerid,COLOR_LGREEN,"Nu poti folosi aceasta comanda deoarece esti pe /sleep");
    if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
	new string[64],sendername[25];
	if(PlayerInfo[playerid][pAdmin] < 3) return SCM(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if (GetPlayerState(playerid) == 2) {
		new tmpcar = GetPlayerVehicleID(playerid);
		SetVehiclePos(tmpcar, -1417.0,-295.8,14.1);
		TelePos[playerid][0] = 0.0;TelePos[playerid][1] = 0.0;
	}
	else {
		SetPlayerPosEx(playerid, -1417.0,-295.8,14.1);
	}
	SendClientMessage(playerid, COLOR_GRAD1, "Ai fost teleportat cu succes.");
	SetPlayerInterior(playerid,0);
	PlayerInfo[playerid][pInt] = 0;
	GetPlayerName(playerid, sendername, sizeof(sendername));
	format(string, sizeof(string), "AdmWarning: %s s-a teleportat in SF.", sendername);
	Adminlog(string);
	InHQ[playerid] = -1;
	InHouse[playerid] = -1;
	InBussines[playerid] = -1;
	SetPlayerVirtualWorld(playerid,0);
	return 1;
}
cmd:goto(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
	if(PlayerInfo[playerid][pAdmin] >= 1 || PlayerInfo[playerid][pHelper] >= 1) {
		new id,string[300];
		if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		if(sscanf(params, "u", id)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /goto <Nume/Playerid>"); {
			if(id != INVALID_PLAYER_ID) {
				new Float:ax,Float:ay,Float:az;
				GetPlayerPos(playerid,ax,ay,az);
				posxxx[playerid] = ax;
				posyyy[playerid] = ay;
				poszzz[playerid] = az;
				new Float:x, Float:y, Float:z;
				GetPlayerPos(id, x, y, z);
				new tmpcar = GetPlayerVehicleID(playerid);
				if (GetPlayerState(playerid) == 2) {
					SetVehiclePos(tmpcar, x, y+4, z);
				}
				else {
					SetPlayerPosEx(playerid,x,y+2, z);
				}
				SetPlayerVirtualWorld(playerid, GetPlayerVirtualWorld(id));
				SetPlayerInterior(playerid, GetPlayerInterior(id));
				if(InHouse[id] > 0) {
					InHouse[playerid] = InHouse[id];
				}
				if(InHQ[id] > 0) {
					InHQ[playerid] = InHQ[id];
				}
				if(InBussines[id] > 0) {
					InBussines[playerid] = InBussines[id];
				}
				format(string,sizeof(string),"AdmCmd: %s s-a teleportat la %s(ID: %d / Level: %d",GetName(playerid),GetName(id),id,GetPlayerScore(id));
				SendAdminMessage(COLOR_LOGS,string,1);
				SendClientMessage(playerid, COLOR_GRAD1, "Ai fost teleportat cu succes.");
			}
			else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
	}
	else return SCM(playerid, COLOR_ERROR,HelperOnly);
	return 1;
}
cmd:up(playerid,params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if (PlayerInfo[playerid][pAdmin] >= 1 || PlayerInfo[playerid][pHelper] >= 1) {
        if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	    new Float:slx, Float:sly, Float:slz;
        GetPlayerPos(playerid, slx, sly, slz);
        SetPlayerPosEx(playerid, slx, sly, slz+5);
	}
	else return SCM(playerid,COLOR_WHITE,AdminOnly);
	return 1;
}
cmd:dn(playerid,params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pAdmin] >= 1 || PlayerInfo[playerid][pHelper] >= 1) {
        if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	    new Float:slx, Float:sly, Float:slz;
        GetPlayerPos(playerid, slx, sly, slz);
        SetPlayerPosEx(playerid, slx, sly, slz-5);
	}
	else return SCM(playerid,COLOR_WHITE,AdminOnly);
	return 1;
}
cmd:gotols(playerid, params[]) {
    if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] >= 1 || PlayerInfo[playerid][pHelper] >= 1) {
        if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		new string[100],sendername[30];
		if (GetPlayerState(playerid) == 2) {
			new tmpcar = GetPlayerVehicleID(playerid);
			SetVehiclePos(tmpcar, 1529.6,-1691.2,13.3);
			TelePos[playerid][0] = 0.0;TelePos[playerid][1] = 0.0;
		}
		else {
			SetPlayerPosEx(playerid, 1529.6,-1691.2,13.3);
		}
		SendClientMessage(playerid, COLOR_GRAD1, "Ai fost teleportat cu succes.");
		SetPlayerInterior(playerid,0);
		PlayerInfo[playerid][pInt] = 0;
		GetPlayerName(playerid, sendername, sizeof(sendername));
		format(string, sizeof(string), "AdmCmd: %s s-a teleportat in LS.", sendername);
		Adminlog(string);
		InHQ[playerid] = -1;
		InHouse[playerid] = -1;
		InBussines[playerid] = -1;
		SetPlayerVirtualWorld(playerid,0);
	}
	else return SendClientMessage(playerid, COLOR_ERROR, HelperOnly);
	return 1;
}
cmd:mark(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	GetPlayerPos(playerid, TeleportDest[playerid][0],TeleportDest[playerid][1],TeleportDest[playerid][2]);
	SCM(playerid, COLOR_GRAD1, "Pozitii setate.");
	return 1;
}
cmd:gotomark(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
	new string[64];
	if(PlayerInfo[playerid][pAdmin] < 3) return SCM(playerid, COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if (GetPlayerState(playerid) == 2) {
		new tmpcar = GetPlayerVehicleID(playerid);
		SetVehiclePos(tmpcar, TeleportDest[playerid][0],TeleportDest[playerid][1],TeleportDest[playerid][2]);
		TelePos[playerid][0] = 0.0;TelePos[playerid][1] = 0.0;
	}
	else {
		SetPlayerPosEx(playerid, TeleportDest[playerid][0],TeleportDest[playerid][1],TeleportDest[playerid][2]);
	}
	SendClientMessage(playerid, COLOR_GRAD1, "Ai fost teleportat cu succes.");
	SetPlayerInterior(playerid,0);
	format(string, sizeof(string), "AdmWarning: %s s-a teleportat la pozitiile salvate prin comanda /mark.", GetName(playerid));
	Adminlog(string);
	return 1;
}
cmd:gotocar(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
	if (PlayerInfo[playerid][pAdmin] < 2) return SCM(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new testcar,string[128];
	if(sscanf(params, "d",testcar)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /gotocar <Vehicle ID>");
	new Float:cwx2,Float:cwy2,Float:cwz2;
	GetVehiclePos(testcar, cwx2, cwy2, cwz2);
	if (GetPlayerState(playerid) == 2) {
		new tmpcar = GetPlayerVehicleID(playerid);
		SetVehiclePos(tmpcar, cwx2, cwy2, cwz2);
		TelePos[playerid][0] = 0.0;TelePos[playerid][1] = 0.0;
	}
	else {
		SetPlayerPosEx(playerid, cwx2, cwy2, cwz2);
	}
	SCM(playerid, COLOR_GRAD1, "Ai fost teleportat cu succes.");
	SetPlayerInterior(playerid,0);
	format(string, sizeof(string), "AdmCmd: %s s-a teleportat la masina %d.", GetName(playerid),testcar);
	Adminlog(string);
	InHQ[playerid] = -1;
	InHouse[playerid] = -1;
	InBussines[playerid] = -1;
	SetPlayerVirtualWorld(playerid,0);
	return 1;
}
cmd:check(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id;
	if(sscanf(params, "u",id)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /check <Nume/Playerid>");
	if(IsPlayerConnected(id)) {
		if(id != INVALID_PLAYER_ID) {
			ShowStats(playerid,id);
		}
	}
	else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:pm(playerid, params[]) {
	new id,message[128], string[256],func[30];
	if(PlayerInfo[playerid][pAdmin] < 1 && PlayerInfo[playerid][pHelper] < 1) return SendClientMessage(playerid, COLOR_LGREEN, HelperOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "us[128]", id, message)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /pm <Nume/Playerid> <Message>");
	if(id != INVALID_PLAYER_ID) {
		if(PlayerInfo[playerid][pHelper] >= 1 && PlayerInfo[playerid][pAdmin] < 1) func ="Helperul";
		else if(PlayerInfo[playerid][pAdmin] >= 1 && PlayerInfo[playerid][pHelper] < 1) func ="Adminul";
		else if(PlayerInfo[playerid][pAdmin] >= 1 && PlayerInfo[playerid][pHelper] >= 1) func ="Adminul";
		format(string,256," Mesaj Privat de la %s %s: %s ",func,GetName(playerid),message);
		SendClientMessage(id, 0xEEF743FF, string);
		format(string, sizeof(string), "Mesajul Privat '%s' a fost trimis cu succes catre %s",message,GetName(id));
		SendClientMessage(playerid,  0xEEF743FF, string);
	}
	else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
IsNumeric(const string[])
{
	for (new i = 0, j = strlen(string); i < j; i++)
	{
		if (string[i] > '9' || string[i] < '0') return 0;
	}
    return 1;
}

cmd:id(playerid, params[]) {
	new names[64], giveplayer[25], x, sstring[180];
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(sscanf(params, "s[64]", names)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /id <Nume/Playerid>");
	if(strlen(names) > 24) return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	if(IsNumeric(names)) {
		if(strval(names) >= 1000) return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	if(IsNumeric(names)) {
		if(x < 10) {
			if(strval(names) < 0 || strval(names) > 999) return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
			new i = strval(names);
			if(IsPlayerLogged[i] == 0) return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
			GetPlayerName(i, giveplayer, sizeof(giveplayer));
			if(GetPVarInt(i, "Cover") == 1) {
				format(sstring, sizeof(sstring), "ID: (%d) %s | Nivel: %d | Factiune: Civil",i,giveplayer,GetPlayerScore(i));
				SendClientMessage(playerid, COLOR_WHITE, sstring);
				return 1;
			}
			new name[180];
			format(name, sizeof(name), "%s", GetName(i));
			new clan = PlayerInfo[i][pClan];					
			if(PlayerInfo[i][pSleeping] == 1 || SecondsAFK[i] >= 5) {
				if(clan != 0 && ClanInfo[clan][clTagType] == 0) format(name, sizeof(name), "{%s}%s{AFAFAF}%s", ClanInfo[clan][clColor], ClanInfo[clan][clTag], GetName(i));
				else if(clan != 0 && ClanInfo[clan][clTagType] == 1) format(name, sizeof(name), "%s{%s}%s{AFAFAF}", GetName(i), ClanInfo[clan][clColor], ClanInfo[clan][clTag]);								
			}
			else {
				if(clan != 0 && ClanInfo[clan][clTagType] == 0) format(name, sizeof(name), "{%s}%s{FFFFFF}%s", ClanInfo[clan][clColor], ClanInfo[clan][clTag], GetName(i));
				else if(clan != 0 && ClanInfo[clan][clTagType] == 1) format(name, sizeof(name), "%s{%s}%s{FFFFFF}", GetName(i), ClanInfo[clan][clColor], ClanInfo[clan][clTag]);									
			}
			if(PlayerInfo[i][pMember] > 0)
			{
				if(PlayerInfo[i][pLeader] > 0)
				{
					if(PlayerInfo[i][pSleeping] == 1 || SecondsAFK[i] >= 5) {
						format(sstring, sizeof(sstring), "ID: (%d) {FFFFFF}%s | Nivel: %d(AFK) | Factiune: {%s}%s{FFFFFF} (Leader)",i,name,PlayerInfo[i][pLevel],DynamicFactions[PlayerInfo[i][pMember]][fFactionColor],NumeFactiune(PlayerInfo[i][pMember]));
						SendClientMessage(playerid, COLOR_WHITE, sstring);
					}
					else {
						format(sstring, sizeof(sstring), "ID: (%d) {FFFFFF}%s | Nivel: %d | Factiune: {%s}%s{FFFFFF} (Leader)",i,name,PlayerInfo[i][pLevel],DynamicFactions[PlayerInfo[i][pMember]][fFactionColor],NumeFactiune(PlayerInfo[i][pMember]));
						SendClientMessage(playerid, COLOR_WHITE, sstring);
					}
				}
				else
				{
				    if(PlayerInfo[i][pSleeping] == 1 || SecondsAFK[i] >= 5) {
						format(sstring, sizeof(sstring), "ID: (%d) {FFFFFF}%s | Nivel: %d(AFK) | Factiune: {%s}%s{FFFFFF} (%d)",i,name,PlayerInfo[i][pLevel],DynamicFactions[PlayerInfo[i][pMember]][fFactionColor],NumeFactiune(PlayerInfo[i][pMember]),PlayerInfo[i][pRank]);
						SendClientMessage(playerid, COLOR_WHITE, sstring);
					}
					else {
						format(sstring, sizeof(sstring), "ID: (%d) {FFFFFF}%s | Nivel: %d | Factiune: {%s}%s{FFFFFF} (%d)",i,name,PlayerInfo[i][pLevel],DynamicFactions[PlayerInfo[i][pMember]][fFactionColor],NumeFactiune(PlayerInfo[i][pMember]),PlayerInfo[i][pRank]);
						SendClientMessage(playerid, COLOR_WHITE, sstring);
					}
				}
			}
			else
			{
			    if(PlayerInfo[i][pSleeping] == 1 || SecondsAFK[i] >= 5)
				{
					format(sstring, sizeof(sstring), "ID: (%d) {FFFFFF}%s | Nivel: %d(AFK) | Factiune: Civil",i,name,PlayerInfo[i][pLevel]);
					SendClientMessage(playerid, COLOR_WHITE, sstring);
				}
				else
				{
					format(sstring, sizeof(sstring), "ID: (%d) {FFFFFF}%s | Nivel: %d | Factiune: Civil",i,name,PlayerInfo[i][pLevel]);
					SendClientMessage(playerid, COLOR_WHITE, sstring);
				}
			}
			x++;
			return 1;
		}
	}	
	foreach(Player, i) {
		if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1) {					
			if(strfind(GetNameEx(i), names, true) != -1) {
				if(x < 10) {
					if(i == INVALID_PLAYER_ID) return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
					GetPlayerName(i, giveplayer, sizeof(giveplayer));
					new szRankk[180];
					if(PlayerInfo[i][pMember] != 0) format(szRankk, sizeof(szRankk), " (Rank %d)", PlayerInfo[i][pRank]);
					if(GetPVarInt(i, "Cover") == 1) {
						format(sstring, sizeof(sstring), "ID: (%d) %s | Nivel: %d | Factiune: Civil",i,giveplayer,GetPlayerScore(i));
						SendClientMessage(playerid, COLOR_WHITE, sstring);
						return 1;
					}
					new name[180];
					format(name, sizeof(name), "%s", GetName(i));
					new clan = PlayerInfo[i][pClan];
					if(PlayerInfo[i][pSleeping] == 1 || SecondsAFK[i] >= 5) {
						if(clan != 0 && ClanInfo[clan][clTagType] == 0) format(name, sizeof(name), "{%s}%s{AFAFAF}%s{FFFFFF}", ClanInfo[clan][clColor], ClanInfo[clan][clTag], GetName(i));
						else if(clan != 0 && ClanInfo[clan][clTagType] == 1) format(name, sizeof(name), "%s{%s}%s{AFAFAF}", GetName(i), ClanInfo[clan][clColor], ClanInfo[clan][clTag]);								
					}
					else {
						if(clan != 0 && ClanInfo[clan][clTagType] == 0) format(name, sizeof(name), "{%s}%s{FFFFFF}%s{FFFFFF}", ClanInfo[clan][clColor], ClanInfo[clan][clTag], GetName(i));
						else if(clan != 0 && ClanInfo[clan][clTagType] == 1) format(name, sizeof(name), "%s{%s}%s{FFFFFF}", GetName(i), ClanInfo[clan][clColor], ClanInfo[clan][clTag]);									
					}
					if(PlayerInfo[i][pMember] > 0)
					{
						if(PlayerInfo[i][pLeader] > 0)
						{
							if(PlayerInfo[i][pSleeping] == 1 || SecondsAFK[i] >= 5) {
								format(sstring, sizeof(sstring), "ID: (%d) {FFFFFF}%s | Nivel: %d(AFK) | Factiune: {%s}%s{FFFFFF} (Leader)",i,name,PlayerInfo[i][pLevel],DynamicFactions[PlayerInfo[i][pMember]][fFactionColor],NumeFactiune(PlayerInfo[i][pMember]));
								SendClientMessage(playerid, COLOR_WHITE, sstring);
							}
							else {
								format(sstring, sizeof(sstring), "ID: (%d) {FFFFFF}%s | Nivel: %d | Factiune: {%s}%s{FFFFFF} (Leader)",i,name,PlayerInfo[i][pLevel],DynamicFactions[PlayerInfo[i][pMember]][fFactionColor],NumeFactiune(PlayerInfo[i][pMember]));
								SendClientMessage(playerid, COLOR_WHITE, sstring);
							}
						}
						else
						{
						    if(PlayerInfo[i][pSleeping] == 1 || SecondsAFK[i] >= 5) {
								format(sstring, sizeof(sstring), "ID: (%d) {FFFFFF}%s | Nivel: %d(AFK) | Factiune: {%s}%s{FFFFFF} (%d)",i,name,PlayerInfo[i][pLevel],DynamicFactions[PlayerInfo[i][pMember]][fFactionColor],NumeFactiune(PlayerInfo[i][pMember]),PlayerInfo[i][pRank]);
								SendClientMessage(playerid, COLOR_WHITE, sstring);
							}
							else {
								format(sstring, sizeof(sstring), "ID: (%d) {FFFFFF}%s | Nivel: %d | Factiune: {%s}%s{FFFFFF} (%d)",i,name,PlayerInfo[i][pLevel],DynamicFactions[PlayerInfo[i][pMember]][fFactionColor],NumeFactiune(PlayerInfo[i][pMember]),PlayerInfo[i][pRank]);
								SendClientMessage(playerid, COLOR_WHITE, sstring);
							}
						}
					}
					else
					{
					    if(PlayerInfo[i][pSleeping] == 1 || SecondsAFK[i] >= 5)
						{
							format(sstring, sizeof(sstring), "ID: (%d) {FFFFFF}%s | Nivel: %d(AFK) | Factiune: Civil",i,name,PlayerInfo[i][pLevel]);
							SendClientMessage(playerid, COLOR_WHITE, sstring);
						}
						else
						{
							format(sstring, sizeof(sstring), "ID: (%d) {FFFFFF}%s | Nivel: %d | Factiune: Civil",i,name,PlayerInfo[i][pLevel]);
							SendClientMessage(playerid, COLOR_WHITE, sstring);
						}
					}
					x++;
				}	
			}											
		}
	}
	if(x == 0) return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	if(x == 10) SCM(playerid, COLOR_WHITE, "Au fost afisate doar primele 10 rezultate.");
	return 1;
}

cmd:sleep(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(InHouse[playerid] > 0) {
        if(InHouse[playerid] != PlayerInfo[playerid][pHouse]) return SCM(playerid, COLOR_GREY, "Nu esti chirias la aceasta casa.");
        if(PlayerInfo[playerid][pWantedLevel] == 0) {
            if(PlayerInfo[playerid][pSleeping] == 0) {
   				PlayerInfo[playerid][pSleeping] = 1;
				TogglePlayerControllable(playerid,0);
     			SendClientMessage(playerid, COLOR_WHITE, "INFO: Acum dormi, pentru a reveni foloseste aceasta comanda din nou.");
                LoopingAnim(playerid, "CRACK", "crckdeth2", 4.0, 1, 0, 0, 0, 0);
				SetPlayerHealthEx(playerid, 100);
				SetPlayerToTeamColor(playerid);
				new qqerry[128],wakaname[25];
				GetPlayerName(playerid,wakaname,sizeof(wakaname));
				format(qqerry, sizeof(qqerry), "UPDATE `users` SET `Status` = '2' WHERE `name`='%s'", wakaname);
			    mysql_query(SQL,qqerry);
				if(HelperDuty[playerid] > 0) {
				    HelperDuty[playerid] = 0;
					SCM(playerid,COLOR_LGREEN,"Deoarece esti AFK nu mai esti la datorie ca helper.");
				}
			}
			else if(PlayerInfo[playerid][pSleeping] == 1) {
				PlayerInfo[playerid][pSleeping] = 0;
				TogglePlayerControllable(playerid,1);
				ClearAnimations(playerid);
                SendClientMessage(playerid, COLOR_WHITE, "INFO: Bine ai revenit!");
				SetPlayerToTeamColor(playerid);
				SetPlayerHealthEx(playerid, 100);
				new qqerry[128],wakaname[25];
				GetPlayerName(playerid,wakaname,sizeof(wakaname));
				format(qqerry, sizeof(qqerry), "UPDATE `users` SET `Status` = '1' WHERE `name`='%s'", wakaname);
			    mysql_query(SQL,qqerry);
		    }
        }
        else return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
    }
    else return SendClientMessage(playerid, COLOR_GREY, "Nu esti in casa.");
	return 1;
}
cmd:fixveh(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pAdmin] < 4) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
    if(!IsPlayerInAnyVehicle(playerid)) return SCM(playerid, COLOR_BZWHITE, "Eroare: Trebuie sa fii intr-un vehicul.");
	if(IsPlayerInAnyVehicle(playerid)) {
	    RepairVehicle(GetPlayerVehicleID(playerid));
	    Gas[GetPlayerVehicleID(playerid)] = 100;
	    new string[100];
	    format(string,sizeof(string),"Vehiculul %d a fost reparat si alimentat cu succes.",GetPlayerVehicleID(playerid));
	    SCM(playerid,COLOR_BZWHITE,string);
    }
	return 1;
}
cmd:service(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new x_nr[256],string[300];
	if(sscanf(params, "s[256]",x_nr)) {
		SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /service <Item>");
	  	SendClientMessage(playerid, COLOR_WHITE, "Available: Taxi, Medic, Mecanic, Licente");
		return 1;
	}
	if(strcmp(x_nr,"taxi",true) == 0) {
		if(IsInBlacklist(playerid, 13))
		return SCM(playerid, COLOR_BZWHITE, "Eroare: Esti pe blacklist-ul acestei factiuni, nu poti folosi serviciile acesteia.");

		if(PlayerTime[playerid] != 0) {
			format(string, sizeof(string), "Poti folosi aceasta comanda peste %d minute.", PlayerTime[playerid]);
			SCM(playerid, COLOR_GOLD, string);
			return 1;
		}
	    if(TaxiDrivers == 0) return SendClientMessage(playerid, COLOR_OOC, "Momentan nu sunt taximetristi la datorie.");
        if(IsPlayerInArea(playerid, -2997.40, -1115.50, -1213.90, 1659.60)) {
			format(string, sizeof(string), "** %s are nevoie de un Taximetrist, Locatie: %s (SF). (scrie /accept taxi %d pentru a accepta)", GetName(playerid) ,GetPlayerArea(playerid),playerid);
			SendTeamMessage(13,COLOR_OOC,string);
			SendTeamMessage(16,COLOR_OOC,string);
			SendTeamMessage(17,COLOR_OOC,string);
		}
		else if(IsPlayerInArea(playerid, 44.60, -2892.90, 2997.00, -768.00)) {
			format(string, sizeof(string), "** %s are nevoie de un Taximetrist, Locatie: %s (LS). (scrie /accept taxi %d pentru a accepta)", GetName(playerid) ,GetPlayerArea(playerid),playerid);
	    	SendTeamMessage(13,COLOR_OOC,string);
			SendTeamMessage(16,COLOR_OOC,string);
			SendTeamMessage(17,COLOR_OOC,string);
		}
		else if(IsPlayerInArea(playerid, 869.40, 596.30, 2997.00, 2993.80)) {
			format(string, sizeof(string), "** %s are nevoie de un Taximetrist, Locatie: %s (LV). (scrie /accept taxi %d pentru a accepta)", GetName(playerid) ,GetPlayerArea(playerid),playerid);
	    	SendTeamMessage(13,COLOR_OOC,string);
			SendTeamMessage(16,COLOR_OOC,string);
			SendTeamMessage(17,COLOR_OOC,string);
		}
		else {
			format(string, sizeof(string), "** %s are nevoie de un Taximetrist, Locatie: %s. (scrie /accept taxi %d pentru a accepta)", GetName(playerid) ,GetPlayerArea(playerid),playerid);
	    	SendTeamMessage(13,COLOR_OOC,string);
			SendTeamMessage(16,COLOR_OOC,string);
			SendTeamMessage(17,COLOR_OOC,string);
		}			
	    SCM(playerid, COLOR_OOC, "* Apelul tau catre Taximetristi a fost trimis, asteapta un raspuns.");
	    TaxiCall[playerid] = playerid;
		PlayerTime[playerid] = 5;
	}
	else if(strcmp(x_nr,"medic",true) == 0) {
		if(IsInBlacklist(playerid, 14))
		return SCM(playerid, COLOR_BZWHITE, "Eroare: Esti pe blacklist-ul acestei factiuni, nu poti folosi serviciile acesteia.");
		if(PlayerTime4[playerid] != 0) {
			format(string, sizeof(string), "Poti folosi aceasta comanda peste %d minute.", PlayerTime4[playerid]);
			SCM(playerid, COLOR_GOLD, string);
			return 1;
		}
        if(IsPlayerInArea(playerid, -2997.40, -1115.50, -1213.90, 1659.60)) {
			format(string, sizeof(string), "** %s are nevoie de un Medic, Locatie: %s (SF). (scrie /accept medic %d pentru a accepta)", GetName(playerid),GetPlayerArea(playerid),playerid);
	    	SendFactionMessage(14, COLOR_OOC, string);
		}
		else if(IsPlayerInArea(playerid, 44.60, -2892.90, 2997.00, -768.00)) {
			format(string, sizeof(string), "** %s are nevoie de un Medic, Locatie: %s (LS). (scrie /accept medic %d pentru a accepta)", GetName(playerid),GetPlayerArea(playerid),playerid);
	    	SendFactionMessage(14, COLOR_OOC, string);
		}
		else if(IsPlayerInArea(playerid, 869.40, 596.30, 2997.00, 2993.80)) {
			format(string, sizeof(string), "** %s are nevoie de un Medic, Locatie: %s (LV). (scrie /accept medic %d pentru a accepta)", GetName(playerid),GetPlayerArea(playerid),playerid);
	    	SendFactionMessage(14, COLOR_OOC, string);
		}
		else {
			format(string, sizeof(string), "** %s are nevoie de un Medic, Locatie: %s. (scrie /accept medic %d pentru a accepta)", GetName(playerid),GetPlayerArea(playerid),playerid);
	    	SendFactionMessage(14, COLOR_OOC, string);
		}			
	    SCM(playerid, COLOR_OOC, "* Apelul tau catre Medici a fost trimis, asteapta un raspuns.");
	    MedicCall[playerid] = playerid;
		PlayerTime4[playerid] = 5;
	}
	else if(strcmp(x_nr,"mecanic",true) == 0) {
		if(PlayerTime5[playerid] != 0) {
			format(string, sizeof(string), "Poti folosi aceasta comanda peste %d minute.", PlayerTime5[playerid]);
			SCM(playerid, COLOR_GOLD, string);
			return 1;
		}
        if(IsPlayerInArea(playerid, -2997.40, -1115.50, -1213.90, 1659.60)) {
			format(string, sizeof(string), "** %s are nevoie de un Mecanic, Locatie: %s (SF). (scrie /accept mecanic %d pentru a accepta)", GetName(playerid),GetPlayerArea(playerid),playerid);
	    	SendJobMessage(7, COLOR_OOC, string);
		}
		else if(IsPlayerInArea(playerid, 44.60, -2892.90, 2997.00, -768.00)) {
			format(string, sizeof(string), "** %s are nevoie de un Mecanic, Locatie: %s (LS). (scrie /accept mecanic %d pentru a accepta)", GetName(playerid),GetPlayerArea(playerid),playerid);
	    	SendJobMessage(7, COLOR_OOC, string);
		}
		else if(IsPlayerInArea(playerid, 869.40, 596.30, 2997.00, 2993.80)) {
			format(string, sizeof(string), "** %s are nevoie de un Mecanic, Locatie: %s (LV). (scrie /accept mecanic %d pentru a accepta)", GetName(playerid),GetPlayerArea(playerid),playerid);
	    	SendJobMessage(7, COLOR_OOC, string);
		}
		else {
			format(string, sizeof(string), "** %s are nevoie de un Mecanic, Locatie: %s (LV). (scrie /accept mecanic %d pentru a accepta)", GetName(playerid),GetPlayerArea(playerid),playerid);
	    	SendJobMessage(7, COLOR_OOC, string);
		}
	    SCM(playerid, COLOR_OOC, "* Apelul tau catre Mecanici a fost trimis, asteapta un raspuns.");
	    MechanicCall[playerid] = playerid;
		PlayerTime5[playerid] = 5;
	}
	else return SCM(playerid, COLOR_WHITE, "Available: Taxi, Medic, Mecanic");
	return 1;
}
			
cmd:block(playerid, params[]) {
	new id;
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(sscanf(params, "u",id)) return SCM(playerid, COLOR_SYNTAX, "Syntax: /block <Nume/Playerid>");
	if(IsBlocked(playerid, id)) return SCM(playerid, COLOR_GREY, "Acest player este deja blocat!");
	if(id == playerid) return SCM(playerid, COLOR_LGREEN, "Nu poti folosi aceasta comanda asupra ta!");
	format(Blocked[playerid][EmptyID(playerid)], 256, GetName(id));
	new string[180];
	format(string, sizeof(string), "L-ai blocat pe %s (%d)! Acesta nu o sa te mai poata conecta pana la urmatoarea deconectare.", GetName(id), id);
	SCM(playerid, 0xFFBABAFF, string);
	return 1;
}
cmd:blocklist(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new x, string[180];
	SCM(playerid, -1, "-- Playeri blocati --");
	foreach(Player, i) {
		if(IsPlayerConnected(i) && IsBlocked(playerid, i)) {
			format(string, sizeof(string), "%s (%d)", GetName(i), i);
			SCM(playerid, COLOR_WHITE, string);
			x++;
		}
	}
	if(x == 0) SCM(playerid, -1, "Nu au fost gasiti playeri blocati!");
	else {
		format(string, sizeof(string), "Au fost gasiti %d playeri.", x);
		SCM(playerid, COLOR_WHITE, string);
	}
	return 1;
}
cmd:unblock(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new id;
	if(sscanf(params, "u",id)) return SCM(playerid, COLOR_SYNTAX, "Syntax: /unblock <Nume/Playerid>");
	if(!IsBlocked(playerid, id)) return SCM(playerid, COLOR_GREY, "Acest player nu este blocat!");
	if(id == playerid) return SCM(playerid, COLOR_LGREEN, "Nu poti folosi aceasta comanda asupra ta!");
	Blocked[playerid][IsBlocked2(playerid, id)] = "-1";
	format(szGlobal, sizeof(szGlobal), "L-ai deblocat pe %s (%d)! Acesta te poate contacta acum.", GetName(id), id);
	SCM(playerid, 0xFFBABAFF, szGlobal);
	return 1;
}
function IsBlocked(playerid, id) {
	for(new i = 0; i < 100; i++) {
		if(strcmp(Blocked[playerid][i], GetName(id), true) == 0) return 1;
	}
	return 0;
}

function IsBlocked2(playerid, id) {
	for(new i = 0; i < 100; i++) {
		if(strcmp(Blocked[playerid][i], GetName(id), true) == 0) return i;
	}
	return 0;
}	

function ResetBlockList(playerid) {
	for(new i = 0; i < 100; i++) {
		Blocked[playerid][i] = "-1";
	}
	return 1;
}

function EmptyID(playerid) {
	for(new i = 0; i < 100; i++) {
		if(strcmp(Blocked[playerid][i], "-1", true) == 0) return i;
	}
	return 0;
}


cmd:oplace(playerid, params[]) {
	new obj, money;
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 2) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "ii", obj, money)) {
		SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /oplace <Object ID> <Money>");
		SCM(playerid, COLOR_WHITE, "Cadou (19054-19058), Glob (19059-19063), Oua (19341-19345), Dovleac (19320).");
		return 1;
	}	
	new id = GetObjects(), Float: Pos[3];
	if(id == MAX_COBJECTS) return SCM(playerid, COLOR_LGREEN, "A fost atinsa limita maxima de obiecte!");
	if(obj < 1 || obj > 19500) return SCM(playerid, COLOR_GREY, "Object invalid!");
	if(money < 1 || money > 100000) return SCM(playerid, COLOR_GREY, "Invalid money! ($1-$100,000)");
	GetPlayerPos(playerid, Pos[0], Pos[1], Pos[2]);
	ObjectInfo[id][oID] = CreateDynamicPickup(obj, 23, Pos[0], Pos[1], Pos[2], 0, -1, -1, 100.0);
	ObjectInfo[id][oMoney] = money;
	new string[180];
	format(string, sizeof(string), "AdmCmd: %s a adaugat un nou obiect iar acum sunt %d obiecte in total. [obj: %d, $%s]", GetName(playerid), id+1, obj, FormatNumber(money));
	SendAdminMessage(COLOR_LOGS, string, 2);
	return 1;
}	
alias:removeobjects("remobjs");
cmd:removeobjects(playerid, params[]) {
	new id = GetObjects();
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 2) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(id == 0) return SCM(playerid, COLOR_GREY, "Nu sunt obiecte create");
	new obj = GetObjects();	
	new string[180];
	format(string, sizeof(string), "AdmCmd: %s a sters toate obiectele create (%d).", GetName(playerid), obj);
	SendAdminMessage(COLOR_LOGS, string, 2);
	RemoveObjects();
	return 1;
}

function RemoveObject(id) {
	DestroyDynamicPickup(ObjectInfo[id][oID]);
	ObjectInfo[id][oID] = 0;
	ObjectInfo[id][oMoney] = 0;
	return 1;
}

function RemoveObjects() {
	for(new i = 0; i < MAX_COBJECTS; i++) {
		if(ObjectInfo[i][oID] != 0) {
			DestroyDynamicPickup(ObjectInfo[i][oID]);
			ObjectInfo[i][oID] = 0;
			ObjectInfo[i][oMoney] = 0;
		}
	}	
	return 1;
}

function GetObjects() {
	new x;
	for(new i = 0; i < MAX_COBJECTS; i++) {
		if(ObjectInfo[i][oID] != 0) x++;
	}
	return x;
}
cmd:killcp(playerid,params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(CP[playerid] == 50) return SCM(playerid,COLOR_GREY, "Este checkpoint pentru rob.");
	if(CP[playerid] >= 100 && CP[playerid] <= 119) return SCM(playerid,COLOR_WHITE,"Acest checkpoint nu poate fi sters deoarece este pentru DMV!");
	if(JobWorking[playerid] == 1) return SCM(playerid,COLOR_GREY, "Foloseste /stopwork pentru a nu mai munci!");
	if(CP[playerid] != 0) {
  		DisablePlayerCheckpoint(playerid);
		SCM(playerid,COLOR_WHITE,"Punctul rosu a fost sters cu succes.");
		CP[playerid] = 0;
		targetfind[playerid] = -1;
	}
	return 1;
}
cmd:cancel(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new x_job[256],string[300];
	if(sscanf(params, "s[256]",x_job)) {
		SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /cancel <Item>");
		SendClientMessage(playerid, COLOR_WHITE, "Available: Droguri, Reparatie, Accept, Live, Casa.");
		SendClientMessage(playerid, COLOR_WHITE, "Available: Taxi, Medic, Mecanic, Ziar, Tichet, Checkpoint.");
		SendClientMessage(playerid, COLOR_WHITE, "Available: Realimentare, Materiale, RequestEvent, Trade.");
		return 1;
	}
	/*
	if(strcmp(x_job,"requestevent",true) == 0)
	{
		if(requestingevent[playerid] == 0) return SendClientMessage(playerid, COLOR_GREY, "You're not requesting an event.");
		requestingevent[playerid] = 0;
		SendClientMessage(playerid, COLOR_LIGHTBLUE, "Ai renuntat la cerere.");
	}*/
	else if(strcmp(x_job,"droguri",true) == 0) {
		if(DrugOffer[playerid] == 999) return SCM(playerid,COLOR_GREY, "Nimeni nu ti-a oferit droguri.");
		DrugOffer[playerid] = 999;
		DrugPrice[playerid] = 0;
		DrugGram[playerid] = 0;
	}
	else if(strcmp(x_job,"checkpoint",true) == 0) {
		if(CP[playerid] == 50) return SCM(playerid,COLOR_GREY, "Este checkpoint pentru rob.");
		if(CP[playerid] >= 100 && CP[playerid] <= 119) return SCM(playerid,COLOR_WHITE,"Acest checkpoint nu poate fi sters deoarece este pentru DMV!");
		if(JobWorking[playerid] == 1) return SCM(playerid,COLOR_GREY, "Foloseste /stopwork pentru a nu mai munci!");
		if(CP[playerid] != 0) {
	  		DisablePlayerCheckpoint(playerid);
			SCM(playerid,COLOR_WHITE,"Punctul rosu a fost sters cu succes.");
			CP[playerid] = 0;
			targetfind[playerid] = -1;
		}
	}
	else if(strcmp(x_job,"reparatie",true) == 0) {
		if(RepairOffer[playerid] == 999) return SCM(playerid,COLOR_GREY, "Nimeni nu ti-a oferit o reparatie.");
		RepairOffer[playerid] = 999;
		RepairPrice[playerid] = 0;
		RepairCar[playerid] = 0;
	}
	else if(strcmp(x_job,"accept",true) == 0) {
		if(AcceptOffer[playerid] == -1) return SCM(playerid,COLOR_GREY, "Nimeni nu ti-a oferit accept.");
		AcceptOffer[playerid] = -1;
		AcceptPrice[playerid] = 0;
	}
	else if(strcmp(x_job,"materiale",true) == 0) {
		if(MatsOffer[playerid] == -1) return SCM(playerid,COLOR_GREY, "Nimeni nu ti-a oferit materiale.");
		MatsOffer[playerid] = -1;
		MatsPrice[playerid] = 0;
		MatsAmmo[playerid] = 0;
	}
	else if(strcmp(x_job,"arma",true) == 0) {
		if(SellgunOffer[playerid] == -1) return SCM(playerid,COLOR_GREY, "Nimeni nu ti-a oferit o arma.");
		SellgunOffer[playerid] = -1;
		SellgunPrice[playerid] = 0;
		SellgunMats[playerid] = 0;
		SellgunAmmo[playerid] = 0;
		SellgunID[playerid] = 0;
	}
	else if(strcmp(x_job,"free",true) == 0) {
		if(FreeOffer[playerid] == -1) return SCM(playerid,COLOR_GREY, "Nimeni nu ti-a oferit free.");
		FreeOffer[playerid] = -1;
		FreePrice[playerid] = 0;
	}
	else if(strcmp(x_job,"find",true) == 0) {
		if(UsedFind[playerid] == 0) return SCM(playerid,COLOR_GREY, "Nu ai find pe nimeni.");
		if(UsedFind[playerid] == 1)
		{
			UsedFind[playerid] = 0;
			targetfind[playerid] = -1;
			DisablePlayerCheckpoint(playerid);
			SCM(playerid, -1, "Urmarirea a fost anulata.");
		}
	}
	else if(strcmp(x_job,"live",true) == 0) {
		if(LiveOffer[playerid] == 999) return SCM(playerid,COLOR_GREY, "Nu ai primit o oferta pentru live.");
		LiveOffer[playerid] = 999;
	}
	else if(strcmp(x_job,"alimentare",true) == 0) {
		if(RefillOffer[playerid] == 999) return SCM(playerid,COLOR_GREY, "Nimeni nu ti-a oferit benzina.");
		RefillOffer[playerid] = 999;
		RefillPrice[playerid] = 0;
	}
	else if(strcmp(x_job,"tichet",true) == 0) {
		if(TicketOffer[playerid] == 999) return SCM(playerid,COLOR_GREY, "Nimeni nu ti-a oferit o amenda.");
		TicketOffer[playerid] = 999;
		TicketMoney[playerid] = 0;
	}
	else if(strcmp(x_job,"medic",true) == 0) {
		if(MedicCall[playerid] == playerid) {
		    foreach(Player, i) {
				if(IsPlayerConnected(i) && Accepted[i] == playerid) {
				    SCM(i, -1, "Playerul caruia i-ai acceptat comanda, a dat /cancel!");
				    CP[i] = 0;
				    targetfind[i] = -1;
					UsedFind[i] = 0;
					DisablePlayerCheckpoint(i);
					Accepted[i] = -1;
				}
		    }
			MedicCall[playerid] = -1;
			new sendername[30];
			GetPlayerName(playerid,sendername,sizeof(sendername));
			format(string, sizeof(string), "** %s a renuntat la apel.", sendername);
	    	SendFactionMessage(14, TEAM_AZTECAS_COLOR, string);
	    	SCM(playerid, -1, "Ai renuntat la acest serviciu.");
		}
		else return SendClientMessage(playerid,COLOR_GREY, "Nu a apelat la acest serviciu.");
	}
	else if(strcmp(x_job,"mecanic",true) == 0) {
		if(MechanicCall[playerid] == playerid) {
		    foreach(Player, i) {
				if(IsPlayerConnected(i) && Accepted[i] == playerid) {
				    SCM(i, -1, "Playerul caruia i-ai acceptat comanda, a dat /cancel!");
				    CP[i] = 0;
				    targetfind[i] = -1;
					UsedFind[i] = 0;
					DisablePlayerCheckpoint(i);
					Accepted[i] = -1;
				}
		    }
			MechanicCall[playerid] = -1;
			new sendername[30];
			GetPlayerName(playerid,sendername,sizeof(sendername));
			format(string, sizeof(string), "** %s a renuntat la apel.", sendername);
	    	SendFactionMessage(8, TEAM_AZTECAS_COLOR, string);
	    	SCM(playerid, -1, "Ai renuntat la acest serviciu.");
		}
		else return SendClientMessage(playerid, COLOR_GREY, "Nu a apelat la acest serviciu.");
	}
	else if(strcmp(x_job,"casa",true) == 0) {
		if(HouseOffer[playerid] == 999) return SCM(playerid,COLOR_GREY, "Nimeni nu ti-a oferit house.");
		HouseID[playerid] = 0;
		HouseOffer[playerid] = 999;
		HousePrice[playerid] = 0;
	}
	else if(strcmp(x_job,"taxi",true) == 0) {
		if(TaxiCall[playerid] == playerid) {
		    SCM(playerid, COLOR_WHITE, "Ai renuntat la acest serviciu!");
		    if(TransportDuty[playerid] == 1 && TaxiCallTime[playerid] > 0) {
		        TaxiAccepted[playerid] = 999;
		        SCM(playerid,-1,"Ai renuntat la apel.");
				TaxiCallTime[playerid] = 0;
				DisablePlayerCheckpoint(playerid);
				TaxiCall[playerid] = -1;
		    }
		    else {
				if(IsPlayerConnected(TaxiCall[playerid])) {
					if(TaxiCall[playerid] == playerid) {
						TaxiCall[playerid] = -1;
					}
				}
				foreach(Player,i) {
					 if(IsPlayerConnected(i)) {
					     if(TaxiAccepted[i] < 999) {
						     if(TaxiAccepted[i] == playerid) {
						         TaxiAccepted[i] = 999;
						         targetfind[i] = -1;
						         SCM(i, -1, "Playerul caruia i-ai acceptat comanda, a dat /cancel!");
						         TaxiCallTime[i] = 0;
						         DisablePlayerCheckpoint(i);
						     }
					    }
					}
				}
			}
		}
		else return 1;
	}
	return 1;
}
cmd:accept(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new x_job[256],id,sendername[25],giveplayer[25],string[300];
	new tmpcar = GetPlayerVehicleID(playerid);
	new ccar = IsPlayerInAnyVehicle(playerid);
	if(sscanf(params, "s[256]u",x_job,id))
	{
		SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /accept <Item> <Nume/Playerid>");
		SendClientMessage(playerid, COLOR_WHITE, "Valabile: Drugs, Repair, House, Materials, Dice.");
		SendClientMessage(playerid, COLOR_WHITE, "Valabile: Vehicle, Taxi, Medic, Live, Lawyer.");
		SendClientMessage(playerid, COLOR_WHITE, "Valabile: Mechanic, Ticket, Refill, Invite, Trade.");
		return 1;
	}
	if(id == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	if(strcmp(x_job,"trade",true) == 0) {
		if(TradePlayer[playerid] == -1) return SCM(playerid, -1, "Nu ai primit o asemenea oferta.");
		if(TradePlayer[playerid] != id) return SCM(playerid, -1, "Acel player nu ti-a facut o oferta.");
		if(GetPlayerCash(id) < TradeMoney[playerid]) return SCM(playerid, -1, "Acel jucator nu are diferenta.");
		if(GetPlayerInterior(playerid) != 0 || IsPlayerInAnyVehicle(playerid)) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu poti face o afacere dintr-un interior sau vehicul!");
		if(GetPlayerInterior(id) != 0 || IsPlayerInAnyVehicle(id)) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu poti face o afacere cu cineva ce se afla intr-un interior sau vehicul!");
		if(TradeID[playerid] != -1) return SCM(playerid, COLOR_WHITE, "Esti deja intr-o afacere!");
		if(TradeID[id] != -1) return SCM(playerid, COLOR_WHITE, "Acel player este deja intr-o afacere!");
		if(strlen(PlayerInfo[playerid][pPin]) != 0 && PlayerInfo[playerid][pPinLogged] == 0) {
			 SCM(playerid, COLOR_GREY, "Nu poti folosi aceasta comanda deoarece nu te-ai autentificat cu codul de securitate.");
			 SCM(playerid, COLOR_GREY, "Pentru a te autentifica, foloseste comanda '/loginpin'!");
			 return 1;
		}
		TradePlayer[playerid] = -1;

		format(string, sizeof(string), "Bunurile lui %s", GetName(id));
		PlayerTextDrawSetString(playerid, TradePTD[0], string);
		PlayerTextDrawSetString(id, TradePTD[0], "Bunurile tale");
		PlayerTextDrawSetString(playerid, TradePTD[1], "Bunurile tale");
		format(string, sizeof(string), "Bunurile lui %s", GetName(playerid));
		PlayerTextDrawSetString(id, TradePTD[1], string);

		TradeItems[id] = 0;
		TradeItems[playerid] = 0;
		TradeReady[id] = 0;
		TradeReady[playerid] = 0;
		TradeID[id] = playerid;
		TradeID[playerid] = id;

		format(string, sizeof(string), "%s (%d) a acceptat invitatia ta!", GetName(playerid), playerid);
		SCM(id, COLOR_LIGHTBLUE, string);
		format(string, sizeof(string), "Ai acceptat invitatia lui %s (%d)!", GetName(id), id);
		SCM(playerid, COLOR_LIGHTBLUE, string);

		ShowTradeTDs(id);
		ShowTradeTDs(playerid);

		TradeType[id] = 1;
		TradeType[playerid] = 0;

		TextDrawHideForPlayer(id, TradeTD[9]);
		TextDrawHideForPlayer(id, TradeTD[10]);
		PlayerTextDrawHide(playerid, TradePTD[2]);
		PlayerTextDrawHide(playerid, TradePTD[3]);

		SetPVarInt(playerid, "TradeAccepted", 1);
		SetPVarInt(id, "TradeAccepted", 0);
		SetPVarInt(id, "CarTrade", -1);
		SetPVarInt(playerid, "CarTrade", -1);
		return 1;
	}
	if(strcmp(x_job,"mecanic",true) == 0)
	{
		if(CP[playerid] != 0) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ. Doresti sa-l anulezi?", "Ok", "Exit");
		if(PlayerInfo[playerid][pJob] != 7) return SendClientMessage(playerid, COLOR_GRAD2, "Nu faci parte din factiunea car mechanic.");
        if(MechanicCallTime[playerid] == 1) return SendClientMessage(playerid, COLOR_GRAD2, "You have already accepted a Mechanic Call.");
		if(MechanicCall[id] != id) return SCM(playerid,COLOR_WHITE,"{FFB870}This player has not called a mechanic.");
		if(MechanicCall[id] == id)
        {
		    if(IsPlayerConnected(MechanicCall[id]))
            {
                GetPlayerName(playerid, sendername, sizeof(sendername));
            	GetPlayerName(MechanicCall[id], giveplayer, sizeof(giveplayer));
            	format(string, sizeof(string), "* I-ai acceptat apelul lui %s.",giveplayer);
				SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
 				format(string, sizeof(string), "* Mecanicul %s a acceptat apelul tau.",sendername);
				SendClientMessage(MechanicCall[id], COLOR_LIGHTBLUE, string);
				new Float:X,Float:Y,Float:Z;
				GetPlayerPos(MechanicCall[id], X, Y, Z);
				SetPlayerCheckpointEx(playerid, X, Y, Z, 5);
				UsedFind[playerid] = 1;
				targetfind[playerid] = id;
				MechanicCall[id] = -1;
				CP[playerid] = 43;
				Accepted[playerid] = id;
				return 1;
			}
			else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
        }
        else return SendClientMessage(playerid, COLOR_WHITE, "Acel player nu a apelat la tine.");
	}
	else if( strcmp ( x_job, "car" , true ) == 0 )
	{
		if(GetDistanceBetweenPlayers(playerid, id) > 5) return SendClientMessage(playerid, -1, "Acel player nu este in raza ta.");
		//
		new playerID, price, keyid, idd, query[256];
		playerID = GetPVarInt(playerid, "OfferBy");
		price = GetPVarInt(playerid, "Price");
		keyid = GetPVarInt(playerid, "Slot");
		idd = GetPVarInt(playerid, "OfferCar");
		
		//
		if(id != playerID) return SCM(playerid, -1, "Acel jucator nu ti-a facut o oferta!");
		if(GetPlayerCash(playerid) < price) return SCM(playerid, -1, "Nu ai banii necesari pentru a accepta oferta!");
		if(GetSlots(playerid) == GetVehicles(playerid)) return SCM(playerid, -1, "Ai numarul maxim de masini personale!"); 		
		switch(keyid) {
			case 1: { UpdateVar(id, "CarKey1", 0); PlayerInfo[id][pCarKey][0] = 0; }
			case 2: { UpdateVar(id, "CarKey2", 0); PlayerInfo[id][pCarKey][1] = 0; }
			case 3: { UpdateVar(id, "CarKey3", 0); PlayerInfo[id][pCarKey][2] = 0; }
			case 4: { UpdateVar(id, "CarKey4", 0); PlayerInfo[id][pCarKey][3] = 0; }
			case 5: { UpdateVar(id, "CarKey5", 0); PlayerInfo[id][pCarKey][4] = 0; }
			case 6: { UpdateVar(id, "CarKey6", 0); PlayerInfo[id][pCarKey][5] = 0; }
			case 7: { UpdateVar(id, "CarKey7", 0); PlayerInfo[id][pCarKey][6] = 0; }
			case 8: { UpdateVar(id, "CarKey8", 0); PlayerInfo[id][pCarKey][7] = 0; }
			case 9: { UpdateVar(id, "CarKey9", 0); PlayerInfo[id][pCarKey][8] = 0; }
			case 10: { UpdateVar(id, "CarKey10", 0); PlayerInfo[id][pCarKey][9] = 0; }							
		}
		new slotid = FindCSlot(playerid);
		switch(slotid) {
			case 1: { UpdateVar(playerid, "CarKey1", idd); PlayerInfo[playerid][pCarKey][0] = idd; }
			case 2: { UpdateVar(playerid, "CarKey2", idd); PlayerInfo[playerid][pCarKey][1] = idd; }
			case 3: { UpdateVar(playerid, "CarKey3", idd); PlayerInfo[playerid][pCarKey][2] = idd; }
			case 4: { UpdateVar(playerid, "CarKey4", idd); PlayerInfo[playerid][pCarKey][3] = idd; }
			case 5: { UpdateVar(playerid, "CarKey5", idd); PlayerInfo[playerid][pCarKey][4] = idd; }
			case 6: { UpdateVar(playerid, "CarKey6", idd); PlayerInfo[playerid][pCarKey][5] = idd; }
			case 7: { UpdateVar(playerid, "CarKey7", idd); PlayerInfo[playerid][pCarKey][6] = idd; }
			case 8: { UpdateVar(playerid, "CarKey8", idd); PlayerInfo[playerid][pCarKey][7] = idd; }
			case 9: { UpdateVar(playerid, "CarKey9", idd); PlayerInfo[playerid][pCarKey][8] = idd; }
			case 10: { UpdateVar(playerid, "CarKey10", idd); PlayerInfo[playerid][pCarKey][9] = idd; }	
		}
		if(slotid == 0 || keyid == 0) return SCM(playerid, COLOR_CLIENT, "Nu poti folosi aceasta comanda acum. Nu folosi /report pentru ca nu ajuta cu nimic.");
		CarInfo[idd][Userid] = PlayerInfo[playerid][pSQLID];
		format(string, sizeof(string), "UPDATE `cars` SET `Userid`='%d' WHERE `ID='%d'", PlayerInfo[playerid][pSQLID], idd);
		mysql_query(SQL, query);
		GivePlayerCash(playerid, -price);
		GivePlayerCash(id, price);
		
		format(string, 256, "($) %s(%d) i-a vandut lui %s(%d) vehiculul %s pentru $%s.", GetName(id), id, GetName(playerid), playerid, aVehicleNames[CarInfo[idd][cModel]-400], FormatNumber(price));
		SendAdminMessage(COLOR_YELLOW, string, 1); 
		
		format(string, sizeof(string), "* Ai acceptat oferta lui %s.", GetName(id));
		SendClientMessage(playerid, COLOR_MONEY, string);
		RemovePlayerFromVehicle(id);
		format(string, sizeof(string), "* %s a acceptat oferta ta.", GetName(playerid));
		SendClientMessage(id, COLOR_MONEY, string);	
		
		SetPVarInt(playerid, "OfferBy", -1);
		SetPVarInt(playerid, "Price", 0);
		SetPVarInt(playerid, "Slot", 0);
		SetPVarInt(playerid, "OfferCar", 0);	
	}
	else if(strcmp(x_job,"clan",true) == 0) {
	    new query[256];
		new clanid = InvitedClan[playerid];
		if(clanid == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu ai nicio invitatie.");
		SendClientMessage(playerid, COLOR_LIGHTBLUE, "Ai acceptat cererea de intrare in clan.");

		format(string, sizeof(string), "{%s}(CLAN) %s a acceptat invitatia de intrare in clan.", ClanInfo[InvitedClan[playerid]][clColor], GetName(playerid));
		SendClanMessage(clanid, string);
        ClanInfo[clanid][clSlots]--;
        new szQuery[256];
		format(szQuery, sizeof(szQuery), "UPDATE `clans` SET `Slots`='%d' WHERE `ID`='%d'", ClanInfo[clanid][clSlots], clanid);
		mysql_query(SQL, szQuery);
		PlayerInfo[playerid][pClan] = clanid;
		PlayerInfo[playerid][pClanRank] = 1;
		InvitedClan[playerid] = -1;
		InvitedBy[playerid] = -1;

		new
			szDate[256],
			Year, Month, Day, Hour, Minute, Second;

		getdate(Year, Month, Day);
		gettime(Hour, Minute, Second);

		format(szDate, sizeof(szDate), "%02d/%02d/%d - %02d:%02d:%02d", Day, Month, Year, Hour, Minute, Second);

		format(query, sizeof(query), "UPDATE `users` SET `Clan`='%d', `ClanRank`='%d' WHERE `Name`='%s'", PlayerInfo[playerid][pClan], PlayerInfo[playerid][pClanRank], PlayerInfo[playerid][pUsername]);
        mysql_query(SQL, query);

		new
			szName[256],
			clanid2 = PlayerInfo[playerid][pClan];

		if(ClanInfo[clanid2][clTagType] == 0) {
			format(szName, sizeof(szName), "%s%s", ClanInfo[clanid2][clTag], PlayerInfo[playerid][pUsername]);
		}
		else if(ClanInfo[clanid2][clTagType] == 1) {
			format(szName, sizeof(szName), "%s%s", PlayerInfo[playerid][pUsername], ClanInfo[clanid2][clTag]);
		}
		SetPlayerName(playerid, szName);

		format(query, sizeof(query), "UPDATE `users` SET `Clan`='%d', `ClanRank`='%d' WHERE `Name`='%s'", PlayerInfo[playerid][pClan], PlayerInfo[playerid][pClanRank], GetName(playerid));
		mysql_query(SQL, query);
		return 1;
	}
	else if(strcmp(x_job,"dice",true) == 0)
	{
		if(Diceid[playerid] == 999) return 1;
		if(Diceid[playerid] != id) return 1;
		if(GetPlayerCash(playerid) < Dicem[playerid]) return SCM(playerid,COLOR_GREY, "Nu ai acesti bani.");
	    if(GetPlayerCash(id) < Dicem[playerid]) return SCM(playerid,COLOR_GREY, "Acel player nu are destui bani.");
		if(ProxDetectorS(10.0, playerid, Diceid[playerid]))
		{
		   	new dice1[MAX_PLAYERS],dice2[MAX_PLAYERS];
		    dice1[playerid] = random(12) + 1;
		    dice2[Diceid[playerid]] = random (12) + 1;
		    GetPlayerName(playerid,sendername,sizeof(sendername));
		    GetPlayerName(Diceid[playerid],giveplayer,sizeof(giveplayer));
		    if(dice1[playerid] > dice2[Diceid[playerid]])
		    {
				format(string,sizeof(string),"%s a castigat cu zarul %d si %s a pierdut cu zarul %d.",sendername,dice1[playerid],giveplayer,dice2[Diceid[playerid]]);
				ProxDetector(10.0,playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
				GivePlayerCash(playerid,Dicem[playerid]);
				GivePlayerCash(Diceid[playerid],-Dicem[playerid]);
			}
			if(dice2[Diceid[playerid]] > dice1[playerid])
			{
				format(string,sizeof(string),"%s a castigat cu zarul %d si %s a pierdut cu zarul %d.",giveplayer,dice2[Diceid[playerid]],sendername,dice1[playerid]);
				ProxDetector(10.0,playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
				GivePlayerCash(playerid,-Dicem[playerid]);
				GivePlayerCash(Diceid[playerid],Dicem[playerid]);
			}
			if(dice2[Diceid[playerid]] == dice1[playerid])
			{
				ProxDetector(10.0,playerid, "Joc egal.", COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
			}
			Update(playerid, pCashx);
			Update(Diceid[playerid], pCashx);
			Diceid[playerid] = 999;
			Dicem[playerid] = 0;
		}
		else return SendClientMessage(playerid, COLOR_GREY, "Acel player nu este in raza ta.");
		return 1;
	}
	else if(strcmp(x_job,"lawyer",true) == 0)
	{
		if(AcceptOffer[playerid] > -1)
		{
		    if(AcceptOffer[playerid] != id) return SCM(playerid,COLOR_GREY, "Acel player nu ti-a oferit accept.");
		    if(GetPlayerCash(playerid) < AcceptPrice[playerid]) return SCM(playerid,COLOR_GREY, "Nu ai destui bani.");
		    PlayerInfo[playerid][pLawyer] += 15;
		    PlayerInfo[AcceptOffer[playerid]][pLawyer] -= 15;
		    GivePlayerCash(playerid, - AcceptPrice[playerid]);
		    GivePlayerCash(AcceptOffer[playerid], AcceptPrice[playerid]);
			new str[356];
			format(str,sizeof(str),"UPDATE users SET `Money`='%d',`Acceptpoints`='%d' WHERE `ID`='%d'",GetPlayerCash(playerid),PlayerInfo[playerid][pLawyer],PlayerInfo[playerid][pSQLID]);
			mysql_query(SQL,str);
			format(str,sizeof(str),"UPDATE users SET `Money`='%d',`Acceptpoints`='%d' WHERE `ID`='%d'",GetPlayerCash(AcceptOffer[playerid]),PlayerInfo[AcceptOffer[playerid]][pLawyer],PlayerInfo[AcceptOffer[playerid]][pSQLID]);
			mysql_query(SQL,str);
			format(string,sizeof(string),"%s a acceptat oferta.",GetName(playerid));
		    SCM(AcceptOffer[playerid],COLOR_LIGHTBLUE,string);
			format(string,sizeof(string),"Ai cumparat accept de la %s.",GetName(AcceptOffer[playerid]));
		    SCM(playerid,COLOR_LIGHTBLUE,string);
		    AcceptOffer[playerid] = -1, AcceptPrice[playerid] = 0;
		    return 1;
		}
		else return SendClientMessage(playerid, COLOR_GREY, "Nimeni nu ti-a oferit un avocat.");
	}
	else if(strcmp(x_job,"materials",true) == 0)
	{
		if(MatsOffer[playerid] > -1)
		{
		    if(MatsOffer[playerid] != id) return SCM(playerid,COLOR_GREY, "Acel player nu ti-a oferit materials.");
		    if(GetPlayerCash(playerid) < MatsPrice[playerid]) return SCM(playerid,COLOR_GREY, "Nu ai destui bani.");
			PlayerInfo[playerid][pMats] += MatsAmmo[playerid];
			PlayerInfo[MatsOffer[playerid]][pMats] -= MatsAmmo[playerid];
		    GivePlayerCash(playerid, - MatsPrice[playerid]);
		    GivePlayerCash(MatsOffer[playerid], MatsPrice[playerid]);
		    GetPlayerName(MatsOffer[playerid],giveplayer,sizeof(giveplayer));
		    GetPlayerName(playerid,sendername,sizeof(sendername));
		    format(string,sizeof(string),"{B8FFDB}Ai cumparat %d materiale pentru $%s de la %s.",MatsAmmo[playerid],FormatNumber(MatsPrice[playerid]),giveplayer);
			SCM(playerid,COLOR_WHITE,string);
		    format(string,sizeof(string),"{B8FFDB}%s a cumparat materialele tale pentru $%s.",sendername,FormatNumber(MatsPrice[playerid]));
			SCM(MatsOffer[playerid],COLOR_WHITE,string);
	        Update(playerid,pMatsx);
	        Update(MatsOffer[playerid],pMatsx);
	        Update(MatsOffer[playerid],pCashx);
			Update(playerid,pCashx);
			MatsOffer[playerid] = -1;
			MatsAmmo[playerid] = 0;
			MatsPrice[playerid] = 0;
			return 1;
		}
		else return SendClientMessage(playerid, COLOR_GREY, "Nimeni nu ti-a oferit materiale.");
	}
	else if(strcmp(x_job,"gun",true) == 0)
	{
		if(SellgunOffer[playerid] > -1)
		{
		    if(SellgunOffer[playerid] != id) return SCM(playerid,COLOR_GREY, "Acel player nu ti-a oferit gun.");
		    if(GetPlayerCash(playerid) < SellgunPrice[playerid]) return SCM(playerid,COLOR_GREY, "Nu ai destui bani.");
		    new weaponid,ammo,price,mats,gunname[60],idoffer;
		    weaponid = SellgunID[playerid];
		    ammo = SellgunAmmo[playerid];
			price = SellgunPrice[playerid];
			mats = SellgunMats[playerid];
			idoffer = SellgunOffer[playerid];
		    GivePlayerWeaponEx(playerid,weaponid,ammo);
			PlayerInfo[idoffer][pMats] -= mats;
			GivePlayerCash(playerid, -price);
		    GivePlayerCash(idoffer, price);
			Update(playerid, pCashx);
			Update(idoffer,pMatsx);
			Update(idoffer, pCashx);
			GetPlayerName(idoffer,giveplayer,sizeof(giveplayer));
		    GetPlayerName(playerid,sendername,sizeof(sendername));
			GetWeaponNameEx(weaponid,gunname,sizeof(gunname));
			format(string, sizeof(string), "I-ai dat lui %s, un %s cu %d gloante, pentru %d materiale.", sendername,gunname, ammo,mats);
			SendClientMessage(idoffer, COLOR_GRAD1, string);
			format(string, sizeof(string), "Ai primit un %s cu %d gloante pentru %s.", gunname, ammo, giveplayer);
			SendClientMessage(playerid, COLOR_GRAD1, string);
			format(string, sizeof(string), "* %s a creat o arma si i-a dat-o lui %s.", giveplayer ,sendername);
			ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
			SellgunOffer[playerid] = -1;
			SellgunPrice[playerid] = 0;
			SellgunMats[playerid] = 0;
			SellgunAmmo[playerid] = 0;
			SellgunID[playerid] = 0;
			if(GetPlayerState(playerid) == PLAYER_STATE_PASSENGER)
			{
		        new gun2,tmp;
		        GetPlayerWeaponData(playerid,5,gun2,tmp);
		        #pragma unused tmp
		        if(gun2)SetPlayerArmedWeapon(playerid,gun2);
		        else SetPlayerArmedWeapon(playerid,0);
			}
			return 1;
		}
		else return SendClientMessage(playerid, COLOR_GREY, "Nimeni nu ti-a oferit materiale.");
	}
	else if(strcmp(x_job,"free",true) == 0)
	{
        if(FreeOffer[playerid] > -1)
		{
            if(FreeOffer[playerid] != id) return SCM(playerid,COLOR_GREY, "Acel player nu ti-a oferit free.");
		    if(GetPlayerCash(playerid) < FreePrice[playerid]) return SCM(playerid,COLOR_GREY, "Nu ai destui bani.");
			if(PlayerInfo[id][pLawyer] < 3) return SCM(playerid,COLOR_GREY, "Acel player nu are accept.");
		    GetPlayerName(playerid, giveplayer, sizeof(giveplayer));
			GetPlayerName(FreeOffer[playerid], sendername, sizeof(sendername));
			format(string, sizeof(string), "* I-ai dat free lui %s si l-ai scos din inchisoare.", giveplayer);
			SendClientMessage(FreeOffer[playerid], COLOR_LIGHTBLUE, string);
			format(string, sizeof(string), "* Ai primit free de la %s si ai iesit din inchisoare.", sendername);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
			JailPrice[playerid] = 0;
			PlayerInfo[playerid][pJailTime] = 1;
			PlayerInfo[FreeOffer[playerid]][pLawyer] -= 3;
			PlayerInfo[FreeOffer[playerid]][pLawSkill] ++;
			GivePlayerCash(playerid, -FreePrice[playerid]);
			GivePlayerCash(FreeOffer[playerid],FreePrice[playerid]);
			PlayerInfo[playerid][pJailed] = 1;
			PlayerInfo[FreeOffer[playerid]][pCommands] ++;
			Update(FreeOffer[playerid],pCommandsx);
			new str[356];
			format(str,sizeof(str),"UPDATE users SET `JailTime`='0',`Money`='%d',`Jailed`='0' WHERE `ID`='%d'",GetPlayerCash(playerid),PlayerInfo[playerid][pSQLID]);
			mysql_query(SQL,str);
			format(str,sizeof(str),"UPDATE users SET `Money`='%d',`Acceptpoints`='%d',`LawSkill`='%d' WHERE ``ID`='%d'",GetPlayerCash(FreeOffer[playerid]),PlayerInfo[FreeOffer[playerid]][pLawyer],PlayerInfo[FreeOffer[playerid]][pLawSkill],PlayerInfo[FreeOffer[playerid]][pSQLID]);
			mysql_query(SQL,str);
            FreeOffer[playerid] = 0;
			FreePrice[playerid] = 0;
			return 1;
		}
		else return SendClientMessage(playerid, COLOR_GREY, "Nimeni nu ti-a oferit free.");
	}
	else if(strcmp(x_job,"biz",true) == 0)
	{
		if(bizoffer[playerid] < 999)
		{
			if(bizoffer[playerid] != id) return SCM(playerid,COLOR_GREY, "Acel player nu ti-a oferit a bussines.");
			if(GetPlayerCash(playerid) >= bizprice[playerid])
			{
				if(IsPlayerConnected(bizoffer[playerid]))
				{
				    if(ProxDetectorS(5.0, playerid, bizoffer[playerid]))
				    {
				        GetPlayerName(bizoffer[playerid], giveplayer, sizeof(giveplayer));
						GetPlayerName(playerid, sendername, sizeof(sendername));
						format(string, sizeof(string), "* Ai acceptat sa cumperi afacerea cu $%d de la %s.",bizprice[playerid],giveplayer);
						SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
						format(string, sizeof(string), "* %s a acceptat oferta ta si ai primit $%d in banca.",sendername,bizprice[playerid]);
						SendClientMessage(bizoffer[playerid], COLOR_LIGHTBLUE, string);
						GivePlayerCash(playerid, -bizprice[playerid]);
					    GivePlayerCash(bizoffer[playerid], bizprice[playerid]);
					    new str[356];
						PlayerInfo[playerid][pBizz] = bizid[playerid];
						strmid(BizzInfo[bizid[playerid]][bOwner], sendername, 0, strlen(sendername), 999);
						format(str,sizeof(str),"UPDATE users SET `Bizz`='%d',`Money`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pBizz],GetPlayerCash(playerid),PlayerInfo[playerid][pSQLID]);
						mysql_query(SQL,str);
						format(str,sizeof(str),"UPDATE `bizz` SET `Owner`='%s' WHERE `ID`='%d'",BizzInfo[bizid[playerid]][bOwner],bizid[playerid]);
						mysql_query(SQL,str);
						UpdateLabel(2,bizid[playerid]);
				
						PlayerInfo[bizoffer[playerid]][pBizz] = 255;
						format(string,sizeof(string),"UPDATE users SET `Bizz`='255',`Money`='%d' WHERE `ID`='%d'",GetPlayerCash(bizoffer[playerid]),PlayerInfo[bizoffer[playerid]][pSQLID]);
						mysql_query(SQL,string);
						bizid[playerid] = 0;
						biztype[playerid] = 0;
						bizprice[playerid] = 0;
						bizoffer[playerid] = 999;
						return 1;
					}
					else return SendClientMessage(playerid, COLOR_GREY, "Nu esti langa acel player.");
				}
				else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
			}
			else return SendClientMessage(playerid, COLOR_GREY, "Nu ai destui bani.");
		}
		else return SendClientMessage(playerid, COLOR_GREY, "Nimeni nu ti-a oferit un bussines.");
	}
	else if(strcmp(x_job,"house",true) == 0)
	{
		if(HouseOffer[playerid] < 999)
		{
			if(HouseOffer[playerid] != id) return SCM(playerid,COLOR_GREY, "Acel player nu ti-a oferit a house.");
			if(GetPlayerCash(playerid) >= HousePrice[playerid])
			{
				if(IsPlayerConnected(HouseOffer[playerid]))
				{
				    if(ProxDetectorS(3.0, playerid, HouseOffer[playerid]))
				    {
				        GetPlayerName(HouseOffer[playerid], giveplayer, sizeof(giveplayer));
						GetPlayerName(playerid, sendername, sizeof(sendername));
						format(string, sizeof(string), "* Ai acceptat sa-ti cumperi casa pentru $%d de la %s.",HousePrice[playerid],giveplayer);
						SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
						format(string, sizeof(string), "* %s a acceptat oferta ta si ai primit $%d in banca.",sendername,FormatNumber(HousePrice[playerid]));
						SendClientMessage(HouseOffer[playerid], COLOR_LIGHTBLUE, string);
						PlayerInfo[playerid][pHouse] = HouseID[playerid];
						PlayerInfo[HouseOffer[playerid]][pHouse] = 999;
	    				GivePlayerCash(playerid, -HousePrice[playerid]);
					    GivePlayerCash(HouseOffer[playerid], HousePrice[playerid]);
						strmid(HouseInfo[HouseID[playerid]][hOwner], sendername, 0, strlen(sendername), 999);
						Update(playerid,pCashx);
						Update(playerid,pHousex);
						Update(HouseOffer[playerid],pHousex);
						Update(HouseOffer[playerid],pCashx);
						new str2[256];
						format(str2,sizeof(str2),"UPDATE `houses` SET `Owner`='%s' WHERE `ID`='%d'",HouseInfo[HouseID[playerid]][hOwner],HouseID[playerid]);
						mysql_query(SQL,str2);
						UpdateLabel(1,HouseID[playerid]);
						RemovePlayerMapIcon(HouseOffer[playerid], 1);
						HouseOffer[playerid] = 999;
						HousePrice[playerid] = 0;
						HouseID[playerid] = 0;
						return 1;
					}
					else return SendClientMessage(playerid, COLOR_GREY, "Nu esti langa acel player.");
				}
				else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
			}
			else return SendClientMessage(playerid, COLOR_GREY, "Nu ai destui bani.");
		}
		else return SendClientMessage(playerid, COLOR_GREY, "Nimeni nu ti-a oferit o casa.");
	}
	else if(strcmp(x_job,"ticket",true) == 0)
	{
		if(TicketOffer[playerid] < 999)
		{
			if(TicketOffer[playerid] != id) return SCM(playerid,COLOR_GREY, "Acel player nu ti-a oferit ticket.");
		    if(IsPlayerConnected(TicketOffer[playerid]))
		    {
		        if (ProxDetectorS(5.0, playerid, TicketOffer[playerid]))
				{
			        GetPlayerName(TicketOffer[playerid], giveplayer, sizeof(giveplayer));
					GetPlayerName(playerid, sendername, sizeof(sendername));
					if(GetPlayerCash(playerid) < TicketMoney[playerid]) return SendClientMessage(playerid, COLOR_LIGHTBLUE, "* Nu ai enough money.");
					format(string, sizeof(string), "* Ai platit amenda de $%d lui %s.", TicketMoney[playerid], giveplayer);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
					format(string, sizeof(string), "* %s a platit amenda in valoare de $%d.", sendername, TicketMoney[playerid]);
					SendClientMessage(TicketOffer[playerid], COLOR_LIGHTBLUE, string);
					GivePlayerCash(playerid, - TicketMoney[playerid]);
					GivePlayerCash(TicketOffer[playerid], TicketMoney[playerid]);
					Update(playerid, pCashx);
					Update(TicketOffer[playerid], pCashx);
					TicketOffer[playerid] = 999;
					TicketMoney[playerid] = 0;
					return 1;
				}
				else return SendClientMessage(playerid, COLOR_GREY, "Acel player nu este langa tine.");
		    }
		    else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
		else return SendClientMessage(playerid, COLOR_GREY, "Nimeni nu ti-a oferit un ticket.");
	}
	else if(strcmp(x_job,"taxi",true) == 0)
	{
        if(!IsATaxiMember(playerid)) return SCM(playerid, COLOR_BZWHITE, "Eroare: Nu esti Taximetrist.");
		if(TransportDuty[playerid] != 1) return SendClientMessage(playerid, COLOR_GREY, "Nu faci parte din factiunea taxi driver on duty.");
        if(TaxiCallTime[playerid] > 0) return SendClientMessage(playerid, COLOR_GREY, "Ai deja un apel activ.");
        if(!ccar && IsAnTaxi(tmpcar)) return SCM(playerid,COLOR_GREY, "Nu esti intr-un vehicul de-al factiunii.");
        if(TaxiCall[id] != id) return SCM(playerid,COLOR_GREY, "Acel player nu a apelat la serviciile acestei factiuni.");
        if(TaxiCall[id] == id)
        {
			if(IsPlayerConnected(TaxiCall[id]))
            {
                GetPlayerName(playerid, sendername, sizeof(sendername));
                GetPlayerName(TaxiCall[id], giveplayer, sizeof(giveplayer));
                format(string, sizeof(string), "* Ai acceptat apelul lui %s.",giveplayer);
				SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
                format(string, sizeof(string), "* Taximetristul %s ti-a acceptat apelul.",sendername);
				SendClientMessage(TaxiCall[id], COLOR_LIGHTBLUE, string);
				format(string, sizeof(string), "* Taximetristul %s a acceptat apelul lui %s.",sendername,giveplayer);
				SendTeamMessage(13,COLOR_OOC,string);
				SendTeamMessage(16,COLOR_OOC,string);
				SendTeamMessage(17,COLOR_OOC,string);
				UsedFind[playerid] = 1;
				new Float:X,Float:Y,Float:Z;
				GetPlayerPos(id, X,Y,Z);
				SetPlayerCheckpointEx(playerid, X,Y,Z, 3.5);
				targetfind[playerid] = id;
				TaxiCallTime[playerid] = 1;
				TaxiAccepted[playerid] = TaxiCall[id];
				Accepted[playerid] = id;
				TaxiCall[id] = -1;
				CP[playerid] = 43;
				return 1;
			}
			else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
        }
        else return SendClientMessage(playerid, COLOR_GREY, "Nu a apelat la taxi.");
	}
	else if(strcmp(x_job,"licente",true) == 0)
	{
        if(PlayerInfo[playerid][pMember] != 12) return SCM(playerid,COLOR_GREY, "You're not a Instructor.");
        if(LicensesCallTime[playerid] > 0) return SendClientMessage(playerid, COLOR_GREY, "You have already accepted a Licenses call.");
        if(LicensesCall[id] != id) return SCM(playerid,COLOR_GREY, "This player has not called Licenses.");
        if(LicensesCall[id] == id)
        {
			if(IsPlayerConnected(LicensesCall[id]))
            {
                GetPlayerName(playerid, sendername, sizeof(sendername));
                GetPlayerName(LicensesCall[id], giveplayer, sizeof(giveplayer));
                format(string, sizeof(string), "* Ai acceptat apelul lui.",giveplayer);
				SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
                format(string, sizeof(string), "* Instructor %s ti-a acceptat apelul.",sendername);
				SendClientMessage(LicensesCall[id], COLOR_LIGHTBLUE, string);
				format(string, sizeof(string), "* Instructor %s a acceptat apelul lui %s.",sendername,giveplayer);
				SendTeamMessage(12,COLOR_OOC,string);
				SendTeamMessage(18,COLOR_OOC,string);
				SendTeamMessage(19,COLOR_OOC,string);
				UsedFind[playerid] = 1;
				new Float:X,Float:Y,Float:Z;
				GetPlayerPos(id, X,Y,Z);
				SetPlayerCheckpointEx(playerid, X,Y,Z, 3.5);
				targetfind[playerid] = id;
				LicensesCallTime[playerid] = 1;
				LicensesAccepted[playerid] = LicensesCall[id];
				Accepted[playerid] = id;
				LicensesCall[id] = -1;
				CP[playerid] = 43;
				return 1;
			}
			else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
        }
        else return SendClientMessage(playerid, COLOR_GREY, "Nu a apelat la instructori.");
	}
	else if(strcmp(x_job,"medic",true) == 0)
	{
		if(PlayerInfo[playerid][pMember] == 14)
		{
			if(MedicCallTime[playerid] > 0) return SendClientMessage(playerid, COLOR_GREY, "You have already accepted a medic call.");
			if(!ccar && IsAnAmbulance(tmpcar)) return SCM(playerid,COLOR_GREY, "You're not in ambulance car.");
            if(MedicCall[id] != id) return SCM(playerid,COLOR_GREY, "This player has not called ambulance.");
		    if(MedicCall[id] == id)
	        {
				if(IsPlayerConnected(MedicCall[id]))
	            {
	                GetPlayerName(playerid, sendername, sizeof(sendername));
	                GetPlayerName(MedicCall[id], giveplayer, sizeof(giveplayer));
	                format(string, sizeof(string), "* Ai acceptat apelul lui.",giveplayer);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
                    format(string, sizeof(string), "* Medic %s ti-a acceptat apelul.",sendername);
					SendClientMessage(MedicCall[id], COLOR_LIGHTBLUE, string);
					UsedFind[playerid] = 1;
					new Float:X,Float:Y,Float:Z;
					GetPlayerPos(id, X,Y,Z);
					SetPlayerCheckpointEx(playerid, X,Y,Z, 3.5);
					targetfind[playerid] = id;
					MedicCall[id] = -1;
					Accepted[playerid] = id;
					CP[playerid] = 43;
					return 1;
				}
				else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	        }
	        else return SendClientMessage(playerid, COLOR_GREY, "Acel player nu a apelat la medici!");
		}
		else return SendClientMessage(playerid, COLOR_GREY, "Nu faci parte din factiunea Paramedic.");
	}
	else if(strcmp(x_job,"refill",true) == 0)
	{
		if(RefillOffer[playerid] < 999)
		{
			if(RefillOffer[playerid] != id) return SCM(playerid,COLOR_GREY, "Acel player nu ti-a oferit refill.");
			if(IsPlayerConnected(RefillOffer[playerid]))
		    {
		        if(GetPlayerCash(playerid) > RefillPrice[playerid])
		        {
					GetPlayerName(playerid, sendername, sizeof(sendername));
					GetPlayerName(RefillOffer[playerid], giveplayer, sizeof(giveplayer));

		            new car = gLastCar[playerid];
		            new fuel;
		            PlayerInfo[RefillOffer[playerid]][pMechSkill] ++;
		            if(PlayerInfo[RefillOffer[playerid]][pMechSkill] == 20)
					{ SendClientMessage(RefillOffer[playerid], COLOR_YELLOW, "* Skillul tau la jobul Mecanic, este acum 2, vei putea alimenta cu mai multa benzina."); }
					else if(PlayerInfo[RefillOffer[playerid]][pMechSkill] == 40)
					{ SendClientMessage(RefillOffer[playerid], COLOR_YELLOW, "* Skillul tau la jobul Mecanic, este acum 3, vei putea alimenta cu mai multa benzina."); }
					else if(PlayerInfo[RefillOffer[playerid]][pMechSkill] == 60)
					{ SendClientMessage(RefillOffer[playerid], COLOR_YELLOW, "* Skillul tau la jobul Mecanic, este acum 4, vei putea alimenta cu mai multa benzina."); }
					else if(PlayerInfo[RefillOffer[playerid]][pMechSkill] == 80)
					{ SendClientMessage(RefillOffer[playerid], COLOR_YELLOW, "* Skillul tau la jobul Mecanic, este acum 5, vei putea alimenta cu mai multa benzina."); }
					new level = PlayerInfo[RefillOffer[playerid]][pMechSkill];
					if(level >= 0 && level <= 20)
					{ fuel = 20; }
					else if(level >= 21 && level <= 40)
					{ fuel = 40; }
					else if(level >= 41 && level <= 60)
					{ fuel = 60; }
					else if(level >= 61 && level <= 80)
					{ fuel = 80; }
					else if(level >= 81)
					{ fuel = 100; }
  					format(string, sizeof(string), "* Vehiculul tau a fost alimentat cu %d% pentru $%d de mecanicul %s.",fuel,RefillPrice[playerid],giveplayer);
					SendClientMessage(playerid,COLOR_LIGHTBLUE, string);
					format(string, sizeof(string), "* I-ai alimentat vehiculul lui %s cu %d% pentru $%d.",sendername,fuel,RefillPrice[playerid]);
					SendClientMessage(RefillOffer[playerid], COLOR_LIGHTBLUE, string);
					GivePlayerCash(RefillOffer[playerid],RefillPrice[playerid]);
					GivePlayerCash(playerid, -RefillPrice[playerid]);
					if(Gas[car] < 110) { Gas[car] += fuel; }
		 	 		new str[256];
					format(str,sizeof(str),"UPDATE users SET `Money`='%d',`MechSkill`='%d' WHERE `ID`='%d'",GetPlayerCash(RefillOffer[playerid]),PlayerInfo[RefillOffer[playerid]][pMechSkill],PlayerInfo[RefillOffer[playerid]][pSQLID]);
					mysql_query(SQL,str);
					Update(playerid, pCashx);
				    RefillOffer[playerid] = 999;
					RefillPrice[playerid] = 0;
					Refillx[RefillOffer[playerid]] = -1;
					return 1;
		        }
				else return SendClientMessage(playerid, COLOR_GREY, "Nu ai banii necesari!");
		    }
		    else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
		else return SendClientMessage(playerid, COLOR_GREY, "Nu ai primit o oferta!");
	}
	else if(strcmp(x_job,"live",true) == 0)
	{
		if(LiveOffer[playerid] < 999)
		{
			if(LiveOffer[playerid] != id) return SCM(playerid,COLOR_GREY, "Acel player nu ti-a oferit live.");
		    if(IsPlayerConnected(LiveOffer[playerid]))
		    {
			    if (ProxDetectorS(5.0, playerid, LiveOffer[playerid]))
				{
					SendClientMessage(playerid, COLOR_WHITE, "* Ai primit freeze pana la finalul live-ului.");
					SendClientMessage(LiveOffer[playerid], COLOR_WHITE, "* Ai primit freeze pana la finalul live-ului (foloseste /live din nou pentru a termina).");
					TogglePlayerControllable(playerid, 0);
					TogglePlayerControllable(LiveOffer[playerid], 0);
					TalkingLive[playerid] = LiveOffer[playerid];
					TalkingLive[LiveOffer[playerid]] = playerid;
					LiveOffer[playerid] = 999;
					return 1;
				}
				else return SendClientMessage(playerid, COLOR_GREY, "Nu esti langa acel player!");
			}
            else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
		else return SendClientMessage(playerid, COLOR_GREY, "Nimeni nu ti-a oferit un live.");
	}
	else if(strcmp(x_job,"drugs",true) == 0)
	{
		if(DrugOffer[playerid] < 999)
		{
			if(DrugOffer[playerid] != id) return SCM(playerid,COLOR_GREY, "Acel player nu ti-a oferit drugs.");
			if(GetPlayerCash(playerid) > DrugPrice[playerid])
			{
			    if(PlayerInfo[playerid][pDrugs] <= 50)
			    {
				    if(IsPlayerConnected(DrugOffer[playerid]))
				    {
				        GetPlayerName(DrugOffer[playerid], giveplayer, sizeof(giveplayer));
						GetPlayerName(playerid, sendername, sizeof(sendername));
						format(string, sizeof(string), "* Ai cumparat %d grame de droguri pentru $%d de la distribuitorul %s.",DrugGram[playerid],DrugPrice[playerid],giveplayer);
						SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
						format(string, sizeof(string), "* %s a cumparat %d grame de droguri in schimbul sumei de $%d.",sendername,DrugGram[playerid],DrugPrice[playerid]);
						SendClientMessage(DrugOffer[playerid], COLOR_LIGHTBLUE, string);
						GivePlayerCash(DrugOffer[playerid],DrugPrice[playerid]);
						GivePlayerCash(playerid, -DrugPrice[playerid]);
						PlayerInfo[playerid][pDrugs] += DrugGram[playerid];
						PlayerInfo[DrugOffer[playerid]][pDrugs] -= DrugGram[playerid];
						new wakaname[25],str[456];
						GetPlayerName(playerid,wakaname,sizeof(wakaname));
						format(str,sizeof(str),"UPDATE users SET `Money`='%d',`Drugs`='%d' WHERE `ID`='%d'",GetPlayerCash(playerid),PlayerInfo[playerid][pDrugs],PlayerInfo[playerid][pSQLID]);
						mysql_query(SQL,str);
						format(str,sizeof(str),"UPDATE users SET `Money`='%d',`Drugs`='%d',`DrugsSkill`='%d' WHERE `ID`='%d'",GetPlayerCash(DrugOffer[playerid]),PlayerInfo[DrugOffer[playerid]][pDrugs],PlayerInfo[DrugOffer[playerid]][pDrugsSkill],PlayerInfo[DrugOffer[playerid]][pSQLID]);
						mysql_query(SQL,str);
					    DrugOffer[playerid] = 999;
						DrugPrice[playerid] = 0;
						DrugGram[playerid] = 0;
						return 1;
					}
					else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
				}
				else return SendClientMessage(playerid, COLOR_GREY, "Ai prea multe droguri.");
			}
			else return SendClientMessage(playerid, COLOR_GREY, "Nu ai banii necesari!");
		}
		else return SendClientMessage(playerid, COLOR_GREY, "Nimeni nu ti-a oferit droguri.");
	}
	else if(strcmp(x_job,"repair",true) == 0)
	{
		if(RepairOffer[playerid] < 999)
		{
			if(RepairOffer[playerid] != id) return SCM(playerid,COLOR_GREY, "Acel player nu ti-a oferit repair.");
		    if(GetPlayerCash(playerid) > RepairPrice[playerid])
			{
				if(IsPlayerInAnyVehicle(playerid))
				{
				    if(IsPlayerConnected(RepairOffer[playerid]))
				    {
					    GetPlayerName(RepairOffer[playerid], giveplayer, sizeof(giveplayer));
						GetPlayerName(playerid, sendername, sizeof(sendername));
   						RepairCar[playerid] = GetPlayerVehicleID(playerid);
					    SetVehicleHealth(RepairCar[playerid], 1000.0);
					    RepairVehicle(RepairCar[playerid]);
						format(string, sizeof(string), "* Vehiculul tau a fost reparat pentru $%d de mecanicul %s.",RepairPrice[playerid],giveplayer);
						SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
						format(string, sizeof(string), "* I-ai reparat vehiculul lui %s pentru $%d.",sendername,RepairPrice[playerid]);
						SendClientMessage(RepairOffer[playerid], COLOR_LIGHTBLUE, string);
						PlayerInfo[RepairOffer[playerid]][pMechSkill] ++;
   						if(PlayerInfo[RepairOffer[playerid]][pMechSkill] == 20)
						{ SendClientMessage(RepairOffer[playerid], COLOR_YELLOW, "* Skillul tau la jobul Mecanic, este acum 2, vei putea alimenta cu mai multa benzina."); }
						else if(PlayerInfo[RepairOffer[playerid]][pMechSkill] == 40)
						{ SendClientMessage(RepairOffer[playerid], COLOR_YELLOW, "* Skillul tau la jobul Mecanic, este acum 3, vei putea alimenta cu mai multa benzina."); }
						else if(PlayerInfo[RepairOffer[playerid]][pMechSkill] == 60)
						{ SendClientMessage(RepairOffer[playerid], COLOR_YELLOW, "* Skillul tau la jobul Mecanic, este acum 4, vei putea alimenta cu mai multa benzina."); }
						else if(PlayerInfo[RepairOffer[playerid]][pMechSkill] == 80)
						{ SendClientMessage(RepairOffer[playerid], COLOR_YELLOW, "* Skillul tau la jobul Mecanic, este acum 5, vei putea alimenta cu mai multa benzina."); }
						GivePlayerCash(RepairOffer[playerid],RepairPrice[playerid]);
						GivePlayerCash(playerid, -RepairPrice[playerid]);
						new str[184];
						Update(playerid, pCashx);
						Update(RepairOffer[playerid],pCashx);
						format(str,sizeof(str),"UPDATE users SET `MechSkill`='%d' WHERE `ID`='%d'",PlayerInfo[RepairOffer[playerid]][pMechSkill],PlayerInfo[RepairOffer[playerid]][pSQLID]);
						mysql_query(SQL,str);
						RepairOffer[playerid] = 999;
						RepairPrice[playerid] = 0;
						return 1;
					}
					else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
				}
			}
			else return SendClientMessage(playerid, COLOR_GREY, "Nu ai banii necesari!");
		}
		else return SendClientMessage(playerid, COLOR_GREY, "Nimeni nu ti-a oferit o reparatie.");
	}
	else
	{
		SendClientMessage(playerid, COLOR_WHITE, "Valabile Drugs, Repair, House");
		SendClientMessage(playerid, COLOR_WHITE, "Valabile Vehicle, Taxi, Medic, Live");
		SendClientMessage(playerid, COLOR_WHITE, "Valabile Mechanic, Paper, Ticket, Refill");
		return 1;
	}
	return 1;
}

cmd:invite(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pLeader] < 1) return SCM(playerid,COLOR_BZWHITE,"Eroare: Nu esti lider.");
	if(PlayerInfo[playerid][pLeader] == 7) return 1;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,string[100],giveplayer[30],sendername[30];
	if(sscanf(params, "u", id)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /invite <Nume/Playerid>");
	if(PlayerInfo[id][pFpunish] != 0) return SCM(playerid,COLOR_GREY, "You can not invite this player because it has faction punish");
    new membrii = GetFactionMembers(PlayerInfo[playerid][pMember]);
	if(membrii >= DynamicFactions[PlayerInfo[playerid][pMember]][fMaxMembers]) return SCM(playerid, COLOR_GREY, "Factiunea ta are numarul maxim de membrii");
	if(PlayerInfo[id][pLevel] < DynamicFactions[PlayerInfo[playerid][pMember]][fMinimLevel]) return SCM(playerid,COLOR_GREY,"Acel jucator nu are nivelul minim pentru a intra.");
	if(IsPlayerConnected(id)) {
	    if(id != INVALID_PLAYER_ID) {
			if(PlayerInfo[id][pMember] == 0 && PlayerInfo[id][pLeader] == 0 || PlayerInfo[id][pWantedLevel] == 0) {
				if(PlayerInfo[id][pLevel] < 3) return SCM(playerid, -1, "Acel player are nivelul prea mic!");
				GetPlayerName(id, giveplayer, sizeof(giveplayer));
				GetPlayerName(playerid, sendername, sizeof(sendername));
				PlayerInfo[id][pMember] = PlayerInfo[playerid][pMember];
				PlayerInfo[id][pRank] = 1;
				printf("AdmCmd: %s has invited %s to join %s.", sendername, giveplayer, NumeFactiune(PlayerInfo[id][pMember]));
				format(string, sizeof(string), "Lider %s te-a invitat in factiunea %s.", sendername,NumeFactiune(PlayerInfo[id][pMember]));
				SendClientMessage(id, COLOR_LIGHTBLUE, string);
				format(string, sizeof(string), "L-ai invitat pe %s in factiunea ta.", giveplayer);
				SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
				
				ShowModelSelectionMenu (id, fskins[PlayerInfo[id][pMember]-1], "Haine");						
        		new str[128];
				format(str,sizeof(str),"UPDATE users SET `Team`='%d',`Member`='%d',`Rank`='1' WHERE `ID`='%d'",PlayerInfo[id][pMember],PlayerInfo[id][pSQLID]);
				mysql_query(SQL,str);
				Factionlog(PlayerInfo[id][pMember],PlayerInfo[id][pSQLID],"Joined the Faction.");
				SpawnPlayer(id);
			}
			else return SCM(playerid, COLOR_GREY, "Acel player este intr-o factiune / are wanted.");
		}
	}
	else return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}

function SlapPlayer(playerid) {
    TogglePlayerControllable(playerid, 0);
    new Float: Pos[3];
    GetPlayerPos(playerid, Pos[0], Pos[1], Pos[2]);
    SetPlayerPosEx(playerid, Pos[0], Pos[1], Pos[2]+2);
    SetTimerEx("UnFreezeStation", 2000, false, "i", playerid);
	PlayerPlaySound(playerid, 1190, 0, 0, 10.0);
	return 1;
}
cmd:withdraw(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(!IsAtBank(playerid) && !IsAtATM(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu esti la banca sau in raza unui ATM.");
	new money,string[100];
	if(sscanf(params, "i", money)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /withdraw <Money>");
	if(money > PlayerInfo[playerid][pAccount] || money < 1) return SendClientMessage(playerid, COLOR_GREY, "Nu ai aceasta suma.");
	GivePlayerCash(playerid, money);
	PlayerInfo[playerid][pAccount]=PlayerInfo[playerid][pAccount]-money;
	format(string, sizeof(string), "Ai scos $%s din contul tau bancar. Acum ai: $%s.", FormatNumber(money),FormatNumber(PlayerInfo[playerid][pAccount]));
	SendClientMessage(playerid, 0xFAAC25FF, string);
	new query[180];
	format(query,sizeof(query),"UPDATE users SET `Money`='%d',`Bank`='%d' WHERE `ID`='%d'",GetPlayerCash(playerid),PlayerInfo[playerid][pAccount],PlayerInfo[playerid][pSQLID]);
	mysql_query(SQL,query);
	ConsumingMoney[playerid] = 1;
	return 1;
}
cmd:deposit(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(!IsAtBank(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu esti in banca.");
	new money,string[100];
	if(sscanf(params, "i", money)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /deposit <Money>");
	if(money > GetPlayerCash(playerid) || money < 1) return SendClientMessage(playerid, COLOR_GREY, "Nu ai aceasta suma.");
	GivePlayerCash(playerid, -money);
	PlayerInfo[playerid][pAccount]=money+PlayerInfo[playerid][pAccount];
	format(string, sizeof(string), "Ai depozitat $%s in contul tau bancar. Acum ai: $%s.", FormatNumber(money),FormatNumber(PlayerInfo[playerid][pAccount]));
	SendClientMessage(playerid, 0xFAAC25FF, string);
	Update(playerid, pBank);
	Update(playerid, pCashx);
	return 1;
}
cmd:balance(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(!IsAtBank(playerid) && !IsAtATM(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu esti la banca sau in raza unui ATM.");
	new string[100];
	format(string, sizeof(string), "Ai $%s in contul tau.", FormatNumber(PlayerInfo[playerid][pAccount]));
	SendClientMessage(playerid, COLOR_WHITE, string);
	return 1;
}
cmd:transfer(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pLevel] < 7) return SendClientMessage(playerid, COLOR_GREY, "Ai nevoie de minim nivel 7.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(IsAtBank(playerid)) {
		new id,moneytransfer,string[100],giveplayer[30],sendername[30],playermoney;
		if(sscanf(params, "ui", id,moneytransfer)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /transfer <Nume/Playerid> <Money>");
		if(playerid == id) return 1;
		if(IsPlayerConnected(id)) {
            if(id != INVALID_PLAYER_ID) {
		    	if(IsPlayerLogged[id] == 0) return SendClientMessage(playerid, COLOR_LIGHTRED, "Nu este logat acel player.");
				GetPlayerName(id, giveplayer, sizeof(giveplayer));
				GetPlayerName(playerid, sendername, sizeof(sendername));
				playermoney = PlayerInfo[playerid][pAccount];
				if (moneytransfer > 0 && playermoney >= moneytransfer) {
					new cashbank = TransferMoney[playerid]/100;
				    format(string,sizeof(string),"Esti sigur ca vrei sa transferi %s$ lui %s?\nTaxa este $%s.",FormatNumber(moneytransfer),giveplayer,FormatNumber(cashbank));
					TransferOffer[playerid] = id;
					TransferMoney[playerid] = moneytransfer;
					ShowPlayerDialog(playerid, DIALOG_TRANSFER, DIALOG_STYLE_MSGBOX, "Transfer:", string, "Yes", "No");
				}
				else return SendClientMessage(playerid, COLOR_GREY, "Suma invalida.");
			}
        }
		else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	else return SendClientMessage(playerid, COLOR_GREY, "Nu esti in banca..");
	return 1;
}
alias:gotojob("job");
cmd:gotojob(playerid, params[]) {
	new id;
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "i", id)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: (/goto)job <Job ID>");
	if(id < 1 || id > 12) return SendClientMessage(playerid, -1, "ID invalid! (1-12)");
	SetPlayerPosEx(playerid, JobInfo[id][jPosX], JobInfo[id][jPosY], JobInfo[id][jPosZ]);
	SetPlayerVirtualWorld(playerid, 0);
	SetPlayerInterior(playerid, 0);
	return 1;
}
CMD:factions(playerid, params[]) {
	new szDialog[5000], szDialog2[5000],dname[100],count=0;
	for(new i = 1; i < 26; i++) {
	    if(DynamicFactions[i][fApp] > 0) count++;
	}
	format(szDialog, sizeof(szDialog), "Nume\tMembrii/Sloturi\tRecruting\tLeader\n{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[1][fFactionColor],DynamicFactions[1][fName],GetFactionMembers(1),DynamicFactions[1][fMaxMembers],GetFactionStatus(1),GetFactionLeader(1));
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[15][fFactionColor],DynamicFactions[15][fName],GetFactionMembers(15), DynamicFactions[15][fMaxMembers],GetFactionStatus(15),GetFactionLeader(15));
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[25][fFactionColor],DynamicFactions[25][fName],GetFactionMembers(25), DynamicFactions[25][fMaxMembers],GetFactionStatus(25),GetFactionLeader(25));
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[2][fFactionColor],DynamicFactions[2][fName],GetFactionMembers(2), DynamicFactions[2][fMaxMembers],GetFactionStatus(2),GetFactionLeader(2));
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[3][fFactionColor],DynamicFactions[3][fName],GetFactionMembers(3),DynamicFactions[3][fMaxMembers], GetFactionStatus(3),GetFactionLeader(3));
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "\t\n");
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[14][fFactionColor],DynamicFactions[14][fName],GetFactionMembers(14), DynamicFactions[14][fMaxMembers],GetFactionStatus(14),GetFactionLeader(14));
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[9][fFactionColor],DynamicFactions[9][fName],GetFactionMembers(9), DynamicFactions[9][fMaxMembers],GetFactionStatus(9),GetFactionLeader(9));
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[8][fFactionColor],DynamicFactions[8][fName],GetFactionMembers(8), DynamicFactions[8][fMaxMembers],GetFactionStatus(8),GetFactionLeader(8));
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[13][fFactionColor],DynamicFactions[13][fName],GetFactionMembers(13), DynamicFactions[13][fMaxMembers],GetFactionStatus(13),GetFactionLeader(13));
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[17][fFactionColor],DynamicFactions[17][fName],GetFactionMembers(17), DynamicFactions[17][fMaxMembers],GetFactionStatus(17),GetFactionLeader(17));
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[16][fFactionColor],DynamicFactions[16][fName],GetFactionMembers(16), DynamicFactions[16][fMaxMembers],GetFactionStatus(16),GetFactionLeader(16));
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[18][fFactionColor],DynamicFactions[18][fName],GetFactionMembers(18), DynamicFactions[18][fMaxMembers],GetFactionStatus(18),GetFactionLeader(18));
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[12][fFactionColor],DynamicFactions[12][fName],GetFactionMembers(12), DynamicFactions[12][fMaxMembers],GetFactionStatus(12),GetFactionLeader(12));
   	strcat(szDialog2, szDialog);
    format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[19][fFactionColor],DynamicFactions[19][fName],GetFactionMembers(19), DynamicFactions[19][fMaxMembers],GetFactionStatus(19),GetFactionLeader(19));
   	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "\t\n");
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[4][fFactionColor],DynamicFactions[4][fName],GetFactionMembers(4), DynamicFactions[4][fMaxMembers],GetFactionStatus(4),GetFactionLeader(4));
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[6][fFactionColor],DynamicFactions[6][fName],GetFactionMembers(6),DynamicFactions[6][fMaxMembers],GetFactionStatus(6),GetFactionLeader(6));
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[21][fFactionColor],DynamicFactions[21][fName],GetFactionMembers(21), DynamicFactions[21][fMaxMembers],GetFactionStatus(21),GetFactionLeader(21));
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[5][fFactionColor],DynamicFactions[5][fName],GetFactionMembers(5),DynamicFactions[5][fMaxMembers], GetFactionStatus(5),GetFactionLeader(5));
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[10][fFactionColor],DynamicFactions[10][fName],GetFactionMembers(10), DynamicFactions[10][fMaxMembers],GetFactionStatus(10),GetFactionLeader(10));
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[20][fFactionColor],DynamicFactions[20][fName],GetFactionMembers(20), DynamicFactions[20][fMaxMembers],GetFactionStatus(20),GetFactionLeader(20));
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[22][fFactionColor],DynamicFactions[22][fName],GetFactionMembers(22),DynamicFactions[22][fMaxMembers], GetFactionStatus(22),GetFactionLeader(22));
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[23][fFactionColor],DynamicFactions[23][fName],GetFactionMembers(23), DynamicFactions[23][fMaxMembers],GetFactionStatus(23),GetFactionLeader(23));
   	strcat(szDialog2, szDialog);
    format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[24][fFactionColor],DynamicFactions[24][fName],GetFactionMembers(24), DynamicFactions[24][fMaxMembers],GetFactionStatus(24),GetFactionLeader(24));
   	strcat(szDialog2, szDialog);
    format(szDialog, sizeof(szDialog), "\t\n");
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/1\t%s\t%s\n", DynamicFactions[7][fFactionColor],DynamicFactions[7][fName],GetFactionMembers(7),GetFactionStatus(7),GetFactionLeader(7));
	strcat(szDialog2, szDialog);
	format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\t%d/%d\t%s\t%s\n", DynamicFactions[11][fFactionColor],DynamicFactions[11][fName],GetFactionMembers(11), DynamicFactions[11][fMaxMembers],GetFactionStatus(11),GetFactionLeader(11));
	strcat(szDialog2, szDialog);
	format(dname,sizeof(dname),"Factions: %d/25 recruting",count);
	ShowPlayerDialog(playerid, 0, DIALOG_STYLE_TABLIST_HEADERS, dname, szDialog2, "Select", "Cancel");
	return 1;
}
stock GetFactionStatus(fid) {
	new szStatus[256];
	if(DynamicFactions[fid][fApp] == 0) format(szStatus, 256, "{B50000}No{FFFFFF}");
	else format(szStatus, 256, "{00960A}Yes{FFFFFF}");
	return szStatus;
}
stock GetFactionLeader(fid) {
	new query[500],Leader[500],string[200];
	format(query, sizeof(query), "SELECT `name` FROM users WHERE `Leader`='%d' AND `Admin` < 4", fid);
	mysql_query(SQL,query);
	mysql_store_result();
	while(mysql_retrieve_row())
	{
		mysql_fetch_field_row(string, "name"); format(Leader, 256, string);
	}
	mysql_free_result();
	if(strlen(Leader) <= 1) format(Leader, 256, "None");
	else format(Leader, 256, string);
	return Leader;
}
alias:gps("locations");
cmd:gps(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(CP[playerid] != 0) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ. Doresti sa-l anulezi?", "Ok", "Exit");
	ShowPlayerDialog(playerid, DIALOG_GPS, DIALOG_STYLE_LIST, "Localizeaza:","DMV\nHQ-uri Factiuni\nDealership\nCase\nBizz-uri", "Select", "Cancel");
	return 1;
}
	
cmd:healto(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,price,string[200];
	if(PlayerInfo[playerid][pMember] != 14) return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu esti Paramedic.");
	if(sscanf(params, "ui", id,price)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /healto <Nume/Playerid> <Price>");
	if(!IsPlayerConnected(id)) return SCM(playerid,COLOR_BZWHITE,"Eroare: Acel jucator nu este conectat.");
    if(price < 1 || price > 100) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Pretul trebuie sa fie intre $1 si $100.");
	if (id == playerid) return 1;
	if(IsInBlacklist(id, 14)) return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel player este pe blacklist-ul acestei factiuni.");
	if(GetPlayerCash(id) < price) return SCM(playerid,COLOR_BZWHITE, "Eroare: Acel player nu are destui bani.");
	new giveambu = GetPlayerVehicleID(id);
	new playambu = GetPlayerVehicleID(playerid);
	if(IsAnAmbulance(playambu)) {
	   	if(playambu == giveambu) {
			new Float:tempheal;
			GetPlayerHealthEx(id,tempheal);
			if(tempheal >= 90.0) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator are destula viata.");
			format(string, sizeof(string), "L-ai vindecat pe %s pentru %d$.", GetName(id),price);
			SCM(playerid,COLOR_OOC,string);
			GivePlayerCash(playerid,price);
			GivePlayerCash(id,-price);
			SetPlayerHealthEx(id, 100);
			PlayerPlaySound(playerid, 1150, 0.0, 0.0, 0.0);
			format(string, sizeof(string), "Paramedicul %s te-a vindecat pentru %s$.",GetName(playerid),FormatNumber(price));
			SendClientMessage(id, COLOR_OOC,string);
			PlayerInfo[playerid][pCommands] ++;
	        Update(playerid,pCommandsx);
			Update(id, pCashx);
			Update(playerid, pCashx);
		}
		else return SCM(playerid,COLOR_BZWHITE,"Eroare: Jucatorul nu este in ambulanta.");
	}
	else return SCM(playerid, COLOR_BZWHITE, "Eroare: Nu esti in ambulanta.");
	return 1;
}
cmd:heal(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	new string[100],sendername[25];
	if(IsACop(playerid)) {
		if(InHouse[playerid] > 0) {
        	SetPlayerHealthEx(playerid,100.0);
        	if(HouseInfo[InHouse[playerid]][hArm] == 1 && OnDuty[playerid] == 1) {
				GetPlayerName(playerid,sendername,sizeof(sendername));
				format(string, sizeof(string), "* %s puts on body armour.", sendername);
				ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
				SetPlayerArmourEx(playerid,100.0);
			}
		}
		else {
			if(IsPlayerInRangeOfPoint(playerid, 50.0, 245.8297,112.4436,1003.2188) || IsPlayerInRangeOfPoint(playerid, 50.0, 236.3031,162.9478,1003.0300) && IsACop(playerid)) {
            	if(GetPlayerInterior(playerid) == 0) return SCM(playerid,COLOR_GREY, "Nu esti in HQ.");
				SetPlayerHealthEx(playerid,100.0);
				if(OnDuty[playerid] == 1) {
					SetPlayerArmourEx(playerid,100.0);
				}
			}
			else if(IsPlayerInRangeOfPoint(playerid, 50.0, 769.9825,-39.2081,1000.6865) || IsPlayerInRangeOfPoint(playerid, 50.0, 1719.3446,-1662.2314,20.2285) || IsPlayerInRangeOfPoint(playerid, 50.0,2324.3416,-1143.3370,1050.4922) || IsPlayerInRangeOfPoint(playerid, 50.0,616.0771,-11.4624,1000.9219)
			|| IsPlayerInRangeOfPoint(playerid, 50.0,960.9341,-51.0495,1001.1172) || IsPlayerInRangeOfPoint(playerid, 50.0,957.6353,2109.3533,1011.0234) || IsPlayerInRangeOfPoint(playerid, 50.0,1496.2422,1306.8334,1093.2891))
			{
				SetPlayerHealthEx(playerid,100.0);
			}
		}
	}
	else {
		if(InHouse[playerid] > 0) {
			if(HouseInfo[InHouse[playerid]][hHel] == 1) {
				SetPlayerHealthEx(playerid,100.0);
			}
		}
		if(PlayerInfo[playerid][pMember] != 0) {
			if(IsPlayerInRangeOfPoint(playerid, 50.0, 769.9825,-39.2081,1000.6865) || IsPlayerInRangeOfPoint(playerid, 150.0, 1719.3446,-1662.2314,20.2285) || IsPlayerInRangeOfPoint(playerid, 50.0,2324.3416,-1143.3370,1050.4922) || IsPlayerInRangeOfPoint(playerid, 50.0,616.0771,-11.4624,1000.9219)
			|| IsPlayerInRangeOfPoint(playerid, 50.0,960.9341,-51.0495,1001.1172) || IsPlayerInRangeOfPoint(playerid, 150.0,957.6353,2109.3533,1011.0234) || IsPlayerInRangeOfPoint(playerid, 50.0,1496.2422,1306.8334,1093.2891) || IsPlayerInRangeOfPoint(playerid, 50.0,-2031.0696,-116.9199,1035.1719))
			{
                if(GetPlayerInterior(playerid) == 0) return SCM(playerid,COLOR_GREY, "Nu poti lua viata de aici.");
				SetPlayerHealthEx(playerid,100.0);
			}
		}
	}
	return 1;
}
cmd:call(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	new number,sendername[30],string[256],giveplayer[25];
	if(sscanf(params, "i",number)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /call <Number>");
	if(number < 3) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /call <Number>");
	if(PlayerInfo[playerid][pPnumber] == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu ai un telefon.");
	if(PhoneOnline[playerid] > 0) return SCM(playerid, COLOR_GREY, "Telefonul tau este inchis.");
	GetPlayerName(playerid, sendername, sizeof(sendername));
	if(number == 112)
	{
	    if(IsACop(playerid)) return SCM(playerid,COLOR_GREY, "You are a cop or mayor.");
	    if(WantedReason[playerid] != 999)
	    {
	        new killerid = GetPlayerID(WantedName[playerid]);
			if(killerid == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
            if(PlayerInfo[killerid][pWantedLevel] >= 6) return SCM(playerid,COLOR_GREY, "This player has got already maximum of wanted stars.");
			else { WantedPoints[killerid] += 2; }
            if(WantedPoints[killerid] > 13)
			{
				WantedPoints[killerid] = 13;
			}
			format(string,sizeof(string),"L-ai reclamat pe %s pentru crima.",GetName(killerid));
			SCM(playerid,COLOR_LIGHTBLUE,string);
			format(string,sizeof(string),"Ai fost reclamat de %s pentru crima.",GetName(playerid));
			SCM(killerid,COLOR_LIGHTBLUE,string);
			if(WantedReason[playerid] != 49)
			{
				SetPlayerCriminal(killerid,playerid, "Crima de gradul intai");
			}
			else if(WantedReason[playerid] == 49)
			{
			    SetPlayerCriminal(killerid,playerid, "Fugar");
			}
			ClearWanted(playerid);
			return 1;
	    }
		else return SCM(playerid,COLOR_GREY, "Nu te-a omorat nimeni.");
	}
	if(number == PlayerInfo[playerid][pPnumber]) return SendClientMessage(playerid, COLOR_GRAD2, "Ton ocupat...");
	if(Mobile[playerid] != 255) return SendClientMessage(playerid, COLOR_GREY, "Esti deja intr-un apel.");
	foreach(Player,i)
	{
		if(IsPlayerConnected(i))
		{
			if(PlayerInfo[i][pPnumber] == number && number != 0)
			{
				new giveplayerid = i;
				if(IsPlayerConnected(giveplayerid))
				{
					if(giveplayerid != INVALID_PLAYER_ID)
					{
					    if(PhoneOnline[giveplayerid] > 0) return SendClientMessage(playerid, COLOR_GREY, "Are telefonul inchis.");
						if(IsBlocked(giveplayerid, playerid)) return SCM(playerid, COLOR_LGREEN, "Acel player te-a blocat! Nu il poti contacta.");
						if(IsBlocked(playerid, giveplayerid)) return SCM(playerid, COLOR_LGREEN, "L-ai blocat pe acel player! Nu il poti contacta.");							
						if (Mobile[giveplayerid] == 255)
						{
							Mobile[playerid] = giveplayerid;
							format(string, sizeof(string), "Te suna %s cu numarul %s. Scrie '/pickup' pentru a raspunde.", GetName(playerid), DecimalNumber(playerid));
							SendClientMessage(giveplayerid, COLOR_YELLOW, string);
							format(string, sizeof(string), "%s scoate telefonul si scrie un numar.", GetName(playerid));
							ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
							format(string, sizeof(string), "Lui %s ii suna telefonul.", GetName(giveplayerid));
							ProxDetector(30.0, i, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
							GetPlayerName(giveplayerid,giveplayer,sizeof(giveplayer));
							if(PlayerInfo[playerid][pPhone] == 0)
							{
								SetPlayerAttachedObject(playerid,4,330,6, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 );
							}
							else if(PlayerInfo[playerid][pPhone] == 1)
							{
								SetPlayerAttachedObject( playerid, 4, 18865, 6, 0.086043, 0.027719, 0.003817, 95.232246, 178.651031, 1.691840, 1.002077, 1.000000, 1.000000 ); // MobilePhone1 - phone1
							}
							else if(PlayerInfo[playerid][pPhone] == 2)
							{
								SetPlayerAttachedObject( playerid,4, 18874, 6, 0.086043, 0.027719, 0.003817, 95.232246, 178.651031, 1.691840, 1.002077, 1.000000, 1.000000 ); // MobilePhone10 - phone10
							}
							format(string, sizeof(string), "* Lui %s ii suna telefonul.", giveplayer);
							ProxDetector(20.0, giveplayerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);

							CellTime[playerid] = 1;
							Update(playerid, pCashx);
							SetPlayerSpecialAction(playerid,SPECIAL_ACTION_USECELLPHONE);
							if(PlayerInfo[playerid][pPhone] == 0)
							{
								SetPlayerAttachedObject(playerid,4,330,6, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 );
							}
							else if(PlayerInfo[playerid][pPhone] == 1)
							{
								SetPlayerAttachedObject( playerid, 4, 18865, 6, 0.086043, 0.027719, 0.003817, 95.232246, 178.651031, 1.691840, 1.002077, 1.000000, 1.000000 ); // MobilePhone1 - phone1
							}
							else if(PlayerInfo[playerid][pPhone] == 2)
							{
								SetPlayerAttachedObject( playerid,4, 18874, 6, 0.086043, 0.027719, 0.003817, 95.232246, 178.651031, 1.691840, 1.002077, 1.000000, 1.000000 ); // MobilePhone10 - phone10
							}
							return 1;
						}
					}
				}
			}
		}
	}
	SendClientMessage(playerid, COLOR_GRAD2, "Ton ocupat...");
	return 1;
}
alias:sms("t");
cmd:sms(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	new phonenumb,smstext[90],sendername[30],string[184],giveplayerid;
    if(PlayerInfo[playerid][pMuted] == 1) {
		format(string, sizeof(string), "Nu poti scrie pe chat sau folosi comenzi deoarece ai mute timp de %d secunde.",PlayerInfo[playerid][pMuteTime]);
		SendClientMessage(playerid, COLOR_LIGHTRED, string);
		return 1;
	}
	if(sscanf(params, "is[90]",phonenumb,smstext)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /sms <Number> <Message>");
	if(PlayerInfo[playerid][pPnumber] == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu ai un telefon.");
	if(phonenumb == PlayerInfo[playerid][pPnumber]) return 1;
	if(PhoneOnline[playerid] > 0) return SCM(playerid, COLOR_GREY, "Telefonul tau este inchis.");
	if(GetPlayerCash(playerid) < BizzInfo[7][bFee]) return SCM(playerid,COLOR_GREY, "Nu ai destui bani.");
	foreach(Player,i) {
		if(PlayerInfo[i][pPnumber] == phonenumb && phonenumb != 0) {
			if(IsPlayerConnected(i)) {
				if(i != INVALID_PLAYER_ID) {
				    giveplayerid = i;
					if(IsBlocked(giveplayerid, playerid)) return SCM(playerid, COLOR_LGREEN, "Acel player te-a blocat! Nu il poti contacta.");
					if(IsBlocked(playerid, giveplayerid)) return SCM(playerid, COLOR_LGREEN, "L-ai blocat pe acel player! Nu il poti contacta.");						
				    if(PhoneOnline[giveplayerid] > 0) return SendClientMessage(playerid, COLOR_GREY, "Telefonul tau este inchis.");
				    GetPlayerName(playerid, sendername, sizeof(sendername));
					if(PlayerInfo[giveplayerid][pAdmin] >= 1) {
						format(string, sizeof(string), "SMS de la %s (%d): %s",GetName(playerid),playerid, smstext);
						SendClientMessage(giveplayerid, COLOR_YELLOW, string);
					}
					else {
						format(string, sizeof(string), "SMS de la %s (%s): %s",GetName(playerid),DecimalNumber(playerid), smstext);
						SendClientMessage(giveplayerid, COLOR_YELLOW, string);						
					}
					format(string, sizeof(string), "SMS trimis lui %s (%s): %s",GetName(giveplayerid),DecimalNumber(giveplayerid),smstext);
					SendClientMessage(playerid, COLOR_YELLOW, string);
					GameTextForPlayer(playerid, string, 5000, 1);
					PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
					PlayerPlaySound(giveplayerid, 1139, 0.0, 0.0, 0.0);
					Reply[i] = playerid;
					return 1;
				}
			}
		}
	}
	SendClientMessage(playerid, COLOR_GRAD2, "Mesajul nu a fost trimis...");
	return 1;
}
cmd:reply(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(Reply[playerid] == -1) return 1;
	new phonenumb,smstext[90],sendername[30],string[184],giveplayerid,string2[184];
    if(PlayerInfo[playerid][pMuted] == 1) {
		format(string, sizeof(string), "Nu poti scrie pe chat sau folosi comenzi deoarece ai mute timp de %d secunde.",PlayerInfo[playerid][pMuteTime]);
		SendClientMessage(playerid, COLOR_LIGHTRED, string);
		return 1;
	}
	if(sscanf(params, "s[90]",smstext)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /re <Message>");
	if(PlayerInfo[playerid][pPnumber] == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu ai un telefon.");
	if(PhoneOnline[playerid] > 0) return SCM(playerid, COLOR_GREY, "Telefonul tau este inchis.");
	if(GetPlayerCash(playerid) < BizzInfo[7][bFee]) return SCM(playerid,COLOR_GREY, "Nu ai destui bani.");
	phonenumb = PlayerInfo[Reply[playerid]][pPnumber];
	foreach(Player,i) {
		if(PlayerInfo[i][pPnumber] == phonenumb && phonenumb != 0) {
			if(IsPlayerConnected(i)) {
				if(i != INVALID_PLAYER_ID) {
				    giveplayerid = i;
					if(IsBlocked(giveplayerid, playerid)) return SCM(playerid, COLOR_LGREEN, "Acel player te-a blocat! Nu il poti contacta.");
					if(IsBlocked(playerid, giveplayerid)) return SCM(playerid, COLOR_LGREEN, "L-ai blocat pe acel player! Nu il poti contacta.");						
				    if(PhoneOnline[giveplayerid] > 0) return SendClientMessage(playerid, COLOR_GREY, "Telefonul tau este inchis.");
				    GetPlayerName(playerid, sendername, sizeof(sendername));
					if(PlayerInfo[giveplayerid][pAdmin] >= 1) {
						format(string, sizeof(string), "SMS de la %s (%d): %s",GetName(playerid),playerid, smstext);
						SendClientMessage(giveplayerid, COLOR_YELLOW, string);
					}
					else {
						format(string, sizeof(string), "SMS de la %s (%s): %s",GetName(playerid),DecimalNumber(playerid), smstext);
						SendClientMessage(giveplayerid, COLOR_YELLOW, string);						
					}
					format(string, sizeof(string), "SMS trimis lui %s (%s): %s",GetName(giveplayerid),DecimalNumber(giveplayerid),smstext);
					SendClientMessage(playerid, 0xC8E0DFFF, string);
					SendClientMessage(playerid,COLOR_WHITE, string2);
					PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
					PlayerPlaySound(giveplayerid, 1139, 0.0, 0.0, 0.0);
					Reply[giveplayerid] = playerid;
					return 1;
				}
			}
		}
	}
	SendClientMessage(playerid, COLOR_GRAD2, "Mesajul nu a fost trimis...");
	return 1;
}
cmd:speaker(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pPnumber] == 0) return SendClientMessage(playerid,COLOR_GREY, "Nu ai un telefon.");
	if(Mobile[playerid] == 255) return SendClientMessage(playerid, COLOR_GREY, "Nu esti intr-un apel.");
	if(PlayerInfo[playerid][pSpeaker] == 0) {
		SendClientMessage(playerid, COLOR_YELLOW2, "Difuzor pornit.");
		PlayerInfo[playerid][pSpeaker] = 1;
		return 1;
	}
	if(PlayerInfo[playerid][pSpeaker] == 1) {
		SendClientMessage(playerid, COLOR_YELLOW2, "Diifuzor oprit.");
		PlayerInfo[playerid][pSpeaker] = 0;
		return 1;
	}
	return 1;
}
cmd:turn(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    new x_nr[50],sendername[30],string[128];
	if(sscanf(params, "s[50]",x_nr)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /turn <Off/On>");
    if(strcmp(x_nr,"off",true) == 0) {
        if (PhoneOnline[playerid] == 0)
        {
            PhoneOnline[playerid] = 1;
            GetPlayerName(playerid, sendername, sizeof(sendername));
            format(string, sizeof(string), "%s si-a oprit telefonul.", sendername);
    		ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
    		return 1;
		}
		else
		SCM(playerid, COLOR_GREY, "Este deja inchis.");
		return 1;
	}
	if(strcmp(x_nr,"on",true) == 0) {
        if (PhoneOnline[playerid] == 1)
        {
            PhoneOnline[playerid] = 0;
            GetPlayerName(playerid, sendername, sizeof(sendername));
            format(string, sizeof(string), "%s si-a deschis telefonul.", sendername);
			ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
			return 1;
		}
		else
		SCM(playerid, COLOR_GREY, "Your phone is already turned on.");
		return 1;
	}
    return 1;
}
cmd:pickup(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new sendername[30],string[128];
	if(Mobile[playerid] != 255) return SendClientMessage(playerid, COLOR_GRAD2, "Esti deja intr-un apel...");
	foreach(Player,i) {
		if(IsPlayerConnected(i)) {
			if(Mobile[i] == playerid) {
				Mobile[playerid] = i;
				SendClientMessage(i,COLOR_WHITE, "{B8FFDB}A raspuns la telefon.");
				GetPlayerName(playerid, sendername, sizeof(sendername));
				format(string, sizeof(string), "* %s a raspuns la telefon.", sendername);
				ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
				SetPlayerSpecialAction(playerid,SPECIAL_ACTION_USECELLPHONE);
				if(PlayerInfo[playerid][pPhone] == 0) {
					SetPlayerAttachedObject(playerid,4,330,6, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 );
				}
				else if(PlayerInfo[playerid][pPhone] == 1) {
					SetPlayerAttachedObject( playerid, 4, 18865, 6, 0.086043, 0.027719, 0.003817, 95.232246, 178.651031, 1.691840, 1.002077, 1.000000, 1.000000 ); // MobilePhone1 - phone1
				}
				else if(PlayerInfo[playerid][pPhone] == 2) {
					SetPlayerAttachedObject( playerid,4, 18874, 6, 0.086043, 0.027719, 0.003817, 95.232246, 178.651031, 1.691840, 1.002077, 1.000000, 1.000000 ); // MobilePhone10 - phone10
				}
				return 1;
			}
		}
	}
	return 1;
}
alias:pickup("p");
cmd:hangup(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	new caller = Mobile[playerid];
	if(IsPlayerConnected(caller)) {
		if(caller != INVALID_PLAYER_ID) {
			if(caller != 255) {
				if(caller < 255) {
					if(PhoneOnline[caller] == 0) {
						SendClientMessage(caller,COLOR_WHITE,"{B8FFDB}Apel inchis.");
					}
					CellTime[caller] = 0;
					CellTime[playerid] = 0;
					SendClientMessage(playerid,COLOR_WHITE,"{B8FFDB}Apel inchis.");
					Mobile[caller] = 255;
					SetPlayerSpecialAction(caller,SPECIAL_ACTION_STOPUSECELLPHONE);
				}
				RemovePlayerAttachedObject(caller,4);
				RemovePlayerAttachedObject(playerid,4);
				Mobile[playerid] = 255;
				CellTime[playerid] = 0;
				PlayerInfo[playerid][pSpeaker] = 0;
				SetPlayerSpecialAction(playerid,SPECIAL_ACTION_STOPUSECELLPHONE);
				return 1;
			}
		}
	}
	SendClientMessage(playerid,COLOR_GREY, "Telefonul nu este in mana.");
	return 1;
}
alias:hangup("h");
cmd:walkstyle(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	ShowPlayerDialog(playerid, DIALOG_WALKSTYLE, DIALOG_STYLE_LIST, "Stil de bataie:", "Normal\nLow Walk\nGangsta\nGangsta2\nOld Walk\nOld Walk2\nNormal Walk2\nFemale Walk\nFemale Walk2\nWhore Walk\nFemale Walk3\nDrunk Walk\nBlind Walk\nNormal", "Select", "Cancel");
	return 1;
}
cmd:locaterentcar(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(HireCar[playerid] == -1) return SCM(playerid,COLOR_GREY, "Nu ai un vehicul inchiriat.");
    if(CP[playerid] == 0) {
 		new Float:x,Float:y,Float:z;
		SendClientMessage(playerid,COLOR_WHITE,"Masina se afla la punctul rosu.");
		GetVehiclePos(HireCar[playerid], x, y, z);
  		SetPlayerCheckpointEx(playerid, x, y, z, 4);
		CP[playerid] = 53;
	}
	else return SCM(playerid,COLOR_WHITE,"Ai un checkpoint activ. Foloseste /cancel checkpoint");
    return 1;
}
cmd:unrent(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(HireCar[playerid] == -1) return SCM(playerid,COLOR_GREY, "Nu ai un vehicul inchiriat.");
	SetVehicleToRespawn(HireCar[playerid]);
	gCarLock[HireCar[playerid]] = 0;
	new engine,lights,alarm,doors,bonnet,boot,objective;
	GetVehicleParamsEx(HireCar[playerid],engine,lights,alarm,doors,bonnet,boot,objective);
	SetVehicleParamsEx(HireCar[playerid],engine,lights,alarm,0,bonnet,boot,objective);
	vehEngine[HireCar[playerid]] = 0;
    GetVehicleParamsEx(HireCar[playerid],engine,lights,alarm,doors,bonnet,boot,objective);
    SetVehicleParamsEx(HireCar[playerid],VEHICLE_PARAMS_OFF,lights,alarm,doors,bonnet,boot,objective);
	HireCar[playerid] = -1;
	GameTextForPlayer(playerid, "~w~Nu mai ai un vehicul inchiriat.", 5000, 3);
	TogglePlayerControllable(playerid, 1);
    SetPVarInt(playerid, "Engine", 0);
	return 1;
}
cmd:rentscooter(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(GetPlayerVehicleID(playerid) == scooter[1] || GetPlayerVehicleID(playerid) == scooter[2] || GetPlayerVehicleID(playerid) == scooter[3] || GetPlayerVehicleID(playerid) == scooter[4] || GetPlayerVehicleID(playerid) == scooter[5] ||
	GetPlayerVehicleID(playerid) == scooter[6] || GetPlayerVehicleID(playerid) == scooter[7] || GetPlayerVehicleID(playerid) == scooter[8] || GetPlayerVehicleID(playerid) == scooter[9] || GetPlayerVehicleID(playerid) == scooter[10])
	{
		new string[256];
		if(HireCar[playerid] != -1) return SCM(playerid,COLOR_GREY, "Ai deja un vehicul inchiriat.");
		if (GetPlayerCash(playerid) <  BizzInfo[8][bFee]) return SendClientMessage(playerid, COLOR_GREY, "Nu ai aceasta suma cash.");
		foreach (Player, i) {
			if(HireCar[i] == GetPlayerVehicleID(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Acest vehicul este deja inchiriat.");
		}
		GivePlayerCash(playerid,-BizzInfo[8][bFee]);
		BizzInfo[8][bBalance] += BizzInfo[8][bFee];
		HireCar[playerid] = GetPlayerVehicleID(playerid);
		PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
		GameTextForPlayer(playerid, string, 5000, 3);
		new engine,lights,alarm,doors,bonnet,boot,objective;
		new vehicleid = GetPlayerVehicleID(playerid);
		vehEngine[vehicleid] = 1;
		GetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,bonnet,boot,objective);
		SetVehicleParamsEx(vehicleid,VEHICLE_PARAMS_ON,lights,alarm,doors,bonnet,boot,objective);
		SetPVarInt(playerid, "Engine", 1);
		Update(playerid, pCashx);
		new str2[184];
		TogglePlayerControllable(playerid, 1);
		format(str2,sizeof(str2),"UPDATE `bizz` SET `Till`='%d',`Products`='%d' WHERE `ID`='2'",BizzInfo[8][bBalance],BizzInfo[8][bProducts]);
		mysql_query(SQL,str2);
		SCM(playerid, -1, "Foloseste /unrent daca vrei sa nu mai ai inchiriat acest vehicul!");
		SCM(playerid, -1, "Scrie /lock sau apasa N pentru a il incuia.");
		return 1;
	}
	return 1;
}
cmd:drink(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(IsAtBar(playerid) || PlayerToPoint(10.0,playerid,1768.3728,-1569.7539,1742.4792) || PlayerToPoint(15.0,playerid,835.1260,-2053.6489,12.8672) || PlayerToPoint(10.0,playerid,245.1689,-1828.3049,7.0547) || PlayerToPoint(10.0,playerid,209.9630,-1826.1757,7.0547)) {
		new Float:health;
		new x_nr[50],str[128];
		if(sscanf(params, "s[50]",x_nr)) {
			SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /drink <Item>");
			SendClientMessage(playerid, COLOR_WHITE, "Alcohol: Beer (10$), Wine (15$), Vodka(30$), Whiskey(50$)");
			SendClientMessage(playerid, COLOR_WHITE, "Refreshments: Water (2$), Soda (5$), Sprunk(6$), Coffee (10$)");
			return 1;
		}
		if(strcmp(x_nr,"beer",true) == 0) {
			if(GetPlayerCash(playerid) < 10) return SendClientMessage(playerid,COLOR_WHITE,"Nu ai bani destui.");
			GivePlayerCash(playerid, - 10);
			PlayerDrunk[playerid] += 1;
			GetPlayerHealthEx(playerid, health);
			if(health <= 85) SetPlayerHealthEx(playerid, health + 14.0);
			BizzInfo[InBussines[playerid]][bBalance] += 10;

			SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DRINK_BEER);
		}
		else if(strcmp(x_nr,"vodka",true) == 0) {
			if(GetPlayerCash(playerid) < 30) return SendClientMessage(playerid,COLOR_WHITE,"Nu ai bani destui.");
			GivePlayerCash(playerid, - 30);
			PlayerDrunk[playerid] += 2;			
			GetPlayerHealthEx(playerid, health);
			if(health <= 85) SetPlayerHealthEx(playerid, health + 14.0);
			SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DRINK_WINE);
			BizzInfo[InBussines[playerid]][bBalance] += 30;
		}
		else if(strcmp(x_nr,"whiskey",true) == 0) {
			if(GetPlayerCash(playerid) < 50) return SendClientMessage(playerid,COLOR_WHITE,"Nu ai bani destui.");
			GivePlayerCash(playerid, - 50);
			PlayerDrunk[playerid] += 3;					
			GetPlayerHealthEx(playerid, health);
			if(health <= 85) SetPlayerHealthEx(playerid, health + 14.0);
			SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DRINK_WINE);
			BizzInfo[InBussines[playerid]][bBalance] += 50;
		}
		else if(strcmp(x_nr,"wine",true) == 0) {
			if(GetPlayerCash(playerid) < 15) return SendClientMessage(playerid,COLOR_WHITE,"Nu ai bani destui.");
			GivePlayerCash(playerid, - 15);
			PlayerDrunk[playerid] += 3;					
			GetPlayerHealthEx(playerid, health);
			if(health <= 85) SetPlayerHealthEx(playerid, health + 14.0);
			SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DRINK_WINE);
			BizzInfo[InBussines[playerid]][bBalance] += 15;
		}
		else if(strcmp(x_nr,"water",true) == 0) {
			if(GetPlayerCash(playerid) < 2) return SendClientMessage(playerid,COLOR_WHITE,"Nu ai bani destui.");
			GivePlayerCash(playerid, - 2);
			GetPlayerHealthEx(playerid, health);
			if(health <= 85) SetPlayerHealthEx(playerid, health + 14.0);
			SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DRINK_SPRUNK);
			BizzInfo[InBussines[playerid]][bBalance] += 2;
		}
		else if(strcmp(x_nr,"soda",true) == 0) {
			if(GetPlayerCash(playerid) < 5) return SendClientMessage(playerid,COLOR_WHITE,"Nu ai bani destui.");
			GivePlayerCash(playerid, - 5);
			GetPlayerHealthEx(playerid, health);
			if(health <= 85) SetPlayerHealthEx(playerid, health + 14.0);
			SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DRINK_SPRUNK);
			BizzInfo[InBussines[playerid]][bBalance] += 5;
		}
		else if(strcmp(x_nr,"sprunk",true) == 0) {
			if(GetPlayerCash(playerid) < 6) return SendClientMessage(playerid,COLOR_WHITE,"Nu ai bani destui.");
			GivePlayerCash(playerid, - 6);
			GetPlayerHealthEx(playerid, health);
			if(health <= 85)  SetPlayerHealthEx(playerid, health + 14.0);
			SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DRINK_SPRUNK);
			BizzInfo[InBussines[playerid]][bBalance] += 6;
		}
		else if(strcmp(x_nr,"coffee",true) == 0) {
			if(GetPlayerCash(playerid) < 10) return SendClientMessage(playerid,COLOR_WHITE,"Nu ai bani destui.");
			GivePlayerCash(playerid, - 10);
			GetPlayerHealthEx(playerid, health);
			if(health <= 85) SetPlayerHealthEx(playerid, health + 14.0);
			SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DRINK_SPRUNK);
			BizzInfo[InBussines[playerid]][bBalance] += 10;
		}
		else return  SendClientMessage(playerid, COLOR_WHITE, "Barman: Nu avem aceasta bautura!");

		new string[70];
		format(string, sizeof(string), "* %s bea %s.", GetName(playerid) ,x_nr);
		ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);	
		format(str,sizeof(str),"UPDATE `bizz` SET `Till`='%d' WHERE `ID`='%d'",BizzInfo[InBussines[playerid]][bBalance],InBussines[playerid]);
		mysql_query(SQL,str);				
    }
	else SendClientMessage(playerid, COLOR_GREY, "Nu esti la bar.");
    return 1;
}

cmd:unjailo(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id[25],cont;
	if(sscanf(params, "s[25]", id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /unjailo <Name>");
	cont = MySQLCheckAccount(id);
	if(cont == 0) return SCM(playerid,COLOR_GREY, "Acest nume nu exista in baza de date.");
	new str1[128];
	format(str1,sizeof(str1),"UPDATE users SET `Jailed`='0',`JailTime`='0',`WantedLevel`='0' WHERE `name`='%s'",id);
	mysql_query(SQL,str1);
	KickEx(id);
	return 1;
}
cmd:jailo(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id[25],reason[128],string[128],sendername[30],minutes,cont;
	GetPlayerName(playerid,sendername,sizeof(sendername));
	if(sscanf(params, "s[25]is[128]", id,minutes,reason)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /jailo <Name> <Minutes> <Reason>");
	cont = MySQLCheckAccount(id);
	if(cont == 0) return SCM(playerid,COLOR_GREY, "Acest nume nu exista in baza de date.");
	new timej = minutes*60;
	format(string, sizeof(string), "Offline: AdmCmd: %s a fost bagat in inchisoare de %s pentru %d minute, motiv: %s", id, sendername,minutes,reason);
	SendClientMessageToAll(COLOR_LIGHTRED, string);
    format(string,sizeof(string),"Log: %s the set of %s set jail time %d minutes motiv: %s.",sendername,id,minutes,reason);
    Adminlog(string);
	new str1[184];
	format(str1,sizeof(str1),"UPDATE users SET `Jailed`='2',`JailTime`='%d',`WantedLevel`='0' WHERE `name`='%s'",timej,id);
	mysql_query(SQL,str1);
	Jaillog("Offline",cont,PlayerInfo[playerid][pSQLID],reason,minutes);
	return 1;
}
cmd:jail(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,reason[128],string[128],giveplayer[30],sendername[30],minutes;
	if(sscanf(params, "uis[128]", id,minutes,reason)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /jail <Nume/Playerid> <Minutes> <Reason>"); {
		if(IsPlayerConnected(id)) {
		    if(id != INVALID_PLAYER_ID) {
			    GetPlayerName(id, giveplayer, sizeof(giveplayer));
				GetPlayerName(playerid, sendername, sizeof(sendername));
				ResetPlayerWeaponsEx(id);
				ResetPlayerWeapons(id);
				WantedPoints[id] = 0;
				PlayerInfo[id][pJailed] = 2;
				PlayerInfo[id][pJailTime] = minutes*60;
				PlayerInfo[id][pWantedLevel] = 0;
				SetPlayerInterior(id, 0);
				JailPrice[id] = 0;
				SetPlayerSkinEx(id, 62);
				PutPlayerInJail(id);
				InsereazaSanctiune(id, playerid, JAIL, reason);
				format(string, sizeof(string), "AdmCmd: %s a fost bagat in inchisoare de %s pentru %d minute, motiv: %s", giveplayer, sendername,minutes,reason);
				SendClientMessageToAll(COLOR_LIGHTRED, string);
				format(string, sizeof(string), "Esti in inchisoare penttru %d minute. motiv: %s", minutes,reason);
				SendClientMessage(id, COLOR_WARNING, string);					
		        format(string,sizeof(string),"Log: %s the set of %s set jail time %d minutes motiv: %s",sendername,giveplayer,minutes,reason);
	            Adminlog(string);
	            Update(playerid,pJailedx);
				Update(playerid,pJailTimex);
				Update(playerid,pWantedLevelx);	
				new ip[25];
		    	GetPlayerIp(id, ip, sizeof(ip));
				Jaillog(ip,PlayerInfo[id][pSQLID],PlayerInfo[playerid][pSQLID],reason,minutes);
				return 1;
			}
		}
		else return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	return 1;
}
cmd:unjail(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,string[128],giveplayer[30],sendername[30];
	if(sscanf(params, "uis[128]", id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /unjail <Nume/Playerid>");
	if(IsPlayerConnected(id)) {
	    if(id != INVALID_PLAYER_ID) {
		    GetPlayerName(id, giveplayer, sizeof(giveplayer));
			GetPlayerName(playerid, sendername, sizeof(sendername));
			ResetPlayerWeaponsEx(id);
			ResetPlayerWeapons(id);
			WantedPoints[id] = 0;
			PlayerInfo[id][pJailed] = 0;
			PlayerInfo[id][pJailTime] = 0;
			PlayerInfo[id][pWantedLevel] = 0;
			SetPlayerInterior(id, 0);
			JailPrice[id] = 0;
			Update(id,pJailedx);
			Update(id,pJailTimex);
			Update(id,pWantedLevelx);
			SpawnPlayer(id);
			format(string,sizeof(string),"AdmCmd: %s l-a scos pe %s din inchisoare.",sendername,giveplayer);
			SendAdminMessage(COLOR_LOGS,string,3);
			if(PlayerInfo[id][pChar] > 0) {
	    		SetPlayerSkinEx(id, PlayerInfo[id][pChar]);
        	}
        	else {
		     	SetPlayerSkinEx(id, PlayerInfo[id][pModel]);
         	}
			ClearCrime(id);
			TextDrawHideForPlayer(id, Jailtime[id]);
			return 1;
		}
	}
	else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:clear(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
 	if(IsACop(playerid))
	{
	    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		new tmpcar = GetPlayerVehicleID(playerid);
		if(ServerVehicles[tmpcar][vFaction] == PlayerInfo[playerid][pMember] || PlayerToPoint(10.0,playerid,1762.0028,-1584.4185,1742.5264) || PlayerToPoint(10.0,playerid,253.9323,69.7215,1003.6406) || PlayerToPoint(10.0,playerid,229.4171,167.4609,1003.0234)  || PlayerToPoint(10.0,playerid,187.8352,1931.4265,17.6874))
		{
			new id,string[128],giveplayer[30],sendername[30];
			if(sscanf(params, "u", id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /clear <Nume/Playerid>");
	    	if(IsPlayerConnected(id)) {
	    		if(id != INVALID_PLAYER_ID) {
                	if(id == playerid) return SendClientMessage(playerid, COLOR_WHITE, "You cannot clear yourself.");
			    	GetPlayerName(id, giveplayer, sizeof(giveplayer));
			    	GetPlayerName(playerid, sendername, sizeof(sendername));
		    		format(string, sizeof(string), "* I-ai sters wanted-ul lui %s.", giveplayer);
	     			SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
			    	format(string, sizeof(string), "* Ofiter %s ti-a sters wanted-ul.", sendername);
			    	SendClientMessage(id, COLOR_LIGHTBLUE, string);
				    format(string, sizeof(string), "* %s i-a sters wanted-ul lui %s.", sendername, giveplayer);
			    	SendTeamMessage(3, COLOR_LIGHTBLUE, string);
	     			SendTeamMessage(2, COLOR_LIGHTBLUE, string);
      				SendTeamMessage(1, COLOR_LIGHTBLUE, string);
      				SendTeamMessage(15, COLOR_LIGHTBLUE, string);
	     			SendTeamMessage(25, COLOR_LIGHTBLUE, string);
			    	WantedPoints[id] = 0;
       				PlayerInfo[id][pWantedLevel] = 0;
				    SetPlayerWantedLevel(id, 0);
			    	ClearCrime(id);
					Update(id,pWantedLevelx);
                }
			}
  			else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
 		}
		else return SendClientMessage(playerid, COLOR_GREY, "Nu esti in statie / vehiculul factiunii.");
	}
	else return SCM(playerid, COLOR_BZWHITE,"Eroare: Nu faci parte dintr-un departament.");
	return 1;
}
cmd:aclear(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3) return SCM(playerid,COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,string[128];
	if(sscanf(params, "u", id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /aclear <Nume/Playerid>"); {
    	if(IsPlayerConnected(id)) {
    		if(id != INVALID_PLAYER_ID) {
            	if(PlayerInfo[id][pWantedLevel] == 0) return SCM(playerid,COLOR_BZWHITE,"Eroare: Acel jucator nu are wanted.");
		    	format(string, sizeof(string), "Adminul %s ti-a sters Wanted-ul.", GetName(playerid));
		    	SendClientMessage(id, COLOR_BBLUE, string);
			    format(string, sizeof(string), "AdmCmd: %s i-a sters Wanted-ul lui %s.", GetName(playerid), GetName(id));
			    SendAdminMessage(COLOR_LIGHTRED,string,1);
		    	WantedPoints[id] = 0;
   				PlayerInfo[id][pWantedLevel] = 0;
			    SetPlayerWantedLevel(id, 0);
		    	ClearCrime(id);
				Update(id,pWantedLevelx);
            }
		}
    	else return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	return 1;
}
cmd:givelicense(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(IsAInstructor(playerid))
    {
        if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
        new x_nr[30],id,sendername[30],giveplayer[30],string[128];
		if(sscanf(params, "s[50]u",x_nr,id))
		{
		    SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /givelicense <License Name> <Nume/Playerid>");
		    SendClientMessage(playerid, COLOR_WHITE, "License: Sailing, Fishing, Weapon, Flying.");
			return 1;
		}
		if(id == playerid) return 1;
		if(IsInBlacklist(id, 12))
		return SCM(playerid, -1, "Acel player este pe blacklist-ul acestei factiuni!");
		if(strcmp(x_nr,"flying",true) == 0) {
			if(IsPlayerConnected(id)) {
			    if(id != INVALID_PLAYER_ID) {
					PlayerInfo[playerid][pCommands] ++;
					Update(playerid,pCommandsx);
				    GetPlayerName(playerid, sendername, sizeof(sendername));
			        GetPlayerName(id, giveplayer, sizeof(giveplayer));
		            format(string, sizeof(string), "* I-ai dat licenta de zbor to %s.",giveplayer);
			        SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
			        format(string, sizeof(string), "* Instructor %s ti-a dat licenta de zbor.",sendername);
			        SendClientMessage(id, COLOR_LIGHTBLUE, string);
			        format(string, sizeof(string), "* Instructor %s i-a dat lui %s licenta a de zbor.",sendername,giveplayer);
			        SendTeamMessage(12,COLOR_OOC,string);
					SendTeamMessage(18,COLOR_OOC,string);
					SendTeamMessage(19,COLOR_OOC,string);
			        PlayerInfo[id][pFlyLic] = 1;
			        PlayerInfo[id][pFlyLicT] = 100;
					new str[256];
					format(str,sizeof(str),"UPDATE users SET `FlyLic`='1',`FlyLicT`='320' WHERE `ID`='%d'",PlayerInfo[id][pSQLID]);
					mysql_query(SQL,str);
			        return 1;
				}
			}
			else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
		else if(strcmp(x_nr,"sailing",true) == 0) {
			if(IsPlayerConnected(id)) {
			    if(id != INVALID_PLAYER_ID) {
					PlayerInfo[playerid][pCommands] ++;
					Update(playerid,pCommandsx);
				    GetPlayerName(playerid, sendername, sizeof(sendername));
			        GetPlayerName(id, giveplayer, sizeof(giveplayer));
		            format(string, sizeof(string), "* I-ai dat licenta de zbor lui %s.",giveplayer);
			        SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
			        format(string, sizeof(string), "* Instructor %s ti-a dat licenta de barca",sendername);
			        SendClientMessage(id, COLOR_LIGHTBLUE, string);
			        format(string, sizeof(string), "* Instructor %s i-a dat lui %s licenta de barca",sendername,giveplayer);
			        SendTeamMessage(12,COLOR_OOC,string);
					SendTeamMessage(18,COLOR_OOC,string);
					SendTeamMessage(19,COLOR_OOC,string);
			        PlayerInfo[id][pBoatLic] = 1;
			        PlayerInfo[id][pBoatLicT] = 100;
					new str[256];
					format(str,sizeof(str),"UPDATE users SET `BoatLic`='1',`BoatLicT`='320' WHERE `ID`='%d'",PlayerInfo[id][pSQLID]);
					mysql_query(SQL,str);
			        return 1;
				}
			}
			else return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
		else if(strcmp(x_nr,"fishing",true) == 0) {
			if(IsPlayerConnected(id)) {
			    if(id != INVALID_PLAYER_ID) {
					PlayerInfo[playerid][pCommands] ++;
					Update(playerid,pCommandsx);
				    GetPlayerName(playerid, sendername, sizeof(sendername));
			        GetPlayerName(id, giveplayer, sizeof(giveplayer));
		            format(string, sizeof(string), "* I-ai dat licenta de pescuit lui %s.",giveplayer);
			        SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
			        format(string, sizeof(string), "* Instructor %s ti-a dat licenta de pescuit.",sendername);
			        SendClientMessage(id, COLOR_LIGHTBLUE, string);
			        format(string, sizeof(string), "* Instructor %s i-a dat lui %s licenta de pescuit.",sendername,giveplayer);
			        SendTeamMessage(12,COLOR_OOC,string);
					SendTeamMessage(18,COLOR_OOC,string);
					SendTeamMessage(19,COLOR_OOC,string);
			        PlayerInfo[id][pFishLic] = 1;
			        PlayerInfo[id][pFishLicT] = 100;
					new str[256];
					format(str,sizeof(str),"UPDATE users SET `FishLic`='1',`FishLicT`='320' WHERE `ID`='%d'",PlayerInfo[id][pSQLID]);
					mysql_query(SQL,str);
			        return 1;
				}
			}
			else return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
		else if(strcmp(x_nr,"weapon",true) == 0) {
			if(IsPlayerConnected(id)) {
			    if(id != INVALID_PLAYER_ID) {
					if(PlayerInfo[id][pLevel] < 2) return SCM(playerid,COLOR_GREY, "This player does not have level 2.");
					PlayerInfo[playerid][pCommands] ++;
					Update(playerid,pCommandsx);
					GetPlayerName(playerid, sendername, sizeof(sendername));
			        GetPlayerName(id, giveplayer, sizeof(giveplayer));
		            format(string, sizeof(string), "* I-ai dat licenta de arme lui %s.",giveplayer);
			        SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
			        format(string, sizeof(string), "* Instructor %s ti-a dat licenta arme.",sendername);
			        SendClientMessage(id, COLOR_LIGHTBLUE, string);
			        format(string, sizeof(string), "* Instructor %s i-a dat lui %s licenta de arme.",sendername,giveplayer);
		            SendTeamMessage(12,COLOR_OOC,string);
					SendTeamMessage(18,COLOR_OOC,string);
					SendTeamMessage(19,COLOR_OOC,string);
			        PlayerInfo[id][pGunLic] = 1;
			        PlayerInfo[id][pGunLicT] = 100;
					new str[256];
					format(str,sizeof(str),"UPDATE users SET `GunLic`='1',`GunLicT`='320' WHERE `ID`='%d'",PlayerInfo[id][pSQLID]);
					mysql_query(SQL,str);
			        return 1;
				}
			}
			else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
    }
    else return SCM(playerid, COLOR_BZWHITE, "Eroare: Nu esti Instructor.");
    return 1;
}
cmd:startlesson(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(IsAInstructor(playerid)) {
        if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
        new id,sendername[30],giveplayer[30],string[128];
		if(sscanf(params, "u",id)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /startlesson <Nume/Playerid>"); {
			if(IsPlayerConnected(id)) {
			    if(id != INVALID_PLAYER_ID) {
					if(playerid == id) return SCM(playerid,COLOR_GREY, "You cannot startlesson yourself.");
				    GetPlayerName(playerid, sendername, sizeof(sendername));
			        GetPlayerName(id, giveplayer, sizeof(giveplayer));
			        format(string, sizeof(string), "* Ai pornit o lectie cu %s.",giveplayer);
			        SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
			        format(string, sizeof(string), "* Instructor %s a dat startul lectiei.",sendername);
			        SendClientMessage(id, COLOR_LIGHTBLUE, string);
			        format(string, sizeof(string), "* Instructor %s are o lectie cu %s.",sendername,giveplayer);
         			SendTeamMessage(12,COLOR_OOC,string);
					SendTeamMessage(18,COLOR_OOC,string);
					SendTeamMessage(19,COLOR_OOC,string);
			        TakingLesson[id] = 2;
			    }
			}
			else return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
        }
    }
	else return SCM(playerid, COLOR_BZWHITE, "Eroare: Nu esti Instructor.");
    return 1;
}
cmd:stoplesson(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(IsAInstructor(playerid)) {
        if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
        new id,sendername[30],giveplayer[30],string[128];
		if(sscanf(params, "u",id)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /stoplesson <Nume/Playerid>"); {
			if(IsPlayerConnected(id)) {
			    if(id != INVALID_PLAYER_ID) {
					if(TakingLesson[id] != 2) return SendClientMessage(playerid,COLOR_GREY, "That player is not taking a Lesson.");
					if(playerid == id) return SCM(playerid,COLOR_GREY, "You cannot stoplesson yourself.");
			        GetPlayerName(playerid, sendername, sizeof(sendername));
			        GetPlayerName(id, giveplayer, sizeof(giveplayer));
			        format(string, sizeof(string), "* Ai oprit lectia cu %s.",giveplayer);
			        SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
			        format(string, sizeof(string), "* Instructor %s a oprit lectia cu tine.",sendername);
			        SendClientMessage(id, COLOR_LIGHTBLUE, string);
			        TakingLesson[id] = 0;
			    }
			}
			else return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
        }
    }
    else return SCM(playerid, COLOR_BZWHITE, "Eroare: Nu esti Instructor.");
	return 1;
}
cmd:needlicense(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
   	new x_nr[50],sendername[30],string[128];
   	GetPlayerName(playerid,sendername,sizeof(sendername));
   	if(licensesend[playerid] == 1) return SCM(playerid,COLOR_WHITE,"{f03337}You have already sent a request license.");
	if(licenseaccepted[playerid] == 1) return SCM(playerid,COLOR_WHITE,"{f03337}Ai deja un a request license.");
	if(IsAInstructor(playerid)) return SCM(playerid,COLOR_GREY, "You're instructor.");
	if(sscanf(params, "s[50]",x_nr)) {
		SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /needlicense <License Name>");
		SCM(playerid,COLOR_WHITE,"Licenses Nume: Weapon, Flying, Sailing, Fishing.");
		return 1;
	}
    if(strcmp(x_nr,"weapon",true) == 0) {
        if(PlayerInfo[playerid][pGunLic] < 1) {
			format(string, sizeof(string), "%s doreste licenta de arme.", sendername);
			SendTeamMessage(12,COLOR_OOC,string);
			SendTeamMessage(18,COLOR_OOC,string);
			SendTeamMessage(19,COLOR_OOC,string);
			format(string, sizeof(string), "Foloseste [/acceptlic %d] to accept license request.", playerid);
			SendTeamMessage(12,COLOR_OOC,string);
			SendTeamMessage(18,COLOR_OOC,string);
			SendTeamMessage(19,COLOR_OOC,string);
			licensesend[playerid] = 1;
			SendClientMessage(playerid, COLOR_WHITE,"{FFFF45}Cererea ta a fost trimisa instructorilor.");
			SetPVarString(playerid, "License", x_nr);
			return 1;
    	}
		else return SCM(playerid, COLOR_GREY, "Ai deja aceasta licenta.");
    }
    if(strcmp(x_nr,"flying",true) == 0) {
        if(PlayerInfo[playerid][pFlyLic] < 1) {
			format(string, sizeof(string), "%s doreste licenta de zbor.", sendername);
			SendTeamMessage(12,COLOR_OOC,string);
			SendTeamMessage(18,COLOR_OOC,string);
			SendTeamMessage(19,COLOR_OOC,string);
			format(string, sizeof(string), "Foloseste [/acceptlic %d] pentru a accepta aceasta cerere.", playerid);
			SendTeamMessage(12,COLOR_OOC,string);
			SendTeamMessage(18,COLOR_OOC,string);
			SendTeamMessage(19,COLOR_OOC,string);
			licensesend[playerid] = 1;
			SendClientMessage(playerid, COLOR_WHITE,"{FFFF45}Cererea ta a fost trimisa instructorilor.");
			SetPVarString(playerid, "License", x_nr);
			return 1;
    	}
		else return SCM(playerid, COLOR_GREY, "Ai deja aceasta licenta.");
    }
    if(strcmp(x_nr,"Sailing",true) == 0) {
        if(PlayerInfo[playerid][pBoatLic] < 1) {
			format(string, sizeof(string), "%s doreste licenta de barca", sendername);
			SendTeamMessage(12,COLOR_OOC,string);
			SendTeamMessage(18,COLOR_OOC,string);
			SendTeamMessage(19,COLOR_OOC,string);
			format(string, sizeof(string), "Foloseste [/acceptlic %d] pentru a accepta aceasta cerere.", playerid);
			SendTeamMessage(12,COLOR_OOC,string);
			SendTeamMessage(18,COLOR_OOC,string);
			SendTeamMessage(19,COLOR_OOC,string);
			licensesend[playerid] = 1;
			SendClientMessage(playerid, COLOR_WHITE,"{FFFF45}Cererea ta a fost trimisa instructorilor.");
			SetPVarString(playerid, "License", x_nr);
			return 1;
    	}
		else return SCM(playerid, COLOR_GREY, "Ai deja aceasta licenta.");
    }
    if(strcmp(x_nr,"fishing",true) == 0) {
        if(PlayerInfo[playerid][pFishLic] < 1) {
			format(string, sizeof(string), "%s doreste licenta de pescuit.", sendername);
			SendTeamMessage(12,COLOR_OOC,string);
			SendTeamMessage(18,COLOR_OOC,string);
			SendTeamMessage(19,COLOR_OOC,string);
			format(string, sizeof(string), "Foloseste [/acceptlic %d] pentru a accepta aceasta cerere.", playerid);
			SendTeamMessage(12,COLOR_OOC,string);
			SendTeamMessage(18,COLOR_OOC,string);
			SendTeamMessage(19,COLOR_OOC,string);
			licensesend[playerid] = 1;
			SendClientMessage(playerid, COLOR_WHITE,"{FFFF45}Cererea ta a fost trimisa instructorilor.");
			SetPVarString(playerid, "License", x_nr);
			return 1;
    	}
		else return SCM(playerid, COLOR_GREY, "Ai deja aceasta licenta.");
    }
	return 1;
}
cmd:license(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new string[128],count= 0,titlestring[50],name[30];
	if(!IsAInstructor(playerid)) return SCM(playerid, COLOR_BZWHITE, "Eroare: Nu esti Instructor.");
	foreach(Player, i) {
    	if(GetPVarString(i, "License", string, 128)) {
        	GetPVarString(i, "License", string, sizeof(string));
        	count++;
        	GetPlayerName(i, name,sizeof(name));
        	format(string, sizeof(string), "%s(%d) - ID: %d",name,i,i);
        	format(titlestring, sizeof(titlestring), "In asteptare: %d", count);
			ShowPlayerDialog(playerid, 211, DIALOG_STYLE_LIST, titlestring, string, "Cancel", "");
			SendClientMessage(playerid, 0xFFFFFFFF, "Foloseste comanda /clicense pentru mai multe informatii.");
		}
	}
	return 1;
}
cmd:clicense(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id;
	if(!IsAInstructor(playerid)) return SCM(playerid, COLOR_BZWHITE, "Eroare: Nu esti Instructor.");
	if(sscanf(params, "u", id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /clicense <Nume/Playerid>");
    if(GetPVarString(id, "License", szGlobal, 128)) {
        GetPVarString(id, "License", szGlobal, sizeof(szGlobal));
        format(szGlobal, sizeof(szGlobal), "Jucator %s(%d): %s.",GetName(id),id, szGlobal);
        SendClientMessage(playerid, COLOR_WHITE, szGlobal);
	}
	return 1;
}
cmd:acceptlic(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(!IsAInstructor(playerid)) return SCM(playerid, COLOR_BZWHITE, "Eroare: Nu esti Instructor.");
	new licid;
	if(sscanf(params, "d", licid)) return SCM(playerid, COLOR_SYNTAX, "Syntax: /acceptlic <Nume/Playerid>");
	if(licensesend[licid] == -1) return SCM(playerid, COLOR_GREY, "Invalid license ID.");
	if(PlayerInfo[licid][pMember] == 12) return SCM(playerid,COLOR_GREY, "The player has instructor.");
	licenseaccepted[licid] = 1,licensesend[licid] = -1;
	format(szGlobal, sizeof(szGlobal),"Instructor %s a acceptat cererea ta.",GetName(playerid)),SCM(licid,COLOR_WHITE,szGlobal);
	format(szGlobal, sizeof(szGlobal),"I-ai acceptat cererea lui %s.",GetName(licid)),SCM(playerid,COLOR_WHITE,szGlobal);
	format(szGlobal, sizeof(szGlobal),"Instructor %s a acceptat cererea lui %s.",GetName(playerid),GetName(licid));
    SendTeamMessage(12,COLOR_OOC,szGlobal),SendTeamMessage(18,COLOR_OOC,szGlobal),SendTeamMessage(19,COLOR_OOC,szGlobal);
	DeletePVar(licid, "License");
	return 1;
}
cmd:closelic(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(!IsAInstructor(playerid)) return SCM(playerid, COLOR_BZWHITE, "Eroare: Nu esti Instructor.");
	new licid,sendername[30],giveplayer[30],string[100];
	if(sscanf(params, "d", licid)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /closelic <Nume/Playerid>");
	if(licenseaccepted[licid] != 1) return SendClientMessage(playerid, COLOR_GREY, "Invalid license ID.");
	licenseaccepted[licid] = -1;
	licensesend[licid] = -1;
	GetPlayerName(playerid, sendername,sizeof(sendername));
	format(string, sizeof(string),"Instructor %s a inchis cerere ta.",sendername);
	SCM(licid,COLOR_WHITE,string);
	GetPlayerName(licid,giveplayer,sizeof(giveplayer));
	format(string, sizeof(string),"I-ai inchis cererea lui %s.",giveplayer);
	SCM(playerid,COLOR_WHITE,string);
	format(string, sizeof(string),"Instructorul %s i-a inchis cererea lui %s.",GetName(playerid),giveplayer);
  	SendTeamMessage(12,COLOR_OOC,string);
	SendTeamMessage(18,COLOR_OOC,string);
	SendTeamMessage(19,COLOR_OOC,string);
	return 1;
}
cmd:showlicenses(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id;
    if(sscanf(params, "u", id)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /showlicenses <Nume/Playerid>");
    if(id == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
    if(!ProxDetectorS(8.0, playerid, id)) return SCM(playerid,COLOR_YELLOW2, "Acel player nu este langa tine.");
	if(Spectate[id] != 255) return SCM(playerid,COLOR_YELLOW2, "Acel player nu este langa tine.");
	new text1[20],text2[20],text4[20],text5[20],string[128];
	if(PlayerInfo[playerid][pCarLic] == 1) { text1 = "Valida"; } else { text1 = "Invalida"; }
	if(PlayerInfo[playerid][pFlyLic] == 1) { text4 = "Valida"; } else { text4 = "Invalida"; }
	if(PlayerInfo[playerid][pBoatLic] == 1) { text2 = "Valida"; } else { text2 = "Invalida"; }
    if(PlayerInfo[playerid][pGunLic] == 1) { text5 = "Valida"; } else { text5 = "Invalida"; }
    SendClientMessage(playerid, COLOR_WHITE, "----- Licenses -----");
	if(PlayerInfo[playerid][pCarLicT] == 0) {
    	format(string, sizeof(string), "Carnet de sofer: %s (Expirata).", text1);
    	SendClientMessage(id, COLOR_WHITE, string);
    }
    else {
    	format(string, sizeof(string), "Carnet de sofer: %s (Disponibila %d ore).", text1,PlayerInfo[playerid][pCarLicT]);
    	SendClientMessage(id, COLOR_WHITE, string);
    }
    if(PlayerInfo[playerid][pFlyLicT] == 0) {
		format(string, sizeof(string), "Licenta de zburat: %s (Expirata).", text4);
		SendClientMessage(id, COLOR_WHITE, string);
	}
	else {
		format(string, sizeof(string), "Licenta de zburat: %s (Disponibila %d ore).", text4,PlayerInfo[playerid][pFlyLicT]);
		SendClientMessage(id, COLOR_WHITE, string);
	}
    if(PlayerInfo[playerid][pBoatLicT] == 0) {
		format(string, sizeof(string), "Licenta de barca: %s (Expirata).", text2);
		SendClientMessage(id, COLOR_WHITE, string);
	}
	else {
		format(string, sizeof(string), "Licenta de barca: %s (Disponibila %d ore).", text2,PlayerInfo[playerid][pBoatLicT]);
		SendClientMessage(id, COLOR_WHITE, string);
	}
	if(PlayerInfo[playerid][pGunLicT] == 0) {
		format(string, sizeof(string), "Licenta de arme: %s (Expirata).", text5);
		SendClientMessage(id, COLOR_WHITE, string);
	}
	else {
		format(string, sizeof(string), "Licenta de arme: %s (Disponibila %d ore).", text5,PlayerInfo[playerid][pGunLicT]);
		SendClientMessage(id, COLOR_WHITE, string);
	}
	new sendername[25],giveplayer[25];
	GetPlayerName(playerid,sendername,sizeof(sendername));
	GetPlayerName(id,giveplayer,sizeof(giveplayer));
	format(string, sizeof(string), "* %s has shown his/her Licenses to you.", sendername);
	SendClientMessage(id, COLOR_LIGHTBLUE, string);
	format(string, sizeof(string), "* You have shown your Licenses to %s.", giveplayer);
	SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
    return 1;
}
cmd:licenses(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    new text1[70],text2[70],text4[70],text5[70],nume[70];
	new string1[400],string2[400],string3[400],string5[400],stringg[700],mesaj[100],text3[500],string4[400];
	if(PlayerInfo[playerid][pCarLic] == 1) { text1 = "{FFFFFF}Valid"; } else { text1 = "Not Passed"; }
	if(PlayerInfo[playerid][pFlyLic] == 1) { text4 = "{FFFFFF}Valida"; } else { text4 = "Not Passed"; }
	if(PlayerInfo[playerid][pBoatLic] == 1) { text2 = "{FFFFFF}Valida"; } else { text2 = "Not Passed"; }
	if(PlayerInfo[playerid][pFishLic] == 1) { text3 = "{FFFFFF}Valida"; } else { text3 = "Not Passed"; }
    if(PlayerInfo[playerid][pGunLic] == 1) { text5 = "{FFFFFF}Valida"; } else { text5 = "Not Passed"; }
    if(PlayerInfo[playerid][pCarLicT] == 0) {
    	format(string1, sizeof(string1), "{FFFFFF}** {23B8CC}Carnet de sofer: {FF6347}Expirat.");
    }
    else {
    	format(string1, sizeof(string1), "{FFFFFF}** {23B8CC}Carnet de sofer: %s - {23B8CC}Valabilitate: {FFFFFF}%d ore", text1,PlayerInfo[playerid][pCarLicT]);
    }
    if(PlayerInfo[playerid][pFlyLicT] == 0) {
		format(string2, sizeof(string2), "{FFFFFF}** {23B8CC}Licenta de pilot: {FF6347}Expirata.");
	}
	else {
		format(string2, sizeof(string2), "{FFFFFF}** {23B8CC}Licenta de pilot: %s - {23B8CC}Valabilitate: {FFFFFF}%d ore", text4,PlayerInfo[playerid][pFlyLicT]);
	}
    if(PlayerInfo[playerid][pBoatLicT] == 0) {
		format(string3, sizeof(string3), "{FFFFFF}** {23B8CC}Licenta de navigatie: {FF6347}Expirata.");
	}
	else {
		format(string3, sizeof(string3), "{FFFFFF}** {23B8CC}Licenta de navigatie: %s - {23B8CC}Valabilitate: {FFFFFF}%d ore", text2,PlayerInfo[playerid][pBoatLicT]);
	}
	if(PlayerInfo[playerid][pFishLicT] == 0) {
		format(string4, sizeof(string4), "{FFFFFF}** {23B8CC}Licenta de pescar: {FF6347}Expirata.");
	}
	else {
		format(string4, sizeof(string4), "{FFFFFF}** {23B8CC}Licenta de pescar: %s - {23B8CC}Valabilitate: {FFFFFF}%d ore", text3,PlayerInfo[playerid][pFishLicT]);
	}
	if(PlayerInfo[playerid][pGunLicT] == 0) {
		format(string5, sizeof(string5), "{FFFFFF}** {23B8CC}Licenta de arme: {FF6347}Expirata.");
	}
	else {
		format(string5, sizeof(string5), "{FFFFFF}** {23B8CC}Licenta de arme: %s - {23B8CC}Valabilitate: {FFFFFF}%d ore", text5,PlayerInfo[playerid][pGunLicT]);
	}
	format(nume,sizeof(nume),"Licentele lui %s:",GetName(playerid));
	format(mesaj,sizeof(mesaj),"{FFFFFF}Scrie {23B8CC}/needlicense {FFFFFF}pentru a obtine licente.");
	format(stringg,sizeof(stringg),"%s\n\%s\n\%s\n\%s\n\%s\n\n\%s",string1,string2,string3,string4,string5,mesaj);
	ShowPlayerDialog(playerid,0,DIALOG_STYLE_MSGBOX,nume,stringg,"Close","");
    return 1;
}
cmd:alicenses(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid,COLOR_WHITE,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,text1[70],text2[70],text4[70],text5[70],nume[70],text3[70],string1[400],string2[400],string3[400],string5[400],stringg[700],string4[400];
    if(sscanf(params, "u", id)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /alicenses <Nume/Playerid>");
    if(id == INVALID_PLAYER_ID) return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	if(PlayerInfo[id][pCarLic] == 1) { text1 = "{FFFFFF}Valid"; } else { text1 = "Not Passed"; }
	if(PlayerInfo[id][pFlyLic] == 1) { text4 = "{FFFFFF}Valida"; } else { text4 = "Not Passed"; }
	if(PlayerInfo[id][pBoatLic] == 1) { text2 = "{FFFFFF}Valida"; } else { text2 = "Not Passed"; }
	if(PlayerInfo[playerid][pFishLic] == 1) { text3 = "{FFFFFF}Valida"; } else { text3 = "Not Passed"; }
    if(PlayerInfo[id][pGunLic] == 1) { text5 = "{FFFFFF}Valida"; } else { text5 = "Not Passed"; }
    if(PlayerInfo[id][pCarLicT] == 0) {
    	format(string1, sizeof(string1), "{FFFFFF}** {23B8CC}Carnet de sofer: {FF6347}Expirat.");
    }
    else {
    	format(string1, sizeof(string1), "{FFFFFF}** {23B8CC}Carnet de sofer: %s - {23B8CC}Valabilitate: {FFFFFF}%d ore", text1,PlayerInfo[id][pCarLicT]);
    }
    if(PlayerInfo[id][pFlyLicT] == 0) {
		format(string2, sizeof(string2), "{FFFFFF}** {23B8CC}Licenta de pilot: {FF6347}Expirata.");
	}
	else {
		format(string2, sizeof(string2), "{FFFFFF}** {23B8CC}Licenta de pilot: %s - {23B8CC}Valabilitate: {FFFFFF}%d ore", text4,PlayerInfo[id][pFlyLicT]);
	}
    if(PlayerInfo[id][pBoatLicT] == 0) {
		format(string3, sizeof(string3), "{FFFFFF}** {23B8CC}Licenta de navigatie: {FF6347}Expirata.");
	}
	else {
		format(string3, sizeof(string3), "{FFFFFF}** {23B8CC}Licenta de navigatie: %s - {23B8CC}Valabilitate: {FFFFFF}%d ore", text2,PlayerInfo[id][pBoatLicT]);
	}
	if(PlayerInfo[id][pFishLicT] == 0) {
		format(string4, sizeof(string4), "{FFFFFF}** {23B8CC}Licenta de pescar: {FF6347}Expirata.");
	}
	else {
		format(string4, sizeof(string4), "{FFFFFF}** {23B8CC}Licenta de pescar: %s - {23B8CC}Valabilitate: {FFFFFF}%d ore", text3,PlayerInfo[id][pFishLicT]);
	}
	if(PlayerInfo[id][pGunLicT] == 0) {
		format(string5, sizeof(string5), "{FFFFFF}** {23B8CC}Licenta de arme: {FF6347}Expirata.");
	}
	else {
		format(string5, sizeof(string5), "{FFFFFF}** {23B8CC}Licenta de arme: %s - {23B8CC}Valabilitate: {FFFFFF}%d ore", text5,PlayerInfo[id][pGunLicT]);
	}
	format(nume,sizeof(nume),"Licentele lui %s:",GetName(id));
	format(stringg,sizeof(stringg),"%s\n\%s\n\%s\n\%s\n\%s\n",string1,string2,string3,string4,string5);
	ShowPlayerDialog(playerid,0,DIALOG_STYLE_MSGBOX,nume,stringg,"Close","");
    return 1;
}
cmd:setint(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,intid;
	if(sscanf(params, "ud", id,intid)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /setint <Nume/Playerid> <Interior ID>");
    if(!IsPlayerConnected(id) || id == INVALID_PLAYER_ID) return SCM(playerid,COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	SetPlayerInterior(id,intid),PlayerInfo[id][pInt] = intid,format(szGlobal, sizeof(szGlobal), "I-ai setat acelui player interior %d.", intid),SCM(playerid, -1, szGlobal);
	return 1;
}
cmd:setvw(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,vwid,string[50];
	if(sscanf(params, "ud", id,vwid)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /setvw <Nume/Playerid> <Virtual World>");
    if(IsPlayerConnected(id)) {
        if(id != INVALID_PLAYER_ID) {
			SetPlayerVirtualWorld(id,vwid);
			format(string, sizeof(string), "* I-ai setat acelui player virtual world %d.", vwid);
			SendClientMessage(playerid, COLOR_WHITE, string);
		}
	}
	else return SCM(playerid,COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:wthelp(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pWTalkie] == 0) return SCM(playerid, COLOR_GREY, "Nu ai o frecventa.");
	SCM(playerid,COLOR_WHITE,"Walkie Talkie: /togwt /setfreq /wt");
	return 1;
}
cmd:togwt(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pWTalkie] == 0) return SCM(playerid, COLOR_GREY, "Nu ai o frecventa.");
	if(WTToggle[playerid] == true) {
	    WTToggle[playerid] = false;
	    SCM(playerid, COLOR_WHITE,"Dezactivat.");
	}
	else {
	    WTToggle[playerid] = true;
	    SCM(playerid, COLOR_WHITE, "Activat.");
	}
	return 1;
}
cmd:freq(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid,COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,string[64];
    if(sscanf(params, "u",id)) return SCM(playerid, COLOR_SYNTAX, "Syntax: /freq <Nume/Playerid>");
    if(PlayerInfo[id][pWTalkie] == 0) return SCM(playerid, COLOR_GREY, "Acel player nu are Walkie Talkie.");
   	format(string, sizeof(string), "{B8FFDB}Frecventa %.1f.",WTChannel[id]);
    SCM(playerid, COLOR_WHITE, string);
    return 1;
}
cmd:setfreq(playerid, params[]) {
	new string[256];
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pWTalkie] == 0) return SCM(playerid, COLOR_GREY, "Nu ai o frecventa.");
	new Float:freqss2;
    if(sscanf(params, "f",freqss2)) return SCM(playerid, COLOR_SYNTAX, "Syntax: /setfreq <Frecventa(89.5 of 98.5)>");
    if(freqss2 < 89.5 || freqss2 > 98.5 ) return SCM(playerid, COLOR_SYNTAX, "Syntax: /setfreq <Frecventa(89.5 of 98.5)>");
	if(WTToggle[playerid] == false) return SCM(playerid, COLOR_GREY, "Statia ta este oprita.");
	if(freqss2 == WTChannel[playerid]) return SCM(playerid, COLOR_GREY, "Esti deja in aceasta frecventa.");
    format(string, sizeof(string), "{B8FFDB}Frecventa setata pe %.2f.",freqss2);
    SCM(playerid, COLOR_WHITE, string);
	WTChannel[playerid] = freqss2;
	return 1;
}
cmd:wt(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pWTalkie] == 0) return SCM(playerid, COLOR_GREY, "Nu ai o frecventa.");
	new msg[128],sendername[25],string[256];
    if(PlayerInfo[playerid][pMuted] == 1) {
		format(string, sizeof(string), "Nu poti scrie pe chat sau folosi comenzi deoarece ai mute timp de %d secunde.",PlayerInfo[playerid][pMuteTime]);
		SendClientMessage(playerid, COLOR_LIGHTRED, string);
		return 1;
	}
	if(sscanf(params, "s[128]", msg)) return SCM(playerid, COLOR_SYNTAX, "Syntax: /wt <Message>");
	if(WTToggle[playerid] == false) return SCM(playerid, COLOR_GREY, "Statia ta este oprita.");
	if(WTChannel[playerid] == 0) return SCM(playerid,COLOR_GREY, "Alege o frecventa.");
	GetPlayerName(playerid,sendername,sizeof(sendername));
	foreach(Player, i) {
	    if(WTToggle[i] == true) {
	        if(WTChannel[i] == WTChannel[playerid]) {
				format(string, sizeof(string), "{54BF9C}[Frecventa: %.2f]: %s: %s",WTChannel[playerid],sendername, msg);
				SCM(i, COLOR_WHITE, string);
	        }
	    }
	}
	return 1;
}
cmd:arrest(playerid, params[])  {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(!IsACop(playerid)) return SCM(playerid, COLOR_BZWHITE,"Eroare: Nu faci parte dintr-un departament.");
	if(OnDuty[playerid] == 0) return SCM(playerid, COLOR_LGREEN, "Nu poti folosi aceasta comanda deoarece nu esti la datorie!");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,string[186];
	if(sscanf(params, "u", id)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /arrest <Nume/Playerid>");
	if(!IsPlayerConnected(id) || id == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	if(PlayerToPoint(20.0, playerid, -1590.9265,708.6453,-5.2422) || PlayerToPoint(20.0, playerid, 1564.6182,-1693.1272,5.8906) || PlayerToPoint(20.0, playerid, 2281.6555,2429.8877,3.2734) ||
	PlayerToPoint(20.0, playerid, -1704.1233,1018.3301,17.5859)) {
		if(GetDistanceBetweenPlayers(playerid,id) > 10) return SendClientMessage(playerid,-1, "Acel player nu este langa tine.");
		if(PlayerInfo[id][pWantedLevel] < 1) return SendClientMessage(playerid, COLOR_GREY, "Acel player nu are wanted.");
		PlayerInfo[playerid][pCommands] ++;
		new rquery[256];
		format(rquery, sizeof(rquery), "UPDATE `users` SET `Commands2`='%d' WHERE `ID`='%d'", PlayerInfo[playerid][pCommands], PlayerInfo[playerid][pSQLID]);
		mysql_query(SQL, rquery);
		ClearCrime(id);
		format(string, sizeof(string), "* L-ai arestat pe %s si ai primit $%s.", GetName(id), FormatNumber(PlayerInfo[id][pWantedLevel]*350));
		SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
		GivePlayerCash(id, -PlayerInfo[id][pWantedLevel]*350);
		GivePlayerCash(playerid, PlayerInfo[id][pWantedLevel]*350);
		ResetPlayerWeapons(id);
		JailPrice[id] = 1000;
		PlayerInfo[id][pJailTime] = PlayerInfo[id][pWantedLevel] * 250;
		SetPlayerWantedLevel(id, 0);					
		format(string, sizeof(string), "Ai fost arestat pentru %d secunde.", PlayerInfo[id][pJailTime]);
		SendClientMessage(id, COLOR_LIGHTBLUE, string);
		PlayerInfo[id][pJailed] = 1;
		PlayerInfo[id][pArrested] += 1;					
		SetPlayerFree(id, playerid, "Got Arrested");
		WantedPoints[id] = 0;
		arrestcop[id] = playerid;
		Update(id,pJailedx);
		Update(id,pJailTimex);
		Update(playerid,pCashx);
		Update(id,pCashx);
		PutPlayerInJail(id);
		if(PlayerCuffed2[id] == 1) {
			PlayerCuffed2[id] = 0;
			SetPlayerSpecialAction(id,SPECIAL_ACTION_NONE);
			RemovePlayerAttachedObject(id,1);
			TogglePlayerControllable(id, 1);
		}
		format(string, sizeof(string), "%s arrested suspect %s, issuing a fine of $%d with a sentence of %d seconds.", GetName(playerid), GetName(id), PlayerInfo[id][pWantedLevel]*350, PlayerInfo[id][pJailTime]);
		SendClientMessageToAll(COLOR_LIGHTRED, string);
		PlayerInfo[id][pWantedLevel] = 0;
		Update(id,pWantedLevelx);		
	}
	else SendClientMessage(playerid, COLOR_GREY, "Nu esti in zona inchisorii.");
	return 1;
}
function PutPlayerInJail(playerid) {
	new rand = random(sizeof(JailPos));
	SetPlayerPosEx(playerid, JailPos[rand][0], JailPos[rand][1], JailPos[rand][2]);
	SetPlayerSkinEx(playerid, 62);
	TogglePlayerControllable(playerid, 0);
	SetPlayerInterior(playerid, 6);
	SetTimerEx("UnFreezeStation", 500, false, "i", playerid);	
	return 1;
}
cmd:veh(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new model[20],string[256],vw;
	if(sscanf(params, "s[20]", model)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /veh <Model ID/Name>");
	new Float:X,Float:Y,Float:Z;
	vw = GetPlayerVirtualWorld(playerid);
	GetPlayerPos(playerid, X,Y,Z);
	if(IsNumeric(model)) {
	    if(strval(model) < 400 || strval(model) > 611) return SCM(playerid, COLOR_BZWHITE, "Eroare: ID-ul vehiculului este invalid.");
	 	new carid = CreateVehicleEx(strval(model), X,Y,Z, 0.0, -1, -1, 100);
		Carspawn[carid] = carid;
	   	new vehicles = GetVehicleModel(carid) - 400;
		format(string, sizeof(string), "AdmCmd: %s a spawnat un %s [Model: %d - Car ID: %d]. Total: %d masini spawnate.",GetName(playerid),aVehicleNames[vehicles],model,carid,CountSpawnedCars());
		SendAdminMessage(COLOR_LOGS, string, 4);
		format(string,sizeof(string),"VehLog: %s has spawned car model %d.",GetName(playerid),model);
		Adminlog(string);
		LinkVehicleToInterior(carid, GetPlayerInterior(playerid));
		SetVehicleVirtualWorld(carid,vw);
		PutPlayerInVehicle(playerid,carid,0);
	}
	else {
	   	new modelid = GetModelIDFromName(model);
        if(modelid == -1) return SCM(playerid, COLOR_BZWHITE, "Eroare: Numele vehiculului este invalid.");
	 	new carid = CreateVehicleEx(modelid, X,Y,Z, 0.0, -1, -1, 100);
		Carspawn[carid] = carid;
	   	new vehicles = GetVehicleModel(carid) - 400;
		format(string, sizeof(string), "AdmCmd: %s a spawnat un %s [Model: %d - Car ID: %d]. Total: %d masini spawnate.",GetName(playerid),aVehicleNames[vehicles],modelid,carid,CountSpawnedCars());
		SendAdminMessage(COLOR_LOGS, string, 4);
		format(string,sizeof(string),"VehLog: %s has spawned car model %d.",GetName(playerid),model);
		Adminlog(string);
		LinkVehicleToInterior(carid, GetPlayerInterior(playerid));
		SetVehicleVirtualWorld(carid,vw);
		PutPlayerInVehicle(playerid,carid,0);
	}
	return 1;
}
cmd:vds(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	switch(Destroycar) {
		case 0: Destroycar = 1, SCM(playerid,COLOR_BZWHITE,"* Toate vehiculele spawnate prin /veh vor fi distruse cand vor exploda.");
		case 1: Destroycar = 0, SCM(playerid,COLOR_BZWHITE,"* Toate vehiculele spawnate prin /veh nu vor fi distruse cand vor exploda.");
	}
	return 1;
}
cmd:vre(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    new id,string[256];
	if(!IsPlayerInAnyVehicle(playerid)) {
		if(sscanf(params, "d", id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /vre <Vehicle ID>");
		if(Carspawn[id] != 0) {
		    DestroyVehicle(id);
			Carspawn[id] = 0;
			SetCameraBehindPlayer(playerid);
			format(string, 256, "AdmCmd: %s a despawnat masina cu id %d. Acum mai sunt %d masini spawnate.",GetName(playerid),id,CountSpawnedCars());
			SendAdminMessage(COLOR_LOGS, string, 4);
		}
		else return SendClientMessage(playerid, COLOR_GREY, "Aceasta masina nu este spawnata prin comanda /veh.");
	}
	else {
	    id = GetPlayerVehicleID(playerid);
		if(Carspawn[id] !=0) {
            DestroyVehicle(id);
			Carspawn[id] = 0;
			SetCameraBehindPlayer(playerid);
			format(string, 256, "AdmCmd: %s a despawnat masina cu id %d. Acum mai sunt %d masini spawnate.",GetName(playerid),id,CountSpawnedCars());
			SendAdminMessage(COLOR_LOGS, string, 4);
		}
	}
	return 1;
}
cmd:vehs(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	new string[70];
	if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(CountSpawnedCars() == 0) return SCM(playerid,COLOR_BZYELLOW,"Nu sunt masini spawnate prin /veh.");
	format(string,70,"Sunt %d masini spawnate prin comanda /veh.",CountSpawnedCars());
	SCM(playerid,COLOR_LOGS,string);
	return 1;
}
cmd:vreall(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(CountSpawnedCars() == 0) return SCM(playerid,COLOR_BZYELLOW,"Nu sunt masini spawnate prin /veh.");
    format(szGlobal,sizeof(szGlobal),"AdmCmd: %s a distrus toate vehiculele spawnate prin /veh (%d vehicule)",GetName(playerid),CountSpawnedCars());
	SendAdminMessage(COLOR_LOGS, szGlobal, 4);
	for(new i = 1; i < MAX_VEHICLES; i++) { if(Carspawn[i] != 0) DestroyVehicle(Carspawn[i]), Carspawn[i] = 0; }
	Destroycar = 0;
	return 1;
}
cmd:fly(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(IsPlayerConnected(playerid)) {
        if(IsPlayerInAnyVehicle(playerid)) {
            new Float:px, Float:py, Float:pz, Float:pa;
            new vehicleid = GetPlayerVehicleID(playerid);
            GetVehicleZAngle(vehicleid, pa);
            if(pa >= 0.0 && pa <= 22.5) //
			{
				GetVehiclePos(vehicleid, px, py, pz);
				SetVehiclePos(vehicleid, px, py+20, pz+15);
			}
			if(pa >= 332.5 && pa < 0.0) //n2
			{
				GetVehiclePos(vehicleid, px, py, pz);
				SetVehiclePos(vehicleid, px, py+10, pz+15);
			}
			if(pa >= 22.5 && pa <= 67.5) //nw
			{
				GetVehiclePos(vehicleid, px, py, pz);
				SetVehiclePos(vehicleid, px-10, py+10, pz+15);
			}
			if(pa >= 67.5 && pa <= 112.5) //w
			{
				GetVehiclePos(vehicleid, px, py, pz);
				SetVehiclePos(vehicleid, px-20, py, pz+15);
			}
			if(pa >= 112.5 && pa <= 157.5) //sw
			{
				GetVehiclePos(vehicleid, px, py, pz);
				SetVehiclePos(vehicleid, px-10, py-10, pz+15);
			}
			if(pa >= 157.5 && pa <= 202.5) //s
			{
				GetVehiclePos(vehicleid, px, py, pz);
				SetVehiclePos(vehicleid, px, py-20, pz+15);
			}
			if(pa >= 202.5 && pa <= 247.5)//se
			{
				GetVehiclePos(vehicleid, px, py, pz);
                SetVehiclePos(vehicleid, px, py-10, pz+15);
			}
			if(pa >= 247.5 && pa <= 292.5)//e
			{
				GetVehiclePos(vehicleid, px, py, pz);
                SetVehiclePos(vehicleid, px+20, py, pz+15);
			}
			if(pa >= 292.5 && pa <= 332.5)//e
			{
				GetVehiclePos(vehicleid, px, py, pz);
                SetVehiclePos(vehicleid, px+10, py+10, pz+15);
			}
        }
        else {
			new Float:px, Float:py, Float:pz, Float:pa;
            GetPlayerFacingAngle(playerid, pa);
            if(pa >= 0.0 && pa <= 22.5) //
			{
				GetPlayerPos(playerid, px, py, pz);
				SetPlayerPos(playerid, px, py+20, pz+15);
			}
			if(pa >= 332.5 && pa < 0.0) //n2
			{
				GetPlayerPos(playerid, px, py, pz);
				SetPlayerPos(playerid, px, py+10, pz+15);
			}
			if(pa >= 22.5 && pa <= 67.5) //nw
			{
				GetPlayerPos(playerid, px, py, pz);
				SetPlayerPos(playerid, px-10, py+10, pz+15);
			}
			if(pa >= 67.5 && pa <= 112.5) //w
			{
				GetPlayerPos(playerid, px, py, pz);
				SetPlayerPos(playerid, px-20, py, pz+15);
			}
			if(pa >= 112.5 && pa <= 157.5) //sw
			{
				GetPlayerPos(playerid, px, py, pz);
				SetPlayerPos(playerid, px-10, py-10, pz+15);
			}
			if(pa >= 157.5 && pa <= 202.5) //s
			{
				GetPlayerPos(playerid, px, py, pz);
				SetPlayerPos(playerid, px, py-20, pz+15);
			}
			if(pa >= 202.5 && pa <= 247.5)//se
			{
				GetPlayerPos(playerid, px, py, pz);
                SetPlayerPos(playerid, px, py-10, pz+15);
			}
			if(pa >= 247.5 && pa <= 292.5)//e
			{
				GetPlayerPos(playerid, px, py, pz);
                SetPlayerPos(playerid, px+20, py, pz+15);
			}
			if(pa >= 292.5 && pa <= 332.5)//e
			{
				GetPlayerPos(playerid, px, py, pz);
                SetPlayerPos(playerid, px+10, py+10, pz+15);
			}
		}
	}
	return 1;
}
cmd:flymode(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
	if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(IsPlayerInAnyVehicle(playerid)) {
		new Float: x, Float:y, Float:z;
		GetVehicleVelocity(GetPlayerVehicleID(playerid), x, y, z);		
		SetVehicleVelocity(GetPlayerVehicleID(playerid),x, y, z + 0.5);	
		return 1;
	}
	switch(UsedFly[playerid]) {
		case 0: StartFly(playerid), UsedFly[playerid] = 1, SetPlayerHealthEx(playerid, 999999);
		case 1: StopFly(playerid), UsedFly[playerid] = 0, SetPlayerHealthEx(playerid, 100);
	}
	return 1;
}
cmd:nos(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
    if(PlayerInfo[playerid][pAdmin] < 3) return SCM(playerid,COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(!IsPlayerInAnyVehicle(playerid)) return SCM(playerid, COLOR_BZWHITE, "Eroare: Trebuie sa fii intr-un vehicul.");
	if(IsPlayerInAnyVehicle(playerid)) {
	    new string[70];
	    format(string,sizeof(string), "Vehiculul %d a primit nitro.",GetPlayerVehicleID(playerid));
	    SCM(playerid,COLOR_BZWHITE,string);
		AddVehicleComponent(GetPlayerVehicleID(playerid), 1010);
	}
	return 1;
}
cmd:rob(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(PlayerInfo[playerid][pRob] < 10 && PlayerInfo[playerid][pPremiumAccount] == 0) return SendClientMessage(playerid, -1, "Nu ai suficiente puncte de jaf! (10).");
	else if(PlayerInfo[playerid][pRob] < 8 && PlayerInfo[playerid][pPremiumAccount] > 0) return SendClientMessage(playerid, -1, "Nu ai suficiente puncte de jaf! (Minim 8).");
	if(IsACop(playerid)) return SCM(playerid, COLOR_WHITE, "Nu poti folosi aceasta comanda deoarece esti intr-un departament!");
	if(PlayerInfo[playerid][pLevel] < 5) return SendClientMessage(playerid, COLOR_WHITE, "Trebuie sa ai level 5 pentru a utiliza aceasta comanda!");
	if(!PlayerToPoint(30, playerid,-297.0446, 1517.2533, 1070.4602)) return SendClientMessage(playerid, COLOR_WHITE, "Nu te afli langa seifuri!");
	if(Robbery[playerid] == 1) return SCM(playerid, COLOR_WHITE, "Ai jefuit banca deja!");
	GetPlayerPos(playerid, RobPos[0], RobPos[1], RobPos[2]);
	
	if(PlayerInfo[playerid][pPremiumAccount] == 0) PlayerInfo[playerid][pRob] -= 10;
	else PlayerInfo[playerid][pRob] -= 8;
	
	PlayerInfo[playerid][pWantedLevel] = 6;
	WantedPoints[playerid] = 12;
	SetPlayerCriminal(playerid,255, "Jefuirea unei banci.");
    Update(playerid,pWantedLevelx);	
	
	Robbery[playerid] = 1;
	WantedTime[playerid] = 0;
	RobbedSafe[playerid] = 0;
	Update(playerid,pRobx);
	Robbery[playerid] = 1;
	BagMoney[playerid] = 0;
	SetPlayerPosEx(playerid, RobPos[0]+1, RobPos[1]+1, RobPos[2]);
	PlayerObject[playerid] = CreateObject(1550, RobPos[0], RobPos[1], RobPos[2], 0.00000, 0.00000, 0.00000);
	new string[256];
	format(string, sizeof(string), "{FFFFFF}Informatii sac\nPropietar: {25B336}%s{FFFFFF}\nBani: {25B336}$%s", GetName(playerid), FormatNumber(BagMoney[playerid]));
	PlayerLabel[playerid] = CreateDynamic3DTextLabel(string,0xFFFFFFAA, RobPos[0], RobPos[1], RobPos[2], 100, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, -1, -1, -1, 10.0);
	SendClientMessage(playerid, COLOR_SERVER, "ROB Info: {FFFFFF}Tot ce trebuie sa faci acum, este sa folosesti comanda /robsafe in apropierea unui seif.");
	SendClientMessage(playerid, COLOR_SERVER, "ROB Info: {FFFFFF}Primesti sacul in spate atunci cand ai incarcat mai mult de $20.000 in el!");
	return 1;
}
cmd:robsafe(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(RobbedSafe[playerid] == 1) return 1;
	if(!PlayerToPoint(10, playerid,-297.0446, 1517.2533, 1070.4602)) return SendClientMessage(playerid, COLOR_WHITE, "Nu te afli langa seifuri!");
	RobbedSafe[playerid] = 1;
	ApplyAnimation(playerid,"BOMBER","BOM_Plant_Loop",4.0,1,0,0,1,0);
	SetTimerEx("RobbedMoney", 8000, 0, "d", playerid);
	return 1;
}	

cmd:depositmoney(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(Robbery[playerid] == 0) return 1;
	if(PlayerObject[playerid] != 0) {
	    if(PlayerToPoint(5.0, playerid, RobPos[0], RobPos[1], RobPos[2])) {
	        if(RobbedSafe[playerid] == 0) return 1;
			new string[256];
			DisablePlayerCheckpoint(playerid);
			if(BagMoney[playerid] >= 20000) {
				DestroyObject(PlayerObject[playerid]);
				DestroyDynamic3DTextLabel(PlayerLabel[playerid]);
				PlayerObject[playerid] = 0;
				CP[playerid] = 1612;
				SetPlayerCheckpointEx(playerid, 154.3787, -1942.6757, 3.8059, 10.0);
				SetPlayerAttachedObject(playerid, 2, 1550, 1, -0.004022, -0.191353, -0.034982, 158.161407, 87.838058, 0.000000, 1.000000, 1.000000, 1.000000 );
				SendClientMessage(playerid, COLOR_YELLOW, "* Du-te la checkpoint-ul de pe mapa pentru a reusi sa scapi cu banii!");
			}
			else {
				SendClientMessage(playerid, COLOR_WHITE, "* Continua sa pui bani in sac!");
			}
            RobbedSafe[playerid] = 0;
			format(string, sizeof(string), "{FFFFFF}Informatii sac\nPropietar: {25B336}%s{FFFFFF}\nBani: {25B336}$%s", GetName(playerid), FormatNumber(BagMoney[playerid]));
			UpdateDynamic3DTextLabelText(PlayerLabel[playerid], 0xFFFFFFAA, string);
	    }
	}
	return 1;
}
function RobbedMoney(playerid) {
	if(IsPlayerConnected(playerid)) {
		new string[256];
		new money = 4500 + random(500);
		BagMoney[playerid] += money;
		format(string, sizeof(string), "Ai luat $%d din acest seif! Foloseste comanda /depositmoney in apropierea sacului.", money);
		SendClientMessage(playerid, COLOR_MONEY, string);
		ClearAnimations(playerid);
	}
	return 1;
}
cmd:tod(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 5) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new hour,string[60],sendername[25];
	if(sscanf(params, "i", hour)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /tod <Time>");
    SetWorldTime(hour);
    GetPlayerName(playerid, sendername, sizeof(sendername));
	format(string, sizeof(string), "AdmCmd: %s a setat ora la %d.", sendername,hour);
	SendAdminMessage(COLOR_LOGS,string, 3);
	return 1;
}
cmd:healcar(playerid, params[]) {
	if(PlayerInfo[playerid][pAdmin] < 3) return SCM(playerid,COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(!IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu esti intr-un vehicul.");
	RepairVehicle(GetPlayerVehicleID(playerid));
	return 1;
}
cmd:weather(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 4) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,weather,sendername[25];
	if(sscanf(params, "ui",id,weather)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /weather <Nume/Playerid> <Weather ID>");
	if(weather < 0||weather > 45) return SendClientMessage(playerid, COLOR_GREY, "Invalid Weather (1-45).");
	if(IsPlayerConnected(id)) {
		if(id != INVALID_PLAYER_ID) {
            GetPlayerName(playerid, sendername, sizeof(sendername));
			SetPlayerWeather(id, weather);
		}
	}
	else return SCM(playerid,COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:weatherall(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 5) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new weather,string[60];
	if(sscanf(params, "i",weather)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /weatherall <Weather ID>");
	if(weather < 0||weather > 45) return SendClientMessage(playerid, COLOR_GREY, "Invalid Weather (1-45).");
	SetWeather(weather);
	format(string, sizeof(string), "AdmCmd: %s a setat vremea %d.", GetName(playerid),weather);
	SendAdminMessage(COLOR_LOGS,string, 4);
	return 1;
}

cmd:slap(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
	if (PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid,COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new string[64],id;
	if(sscanf(params, "u",id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /slap <Nume/Playerid>");
	new Float:shealth;
	new Float:slx, Float:sly, Float:slz;
    if(IsPlayerConnected(id)) {
		GetPlayerHealthEx(id, shealth);
		SetPlayerHealthEx(id, shealth-5);
		GetPlayerPos(id, slx, sly, slz);
		SetPlayerPosEx(id, slx, sly, slz+5);
        format(string, 256, "AdmCmd: %s l-a palmuit pe %s.", GetName(playerid),GetName(id));
		SendAdminMessage(COLOR_LOGS,string,1);
	}
	else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:setmoney(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 6) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new money,id,string[256];
	if(sscanf(params, "ui",id,money)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /setmoney <Nume/Playerid> <Amount>");
    if(IsPlayerConnected(id)) {
		ResetPlayerCash(id);
		GivePlayerCash(id, money);
        format(string, 256,"AdmCmd: %s i-a setat %s$ bani cash lui %s.",GetName(playerid),FormatNumber(money),GetName(id));
		SendAdminMessage(COLOR_LOGS,string,5);
		format(string,256,"Adminul %s ti-a setat banii cash in %s$.",GetName(playerid),FormatNumber(money));
		SCM(id,COLOR_BBLUE,string);
		format(string, 256, "AdmCmd: %s has set %s money to $%s.", GetName(playerid),GetName(id),FormatNumber(money));
		Adminlog(string);
		Update(id, pCashx);
	}
	else return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:setbank(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 6) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	new money,id,string[256];
	if(sscanf(params, "ui",id,money)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /setbank <Nume/Playerid> <Amount>");
    if(IsPlayerConnected(id)) {
		PlayerInfo[id][pAccount] = money;
        format(string, 256, "AdmCmd: %s i-a setat %s$ bani in banca lui %s.", GetName(playerid),FormatNumber(money),GetName(id));
		SendAdminMessage(COLOR_LOGS,string,5);
		format(string,256,"Adminul %s ti-a setat banii din banca in %s$.",GetName(playerid),FormatNumber(money));
		SCM(id,COLOR_BBLUE,string);
		format(string, 256, "AdmCmd: %s has set %s bank money to $%s.", GetName(playerid),GetName(id),FormatNumber(money));
		Adminlog(string);
		Update(id, pBank);
	}
	else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:givemoney(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new money,id,string[256];
	if(sscanf(params, "ui",id,money)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /givemoney <Nume/Playerid> <Amount>");
    if(IsPlayerConnected(id)) {
		GivePlayerCash(id, money);
		format(string, 256, "AdmCmd: %s i-a trimis %s$ bani cash lui %s.", GetName(playerid),FormatNumber(money),GetName(id));
		SendAdminMessage(COLOR_LOGS,string,5);
		format(string,256,"Adminul %s ti-a trimis %s$ bani cash.",GetName(playerid),FormatNumber(money));
		SCM(id,COLOR_BBLUE,string);
		format(string, 256, "AdmCmd: %s has send money $%s to %s.", GetName(playerid),FormatNumber(money),GetName(id));
		Adminlog(string);
		Update(id, pCashx);
	}
	else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:givebank(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 5) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	new money,id,string[256];
	if(sscanf(params, "ui",id,money)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /givebank <Nume/Playerid> <Amount>");
    if(IsPlayerConnected(id)) {
		PlayerInfo[id][pAccount] += money;
		Update(id, pBank);
        format(string, 256, "AdmCmd: %s i-a trimis %s$ bani in banca lui %s.", GetName(playerid),FormatNumber(money),GetName(id));
		SendAdminMessage(COLOR_LOGS,string,5);
		format(string,256,"Adminul %s ti-a trimis %s$ bani in banca.",GetName(playerid),FormatNumber(money));
		SCM(id,COLOR_BBLUE,string);
		format(string, 256, "AdmCmd: %s has send bank money $%s to %s.", GetName(playerid),FormatNumber(money),GetName(id));
		Adminlog(string);
	}
	else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:givelevel(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 5) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new money,id,string[256];
	if(sscanf(params, "ui",id,money)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /givelevel <Nume/Playerid> <Level>");
	new year, month,day;
	getdate(year, month, day);
    if(IsPlayerConnected(id)) {
		PlayerInfo[id][pLevel] += money;
		format(string, 256, "AdmCmd: %s i-a dat %d nivele lui %s.", GetName(playerid),money,GetName(id));
		SendAdminMessage(COLOR_LOGS,string,5);
		format(string,sizeof(string),"Adminul %s ti-a dat %d nivele.",GetName(playerid),money);
		SCM(id,COLOR_BBLUE,string);
		Update(id, pLevelx);
		SetPlayerScore(id, PlayerInfo[id][pLevel]);
	}
	else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:setlevel(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 6) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new money,id,string[256];
	if(sscanf(params, "ui",id,money)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /setlevel <Nume/Playerid> <Level>");
	new year, month,day;
	getdate(year, month, day);
    if(IsPlayerConnected(id)) {
		PlayerInfo[id][pLevel] = money;
		format(string, 256, "AdmCmd: %s i-a setat lui %s nivelul %d.", GetName(playerid),GetName(id),money);
		SendAdminMessage(COLOR_LOGS,string,5);
		format(string,256,"Adminul %s ti-a setat nivelul in %d.",GetName(playerid),money);
		SCM(id,COLOR_BBLUE,string);
		Update(id, pLevelx);
		SetPlayerScore(id, PlayerInfo[id][pLevel]);
	}
	else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:giverp(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 5) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new money,id,string[256];
	if(sscanf(params, "ui",id,money)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /giverp <Nume/Playerid> <Respect Points>");
	new year, month,day;
	getdate(year, month, day);
    if(IsPlayerConnected(id)) {
		PlayerInfo[id][pExp] += money;
		format(string, 256, "AdmCmd: %s i-a trimis %d RP-uri lui %s.", GetName(playerid),money,GetName(id));
		SendAdminMessage(COLOR_LOGS,string,5);
		format(string,sizeof(string),"Adminul %s ti-a oferit %d Respect Points.",GetName(playerid),money);
		SCM(id,COLOR_BBLUE,string);
		Update(id, pRP);
	}
	else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:givepp(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 6) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new money,id,string[256];
	if(sscanf(params, "ui",id,money)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /givepp <Nume/Playerid> <Amount>");
    if(IsPlayerConnected(id)) {
		PlayerInfo[id][pPremiumPoints] += money;
		format(string, 256, "AdmCmd: %s i-a trimis %s puncte premium lui %s.", GetName(playerid),FormatNumber(money),GetName(id));
		SendAdminMessage(COLOR_LOGS,string,5);
		PlayerInfo[id][pTotalGold] += money;
		format(string, sizeof(string), "Adminul %s ti-a oferit %d Puncte Premium.", GetName(playerid), money);
		SCM(id, COLOR_BBLUE, string);
		format(string, 256, "AdmCmd: %s has send %s premium points to %s.", GetName(playerid),FormatNumber(money),GetName(id));
		Adminlog(string);
		UpdateVar(id, "TotalGold", PlayerInfo[id][pTotalGold]);
		Update(id, pPremiumPointsx);
	}
	else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	return 1;
}
cmd:mute(playerid, params[]) {
    if(IsPlayerConnected(playerid)) {
		if (PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
		if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		new time,id,string[256],reason[250],str[256];
		if(sscanf(params, "uis[250]",id,time,reason)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /mute <Nume/Playerid> <Time(Minutes)> <Reason>");
	    if(IsPlayerConnected(id)) {
			PlayerInfo[id][pMuted] = 1;
			PlayerInfo[id][pMuteTime] = time*60;
			format(string, sizeof(string), "AdmCmd: %s a primit mute de la %s pentru %d minute, motiv: %s.", GetName(id), GetName(playerid),time, reason);
			SendClientMessageToAll(COLOR_LIGHTRED, string);
			format(string, sizeof(string), "* Ai primit mute de la %s pentru %d minute, motiv: %s.", GetName(playerid),time,reason);
			SendClientMessage(id, COLOR_WARNING, string);
			format(str,sizeof(str),"UPDATE users SET `Muted`='1',`MuteTime`='%d' WHERE `ID`='%d'",PlayerInfo[id][pMuteTime], PlayerInfo[id][pSQLID]);
			mysql_query(SQL,str);
			Mutelog(PlayerInfo[id][pSQLID],PlayerInfo[playerid][pSQLID],reason,time);
		}
    	else return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	return 1;
}
cmd:unmute(playerid, params[]) {
    if(IsPlayerConnected(playerid)) {
		if (PlayerInfo[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
		if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		new id,string[256];
		if(sscanf(params, "u",id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /unmute <Nume/Playerid>");
	    if(IsPlayerConnected(id)) {
	    	PlayerInfo[id][pMuted] = 0;
			PlayerInfo[id][pMuteTime] = 0;
			format(string, sizeof(string), "* Ai primit unmute de la %s.", GetName(playerid));
			SendClientMessage(id, COLOR_LIGHTRED, string);
			format(string, sizeof(string), "AdmCmd: %s i-a dat unmute lui %s.", GetName(playerid),GetName(id));
			SendAdminMessage(COLOR_LOGS,string,3);
			new string2[184];
		    format(string2, sizeof(string2), "UPDATE users SET `Muted`='0',`MuteTime`='0' WHERE `ID`='%d'",PlayerInfo[id][pSQLID]);
			mysql_query(SQL,string2);
		}
    	else return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	return 1;
}
cmd:mutedplayers(playerid, params[])
{
    if(IsPlayerConnected(playerid))
   	{
		if(PlayerInfo[playerid][pAdmin] >= 1)
		{
		    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	        new count = 0,string[250],giveplayer[25];
			SendClientMessage(playerid, COLOR_WHITE, "{ADFF5C}|___Playeri cu mute___|");
		    foreach(Player,i)
			{
				if(IsPlayerConnected(i))
				{
				    if(PlayerInfo[i][pMuted] == 1)
		  		  {
					    GetPlayerName(i, giveplayer, sizeof(giveplayer));
				        format(string, sizeof(string), "%s(%d) - Timp: %d.",giveplayer,i,PlayerInfo[i][pMuteTime]);
						SendClientMessage(playerid,COLOR_WHITE,string);
						count++;
					}
				}
			}
			if(count == 0)
			{
	    		SendClientMessage(playerid,COLOR_LIGHTRED,"* Currently no muted players online.");
			}
	    	else if(count == 1)
  	    	{
		    	SendClientMessage(playerid,COLOR_LIGHTRED,"* Now are 1 muted player online.");
	    	}
	    	else if (count >= 2)
	    	{
		    	format(string, sizeof(string), "* Now are %d muted players online.", count);
		        SCM(playerid, COLOR_LIGHTRED, string);
	    	}
	 }
	    else
	    {
           SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	    }
	}
	return 1;
}
cmd:jaillist(playerid, params[])
{
    if(IsPlayerConnected(playerid))
   	{
		if(PlayerInfo[playerid][pAdmin] >= 1)
		{
            if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	        new count = 0,string[250],giveplayer[25];
			SendClientMessage(playerid, COLOR_WHITE, "{ADFF5C}|___Playeri in inchisoare___|");
		    foreach(Player,i)
			{
				if(IsPlayerConnected(i))
				{
				    if(PlayerInfo[i][pJailed] >= 1)
		  		  {
					    GetPlayerName(i, giveplayer, sizeof(giveplayer));
				        format(string, sizeof(string), "%s(%d) - Timp: [%d]",giveplayer,i,PlayerInfo[i][pJailTime]);
						SendClientMessage(playerid,COLOR_WHITE,string);
						count++;
					}
				}
			}
			if(count == 0)
			{
	    		SendClientMessage(playerid,COLOR_LIGHTRED,"* Nu este nimeni in inchisoare.");
			}
	    	else if(count == 1)
  	    	{
		    	SendClientMessage(playerid,COLOR_LIGHTRED,"* Este un player in inchisoare.");
	    	}
	    	else if (count >= 2)
	    	{
		    	format(string, sizeof(string), "* Acum, sunt %d playeri in inchisoare.", count);
		        SCM(playerid, COLOR_LIGHTRED, string);
	    	}
		}
	    else
	    {
           SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	    }
	}
	return 1;
}
/*cmd:exam(playerid, params[])
{
    if(PlayerToPoint(5.0,playerid,1602.4291,-2177.7148,13.5547))
    {
	    if(GetPlayerCash(playerid) >= 1500)
    	{
	        if(PlayerInfo[playerid][pCarLic] == 0)
     	   {
		        if(TakingLesson[playerid] == 0)
     	   	{
					DMVCar[playerid] = CreateVehicleEx(410,1612.8993,-2192.2424,13.1021,89.9021, -1, -1, -1);
					PutPlayerInVehicle(playerid, DMVCar[playerid], 0);
				    TakingLesson[playerid] = 1;
				    new sendername[25];
				    GetPlayerName(playerid, sendername, sizeof(sendername));
					Update(playerid, pCashx);
				    new str[256];
				    format(str, 256, "~y~Driving License~w~~h~~n~Checkpoints: 0/30");
				    PlayerTextDrawSetString(playerid, InfosTD, str);
				    PlayerTextDrawShow(playerid, InfosTD);
				   	new engine,lights,alarm,bonnet,boot,objective;
					SetVehicleParamsEx(GetPlayerVehicleID(playerid),engine,lights,alarm,1,bonnet,boot,objective);
				}
		        else return SendClientMessage(playerid, COLOR_YELLOW2, "Ai deja un test.");
   	        }
   	        else return SendClientMessage(playerid, COLOR_YELLOW2, "Ai deja permisul de conducere.");
   	    }
   	    else return SendClientMessage(playerid, COLOR_YELLOW2, "Nu ai 1,500$.");
    }
   	else return SendClientMessage(playerid, COLOR_YELLOW2, "Nu esti langa DMV.");
	return 1;
}*/
cmd:exam(playerid,params[]) {
	new query[200];
    if(!PlayerToPoint(5.0,playerid,1602.4291,-2177.7148,13.5547)) return SCM(playerid,COLOR_BZYELLOW,"Nu esti la DMV.");
    if(GetPlayerCash(playerid) < 1500) return SCM(playerid,COLOR_BZYELLOW,"Nu ai 1.500$.");
    if(PlayerInfo[playerid][pCarLic] == 1) return SCM(playerid,COLOR_BZYELLOW,"Ai deja licenta de condus.");
    GivePlayerCash(playerid, -1500);
	Update(playerid,pCashx);
	PlayerInfo[playerid][pCarLic] = 1;
	Update(playerid,pCarLicx);
	PlayerInfo[playerid][pCarLicT] = 100;
	Update(playerid,pCarLicTx);
    ShowPlayerDialog(playerid,0,DIALOG_STYLE_MSGBOX,"Congrulations","Ai obtiunit licenta de condus. Aceasta este valabila timp de 100 ore.\nTe sfatuim sa circuli cu prudenta pentru a evita confiscarea acesteia.","Close","");
	if(PlayerInfo[playerid][pTut] == 2) {
        ShowPlayerDialog(playerid,0,DIALOG_STYLE_MSGBOX,"Tutorial 2","Felicitari pentru parcurgerea primului tutorial.\nDaca ai probleme in joc poti contacta un helper(/n) sau un admin(/report) pentru a te ajuta\nAi primit o Manana, aceasta este o masina ta de tutorial.\nIti uram un joc placut pe server.","Done","");
        PlayerInfo[playerid][pTut] = 1;
        GiveVehicle(playerid, 410);
        mysql_format(SQL,query,sizeof(query),"UPDATE users SET Tutorial='1' WHERE name='%s'",GetName(playerid));
        mysql_tquery(SQL,query,"","");
	}
	return 1;
}
cmd:smoke(playerid, params[])
{
    if(IsPlayerConnected(playerid))
    {
        if(IsSmoking[playerid] == 0)
        {
			new sendername[25];
            if(PlayerInfo[playerid][pCigarettes] == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu ai o tigara.");
			if(IsPlayerInAnyVehicle(playerid)) return SCM(playerid,COLOR_GREY, "Nu poti folosi comanda in vehicule.");
			new randsmoke = random(2)+1;
			if(randsmoke == 1)
			{
			    PlayerInfo[playerid][pLighter] -= 1;
			    PlayerInfo[playerid][pCigarettes] -= 1;
			    GetPlayerName(playerid, sendername, sizeof(sendername));
			    IsSmoking[playerid] = 60;
			    SetPlayerSpecialAction(playerid,SPECIAL_ACTION_SMOKE_CIGGY);
			    return 1;
			}
			else
			{
			    PlayerInfo[playerid][pLighter] -= 1;
			    GetPlayerName(playerid, sendername, sizeof(sendername));
			    return 1;
			}
		}
		else
		{
		    SendClientMessage(playerid, COLOR_GREY, "Fumezi deja.");
		    return 1;
	 }
	}
	return 1;
}


stock ShowGunTextdraws(playerid) {
	PlayerTextDrawShow(playerid, BGunTD[0]);
	//PlayerTextDrawShow(playerid, BGunTD[1]);
	PlayerTextDrawShow(playerid, BGunTD[2]);
	PlayerTextDrawShow(playerid, BGunTD[3]);
	PlayerTextDrawShow(playerid, BGunTD[4]);
	PlayerTextDrawShow(playerid, BGunTD[5]);
	PlayerTextDrawShow(playerid, BGunTD[6]);
	PlayerTextDrawShow(playerid, BGunTD[7]);
	PlayerTextDrawShow(playerid, BGunTD[8]);
	SelectTextDraw(playerid, 0x0088FFFF);
	return 1;
}

stock HideGunTextdraws(playerid) {
	PlayerTextDrawHide(playerid, BGunTD[0]);
	PlayerTextDrawHide(playerid, BGunTD[1]);
	PlayerTextDrawHide(playerid, BGunTD[2]);
	PlayerTextDrawHide(playerid, BGunTD[3]);
	PlayerTextDrawHide(playerid, BGunTD[4]);
	PlayerTextDrawHide(playerid, BGunTD[5]);
	PlayerTextDrawHide(playerid, BGunTD[6]);
	PlayerTextDrawHide(playerid, BGunTD[7]);
	PlayerTextDrawHide(playerid, BGunTD[8]);
	CancelSelectTextDraw(playerid);
	SetCameraBehindPlayer(playerid);
	return 1;
}



cmd:buygun(playerid, params[])
{
	if(PlayerInfo[playerid][pGunLic] == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu ai licenta de arme.");
	if(GetPlayerCash(playerid) < 1) return SendClientMessage(playerid, COLOR_GREY, "You dont have enough money with you.");
	if(IsPlayerInRangeOfPoint(playerid, 2.0, 314.2594,-133.4281,999.6016))
	{
		ShowGunTextdraws(playerid);
		SetPlayerCameraPos(playerid, 312.1744, -131.7600, 1002.2218);
		SetPlayerCameraLookAt(playerid, 313.0621, -132.2170, 1001.4126);
		BuyGunS[playerid] = 0;
		new string[256],wname[64];
		GetWeaponName(BuyGunD[BuyGunS[playerid]][0], wname, sizeof(wname));		
		format(string, sizeof(string), "%s~n~~g~$%d", wname, BuyGunD[BuyGunS[playerid]][2]);
		PlayerTextDrawSetString(playerid, BGunTD[0], string);
		PlayerTextDrawShow(playerid, BGunTD[0]);
		
		DestroyPlayerObject(playerid, GunObject[playerid]);
		GunObject[playerid] = CreatePlayerObject(playerid, BuyGunD[BuyGunS[playerid]][1], 315.09949, -133.58640, 999.68811,   90.00000, 0.00000, 90.90000);			
	}
	return 1;
}
cmd:buy(playerid, params[])
{
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(IsPlayerInRangeOfPoint(playerid,100.0,6.1884,-28.4153,1003.5494) || IsPlayerInRangeOfPoint(playerid,100.0,-30.6147,-89.6600,1003.5469) || IsPlayerInRangeOfPoint(playerid,100.0,-26.0890,-185.8300,1003.5469) || IsPlayerInRangeOfPoint(playerid,100.0,-27.3123,-29.2776,1003.5573) || IsPlayerInRangeOfPoint(playerid,100.0,-25.1326,-139.0670,1003.5469)) {
		if(GetPlayerInterior(playerid) == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu esti in magazin.");
	 	ShowPlayerDialog(playerid,DIALOG_BUY,DIALOG_STYLE_LIST,"Buy:","Telefon ($500)\nDice ($2,000)\nStatie Radio ($3,000)\nBricheta ($500)\nTigari ($1,500)\nCanistra ($1,000)\nGPS Vehicul ($1,000)", "Ok", "Cancel"); 
	    return 1;
    }
    else SendClientMessage(playerid, COLOR_GREY, "Nu esti in magazin.");
    return 1;
}
cmd:checkgun(playerid, params[])
{
 	if(IsPlayerConnected(playerid))
    {
		if (PlayerInfo[playerid][pAdmin] >= 1)
		{
		    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
			new id,string[128],sendername[25];
			if(sscanf(params, "u",id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /checkgun <Nume/Playerid>");
            new Player_Weapons[13];
            new Player_Ammos[13];
            new i;
			if(IsPlayerConnected(id))
			{
                for(i = 1;i <= 12;i++)
                {
                    GetPlayerWeaponData(id,i,Player_Weapons[i],Player_Ammos[i]);
                    if(Player_Weapons[i] != 0)
                    {
                        new weaponName[256];
                        GetPlayerName(id, sendername, sizeof(sendername));
                        GetWeaponName(Player_Weapons[i],weaponName,255);
                        format(string,255,"{B8DBFF}* %s , Arma:{FFFFFF} %s {B8DBFF}, Gloante:{FFFFFF} %d",sendername,weaponName,Player_Ammos[i]);
                        SendClientMessage(playerid,0xFFFFFF99,string);
                    }
                    else return SCM(playerid,COLOR_GREY,"Acel jucator nu are o arma.");
				}
			}
			else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
		else return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	}
	return 1;
}

cmd:eject(playerid, params[])
{
    if(IsPlayerConnected(playerid))
   	{
        new State;
        if(IsPlayerInAnyVehicle(playerid))
        {
			new id,string[128],giveplayer[25];
		 	State=GetPlayerState(playerid);
	        if(State!=PLAYER_STATE_DRIVER) return SendClientMessage(playerid,COLOR_GREY, "You can only eject people as the driver.");
			if(sscanf(params, "u",id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /eject <Nume/Playerid>");
			new test;
			test = GetPlayerVehicleID(playerid);
			if(IsPlayerConnected(id))
			{
			    if(id != INVALID_PLAYER_ID)
	  		  {
					if(PlayerTied[id] > 0) return SendClientMessage(playerid, COLOR_GREY, "Player have tie.");
			        if(id == playerid) return SendClientMessage(playerid, COLOR_GREY, "You cannot eject yourself.");
			        if(IsPlayerInVehicle(id,test))
	    		    {
						new PName[MAX_PLAYER_NAME];
						GetPlayerName(playerid,PName,sizeof(PName));
						GetPlayerName(id, giveplayer, sizeof(giveplayer));
						format(string, sizeof(string), "* L-ai dat pe %s afara din vehicul!", giveplayer);
						SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
						format(string, sizeof(string), "* Ai fost dat afara din vehicul de %s !", PName);
						SendClientMessage(id, COLOR_LIGHTBLUE, string);
						RemovePlayerFromVehicleEx(id);
						return 1;
					}
					else
					{
					    SendClientMessage(playerid, COLOR_GREY, "Nu este in vehiculul tau.");
					    return 1;
					}
				}
			}
			else
			{
				SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
			}
		}
		else
		{
		    SendClientMessage(playerid, COLOR_GREY, "Trebuie sa fii intr-un vehicul pentru a folosi aceasta comanda.");
		}
	}
	return 1;
}
cmd:tie(playerid, params[])
{
    if(IsPlayerConnected(playerid))
    {
		if(IsAMember(playerid))
		{
		    if(PlayerInfo[playerid][pRank] < 3) return SCM(playerid,COLOR_BZWHITE,"Pentru a folosi aceasta comanda ai nevoie de Rang 3+.");
		    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		    new id,string[128],sendername[25],giveplayer[25];
			if(sscanf(params, "u",id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /tie <Nume/Playerid>");
		    if(IsPlayerConnected(id))
			{
			    if(id != INVALID_PLAYER_ID)
	  	  	{
				    if(PlayerTied[id] > 0) return SendClientMessage(playerid, COLOR_GREY, "Player already tied.");
					if (ProxDetectorS(8.0, playerid, id))
					{
					    new car = GetPlayerVehicleID(playerid);
					    if(id == playerid) return SendClientMessage(playerid, COLOR_GREY, "You cannot tie yourself.");
					    if(IsPlayerInAnyVehicle(playerid) && GetPlayerState(playerid) == 2 && IsPlayerInVehicle(id, car))
	    				{
					        GetPlayerName(id, giveplayer, sizeof(giveplayer));
							GetPlayerName(playerid, sendername, sizeof(sendername));
					        format(string, sizeof(string), "* Ai fost legat de %s.", sendername);
							SendClientMessage(id, COLOR_LIGHTBLUE, string);
							format(string, sizeof(string), "* L-ai legat pe %s.", giveplayer);
							SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
							format(string, sizeof(string), "* %s l-a legat pe %s.", sendername ,giveplayer);
							ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
							TogglePlayerControllable(id, 0);
							PlayerTied[id] = 1;
					    }
					    else
					    {
					        SendClientMessage(playerid, COLOR_GREY, "Nu este in vehiculul tau sau nu esti soferul.");
					        return 1;
					    }
					}
					else
					{
					    SendClientMessage(playerid, COLOR_YELLOW2, "Nu este vreun player langa tine.");
					    return 1;
					}
				}
			}
			else
			{
			    SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
			    return 1;
			}
		}
		else
		{
			SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte dintr-un gang.");
		}
	}
	return 1;
}
cmd:untie(playerid, params[])
{
    if(IsPlayerConnected(playerid))
    {
		if(IsAMember(playerid) || IsACop(playerid))
		{
		    if(PlayerInfo[playerid][pRank] < 3 && IsAMember(playerid)) return SCM(playerid,COLOR_BZWHITE,"Pentru a folosi aceasta comanda ai nevoie de Rang 3+.");
		    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
			new id,string[128],giveplayer[25],sendername[25];
			if(sscanf(params, "u",id)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /untie <Nume/Playerid>");
			if(IsPlayerConnected(id))
			{
				if(id != INVALID_PLAYER_ID)
				{
				    if (ProxDetectorS(8.0, playerid, id))
					{
					    if(id == playerid) return SendClientMessage(playerid, COLOR_GREY, "You cannot untie yourself!");
						if(PlayerTied[id])
						{
						    GetPlayerName(id, giveplayer, sizeof(giveplayer));
							GetPlayerName(playerid, sendername, sizeof(sendername));
					        format(string, sizeof(string), "* Ai fost dezlegat de %s.", sendername);
							SendClientMessage(id, COLOR_LIGHTBLUE, string);
							format(string, sizeof(string), "* L-ai dezlegat pe %s.", giveplayer);
							SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
							format(string, sizeof(string), "* %s l-a dezlegat pe %s.", sendername ,giveplayer);
							ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
							TogglePlayerControllable(id, 1);
							PlayerTied[id] = 0;
						}
						else
						{
						    SendClientMessage(playerid, COLOR_GREY, "Nu este legat.");
						    return 1;
						}
					}
					else
					{
					    SendClientMessage(playerid, COLOR_YELLOW2, "Nu este vreun player langa tine.");
					    return 1;
					}
				}
			}
			else
			{
			    SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
			    return 1;
			}
		}
		else
		{
			SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte dintr-un gang.");
		}
	}
	return 1;
}
cmd:cc(playerid, params[])
{
    if(IsPlayerConnected(playerid))
	{
		if(PlayerInfo[playerid][pAdmin] >= 1)
		{
		    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
			for( new j = 0; j <= 500; j++)
			{
				SendClientMessageToAll(COLOR_WHITE, "");
			}
			new sendername[25],string[100];
			GetPlayerName(playerid,sendername,sizeof(sendername));
			format(string,sizeof(string),"AdmCmd: %s a sters chatul.",sendername);
			SendAdminMessage(COLOR_LOGS,string,1);
			return 1;
		}
		else return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	}
	return 1;
}

cmd:wisper(playerid, params[])
{
    if(IsPlayerConnected(playerid))
    {
		new string[128],id,mess[250],giveplayer[25],sendername[25];
        if(PlayerInfo[playerid][pLevel] < 2) return SendClientMessage(playerid, COLOR_GREY, "You must be level 2 to use /w(isper).");
        if(PlayerInfo[playerid][pMuted] == 1)
        {
			format(string, sizeof(string), "Nu poti scrie pe chat sau folosi comenzi deoarece ai mute timp de %d secunde.",PlayerInfo[playerid][pMuteTime]);
			SendClientMessage(playerid, COLOR_LIGHTRED, string);
			return 1;
		}
		if(sscanf(params, "us[250]",id,mess)) return SCM(playerid, COLOR_SYNTAX, "Syntax: /w <Nume/Playerid> <Message>");
		if (IsPlayerConnected(id))
		{
		    if(id != INVALID_PLAYER_ID)
	 	   {
				if(GetDistanceBetweenPlayers(playerid,id) > 5) return SCM(playerid,COLOR_YELLOW2, "Acel player nu este langa tine.");
				if(Spectate[id] != 255) return SCM(playerid,COLOR_YELLOW2, "Acel player nu este langa tine.");
			    if(HidePM[id] > 0) return 1;
				if(id == playerid) return 1;
				GetPlayerName(playerid, sendername, sizeof(sendername));
				GetPlayerName(id, giveplayer, sizeof(giveplayer));
				format(string, sizeof(string), "%s sopteste: %s", sendername, mess);
				SendClientMessage(id, COLOR_YELLOW, string);
				format(string, sizeof(string), "Soapta lui %s: %s", giveplayer, mess);
				SendClientMessage(playerid,  COLOR_YELLOW, string);
				return 1;
			}
		}
		else
		{
			SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
	}
	return 1;
}
alias:wisper("w");
stock GetNeedPointsR(playerid) {
	new points;
	new x = PlayerInfo[playerid][pMember];
	switch(PlayerInfo[playerid][pRank]) {
	    case 1: points = FactionInfo[x][fRank1];
	    case 2: points = FactionInfo[x][fRank2];
	    case 3: points = FactionInfo[x][fRank3];
	    case 4: points = FactionInfo[x][fRank4];
	    case 5: points = FactionInfo[x][fRank5];
	    case 6: points = FactionInfo[x][fRank6];
	}
	return points;
}

stock GetNeedPointsR2(rank, faction) {
	new points;
	new x = faction;
	switch(rank) {
	    case 1: points = FactionInfo[x][fRank1];
	    case 2: points = FactionInfo[x][fRank2];
	    case 3: points = FactionInfo[x][fRank3];
	    case 4: points = FactionInfo[x][fRank4];
	    case 5: points = FactionInfo[x][fRank5];
	    case 6: points = FactionInfo[x][fRank6];
	}
	return points;
}

stock GetNeedPoints2(playerid) {
	new points;
	new x = PlayerInfo[playerid][pMember];
	switch(PlayerInfo[playerid][pRank]) {
	    case 1: points = FactionInfo[x][fRank1];
	    case 2: points = FactionInfo[x][fRank2];
	    case 3: points = FactionInfo[x][fRank3];
	    case 4: points = FactionInfo[x][fRank4];
	    case 5: points = FactionInfo[x][fRank5];
	    case 6: points = FactionInfo[x][fRank6];
	}
	return points-PlayerInfo[playerid][pCommands];
}
cmd:makemember(playerid,params[]) {
	new id,fid,rank,string[200],str[200];
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(sscanf(params, "uii",id,fid,rank)) return SCM(playerid,COLOR_SYNTAX,"Syntax: /makemember <Nume/Playerid> <Faction ID> <Rank>");
	if(id == INVALID_PLAYER_ID) return SCM(playerid,COLOR_GREY,"Acel jucator nu este conectat.");
	if(fid < 1 || fid > serverfactions) return SCM(playerid,COLOR_GREY,"Invalid Faction ID(1-25)");
	if(rank < 1 || rank > 6) return SCM(playerid,COLOR_GREY,"Invalid rank(1-6)");
	PlayerInfo[id][pLeader] = 0;
	PlayerInfo[id][pMember] = fid;
	PlayerInfo[id][pRank] = rank;
	format(str,356,"UPDATE users SET `Leader`='0',`Member`='%d',`Rank`='%d' WHERE `ID`='%d'",PlayerInfo[id][pMember],PlayerInfo[id][pRank],PlayerInfo[id][pSQLID]);
	mysql_query(SQL,str);
	SetPlayerToTeamColor(id);
	format(string,200,"AdmCmd: %s l-a adaugat pe %s in factiuna %s (Rank: %d).",GetName(playerid),GetName(id),NumeFactiune(fid),rank);
	SendAdminMessage(COLOR_LOGS,string,4);
	format(string,200,"Adminul %s l-a adaugat pe %s in factiunea voastra (Rank: %d).",GetName(playerid),GetName(id),rank);
	SendTeamMessage(fid,COLOR_LIGHTBLUE1,string);
	format(string,200,"Adminul %s te-a adaugat in factiunea %s (Rank: %d).",GetName(playerid),NumeFactiune(fid),rank);
	SCM(id,COLOR_LIGHTBLUE,string);
	return 1;
}
cmd:trade(playerid, params[]) {
	new id, string[180];
	if(sscanf(params, "u", id)) return SCM(playerid, COLOR_GREY, "USAGE: {FFFFFF}/trade <playerid/name>");
	if(GetPlayerInterior(playerid) != 0 || IsPlayerInAnyVehicle(playerid)) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu poti face o afacere dintr-un interior sau vehicul!");
	if(GetDistanceBetweenPlayers(playerid,id) > 5) return SCM(playerid, COLOR_GREY, "Nu esti langa acel player");
	if(id == INVALID_PLAYER_ID) return SCM(playerid, COLOR_GREY, "Acel player nu este conectat.");
	if(PlayerInfo[id][pLevel] < 3 || PlayerInfo[playerid][pLevel] < 3) return SCM(playerid, COLOR_GREY, "Tu sau acel jucator nu aveti nivel peste 3!");
	if(TradePlayer[id] == playerid) return SCM(playerid, -1, "I-ai mai facut o oferta acestui jucator!");
	if(TradeID[playerid] != -1) return SCM(playerid, COLOR_WHITE, "Esti deja intr-o afacere!");
	if(playerid == id) return SCM(playerid, COLOR_GREY, "Nu poti executa aceasta comanda asupra ta!");
	TradePlayer[id] = playerid;
	format(string, sizeof(string), "* L-ai invitat pe %s (%d) pentru a face afaceri.", GetName(id), id);
	SCM(playerid, COLOR_LIGHTBLUE, string);
	format(string, sizeof(string), "* %s (%d) te-a invitat sa faceti afaceri. Foloseste (/accept trade %d) pentru a accepta invitatia.", GetName(playerid), playerid, playerid);
	SCM(id, COLOR_LIGHTBLUE, string);
	return 1;
}
cmd:speed(playerid, params[]) {
	if(PlayerInfo[playerid][pAdmin] < 6) return 1;
	if(EnableBoast[playerid] == 0) {
		EnableBoast[playerid] = 1;
		SCM(playerid, -1, "Speed boost: {128C14}Enable");
	}
	else {
		EnableBoast[playerid] = 0;
		SCM(playerid, -1, "Speed boost: {D60F0F}Disable");
	}
	return 1;
}
cmd:makeleader(playerid, params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] >= 4)
	{
	    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		new para1,level,string[256],giveplayer[25],sendername[25];
     	if(sscanf(params, "ui",para1,level)) {
    	    format(string,sizeof(string),"Syntax: /makeleader <Nume/Playerid> <Faction ID(0-%d)>",serverfactions);
	     	SCM(playerid, COLOR_SYNTAX, string);
			return 1;
		}
		if(level > serverfactions || level < 0) return SendClientMessage(playerid, COLOR_GREY, "Invalid FactionID(/fids).");
	    if(IsPlayerConnected(para1)) {
			if(PlayerInfo[para1][pAdmin] < 4) {
			    if(level != 0) {
		            if(PlayerInfo[para1][pMember] > 0 && PlayerInfo[para1][pLeader] > 0) return SendClientMessage(playerid,COLOR_GREY, "That player is in a faction.");
					GetPlayerName(para1, giveplayer, sizeof(giveplayer));
					GetPlayerName(playerid, sendername, sizeof(sendername));
					PlayerInfo[para1][pMember] = level;
					PlayerInfo[para1][pLeader] = level;
					format(string, sizeof(string), "Adminul %s te-a promovat ca lider al factiunii %s(%d).", GetName(playerid),DynamicFactions[level][fName],level);
					SendClientMessage(para1, COLOR_LIGHTBLUE, string);
					format(string,sizeof(string),"(( %s: Noul lider al factiunii %s este %s, felicitari! ))",GetName(playerid),DynamicFactions[level][fName],GetName(para1));
					SCMTA(COLOR_OOC,string);
					format(string,sizeof(string),"AdmCmd: %s l-a promovat pe %s ca lider al factiunii %s(%d).",GetName(playerid),GetName(para1),DynamicFactions[level][fName],level);
					SendAdminMessage(COLOR_LIGHTRED,string,1);
 					if(level == 0) { PlayerInfo[para1][pChar] = 250; }
					else if(level == 1) { PlayerInfo[para1][pChar] = 265; } //LSPD
					else if(level == 2) { PlayerInfo[para1][pChar] = 295; } //FBI
					else if(level == 3) { PlayerInfo[para1][pChar] = 179; } //National Guard
					else if(level == 4) { PlayerInfo[para1][pChar] = 270; } //GSB
					else if(level == 5) { PlayerInfo[para1][pChar] = 296; } //SP
					else if(level == 6) { PlayerInfo[para1][pChar] = 126; } //verdant
					else if(level == 7) { PlayerInfo[para1][pChar] = 228; } //Mayor
					else if(level == 8) { PlayerInfo[para1][pChar] = 268; } //Tow Car Company
					else if(level == 9) { PlayerInfo[para1][pChar] = 147; } //News Reporters
					else if(level == 10) { PlayerInfo[para1][pChar] = 113; } //TTB
                    else if(level == 11) { PlayerInfo[para1][pChar] = 294; } //Hitman Agency
                    else if(level == 12) { PlayerInfo[para1][pChar] = 171; } //LVSI
                    else if(level == 13) { PlayerInfo[para1][pChar] = 61; } //LSTaxi
                    else if(level == 14) { PlayerInfo[para1][pChar] = 228; } //Paramedic
                    else if(level == 15) { PlayerInfo[para1][pChar] = 265; } //LVPD
					else if(level == 16) { PlayerInfo[para1][pChar] = 61; } //SFTAXI
					else if(level == 17) { PlayerInfo[para1][pChar] = 61; } //LVTAXI
					else if(level == 18) { PlayerInfo[para1][pChar] = 171; } //LSSI
                    else if(level == 19) { PlayerInfo[para1][pChar] = 171; } //SFSI
                    else if(level == 20) { PlayerInfo[para1][pChar] = 120; } //RDT
                    else if(level == 21) { PlayerInfo[para1][pChar] = 223; } //VTB
                    else if(level == 22) { PlayerInfo[para1][pChar] = 46; } //69PM
                    else if(level == 23) { PlayerInfo[para1][pChar] = 3; } //Avispa
                    else if(level == 24) { PlayerInfo[para1][pChar] = 292; } //ELC
                    else if(level == 25) { PlayerInfo[para1][pChar] = 265; } //SFPD
				    SetPlayerSkinEx(para1, PlayerInfo[para1][pChar]);
                    PlayerInfo[para1][pRank] = 7;
					new str[356];
					format(str,356,"UPDATE users SET `Leader`='%d',`Member`='%d',`Rank`='7',`CChar`='%d' WHERE `ID`='%d'",PlayerInfo[para1][pLeader],PlayerInfo[para1][pMember],PlayerInfo[para1][pChar],PlayerInfo[para1][pSQLID]);
					mysql_query(SQL,str);
					SetPlayerToTeamColor(para1);
					Iter_Add(Leaders, para1);
				}
				if(level == 0) {
				    new str[256];
					mysql_query(SQL,str);
					PlayerInfo[para1][pMember]=0;
		            PlayerInfo[para1][pLeader]=0;
		            PlayerInfo[para1][pRank] = 0;
					PlayerInfo[para1][pChar] = 25;
					PlayerInfo[para1][pFACWarns] = 0;
					PlayerInfo[para1][pFpunish] = 0;
					PlayerInfo[para1][pALeader] = 0;
					OnDuty[para1] = 0;
					tazer[para1] = 0;
					SetPlayerArmourEx(para1, 0);
					SetPlayerSkinEx(para1,PlayerInfo[para1][pModel]);
					SpawnPlayer(para1);
					format(str,sizeof(str),"UPDATE users SET `Member`='0',`Leader`='0',`Rank`='0',`CChar`='0',`FWarn`='0',`FPunish`='0',`Team`='3',`ALeader`='0' WHERE `ID`='%d'",PlayerInfo[para1][pSQLID]);
					mysql_query(SQL,str);
					format(string,sizeof(string),"Adminul %s te-a dat afara din randul liderilor.",GetName(playerid));
					SendClientMessage(para1,COLOR_LIGHTBLUE,string);
					format(string,sizeof(string),"AdmCmd: %s l-a dat afara pe %s din randul liderilor.",GetName(playerid),GetName(para1));
					SendAdminMessage(COLOR_LIGHTRED,string,4);
					format(string,sizeof(string),"Adminul %s l-a dat afara pe %s din randul liderilor.",GetName(playerid),GetName(para1));
					SendLeadersMessage(COLOR_LIGHTBLUE,string);
					PlayerInfo[para1][pShowFaction] = 0;
					PlayerTextDrawHide(para1, JobTD);
					Iter_Remove(Leaders, para1);
				}
			}
			else if(PlayerInfo[para1][pAdmin] >= 4) {
				PlayerInfo[para1][pMember] = level;
				PlayerInfo[para1][pLeader] = level;
				if(level > 0) {
					OnDuty[para1] = 0;
					tazer[para1] = 0;
					SetPlayerArmourEx(para1, 0);
				    format(string,sizeof(string),"AdmCmd: %s supravegheaza factiunea %s(%d).",GetName(playerid),DynamicFactions[level][fName],level);
				    SendAdminMessage(COLOR_LIGHTRED, string,4);
				}
				else if(level == 0) {
					OnDuty[para1] = 0;
					tazer[para1] = 0;
					SetPlayerArmourEx(para1, 0);
                    format(string,sizeof(string),"AdmCmd: %s nu mai supravegheaza nici o factiune.",GetName(playerid));
				    SendAdminMessage(COLOR_LIGHTRED, string,4);
				    PlayerInfo[para1][pShowFaction] = 0;
					PlayerTextDrawHide(para1, JobTD);
				}
                PlayerInfo[para1][pRank] = 7;
				new str[356];
				format(str,356,"UPDATE users SET `Leader`='%d',`Member`='%d',`Rank`='7',`Team`='%d' WHERE `ID`='%d'",PlayerInfo[para1][pLeader],PlayerInfo[para1][pMember],PlayerInfo[para1][pSQLID]);
				mysql_query(SQL,str);
				SetPlayerToTeamColor(para1);
			}
		}
 		else return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	else return SCM(playerid, COLOR_ERROR, AdminOnly);
	return 1;
}

cmd:towpoints(playerid, params[]) {
    if(PlayerInfo[playerid][pMember] != 8) return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte din factiunea Tow Truck Company.");
	format(szGlobal,sizeof(szGlobal),"{FFFFCC}Ai %d puncte.",PlayerInfo[playerid][pTow]), SCM(playerid,COLOR_WHITE,szGlobal);
	return 1;
}
cmd:tow(playerid, params[])
{
    if(IsPlayerConnected(playerid))
	{
	    if(PlayerInfo[playerid][pMember] == 8 || PlayerInfo[playerid][pLeader] == 8)
	    {
	        if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	        if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
	        {
	            new m = GetVehicleModel(GetPlayerVehicleID(playerid));
		    	if (m == 525)
	     	   	{
	     	   	    if(GetPlayerState(playerid)==2)
	     	   	    {
						if(PlayerInfo[playerid][pTow] == 0) return SCM(playerid,COLOR_GREY, "Nu ai puncte de tractare.");
						new Float:pX,Float:pY,Float:pZ;
						GetPlayerPos(playerid,pX,pY,pZ);
						new Float:vX,Float:vY,Float:vZ;
						new Found=0;
						new vid=0;
						while((vid<MAX_VEHICLES)&&(!Found))
						{
		   					vid++;
		   					GetVehiclePos(vid,vX,vY,vZ);
		   					if ((floatabs(pX-vX)<7.0)&&(floatabs(pY-vY)<7.0)&&(floatabs(pZ-vZ)<7.0)&&(vid!=GetPlayerVehicleID(playerid)))
							{
								if(IsABike(vid) || GetVehicleModel(vid) == 448 || GetVehicleModel(vid) == 461 || GetVehicleModel(vid) == 462 || GetVehicleModel(vid) == 463 || GetVehicleModel(vid) == 468 || GetVehicleModel(vid) == 471 || GetVehicleModel(vid) == 521 || GetVehicleModel(vid) == 522 || GetVehicleModel(vid) == 523)
								{
		 							SCM(playerid,COLOR_GREY, "Alege alt vehicul.");
								    return 1;
								}
							    Found=1;
		   				    	if(IsTrailerAttachedToVehicle(GetPlayerVehicleID(playerid)))
		           				{
		   				        	DetachTrailerFromVehicle(GetPlayerVehicleID(playerid));
                     				DisablePlayerCheckpoint(playerid);
                                    gPlayerCheckpointStatus[playerid] = CHECKPOINT_NONE;
						       	}
					           	else
					           	{
		    						AttachTrailerToVehicle(vid,GetPlayerVehicleID(playerid));
	                				new rand;
									rand = random(sizeof(TowCarCk));
						 		    SetPlayerCheckpointEx(playerid, TowCarCk[rand][0],TowCarCk[rand][1],TowCarCk[rand][2], 6);
                         			CP[playerid] = 34;
								}
		 					}
		     			}
						if(!Found) return SendClientMessage(playerid,COLOR_BZYELLOW, "Nu sunt vehicule in jurul tau.");
					}
					else return SendClientMessage(playerid, COLOR_BZYELLOW, "Nu esti soferul.");
				}
				else return SendClientMessage(playerid, COLOR_BZYELLOW, "Nu esti in vehiculul factiunii.");
			}
			else return SendClientMessage(playerid, COLOR_BZYELLOW, "Nu esti intr-un vehicul.");
		}
		else return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte din factiunea Tow Truck Company.");
	}
	return 1;
}
cmd:spawnchange(playerid, params[]) {
	new text[90],szDialog[150];
	if(IsPlayerLogged[playerid] != 1) return 1;
    if(PlayerInfo[playerid][pHouse] == 999) return SCM(playerid,COLOR_YELLOW2, "Nu ai o casa/chirie.");
    if(PlayerInfo[playerid][pMember] == 0) format(text,sizeof(text),"Normal Place");
    else if(PlayerInfo[playerid][pMember] != 0) format(text,sizeof(text),"HQ %s",NumeFactiune(PlayerInfo[playerid][pMember]));
    format(szDialog,sizeof(szDialog),"%s\nYour House(or Rent)",text);
    ShowPlayerDialog(playerid,DIALOG_SPAWNCHANGE,DIALOG_STYLE_LIST,"Spawnchange:",szDialog,"Select","Close");
    return 1;
}
cmd:unfreeze(playerid, params[]) {
	if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
	if(PlayerInfo[playerid][pAdmin] < 1 && PlayerInfo[playerid][pHelper] < 2) return SendClientMessage(playerid, COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,string[100];
	if(sscanf(params, "u",id)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /unfreeze <Nume/Playerid>");
	if(!IsPlayerConnected(id) || id == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	TogglePlayerControllable(id, 1);
	Freezed[id] = 0;
	format(string,sizeof(string),"AdmCmd: %s l-a dezghetat pe %s.",GetName(playerid),GetName(id));
	SendAdminMessage(COLOR_LOGS,string,1);
	return 1;
}

cmd:freeze(playerid, params[]) {
    if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
    if(PlayerInfo[playerid][pAdmin] < 1 && PlayerInfo[playerid][pHelper] < 2) return SendClientMessage(playerid, COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id,string[100];
	if(sscanf(params, "u",id)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /freeze <Nume/Playerid>");
	if(!IsPlayerConnected(id) || id == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	TogglePlayerControllable(id, 0);
	Freezed[id] = 1;
	format(string,sizeof(string),"AdmCmd: %s l-a inghetat pe %s.",GetName(playerid),GetName(id));
	SendAdminMessage(COLOR_LOGS,string,1);
	return 1;
}
cmd:entercar(playerid, params[])
{
    if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
    if(IsPlayerConnected(playerid))
    {
		if (PlayerInfo[playerid][pAdmin] >= 2)
 		{
 		    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
			new testcar,loc;
			if(sscanf(params, "ii",testcar,loc)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /entercar <Vehicle ID> <Seat ID>");
			if(loc < 0 || loc > 4) return SendClientMessage(playerid, COLOR_GREY, "Invalid Seat ID(0-4).");
			PutPlayerInVehicleEx(playerid, testcar, loc);
			SendClientMessage(playerid, COLOR_GRAD1, "Ai fost teleportat cu succes.");
		}
		else return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	}
	return 1;
}

cmd:getcar(playerid, params[]) {
    if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
    if(IsPlayerLogged[playerid] != 1) return 1;
	if(PlayerInfo[playerid][pAdmin] < 2) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new plo;
	if(sscanf(params, "i",plo)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /getcar <Vehicle ID>");
	new Float:plocx,Float:plocy,Float:plocz;
	GetPlayerPos(playerid, plocx, plocy, plocz);
	LinkVehicleToInterior(plo,GetPlayerInterior(playerid));
	SetVehiclePos(plo,plocx,plocy+4, plocz);
	return 1;
}
cmd:outcar(playerid, params[])
{
    if(IsPlayerConnected(playerid))
    {
		if (PlayerInfo[playerid][pAdmin] >= 2)
		{
		    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    		new plo;
			if(sscanf(params, "u",plo)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /outcar <Nume/Playerid>");
		    if(IsPlayerConnected(plo))
		    {
				RemovePlayerFromVehicleEx(plo);
				return 1;
			}
			else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
		else return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	}
	return 1;
}

function GetGasStationID(playerid) {
	for(new i = 0; i < sizeof(BizzInfo); i++) {
		if(PlayerToPoint(10.0, playerid, BizzInfo[i][bEntranceX], BizzInfo[i][bEntranceY], BizzInfo[i][bEntranceZ]) && BizzInfo[i][bGas] == 1) {
		    return i;
		}
	}
	return -1;
}

cmd:fill(playerid, params[]) {
	new idcar = GetPlayerVehicleID(playerid);
	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER) {
		if(GetPVarInt(playerid, "Engine") == 1) return SCM(playerid,COLOR_GREY,"** Motorul este pornit, opreste-l.");
		if(GetGasStationID(playerid) == -1) return SCM(playerid,COLOR_GREY,"** Nu esti la o benzinarie.");
		if(Gas[idcar] >= 99) return GameTextForPlayer(playerid,"~r~~n~~n~~n~~n~~n~~n~~n~~n~~n~Canistra plina",2000,3);
	 	TogglePlayerControllable(playerid, 0);
		GameTextForPlayer(playerid,"~w~~n~~n~~n~~n~~n~~n~~n~~n~~n~Se incarca rezervorul",2000,3);
		SetTimerEx("Fillup",RefuelWait,0,"i",playerid);
	    Refueling[playerid] = 1;
	}
	else {
		if(GetGasStationID(playerid) == -1) return SendClientMessage(playerid,COLOR_GREY,"Nu esti la o benzinarie.");
	    if(PlayerInfo[playerid][pGasCan] == 0) return SCM(playerid, -1, "Nu ai o canistra!");
		if(PlayerInfo[playerid][pFuel] == 20) return SCM(playerid,COLOR_WHITE,"Canistra plina.");
		new price = 20 * 50;
		format(szGlobal, sizeof(szGlobal), "* Ti-ai incarcat canistra cu 20% pentru $%s.",FormatNumber(price));
		SendClientMessage(playerid, COLOR_LIGHTBLUE, szGlobal);
		PlayerInfo[playerid][pFuel] = 20;
		BizzInfo[GetGasStationID(playerid)][bBalance] += price;
		GivePlayerCash(playerid, - price);
    	format(szGlobal,sizeof(szGlobal),"UPDATE users SET `Money`='%d',`Fuel`='20' WHERE `ID`='%d'",GetPlayerCash(playerid),PlayerInfo[playerid][pSQLID]);
		mysql_query(SQL,szGlobal);
    	format(szGlobal,sizeof(szGlobal),"UPDATE `bizz` SET `Till`='%d' WHERE `ID`='%d'",BizzInfo[GetGasStationID(playerid)][bBalance],GetGasStationID(playerid));
		mysql_query(SQL,szGlobal);
    }
	return 1;
}
cmd:fillgascan(playerid, params[])
{
	new veh = GetPlayerVehicleID(playerid);
	//if(PlayerInfo[playerid][pGasCan] == 0) return SCM(playerid, -1, "Nu ai o canistra!");
    if(IsPlayerConnected(playerid))
    {
	    if(PlayerInfo[playerid][pFuel] > 0)
	    {
	        if(Gas[veh] >= 0)
	        {
		        SendClientMessage(playerid, COLOR_LIGHTBLUE, "** Ti-ai incarcat benzina cu 20%.");
		        Gas[veh] += 20;
		        PlayerInfo[playerid][pFuel] = 0;
				new str[128];
				format(str,sizeof(str),"UPDATE users SET `Fuel`='0' WHERE `ID`='%d'",PlayerInfo[playerid][pSQLID]);
				mysql_query(SQL,str);
				TogglePlayerControllable(playerid, 1);
			}
			else return SendClientMessage(playerid, COLOR_WHITE, "Ai destul combustibil.");
	    }
	    else return SendClientMessage(playerid, COLOR_GREY, "Nu ai benzina in canistra.");
	}
	return 1;
}

stock GetPlayerSpeedx(playerid, get3d) // Maurice Speed
{
	new Float:x, Float:y, Float:z;
	if(IsPlayerInAnyVehicle(playerid)) GetVehicleVelocity(GetPlayerVehicleID(playerid), x, y, z);
	else GetPlayerVelocity(playerid, x, y, z);
	return SpeedCheck(x, y, z, 100.0, get3d);
}

cmd:fare(playerid, params[])
{
    if(IsPlayerConnected(playerid))
    {
        if(IsATaxiMember(playerid))
		{
		    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
			new string[128],sendername[25];
			if(TransportDuty[playerid] > 0)
			{
			    if(TransportDuty[playerid] == 1)
			    {
			        TaxiDrivers -= 1;
			    }
			    TransportDuty[playerid] = 0;
				format(string, sizeof(string), "* Nu mai esti la datorie si ai castigat $%s.", FormatNumber(TransportMoney[playerid]));
				SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
				GivePlayerCash(playerid, TransportMoney[playerid]);
				ConsumingMoney[playerid] = 1; TransportValue[playerid] = 0; TransportMoney[playerid] = 0;
		    	foreach(Player, i)
				{
					if(TaxiDriver[i] == playerid)
					{
						TaxiDriver[i] = -1;
						TaxiDist[i] = 0.0; TransportMoney[i] = 0;
						for(new j = 0; j <= 2; j++) PlayerTextDrawHide(i, FareTD[j]);
					}
				}
				TaxiDist[playerid] = 0.0;
				for(new j = 0; j <= 2; j++) PlayerTextDrawHide(playerid, FareTD[j]);
				return 1;
			}
			new moneys;
			if(sscanf(params, "d",moneys)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /fare <Money>");
			new Veh = GetPlayerVehicleID(playerid);
			if(ServerVehicles[Veh][vModel] == 487 && ServerVehicles[Veh][vFaction] == PlayerInfo[playerid][pMember]) return SCM(playerid,COLOR_BZYELLOW,"Nu poti folosi /fare in acest vehicul.");
			if(IsAnTaxi(Veh) && IsATaxiMember(playerid))
			{
			    if(GetPlayerState(playerid) == 2)
			    {
					if(moneys < 1 || moneys > 50) return SendClientMessage(playerid, COLOR_BZYELLOW, "Suma trebuia sa fie intre $1 si $50.");
				    TaxiDrivers += 1; TransportDuty[playerid] = 1; TransportValue[playerid] = moneys;
				    GetPlayerName(playerid,sendername,sizeof(sendername));
    				format(string, sizeof(string), "{00D900}Taximetristul %s este la datorie, tarif: $%s.", sendername, FormatNumber(TransportValue[playerid]));
    				OOCNews2(TEAM_GROVE_COLOR,string);
    				TaxiDist[playerid] = 0.0;
					TransportMoney[playerid] = 0;
    				ShowFareForTaxi(playerid);
				}
				else
				{
				    SendClientMessage(playerid, COLOR_BZYELLOW, "Nu esti soferul.");
				    return 1;
				}
			}
			else
			{
			    SendClientMessage(playerid, COLOR_BZYELLOW, "Nu esti intr-un taxi.");
			}
		}
		else return SCM(playerid, COLOR_BZWHITE, "Eroare: Nu esti Taximetrist.");
    }
    return 1;
}

function ShowFareForTaxi(playerid) {
	new str[256];
	if(TransportDuty[playerid] == 1) {
		format(str, 256, "Distanta: %.1f Km~n~Tarif: ~g~%s$~w~~n~Castig: ~g~%s$", TaxiDist[playerid], FormatNumber(TransportValue[playerid]), FormatNumber(TransportMoney[playerid]));
		PlayerTextDrawSetString(playerid, FareTD[2], str);
	}
	else {
		format(str, 256, "Distanta: %.1f Km~n~Tarif: ~g~%s$~w~~n~Costul cursei: ~g~%s$", TaxiDist[playerid], FormatNumber(TransportValue[TaxiDriver[playerid]]), FormatNumber(TransportMoney[playerid]));
		PlayerTextDrawSetString(playerid, FareTD[2], str);
	}
	for(new j = 0; j <= 2; j++) PlayerTextDrawShow(playerid, FareTD[j]);
	return 1;
}

cmd:engine(playerid,params[])
{
    if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
    {
        new idcar = GetPlayerVehicleID(playerid),string[128],sendername[25];
        new engine,lights,alarm,doors,bonnet,boot,objective;
        if(Gas[idcar] == 0) return SCM(playerid,COLOR_YELLOW2, "Acest vehicul nu are benzina.");
	    if(IsABike(idcar)) return SendClientMessage(playerid,COLOR_WHITE,"Nu poti folosi aceasta comanda intr-o bicicleta.");
	    if(Refueling[playerid] == 0)
  	 	{
     	    if(vehEngine[idcar] == 0)
        	{
				vehEngine[idcar] = 1;
	            GetVehicleParamsEx(idcar,engine,lights,alarm,doors,bonnet,boot,objective);
	            SetVehicleParamsEx(idcar,VEHICLE_PARAMS_ON,lights,alarm,doors,bonnet,boot,objective);
	            new vehicle;
	            vehicle = GetVehicleModel(idcar) - 400;
	    		GetPlayerName(playerid, sendername, sizeof(sendername));
	            SetPVarInt(playerid, "Engine", 1);
				format(string,sizeof(string),"%s a pornit motorul vehiculului %s.",sendername,aVehicleNames[vehicle]);
				ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
        	}
      	  	else if(vehEngine[idcar] == 1)
        	{
    			vehEngine[idcar] = 0;
    			GetVehicleParamsEx(idcar,engine,lights,alarm,doors,bonnet,boot,objective);
      	    	SetVehicleParamsEx(idcar,VEHICLE_PARAMS_OFF,lights,alarm,doors,bonnet,boot,objective);
            	new vehicle;
            	vehicle = GetVehicleModel(idcar) - 400;
	        	GetPlayerName(playerid, sendername, sizeof(sendername));
            	SetPVarInt(playerid, "Engine", 0);

				format(string,sizeof(string),"%s a oprit motorul vehiculului %s.",sendername,aVehicleNames[vehicle]);
				ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
        	}
    	}
		else return SendClientMessage(playerid,COLOR_WHITE,"Iti faci plinul, asteapta.");
    }
	else return SendClientMessage(playerid,COLOR_WHITE,"Trebuie sa fii intr-un vehicul pentru a folosi aceasta comanda.");
	return 1;
}
cmd:disarm(playerid,params[])
{
	if(PlayerInfo[playerid][pAdmin] >= 1)
	{
	    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		new id,string[128],sendername[25],giveplayer[25];
		if(sscanf(params, "u",id)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /disarm <Nume/Playerid>");
		if(id != INVALID_PLAYER_ID)
		{
		    GetPlayerName(id, giveplayer, sizeof(giveplayer));
			GetPlayerName(playerid, sendername, sizeof(sendername));
		    ResetPlayerWeaponsEx(id);
		    ResetPlayerWeapons(id);
			format(string, sizeof(string), "AdmCmd: %s i-a luat armele lui %s.",sendername, giveplayer);
			SendAdminMessage(COLOR_LOGS,string,1);
		}
		else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	else return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	return 1;
}
cmd:agl(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
        if (PlayerInfo[playerid][pAdmin] >= 5)
        {
            if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
			new id,x_nr[10],sendername[25],giveplayer[25],string[128], ore;
			if(sscanf(params, "us[10]i",id,x_nr,ore))
			{
				SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /agl <Nume/Playerid> <Item/License> <Hours>");
			    SendClientMessage(playerid, COLOR_WHITE, "Valabile: All, Driving, Pilots, Sailing, Fishing, Weapon.");
				return 1;
			}
			if(id == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
			if(ore < 0) return SCM(playerid, COLOR_GREY, "Invalid Hours!");
			GetPlayerName(playerid, sendername, sizeof(sendername));
		    GetPlayerName(id, giveplayer, sizeof(giveplayer));
		    if(strcmp(x_nr,"All",true) == 0)
			{
	            format(string, sizeof(string), "AdmCmd: %s i-a dat toate licentele lui %s valabile pentru %d ore.",GetName(playerid),giveplayer, ore);
		        SendAdminMessage(COLOR_LIGHTRED,string,1);
		        format(string, sizeof(string), "* Adminul %s ti-a dat toate licentele valabile pentru %d ore.",sendername,ore);
		        SendClientMessage(id, COLOR_LIGHTBLUE, string);
				if(ore == 0)
				{
					PlayerInfo[id][pCarLic] = 0;
					PlayerInfo[id][pCarLicT]  = 0;
					PlayerInfo[id][pFlyLic] = 0;
					PlayerInfo[id][pFlyLicT]  = 0;
					PlayerInfo[id][pBoatLic] = 0;
					PlayerInfo[id][pBoatLicT]  = 0;
					PlayerInfo[id][pFishLic] = 0;
					PlayerInfo[id][pFishLicT]  = 0;
					PlayerInfo[id][pGunLic] = 0;
					PlayerInfo[id][pGunLicT]  = 0;
				}
		        else
				{
				    PlayerInfo[id][pCarLic] = 1;
					PlayerInfo[id][pCarLicT]  = ore;
					PlayerInfo[id][pFlyLic] = 1;
					PlayerInfo[id][pFlyLicT]  = ore;
					PlayerInfo[id][pBoatLic] = 1;
					PlayerInfo[id][pBoatLicT]  = ore;
					PlayerInfo[id][pFishLic] = 1;
					PlayerInfo[id][pFishLicT]  = ore;
					PlayerInfo[id][pGunLic] = 1;
					PlayerInfo[id][pGunLicT]  = ore;
				}
				new str[500];
				format(str,500,"UPDATE users SET `CarLic`='%d',`CarLicT`='%d',`FlyLic`='%d',`FlyLicT`='%d',`BoatLic`='%d',`BoatLicT`='%d',`FishLic`='%d',`FishLicT`='%d',`GunLic`='%d',`GunLicT`='%d' WHERE `ID`='%d'",
				PlayerInfo[id][pCarLicT],ore,PlayerInfo[id][pFlyLicT],ore,PlayerInfo[id][pBoatLicT],ore,PlayerInfo[id][pFishLicT],ore,PlayerInfo[id][pGunLicT],ore,PlayerInfo[id][pSQLID]);
				mysql_query(SQL,str);
		        return 1;
			}
		    if(strcmp(x_nr,"driving",true) == 0)
			{
	            format(string, sizeof(string), "AdmCmd: %s i-a dat licenta de condus lui %s valabila pentru %d ore.",GetName(playerid),giveplayer, ore);
		        SendAdminMessage(COLOR_LIGHTRED,string,1);
		        format(string, sizeof(string), "* %s ti-a dat licenta de condus valabila %d ore.",sendername,ore);
		        SendClientMessage(id, COLOR_LIGHTBLUE, string);
				if(ore == 0) PlayerInfo[id][pCarLic] = 0;
		        else PlayerInfo[id][pCarLic] = 1;					
		        PlayerInfo[id][pCarLicT]  = ore;
				new str[128];
				format(str,128,"UPDATE users SET `CarLic`='%d',`CarLicT`='%d' WHERE `ID`='%d'",PlayerInfo[id][pCarLicT],ore,PlayerInfo[id][pSQLID]);
				mysql_query(SQL,str);
		        return 1;
			}
			else if(strcmp(x_nr,"pilots",true) == 0)
			{
	            format(string, sizeof(string), "AdmCmd: %s i-a dat licenta de zbor lui %s valabila pentru %d ore.",GetName(playerid),giveplayer, ore);
		        SendAdminMessage(COLOR_LIGHTRED,string,1);
		        format(string, sizeof(string), "* %s ti-a dat licenta zbor valabila %d ore.",sendername,ore);
		        SendClientMessage(id, COLOR_LIGHTBLUE, string);
				if(ore == 0) PlayerInfo[id][pFlyLic] = 0;
		        else PlayerInfo[id][pFlyLic] = 1;					
		        PlayerInfo[id][pFlyLicT]  = ore;
				new str[128];
				format(str,128,"UPDATE users SET `FlyLic`='%d',`FlyLicT`='%d' WHERE `ID`='%d'",PlayerInfo[id][pFlyLicT],ore,PlayerInfo[id][pSQLID]);
				mysql_query(SQL,str);
		        return 1;
			}
			else if(strcmp(x_nr,"sailing",true) == 0)
			{
	            format(string, sizeof(string), "AdmCmd: %s i-a dat licenta de navigatie lui %s valabila pentru %d ore.",GetName(playerid),giveplayer, ore);
		        SendAdminMessage(COLOR_LIGHTRED,string,1);
		        format(string, sizeof(string), "* %s ti-a dat licenta de barca valabila %d ore.",sendername,ore);
		        SendClientMessage(id, COLOR_LIGHTBLUE, string);
				if(ore == 0) PlayerInfo[id][pBoatLic] = 0;
		        else PlayerInfo[id][pBoatLic] = 1;				
		        PlayerInfo[id][pBoatLicT]  = ore;				
				new str[128];
				format(str,128,"UPDATE users SET `BoatLic`='%d',`BoatLicT`='%d' WHERE `ID`='%d'",PlayerInfo[id][pBoatLicT],ore,PlayerInfo[id][pSQLID]);
				mysql_query(SQL,str);
		        return 1;
			}
			else if(strcmp(x_nr,"fishing",true) == 0)
			{
	            format(string, sizeof(string), "AdmCmd: %s i-a dat licenta de pescuit lui %s valabila pentru %d ore.",GetName(playerid),giveplayer, ore);
		        SendAdminMessage(COLOR_LIGHTRED,string,1);
		        format(string, sizeof(string), "* %s ti-a dat licenta de pescuit valabila %d ore.",sendername,ore);
		        SendClientMessage(id, COLOR_LIGHTBLUE, string);
				if(ore == 0) PlayerInfo[id][pFishLic] = 0;
		        else PlayerInfo[id][pFishLic] = 1;
		        PlayerInfo[id][pFishLicT]  = ore;
				new str[128];
				format(str,128,"UPDATE users SET `FishLic`='%d',`FishLicT`='%d' WHERE `ID`='%d'",PlayerInfo[id][pFishLicT],ore,PlayerInfo[id][pSQLID]);
				mysql_query(SQL,str);
		        return 1;
			}
			else if(strcmp(x_nr,"weapon",true) == 0)
			{
	            format(string, sizeof(string), "AdmCmd: %s i-a dat licenta de arme lui %s valabila pentru %d ore.",GetName(playerid),giveplayer, ore);
		        SendAdminMessage(COLOR_LIGHTRED,string,1);
		        format(string, sizeof(string), "* %s ti-a dat licenta arme valabila %d ore.",sendername,ore);
		        SendClientMessage(id, COLOR_LIGHTBLUE, string);
				if(ore == 0) PlayerInfo[id][pGunLic] = 0;
		        else PlayerInfo[id][pGunLic] = 1;				
		        PlayerInfo[id][pGunLicT]  = ore;
				new str[128];
				format(str,128,"UPDATE users SET `GunLic`='%d',`GunLicT`='%d' WHERE `ID`='%d'",PlayerInfo[id][pGunLicT],ore,PlayerInfo[id][pSQLID]);
				mysql_query(SQL,str);
		        return 1;
			}
        }
        else return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    }
    return 1;
}
cmd:vehcolor(playerid,params[]) {
    if(PlayerInfo[playerid][pAdmin] < 4) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(!IsPlayerInAnyVehicle(playerid)) return SCM(playerid, COLOR_BZWHITE, "Eroare: Trebuie sa fii intr-un vehicul.");
	new color1,color2,string[100];
	if(sscanf(params, "ii",color1,color2)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /vehcolor <Color 1> <Color 2>");
    if(color1 < 0 || color1 > 255) return SendClientMessage(playerid, COLOR_GREY, "Invalid Color ID.");
    if(color2 < 0 || color2 > 255) return SendClientMessage(playerid, COLOR_GREY, "Invalid Color ID.");
    new vehid = GetPlayerVehicleID(playerid);
    if(IsPlayerInVehicle(playerid, vehid)) ChangeVehicleColor(vehid, color1, color2);
    format(string,sizeof(string),"Vehiculul %d a primit culoarile %d si %d.",GetPlayerVehicleID(playerid),color1,color2);
    SCM(playerid,COLOR_BZWHITE,string);
    return 1;
}
cmd:o(playerid,params[])
{
	if(PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid, COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new text[250],string[250];
	if(sscanf(params, "s[250]",text)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /o <Message>");
	format(string, sizeof(string), "(( %s: %s ))", GetName(playerid), text);
	SCMTA(COLOR_OOC,string);
	printf("%s", string);
	return 1;
}

cmd:contract(playerid, params[]) {
	new userID, money, szMessage[180];
	if(IsPlayerLogged[playerid] == 0) return SendClientMessage(playerid, COLOR_RED, "Nu esti logat!");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "ui", userID, money)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /contract <Nume/Playerid> <Money>");
	if(!IsPlayerConnected(userID) && userID == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	if(money < 100 || money > 2000) return SendClientMessage(playerid, COLOR_GREY, "Poti pune un contract pe minim $100 sau maxim $2.000.");
	if(GetPlayerCash(playerid) < money) return SendClientMessage(playerid, COLOR_GREY, "Nu ai aceasta suma de bani!");
	if(userID == playerid) return SendClientMessage(playerid, COLOR_GREY, "Nu poti pune un contract pe tine!");
	if(PlayerInfo[userID][pMember] == 11 || PlayerInfo[userID][pLeader] == 11) return SendClientMessage(playerid, COLOR_GREY, "Nu poti pune un contract pe un Hitman!");
	if(PlayerInfo[playerid][pMember] == 11 || PlayerInfo[playerid][pLeader] == 11) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi aceasta comanda deoarece faci parte din aceasta factiune.");	
	if(PlayerInfo[userID][pAdmin] != 0) return SCM(playerid, -1, "Acel player are admin.");
	GivePlayerCash(playerid, -money);
	Contract[userID] = 1;
	if(Contract[userID] == 1) HeadValue[userID] += money;
	else HeadValue[userID] = money;
	UsedContract[userID] = 0;
	format(szMessage, sizeof(szMessage), "Ai pus un contract pe %s pentru suma de $%s.", GetName(userID), FormatNumber(money));
	SendClientMessage(playerid, COLOR_WHITE, szMessage);
	format(szMessage, sizeof(szMessage), "* Un nou contract este acum disponibil pentru suma de $%s.", FormatNumber(money));
	SendFactionMessage(11, COLOR_LIGHTBLUE, szMessage);
	return 1;
}

cmd:fightstyle(playerid,params[]) {
    if(!PlayerToPoint(5.0, playerid,757.6704,5.5662,1000.7017)) return SendClientMessage(playerid, COLOR_GREY, "Nu esti in Gym.");
    ShowPlayerDialog(playerid,Dialog_Gym,DIALOG_STYLE_LIST,"Select","Boxing $1,000\nKungfu $1,500\nElbow $800\nGrabkick $500\nKneehead $600","Select","Cancel");
    return 1;
}

cmd:pay(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
		new id,moneys,sendername[25],giveplayer[25],string[256];
		if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		if(sscanf(params, "ui",id,moneys)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /pay <Nume/Playerid> <Money>");
		if(moneys > 1000 && PlayerInfo[playerid][pLevel] < 3) return SendClientMessage(playerid, COLOR_GREY, "Ai nevoie de nivel 3 pentru a da mai mult de $1000.");
		if(moneys < 1 || moneys > 1000) return SendClientMessage(playerid, COLOR_GREY, "Poti da o suma intre 1$ si 1000$.");
		if(id == playerid) return SCM(playerid,COLOR_GREY, "You can not give money to you.");
	    if(id != INVALID_PLAYER_ID)
	    {
			if (ProxDetectorS(5.0, playerid, id))
			{
			    
				if(Spectate[id] != 255) return SCM(playerid,COLOR_YELLOW2, "Acel player nu este langa tine.");
				GetPlayerName(id, giveplayer, sizeof(giveplayer));
				GetPlayerName(playerid, sendername, sizeof(sendername));
				new playermoney;
				playermoney = GetPlayerCash(playerid);
				if (moneys > 0 && playermoney >= moneys)
				{
					GivePlayerCash(playerid, -moneys);
					GivePlayerCash(id, moneys);
					format(string, sizeof(string), "I-ai trimis lui %s, $%s.", giveplayer,FormatNumber(moneys));
					SendClientMessage(playerid, COLOR_GRAD1, string);
					PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
					format(string, sizeof(string), "   Ai primit $%s de la %s.", FormatNumber(moneys), sendername);
					SendClientMessage(id, COLOR_GRAD1, string);
					PlayerPlaySound(id, 1052, 0.0, 0.0, 0.0);
					format(string, sizeof(string), "* %s scoate niste bani din buzunar si-i imaneaza lui %s.", sendername ,giveplayer);
					ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
					Update(id, pCashx);
					Update(playerid, pCashx);
				}
				else return SendClientMessage(playerid, COLOR_GREY, "Tranzactie invalida.");
			}
			else return SendClientMessage(playerid, COLOR_YELLOW2, "Acel player nu este langa tine.");
		}
		else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	return 1;
}

cmd:number(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
		new id,string[128],sendername[25];
		if(sscanf(params, "u",id)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /number <Nume/Playerid>");
	    if(id != INVALID_PLAYER_ID)
	    {
			GetPlayerName(id, sendername, sizeof(sendername));
			format(string, 256, "Nume: %s, Numar de telefon: %d",sendername,PlayerInfo[id][pPnumber]);
			SendClientMessage(playerid, COLOR_WHITE, string);
		}
		else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	return 1;
}
cmd:tognews(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
		if (!gNews[playerid])
		{
			gNews[playerid] = 1;
			SendClientMessage(playerid, COLOR_GRAD1, "Dezactivat.");
		}
		else if (gNews[playerid])
		{
			gNews[playerid] = 0;
			SendClientMessage(playerid, COLOR_GRAD1, "Activat.");
		}
	}
	return 1;
}
cmd:togfam(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
		if (!gFam[playerid])
		{
			gFam[playerid] = 1;
			SendClientMessage(playerid, COLOR_GRAD1, "Dezactivat.");
		}
		else if (gFam[playerid])
		{
			gFam[playerid] = 0;
			SendClientMessage(playerid, COLOR_GRAD1, "Activat.");
		}
	}
	return 1;
}
cmd:togwhisper(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
        if(PlayerInfo[playerid][pPremiumAccount] == 1 || PlayerInfo[playerid][pAdmin] >= 1)
        {
			if (!HidePM[playerid])
			{
				HidePM[playerid] = 1;
				SendClientMessage(playerid, COLOR_GRAD1, "Dezactivat.");
			}
			else if (HidePM[playerid])
			{
				HidePM[playerid] = 0;
				SendClientMessage(playerid, COLOR_GRAD1, "Activat.");
			}
		}
		else return SendClientMessage(playerid, COLOR_GREY, "Nu esti admin sau nu ai cont premium.");
	}
	return 1;
}

cmd:dice(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
		new string[128];
		new dice = random(6)+1;
		if (gDice[playerid] == 1)
		{
			new sendername[25];
			GetPlayerName(playerid, sendername, sizeof(sendername));
			format(string, sizeof(string), "* %s a dat cu zarul %d.", sendername,dice);
			ProxDetector(5.0, playerid, string, TEAM_GREEN_COLOR,TEAM_GREEN_COLOR,TEAM_GREEN_COLOR,TEAM_GREEN_COLOR,TEAM_GREEN_COLOR);
		}
		else return SendClientMessage(playerid, COLOR_GREY, "Nu ai zaruri.");
	}
	return 1;
}

cmd:changepass(playerid,params[])
{
	if(IsPlayerConnected(playerid))
	{
	    if(IsPlayerLogged[playerid] == 0) return SendClientMessage(playerid, COLOR_LIGHTRED, "Trebuie sa te loghezi mai intai.");
	    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		ShowPlayerDialog(playerid, DIALOG_NEWPASS,DIALOG_STYLE_INPUT, "SERVER: Change Password","Type your current password bellow!","Change","Cancel");
		return 1;
	}
	return 1;
}

cmd:changeemail(playerid,params[])
{
	if(IsPlayerConnected(playerid))
	{
	    if(IsPlayerLogged[playerid] == 0) return SendClientMessage(playerid, COLOR_LIGHTRED, "Trebuie sa te loghezi mai intai.");
	    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		ShowPlayerDialog(playerid, DIALOG_NEWEMAIL,DIALOG_STYLE_INPUT, "SERVER: Change Email","Type your current email bellow!","Change","Cancel");
		return 1;
	}
	return 1;
}
alias:ad("advertise");
cmd:ad(playerid,params[]) {
    if(IsPlayerConnected(playerid)) {
       	new string[264],sendername[25],idx;
        if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
        if(AdTimer[playerid] != 0) return SCM(playerid,COLOR_GREY,"Ai deja un anunt.");
		if(IsPlayerInAnyVehicle(playerid)) return 1;
        if(PlayerInfo[playerid][pMuted] == 1)
        {
			format(string, sizeof(string), "Nu poti scrie pe chat sau folosi comenzi deoarece ai mute timp de %d secunde.",PlayerInfo[playerid][pMuteTime]);
			SendClientMessage(playerid, COLOR_LIGHTRED, string);
			return 1;
		}
	    if(PlayerInfo[playerid][pLevel] < 3) return SendClientMessage(playerid, COLOR_GREY, "Nu ai level 3.");
	    if(!PlayerToPoint(2.2, playerid, BizzInfo[7][bEntranceX], BizzInfo[7][bEntranceY], BizzInfo[7][bEntranceZ]) && 
		!PlayerToPoint(2.2, playerid, BizzInfo[29][bEntranceX], BizzInfo[29][bEntranceY], BizzInfo[29][bEntranceZ]) &&
		!PlayerToPoint(2.2, playerid, BizzInfo[37][bEntranceX], BizzInfo[37][bEntranceY], BizzInfo[37][bEntranceZ])) return SCM(playerid,COLOR_BZYELLOW,"Nu esti la CNN.");
		GetPlayerName(playerid, sendername, sizeof(sendername));
		new length = strlen(params);
		if(length < 8) return SCM(playerid,COLOR_BZYELLOW,"Anuntul tau este prea scurt.");
		while((idx < length) && (params[idx] <= ' '))
		{
			idx++;
		}
		new offset = idx;
		new result[264];
		while ((idx < length) && ((idx - offset) < (sizeof(result) - 1)))
		{
			result[idx - offset] = params[idx];
			idx++;
		}
		result[idx - offset] = EOS;
		for(new s = 0; s < num_words; s++)
		{
			new pos;
			while((pos = strfind(result,Swears[s],true)) != -1) for(new i = pos, j = pos + strlen(Swears[s]); i < j; i++)
			{
				result[i] = '*';
			}
		}
		if(!strlen(result)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /ad <Anunt>");
		new payout = 100;
		if(GetPlayerCash(playerid) < payout) {
            format(string, sizeof(string), "* Ai folosit %d caractere si anuntul costa $%s, nu ai destui bani.", offset, FormatNumber(payout));
            SendClientMessage(playerid, COLOR_WHITE, string);
            return 1;
        }
		GivePlayerCash(playerid, - payout);
		format(string, sizeof(string), "~r~Ai platit $%d~n~~w~Mesajul contine: %d caractere", payout, idx);
		GameTextForPlayer(playerid, string, 5000, 5);
		totalads ++;
		format(string, sizeof(string), "Ad-ul lui %s ({FFFFFF}%d{A1FF26}): %s", GetName(playerid), playerid, result);
		SendStaffMessage(0xA1FF26FF, string);
		format(AdText[playerid], 256, result);
		AdTimer[playerid] = totalads*30;
		SetTimerEx("Advertisment", totalads*30000, 0, "d", playerid);
		format(string, 256, "Anuntul tau va fi afisat in %d minute (%d secunde).", AdTimer[playerid]/60, AdTimer[playerid]);
		SCM(playerid, -1, string);
		new str[128];
		if(PlayerToPoint(10.0, playerid, BizzInfo[7][bEntranceX], BizzInfo[7][bEntranceY], BizzInfo[7][bEntranceZ])) {
		   	BizzInfo[7][bBalance] += payout;
			BizzInfo[7][bProducts]--;
		   	format(str,128,"UPDATE sbizz SET `Till`='%d',`Products`='%d' WHERE `ID`='7'",BizzInfo[7][bBalance],BizzInfo[7][bProducts]);
			mysql_query(SQL,str);
		}
		else if(PlayerToPoint(10.0, playerid, BizzInfo[29][bEntranceX], BizzInfo[29][bEntranceY], BizzInfo[29][bEntranceZ])) {
		   	BizzInfo[29][bBalance] += payout;
			BizzInfo[29][bProducts]--;
		   	format(str,128,"UPDATE sbizz SET `Till`='%d',`Products`='%d' WHERE `ID`='29'",BizzInfo[29][bBalance],BizzInfo[29][bProducts]);
			mysql_query(SQL,str);
		}
		else if(PlayerToPoint(10.0, playerid, BizzInfo[37][bEntranceX], BizzInfo[37][bEntranceY], BizzInfo[37][bEntranceZ])) {
		   	BizzInfo[37][bBalance] += payout;
			BizzInfo[37][bProducts]--;
		   	format(str,128,"UPDATE sbizz SET `Till`='%d',`Products`='%d' WHERE `ID`='37'",BizzInfo[37][bBalance],BizzInfo[37][bProducts]);
			mysql_query(SQL,str);
		}
	}
	return 1;
}
cmd:cancelad(playerid, params[]) {
	if(PlayerInfo[playerid][pAdmin] < 1) return SendClientMessage(playerid,COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id, reason[120], string[180];
	if(sscanf(params, "us[120]", id, reason)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /cancelad <Nume/Playerid> <Reason>");
	if(AdTimer[id] == 0) return SendClientMessage(playerid,COLOR_WHITE, "Acel player nu are un anunt.");
	format(string, sizeof(string), "AdmCmd: %s i-a sters anuntul lui %s, motiv: %s", GetName(playerid), GetName(id), reason);
	SendStaffMessage(COLOR_LIGHTRED, string);
	format(string, sizeof(string), "Anuntul tau a fost sters de %s, motiv: %s", GetName(playerid), reason);
	SCM(id, COLOR_YELLOW, string);
	AdText[playerid] = "";
	AdTimer[playerid] = 0;
	totalads --;
	return 1;
}
cmd:removead(playerid, params[]) {
	if(AdTimer[playerid] == 0) return SendClientMessage(playerid,COLOR_GREY, "Nu ai un anunt.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	AdText[playerid] = "";
	AdTimer[playerid] = 0;	
	totalads --;
	SendClientMessage(playerid, COLOR_WHITE, "Anuntul tau a fost sters.");
	return 1;
}
alias:s("shout");
cmd:s(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
        if(IsPlayerLogged[playerid] == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu esti logat.");
		new string[250],result[250],sendername[25];
	    if(PlayerInfo[playerid][pMuted] == 1)
        {
			format(string, sizeof(string), "Nu poti scrie pe chat sau folosi comenzi deoarece ai mute timp de %d secunde.",PlayerInfo[playerid][pMuteTime]);
			SendClientMessage(playerid, COLOR_LIGHTRED, string);
			return 1;
		}
		GetPlayerName(playerid, sendername, sizeof(sendername));
		if(sscanf(params, "s[250]",result)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /s(hout) <Message>");
		format(string, sizeof(string), "%s striga: %s", sendername, result);
		ProxDetector(30.0, playerid, string,COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,COLOR_FADE1,COLOR_FADE2);
		printf("%s", string);
	}
	return 1;
}

cmd:hirecar(playerid,params[]) {
    if(IsPlayerLogged[playerid] == 0) return 1;
	if (PlayerInfo[playerid][pAdmin] < 5) return SCM(playerid,COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new car,string[64];
	if(sscanf(params, "d",car)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /hirecar <Vehicle ID>");
	HireCar[playerid] = car;
	format(string, sizeof(string), "Vehiculul %d a fost setat cu succes.",car);
	SendClientMessage(playerid, COLOR_GRAD1, string);
	SendClientMessage(playerid, COLOR_WHITE, "HINT: Scrie /lock.");
	return 1;
}

cmd:unrentroom(playerid,params[])
{
    if(IsPlayerConnected(playerid))
	{
		new playername[25];
		GetPlayerName(playerid, playername, sizeof(playername));
		if(PlayerInfo[playerid][pHouse] != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0) return SendClientMessage(playerid, COLOR_WHITE, "Detii o casa.");
		if(PlayerInfo[playerid][pRented] == -1) return SCM(playerid, COLOR_GREY, "Nu ai chirie.");
		PlayerInfo[playerid][pHouse] = 999;
		PlayerInfo[playerid][pRented] = -1;
		SendClientMessage(playerid, COLOR_WHITE, "{B8FFDB}Nu mai ai chirie.");
		Update(playerid,pCashx);
		Update(playerid,pHousex);
		Update(playerid,pRentedx);
	}
	return 1;
}

cmd:time(playerid, params[]) {
	new sendername[25],string[180];
	format(string, sizeof(string), "Esti conectat de %.0f secunde.", PlayerInfo[playerid][pSeconds]);
 	SendClientMessage(playerid,COLOR_WHITE,string);
	GetPlayerName(playerid, sendername, sizeof(sendername));
	format(string, sizeof(string), "* %s ridica mana si se uita la ceas.", sendername);
	ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
	ApplyAnimation(playerid,"COP_AMBIENT","Coplook_watch",4.1,0,0,0,0,0);
	return 1;
}
cmd:open(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
		new playername[25];
		GetPlayerName(playerid,playername,sizeof(playername));
        for(new i = 1; i < sizeof(HouseInfo); i++)
		{
			if (PlayerToPoint(3, playerid,HouseInfo[i][hEntrancex], HouseInfo[i][hEntrancey], HouseInfo[i][hEntrancez]) || PlayerToPoint(3, playerid,HouseInfo[i][hExitx], HouseInfo[i][hExity], HouseInfo[i][hExitz]))
			{
				if(PlayerInfo[playerid][pHouse] == i && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0)
				{
					if(HouseInfo[i][hLock] == 1)
					{
						HouseInfo[i][hLock] = 0;
						GameTextForPlayer(playerid, "~w~Usa ~g~Deschisa", 5000, 6);
						PlayerPlaySound(playerid, 1145, 0.0, 0.0, 0.0);
						new str2[128];
						format(str2,sizeof(str2),"UPDATE `houses` SET `Lockk`='0' WHERE `ID`='%d'",i);
						mysql_query(SQL,str2);
						return 1;
					}
					if(HouseInfo[i][hLock] == 0)
					{
						HouseInfo[i][hLock] = 1;
						GameTextForPlayer(playerid, "~w~Usa ~r~Inchisa", 5000, 6);
						PlayerPlaySound(playerid, 1145, 0.0, 0.0, 0.0);
						new str2[128];
						format(str2,sizeof(str2),"UPDATE `houses` SET `Lockk`='1' WHERE `ID`='%d'",i);
						mysql_query(SQL,str2);
						return 1;
					}
				}
				else return SendClientMessage(playerid, COLOR_GREY, "Nu detii o casa.");
			}
		}
		for(new i = 1; i < sizeof(BizzInfo); i++)
		{
			if (PlayerToPoint(3, playerid,BizzInfo[i][bEntranceX], BizzInfo[i][bEntranceY], BizzInfo[i][bEntranceZ]) || PlayerToPoint(3, playerid,BizzInfo[i][bExitX], BizzInfo[i][bExitY], BizzInfo[i][bExitZ]))
			{
				if(PlayerInfo[playerid][pBizz] == i)
				{
					if(BizzInfo[i][bLocked] == 1)
					{
						BizzInfo[i][bLocked] = 0;
						GameTextForPlayer(playerid, "~w~Afacere ~g~Deschisa", 5000, 6);
						PlayerPlaySound(playerid, 1145, 0.0, 0.0, 0.0);
						new str2[128];
						format(str2,sizeof(str2),"UPDATE `bizz` SET `Locked`='0' WHERE `ID`='%d'",i);
						mysql_query(SQL,str2);
						return 1;
					}
					if(BizzInfo[i][bLocked] == 0)
					{
						BizzInfo[i][bLocked] = 1;
						GameTextForPlayer(playerid, "~w~Afacere ~r~~h~Inchisa", 5000, 6);
						PlayerPlaySound(playerid, 1145, 0.0, 0.0, 0.0);
						new str2[128];
						format(str2,sizeof(str2),"UPDATE `bizz` SET `Locked`='0' WHERE `ID`='%d'",i);
						mysql_query(SQL,str2);
						return 1;
					}
				}
				else return SendClientMessage(playerid, COLOR_WHITE, "You don't own a bussines.");
			}
		}
    }
    return 1;
}

cmd:usedrugs(playerid,params[])
{
    if(IsPlayerConnected(playerid))
   	{
        if(UsingDrugs[playerid] == 0)
        {
			if(PlayerInfo[playerid][pDrugs] >= 2)
    	    {
    	        PlayerStoned[playerid] += 2;
    		    if(PlayerStoned[playerid] >= 2) { GameTextForPlayer(playerid, "~w~Esti drogat", 4000, 1); }
                new Float:health;
                GetPlayerHealthEx(playerid, health);
                if(health >= 90.0)
                {
                	SetPlayerHealthEx(playerid, 100);
				}
				else
				{
    				SetPlayerHealthEx(playerid, health + 10.0);
				}
				new sendername[25];
                GetPlayerName(playerid, sendername, sizeof(sendername));
                SendClientMessage(playerid, COLOR_WHITE, "Ai folosit 2 grame de droguri.");
				new string[128];
		        format(string, sizeof(string), "%s tocmai s-a drogat.", sendername);
                ProxDetector(20.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
                PlayerInfo[playerid][pDrugs] -= 2;
		        UsingDrugs[playerid] = 1;
                drug[playerid] = SetTimerEx("DrugEffectGone",30000,false,"d",playerid);
				new str2[128];
				format(str2,sizeof(str2),"UPDATE users SET `Money`='%d',`Drugs`='%d' WHERE `ID`='%d'",GetPlayerCash(playerid),PlayerInfo[playerid][pDrugs],PlayerInfo[playerid][pSQLID]);
				mysql_query(SQL,str2);
            }
        	else
          	{
      	    	SendClientMessage(playerid, COLOR_GREY, "Nu ai drugs anymore.");
            }
	    }
        else
		{
            SendClientMessage(playerid, COLOR_WHITE, "Te rugam sa astepti.");
        }
	}//not connected
	return 1;
}

cmd:bizstatus(playerid,params[])
{
    if(IsPlayerConnected(playerid))
	{
		new bouse = PlayerInfo[playerid][pBizz];
		if(bouse == 255) return SendClientMessage(playerid, COLOR_GREY, "Nu detii o afacere.");
		if (bouse >= 100)
		{
			PrintSBizInfo(playerid,bouse-100);
		}
		else
		{
			PrintBizInfo(playerid,bouse);
		}
	}
	return 1;
}
cmd:houseenter(playerid,params[]) {
	if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
	if(PlayerInfo[playerid][pAdmin] < 3) return SCM(playerid,COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new housenum;
	if(sscanf(params, "d",housenum)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /houseenter <House ID>");
	if(housenum < 1 || housenum > housess) return SCM(playerid,COLOR_BZYELLOW,"ID-ul casei este invalid.");
	SetPlayerInterior(playerid,HouseInfo[housenum][hInterior]);
	SetPlayerPosEx(playerid,HouseInfo[housenum][hExitx],HouseInfo[housenum][hExity],HouseInfo[housenum][hExitz]);
	PlayerInfo[playerid][pInt] = HouseInfo[housenum][hInterior];
	PlayerInfo[playerid][pLocal] = housenum;
	InHouse[playerid] = housenum;
	SetPlayerVirtualWorld(playerid,HouseInfo[housenum][hVirtual]);
	new string[180];
	format(string, sizeof(string), "AdmCmd: %s s-a teleportat in interiorul casei %d.", GetName(playerid), housenum);
	SendAdminMessage(COLOR_LOGS, string, 1);				
	return 1;
}
cmd:houseexit(playerid,params[]) {
	if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
	if(PlayerInfo[playerid][pAdmin] < 3) return SCM(playerid,COLOR_ERROR, AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new housenum,string[180];
	if(sscanf(params, "d",housenum)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /houseexit <House ID>");
	if(housenum < 1 || housenum > housess) return SCM(playerid,COLOR_GREY,"ID-ul casei este invalid.");
	SetPlayerVirtualWorld(playerid,0);
	StopAudioStreamForPlayer(playerid);
	SetPlayerInterior(playerid,0);
	SetPlayerPosEx(playerid,HouseInfo[housenum][hEntrancex],HouseInfo[housenum][hEntrancey],HouseInfo[housenum][hEntrancez]);
	PlayerInfo[playerid][pInt] = 0;
	PlayerInfo[playerid][pLocal] = 255;
	InHouse[playerid] = -1;
	format(string, sizeof(string), "AdmCmd: %s s-a teleportat la exteriorul casei %d.", GetName(playerid), housenum);
	SendAdminMessage(COLOR_LOGS, string, 1);
	return 1;
}
alias:gotobiz("biz");
cmd:gotobiz(playerid,params[])
{
	if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
	if(PlayerInfo[playerid][pAdmin] < 3) return SendClientMessage(playerid,COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new housenum;
	if(sscanf(params, "d",housenum)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: (/goto)biz <Biz ID>");
	if(housenum < 1 || housenum > bussines) return SCM(playerid, COLOR_BZYELLOW, "ID-ul bizz-ului este invalid.");
	if(BizzInfo[housenum][bStatic] == 0) {
		SetPlayerInterior(playerid,BizzInfo[housenum][bInterior]);
		SetPlayerPosEx(playerid,BizzInfo[housenum][bExitX],BizzInfo[housenum][bExitY],BizzInfo[housenum][bExitZ]);
		PlayerInfo[playerid][pInt] = BizzInfo[housenum][bInterior];
		PlayerInfo[playerid][pLocal] = housenum+99;		
		SetPlayerVirtualWorld(playerid,BizzInfo[housenum][bVirtual]);
		InBussines[playerid] = housenum;
	}
	else {
		SetPlayerInterior(playerid, 0);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerPosEx(playerid,BizzInfo[housenum][bEntranceX],BizzInfo[housenum][bEntranceY],BizzInfo[housenum][bEntranceZ]);
	}
	new string[180];
	format(string, sizeof(string), "AdmCmd: %s s-a teleportat la biz %d.", GetName(playerid), housenum);
	SendAdminMessage(COLOR_LOGS, string, 1);			
	return 1;
}

cmd:buylevel(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
        if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
        new nxtlevel = PlayerInfo[playerid][pLevel];
		new costlevel;
		new expamount,string[128];

		expamount = nxtlevel*levelexp;
		costlevel = nxtlevel*levelcost;

		if (IsPlayerLogged[playerid] != 0)
		{
			if(GetPlayerCash(playerid) < costlevel) return SCM(playerid,COLOR_GRAD1,"Nu ai destui bani.");
			if(PlayerInfo[playerid][pExp] < expamount) return SCM(playerid,COLOR_GRAD1,"Nu ai destule RP-uri.");
			GivePlayerCash(playerid, -costlevel);
			PlayerInfo[playerid][pLevel]++;
		    if(PlayerInfo[playerid][pPremiumAccount] != 0) PlayerInfo[playerid][pExp] -= expamount;
		    else PlayerInfo[playerid][pExp] = 0;
		    
		    format(string,sizeof(string),"Felicitari, acum ai nivel %d!",PlayerInfo[playerid][pLevel]);
			SCM(playerid,COLOR_SERVER,string);

		    Update(playerid,pCashx);
		    Update(playerid,pRP);
			Update(playerid,pLevelx);
			SetPlayerScore(playerid, PlayerInfo[playerid][pLevel]);
		}
		else return SendClientMessage(playerid, COLOR_GREY, "Nu esti logat.");
	}
	return 1;
}

cmd:bigears(playerid,params[])
{
	if(IsPlayerConnected(playerid))
	{
		if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid,COLOR_ERROR, AdminOnly);
		if (!BigEar[playerid])
		{
			BigEar[playerid] = 1;
			SendClientMessage(playerid, COLOR_WHITE, "Acum vei vedea chat-ul.");
		}
		else if (BigEar[playerid])
		{
			(BigEar[playerid] = 0);
			SendClientMessage(playerid, COLOR_GREY, "Nu o sa mai vezi chat-ul.");
		}
	}
	return 1;
}
cmd:editclan(playerid, params[])
{
	new
	    szName[256],
		message[256],
		string[256],
		szQuery[256],
		clanid, code;

	if(PlayerInfo[playerid][pAdmin] < 6) return SendClientMessage(playerid, COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "iis[128]", clanid, code, message)) {
		SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /editclan <ClanID> <Item> <Result>");
		SendClientMessage(playerid, COLOR_GREY, "Valabile: Name(0), Owner(1), Tag(2), Tag Type(3), Rank 1(4), Rank 2(5), Rank 3(6), [...]");
		SendClientMessage(playerid, COLOR_GREY, "Rank 4(7), Rank 5(8), Rank 6(9), Slots(11), Register Date(12).");
		return 1;
	}
	switch(code)
	{
	    case 0: {
			format(string, sizeof(string), "Ai editat cu succes numele la clanul cu ID-ul %d in %s.", clanid, message);
	        format(ClanInfo[clanid][clName], 256, message);
			format(szQuery, sizeof(szQuery), "UPDATE `clans` SET `Name`='%s' WHERE `ID`='%d'", ClanInfo[clanid][clName], clanid);
			mysql_query(SQL, szQuery);
	    }
	    case 1: {
			format(string, sizeof(string), "Ai editat cu succes detinatorul la clanul cu ID-ul %d in %s.", clanid, message);
	        format(ClanInfo[clanid][clOwner], 256, message);
			format(szQuery, sizeof(szQuery), "UPDATE `clans` SET `Owner`='%s' WHERE `ID`='%d'", ClanInfo[clanid][clOwner], clanid);
			mysql_query(SQL, szQuery);
	    }
	    case 2: {
			format(string, sizeof(string), "Ai editat cu succes tagul la clanul cu ID-ul %d in %s.", clanid, message);
	        format(ClanInfo[clanid][clTag], 32, message);
			format(szQuery, sizeof(szQuery), "UPDATE `clans` SET `Tag`='%s' WHERE `ID`='%d'", ClanInfo[clanid][clTag], clanid);
			mysql_query(SQL, szQuery);
			foreach(Player, i) {
			    if(IsPlayerConnected(i)) {
					if(PlayerInfo[i][pClan] == clanid && ClanInfo[clanid][clTagType] == 0) {
					    format(szName, sizeof(szName), "%s%s", ClanInfo[clanid][clTag], PlayerInfo[i][pUsername]);
					    SetPlayerName(i, szName);
					}
					else if(PlayerInfo[i][pClan] == clanid && ClanInfo[clanid][clTagType] == 1) {
					    format(szName, sizeof(szName), "%s%s", PlayerInfo[i][pUsername], ClanInfo[clanid][clTag]);
					    SetPlayerName(i, szName);
					}
				}
			}
			new tagname[256];
			for(new i = 0; i < 18; i++)
			{
			    if(GraffitiInfo[i][gfOwned] == PlayerInfo[playerid][pClan]) {
					DestroyDynamicObject(GraffitiInfo[i][gfObject]);
					GraffitiInfo[i][gfObject] = CreateDynamicObject(19353, GraffitiInfo[i][gfX], GraffitiInfo[i][gfY], GraffitiInfo[i][gfZ], 0.0, 0.0, GraffitiInfo[i][gfRot]);
					format(tagname, sizeof(tagname), "{%s}%s\n%s", ClanInfo[GraffitiInfo[i][gfOwned]][clColor], ClanInfo[GraffitiInfo[i][gfOwned]][clName], ClanInfo[GraffitiInfo[i][gfOwned]][clTag]);
					SetDynamicObjectMaterialText(GraffitiInfo[i][gfObject], 0, tagname, OBJECT_MATERIAL_SIZE_512x256, "BankGothic Md BT", 60, 1, 0xfff0f0f0, 0, OBJECT_MATERIAL_TEXT_ALIGN_CENTER);
			    }
			}
	    }
	    case 3: {
			format(string, sizeof(string), "Ai editat cu succes tipul tagului la clanul cu ID-ul %d in %d.", clanid, strval(message));
	        ClanInfo[clanid][clTagType] = strval(message);
			format(szQuery, sizeof(szQuery), "UPDATE `clans` SET `TagType`='%d' WHERE `ID`='%d'", ClanInfo[clanid][clTagType], clanid);
			mysql_query(SQL, szQuery);
			foreach(Player, i) {
			    if(IsPlayerConnected(i)) {
					if(PlayerInfo[i][pClan] == clanid && ClanInfo[clanid][clTagType] == 0) {
					    format(szName, sizeof(szName), "%s%s", ClanInfo[clanid][clTag], PlayerInfo[i][pUsername]);
					    SetPlayerName(i, szName);
					}
					else if(PlayerInfo[i][pClan] == clanid && ClanInfo[clanid][clTagType] == 1) {
					    format(szName, sizeof(szName), "%s%s", PlayerInfo[i][pUsername], ClanInfo[clanid][clTag]);
					    SetPlayerName(i, szName);
					}
				}
			}
	    }
	    case 4: {
			format(string, sizeof(string), "Ai editat cu succes numele la rank-ul 1 la clanul cu ID-ul %d in %s.", clanid, message);
	        format(ClanInfo[clanid][clRankName1], 256, message);
			format(szQuery, sizeof(szQuery), "UPDATE `clans` SET `RankName1`='%s' WHERE `ID`='%d'", ClanInfo[clanid][clRankName1], clanid);
			mysql_query(SQL, szQuery);
	    }
	    case 5: {
			format(string, sizeof(string), "Ai editat cu succes numele la rank-ul 2 la clanul cu ID-ul %d in %s.", clanid, message);
	        format(ClanInfo[clanid][clRankName2], 256, message);
			format(szQuery, sizeof(szQuery), "UPDATE `clans` SET `RankName2`='%s' WHERE `ID`='%d'", ClanInfo[clanid][clRankName2], clanid);
			mysql_query(SQL, szQuery);
	    }
	    case 6: {
			format(string, sizeof(string), "Ai editat cu succes numele la rank-ul 3 la clanul cu ID-ul %d in %s.", clanid, message);
	        format(ClanInfo[clanid][clRankName3], 256, message);
			format(szQuery, sizeof(szQuery), "UPDATE `clans` SET `RankName3`='%s' WHERE `ID`='%d'", ClanInfo[clanid][clRankName3], clanid);
			mysql_query(SQL, szQuery);
	    }
	    case 7: {
			format(string, sizeof(string), "Ai editat cu succes numele la rank-ul 4 la clanul cu ID-ul %d in %s.", clanid, message);
	        format(ClanInfo[clanid][clRankName4], 256, message);
			format(szQuery, sizeof(szQuery), "UPDATE `clans` SET `RankName4`='%s' WHERE `ID`='%d'", ClanInfo[clanid][clRankName4], clanid);
			mysql_query(SQL, szQuery);
	    }
	    case 8: {
			format(string, sizeof(string), "Ai editat cu succes numele la rank-ul 5 la clanul cu ID-ul %d in %s.", clanid, message);
	        format(ClanInfo[clanid][clRankName5], 256, message);
			format(szQuery, sizeof(szQuery), "UPDATE `clans` SET `RankName5`='%s' WHERE `ID`='%d'", ClanInfo[clanid][clRankName5], clanid);
			mysql_query(SQL, szQuery);
	    }
	    case 9: {
			format(string, sizeof(string), "Ai editat cu succes numele la rank-ul 6 la clanul cu ID-ul %d in %s.", clanid, message);
	        format(ClanInfo[clanid][clRankName6], 256, message);
			format(szQuery, sizeof(szQuery), "UPDATE `clans` SET `RankName6`='%s' WHERE `ID`='%d'", ClanInfo[clanid][clRankName6], clanid);
			mysql_query(SQL, szQuery);
	    }
	    case 10: {
	        if(strval(message) < 5) return SendClientMessage(playerid, COLOR_GREY, "Clan slots invalid.");
			format(string, sizeof(string), "Ai editat cu succes sloturile la clanul cu ID-ul %d in %d.", clanid, strval(message));
	        ClanInfo[clanid][clSlots] = strval(message);
			format(szQuery, sizeof(szQuery), "UPDATE `clans` SET `Slots`='%d' WHERE `ID`='%d'", ClanInfo[clanid][clSlots], clanid);
			mysql_query(SQL, szQuery);
	    }
	    case 11: {
			format(string, sizeof(string), "Ai editat cu succes data inregistrarii la clanul cu ID-ul %d in %s.", clanid, message);
	        format(ClanInfo[clanid][clRegisterDate], 256, message);
			format(szQuery, sizeof(szQuery), "UPDATE `clans` SET `Slots`='%d' WHERE `ID`='%d'", ClanInfo[clanid][clRegisterDate], clanid);
			mysql_query(SQL, szQuery);
	    }
	    default: SendClientMessage(playerid, COLOR_GREY, "Code id invalid.");
	}
	SendClientMessage(playerid, COLOR_YELLOW, string);
	return 1;
}

cmd:editjob(playerid, params[])
{
	new szTitle[256], szDialog[1024], job;
	if(PlayerInfo[playerid][pAdmin] < 6) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "i", job)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /editjob <Job ID>");
	if(strlen(JobInfo[job][jName]) == 0) return SendClientMessage(playerid, COLOR_GREY, "Job invalid!");
	format(szDialog, sizeof(szDialog),
		"Numele jobului\t\t%s\nNivel\t\t%d\nPozitie\t\t%f, %f, %f\nLegal\t\t%d\n\
		Skill 1 Veh\t\t%d\nSkill 2 Veh\t\t%d\nSkill 3 Veh\t\t%d\nSkill 4 Veh\t\t%d\nSkill 5 Veh\t\t%d",
	JobInfo[job][jName], JobInfo[job][jLevel], JobInfo[job][jPosX], JobInfo[job][jPosY],
	JobInfo[job][jPosZ], JobInfo[job][jLegal], JobInfo[job][jSkill1Veh], JobInfo[job][jSkill2Veh], JobInfo[job][jSkill3Veh], JobInfo[job][jSkill4Veh],
	JobInfo[job][jSkill5Veh]);
	format(szTitle, sizeof(szTitle), "Edit job %d", job);
	ShowPlayerDialog(playerid, DIALOG_EDITJOB, DIALOG_STYLE_TABLIST, szTitle, szDialog, "Select", "Cancel");
	EditJobID[playerid] = job;
	return 1;
}

/*
cmd:picklock(playerid, params[]) {
    if(JobWorking[playerid] == 0 || PlayerInfo[playerid][pJob] != 11) return 1;
    if(GetPlayerSkill(playerid) != 4) return SCM(playerid, -1, "Nu ai skill 4!");
	if(IsPlayerInAnyVehicle(playerid)) return 1;
	new idd, car;
	car = GetClosestVehicle(playerid);
	idd = FindSpawnID(car);
	if(CarInfo[idd][Spawned] == 0) return SCM(playerid, -1, "Vehicul invalid!");
	if(CarInfo[idd][cLock] == 0) return SCM(playerid, -1, "Acest vehicul nu este inchis!");
    PutPlayerInVehicleEx(playerid, car, 0);
	new id = playerid;
	SetPlayerWantedLevel(id,PlayerInfo[id][pWantedLevel]);
	SetPlayerCriminal(id,255, "Jaf");
	new string[256];
	format(string, sizeof(string), "Ai comis o noua crima (Jaf).");
	SendClientMessage(id, COLOR_LIGHTRED, string);
	format(string, sizeof(string), "Wanted-ul actual: %d", PlayerInfo[id][pWantedLevel]);
	SendClientMessage(id, COLOR_YELLOW, string);
	wantedlost[id] = 1800;
	Update(id,pWantedLevelx);
	return 1;
}*/

cmd:jobhelp(playerid, params[]) {
	if(PlayerInfo[playerid][pJob] == 0) return SCM(playerid, COLOR_GREY, "Nu ai un job!");
    new szDialog[1024];
	switch(PlayerInfo[playerid][pJob]) {
	    case 1: strcat(szDialog, "/work /stopwork");
	    case 2: strcat(szDialog, "/work /stopwork");
	    case 3: strcat(szDialog, "/work /stopwork");
	    case 4: strcat(szDialog, "/work /stopwork");
	    case 5: strcat(szDialog, "/work /stopwork /sellgun /sellmaterials /materials");
	    case 6: strcat(szDialog, "/work /stopwork /selldrugs /getdrugs");
	    case 7: strcat(szDialog, "/refill /repair");
	    case 8: strcat(szDialog, "/find");
	    case 9: strcat(szDialog, "/work /stopwork");
	    case 10: strcat(szDialog, "/work /stopwork /fish");
	    case 11: strcat(szDialog, "/work /stopwork");
	}
	ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Comenzile jobului tau:", szDialog, "Cancel", "");
	return 1;
}
cmd:startwork(playerid, params[], help) {
	if(PlayerInfo[playerid][pJob] == 11) return SCM(playerid, -1, "Foloseste /fish pentru a incepe munca la acest job!");
	if(IsPlayerInAnyVehicle(playerid)) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu poti aceasta comanda dintr-un vehicul!");
	new Float: Pos[3], Float: CarAngle, string[128];
	if(PlayerInfo[playerid][pJob] == 0) return SCM(playerid, COLOR_GREY, "Nu ai un job!");
	if(JobWorking[playerid] == 1) return SCM(playerid, COLOR_WHITE, "Muncesti deja.");
			
    GetPlayerPos(playerid, Pos[0], Pos[1], Pos[2]);
    if(targetfind[playerid] != -1) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ.\nDoresti sa-l anulezi? Daca da, apasa pe 'Ok'.", "Ok", "Exit");
	if(GetPlayerVirtualWorld(playerid) != 0) return 1;
	if(JobDeelay[playerid][PlayerInfo[playerid][pJob]] != 0 && PlayerInfo[playerid][pAdmin] < 6) return JobTimeDeelay(playerid);
	switch(PlayerInfo[playerid][pJob]) {
	    case 1: {
	        if(PlayerToPoint(7.0, playerid, -372.6979, -1456.3641, 26.4046)) {
				if(PlayerInfo[playerid][pCarLic] == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Ai nevoie de o licenta de condus pentru a putea munci la acest job!");
				JobSeconds[playerid] = 120;
                CarAngle = -184.0199;
                DisablePlayerCheckpointEx(playerid);
			}
	        else {
 				if(CP[playerid] != 0) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ.\nDoresti sa-l anulezi? Daca da, apasa pe 'Ok'.", "Ok", "Exit");
	          	CP[playerid] = 53;
				SCM(playerid, COLOR_GREY, "Nu esti la locul unde poti incepe munca. Ti-am pus un checkpoint, du-te la el!");
				SetPlayerCheckpointEx(playerid, -372.6979, -1456.3641, 26.4046, 7.0);
				return 1;
		    }
	    }
	    case 2: {
	        if(PlayerToPoint(7.0, playerid, -1017.3097,-638.8459,32.0078)) {
				if(PlayerInfo[playerid][pCarLic] == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Ai nevoie de o licenta de condus pentru a putea munci la acest job!");
                CarAngle = 74.1729;
                CP[playerid] = 52;
                DisablePlayerCheckpointEx(playerid);
		    	new szDialog2[1024];				
				strcat(szDialog2, "Category\tType\tSkill\n");
				strcat(szDialog2, "Clothes\t{35DE1F}Legal\t1+\n");
				strcat(szDialog2, "Food\t{35DE1F}Legal\t1+\n");
				strcat(szDialog2, "Furniture\t{35DE1F}Legal\t1+\n");
				strcat(szDialog2, "Explosible\t{35DE1F}Legal\t2+\n");
				strcat(szDialog2, "Guns\t{F21313}Illegal\t3+\n");
				strcat(szDialog2, "Stolen cars\t{F21313}Illegal\t3+\n");
				ShowPlayerDialog(playerid, DIALOG_TRUCKER, DIALOG_STYLE_TABLIST_HEADERS, "Choose destination", szDialog2, "Select", "Cancel");			
			}
	        else {
 				if(CP[playerid] != 0) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ.\nDoresti sa-l anulezi? Daca da, apasa pe 'Ok'.", "Ok", "Exit");
	          	CP[playerid] = 53;
				SCM(playerid, COLOR_GREY, "Nu esti la locul unde poti incepe munca. Ti-am pus un checkpoint, du-te la el!");
				SetPlayerCheckpointEx(playerid, -1017.3097,-638.8459,32.0078, 7.0);
				return 1;
		    }
	    }
	    case 3: {
	        if(PlayerToPoint(7.0, playerid, -1966.2852,-2442.2708,30.6250)) {
				if(PlayerInfo[playerid][pCarLic] == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Ai nevoie de o licenta de condus pentru a putea munci la acest job!");
				format(string, sizeof(string), "Du-te la un copac din apropiere si foloseste tasta ~b~~h~LALT~w~~h~ pentru a-l taia.");
				PlayerTextDrawSetString(playerid, InfosTD, string);
				SetTimerEx("HideTextdraw", 8000, 0, "%d", playerid);
				PlayerTextDrawShow(playerid, InfosTD);	
				CarAngle = 222.7997;			}
	        else {
 				if(CP[playerid] != 0) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ.\nDoresti sa-l anulezi? Daca da, apasa pe 'Ok'.", "Ok", "Exit");
	          	CP[playerid] = 53;
				SCM(playerid, COLOR_GREY, "Nu esti la locul unde poti incepe munca. Ti-am pus un checkpoint, du-te la el!");
				SetPlayerCheckpointEx(playerid, -1966.2852,-2442.2708,30.6250, 7.0);
				return 1;
		    }		
		}
	    case 4: {
			if(GetPlayerSkill(playerid) == 1) PlayerTextDrawSetString(playerid, InfosTD, "~y~Car Jacker~w~~h~~n~Fura un vehicul public!");
			else if(GetPlayerSkill(playerid) == 2) PlayerTextDrawSetString(playerid, InfosTD, "~y~Car Jacker~w~~h~~n~Fura un vehicul personal descuiat!");
			else if(GetPlayerSkill(playerid) == 3) PlayerTextDrawSetString(playerid, InfosTD, "~y~Car Jacker~w~~h~~n~Fura un vehicul ce apartine unei mafii!");
			else if(GetPlayerSkill(playerid) == 4) PlayerTextDrawSetString(playerid, InfosTD, "~y~Car Jacker~w~~h~~n~Fura un vehicul personal incuiat!");
			else if(GetPlayerSkill(playerid) == 5) PlayerTextDrawSetString(playerid, InfosTD, "~y~Car Jacker~w~~h~~n~Fura un vehicul ce apartine unui departament de politie!");
			PlayerTextDrawShow(playerid, InfosTD);
			JobWorking[playerid] = 1;
			SetTimerEx("HideTextdraw", 8000, 0, "%d", playerid);
			return 1;
	    }
		case 5: {
			if(PlayerInfo[playerid][pWantedLevel] != 0) return SCM(playerid, -1, "Nu poti munci la acest job deoarece ai wanted!");
			if(!PlayerToPoint(10.0, playerid, 2770.2822,-1610.9043,11.0418)) {				
				SCM(playerid, COLOR_GREY, "Nu esti la locul unde poti incepe munca. Ti-am pus un checkpoint, du-te la el!");
				SetPlayerCheckpointEx(playerid, 2770.2822,-1610.9043,11.0418, 10.0);
				CP[playerid] = 53;
				return 1;
			}
			if(PlayerInfo[playerid][pCarLic] == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Ai nevoie de o licenta de condus pentru a putea munci la acest job!");
			CP[playerid] = 156;
			new rand = random(3);			
			switch(rand) {
				case 0: SetPlayerCheckpointEx(playerid, 2790.6213,-2523.6418,13.6704, 5.0);
				case 1: SetPlayerCheckpointEx(playerid, 2529.4214,-2009.4240,13.5798, 5.0);
				case 2: SetPlayerCheckpointEx(playerid, 2180.0774,-2317.1672,13.5703, 5.0); 
				case 3: SetPlayerCheckpointEx(playerid, 681.2267,-442.6591,16.3633, 5.0);
			}
			
			format(string, sizeof(string), "Du-te la checkpoint-ul de pe mapa pentru a livra materialele!");
			PlayerTextDrawSetString(playerid, InfosTD, string);
			SetTimerEx("HideTextdraw", 8000, 0, "%d", playerid);
			PlayerTextDrawShow(playerid, InfosTD);
			
			CarAngle = 277.2561;
			StartingWork[playerid] = 0;
			CurseFacute[playerid] = 0;
			MoneyEarned[playerid] = 0;		
		}
	    case 6..8: return 1;
	    case 9: {
	        if(PlayerToPoint(7.0, playerid, 2113.9392,-1775.1980,13.3918)) {
				if(PlayerInfo[playerid][pCarLic] == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Ai nevoie de o licenta de condus pentru a putea munci la acest job!");
                CarAngle = 0;
                CP[playerid] = 155;
				new j = random(housess)+1;
				if(j == 0) j = 1;
				SetPlayerCheckpointEx(playerid, HouseInfo[j][hEntrancex],HouseInfo[j][hEntrancey],HouseInfo[j][hEntrancez], 7.0);
				format(string, sizeof(string), "Du-te la punctul ~r~~h~rosu~w~~h~ de pe mapa pentru a livra pizza.~n~Distanta: ~y~%0.1fm.", GetPlayerDistanceFromPoint(playerid, HouseInfo[j][hEntrancex],HouseInfo[j][hEntrancey],HouseInfo[j][hEntrancez]));
				PlayerTextDrawSetString(playerid, InfosTD, string);
				SetTimerEx("HideTextdraw", 8000, 0, "%d", playerid);
				PlayerTextDrawShow(playerid, InfosTD);				
			}
	        else {
 				if(CP[playerid] != 0) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ.\nDoresti sa-l anulezi? Daca da, apasa pe 'Ok'.", "Ok", "Exit");
	          	CP[playerid] = 53;
				SCM(playerid, COLOR_GREY, "Nu esti la locul unde poti incepe munca. Ti-am pus un checkpoint, du-te la el!");
				SetPlayerCheckpointEx(playerid,2113.9392,-1775.1980,13.3918, 7.0);
				return 1;
		    }
	    }	
		case 10: {
			if(!PlayerToPoint(6.0, playerid, 844.6592,-601.3264,18.4219)) {
				SCM(playerid, COLOR_GREY, "Nu esti la locul unde poti incepe munca. Ti-am pus un checkpoint, du-te la el!");
				SetPlayerCheckpointEx(playerid, 844.6592,-601.3264,18.4219, 6.0);
				CP[playerid] = 53;
				return 1;
			}
			if(PlayerInfo[playerid][pCarLic] == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Ai nevoie de o licenta de condus pentru a putea munci la acest job!");
			CarAngle = 0.7028;
			CP[playerid] = 57;
			
			new rand = random(3);
			if(rand == 1) SetPlayerCheckpointEx(playerid, 830.0479, -611.8955, 16.3432, 5.0);
			else if(rand == 2) SetPlayerCheckpointEx(playerid, 820.7677, -612.4786, 16.3432, 5.0);
			else if(rand == 3) SetPlayerCheckpointEx(playerid, 790.9538, -612.2801, 16.3432, 5.0);
			else SetPlayerCheckpointEx(playerid, 830.0479, -611.8955, 16.3432, 5.0);
			
			PlayerTextDrawSetString(playerid, InfosTD, "Du-te la punctul ~r~rosu~w~~h~ pentru a incarca coletele!");
			SetTimerEx("HideTextdraw", 8000, 0, "%d", playerid);
			PlayerTextDrawShow(playerid, InfosTD);	
		}		
		case 12: {
			if(!PlayerToPoint(20.0, playerid, 1947.3197,-2387.1599,13.5469)) {
				SCM(playerid, COLOR_GREY, "Nu esti la locul unde poti incepe munca. Ti-am pus un checkpoint, du-te la el!");
				SetPlayerCheckpointEx(playerid, 1947.3197,-2387.1599,13.5469, 20.0);
				CP[playerid] = 53;
				return 1;
			}
			if(PlayerInfo[playerid][pFlyLic] == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Ai nevoie de o licenta de zbor pentru a putea munci la acest job!");
			if(PlayerInfo[playerid][pWantedLevel] != 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu poti munci la acest job deoarece ai wanted!");			
			CP[playerid] = 159;
			SetPlayerRaceCheckpointEx(playerid, 3, 1897.3568,-2493.9583,14.4609,1337.7225,-2458.1738,52.1955, 5.0);
			CarAngle = 90.6909;
			StartingWork[playerid] = 0;
			CurseFacute[playerid] = 0;
			MoneyEarned[playerid] = 0;		
		}
		case 13: {
			if(!PlayerToPoint(7.0, playerid, 2173.3965,-2265.2837,13.3579)) {
				SCM(playerid, COLOR_GREY, "Nu esti la locul unde poti incepe munca. Ti-am pus un checkpoint, du-te la el!");
				SetPlayerCheckpointEx(playerid, 2173.3965,-2265.2837,13.3579, 7.0);
				CP[playerid] = 53;
				return 1;
			}	
			if(PlayerInfo[playerid][pCarLic] == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Ai nevoie de o licenta de condus pentru a putea munci la acest job!");
			PlayerTextDrawSetString(playerid, InfosTD, "Du-te la ~r~~h~checkpoint-ul~w~~h~ de pe mapa pentru a lua marfa!");
			SetTimerEx("HideTextdraw", 8000, 0, "%d", playerid);
			PlayerTextDrawShow(playerid, InfosTD);			
			new rand = random(2);
			DisablePlayerCheckpointEx(playerid);
			switch(rand) {
				case 0: {
					playerObject[playerid] = CreatePlayerObject(playerid, 1271, 2214.87109, -2287.46167, 14.06371,   0.00000, 0.00000, 45.00000);
					SetPlayerCheckpointEx(playerid, 2214.87109, -2287.46167, 14.06371, 2.0);			
				}
				case 1: {
					playerObject[playerid] = CreatePlayerObject(playerid, 1271, 2237.34399, -2294.11938, 14.08454,   0.00000, 0.00000, 45.00000);
					SetPlayerCheckpointEx(playerid, 2237.34399, -2294.11938, 14.08454, 2.0);
				}
				case 2: {
					playerObject[playerid] = CreatePlayerObject(playerid, 1271, 2216.74878, -2210.50146, 12.86219,   0.00000, 0.00000, 45.00000);	
					SetPlayerCheckpointEx(playerid, 2216.74878, -2210.50146, 12.86219, 2.0);
				}
			}
			CP[playerid] = 170;
			UpdateJobStats(playerid);
		}
	}
	SetPVarInt(playerid, "Pressed", 0);
	SetPVarInt(playerid, "Trees", 0);
	SetPVarInt(playerid, "JobStep", 0);				
	SetPVarInt(playerid, "InHand", 0);				
	
    MoneyEarned[playerid] = 0;
	CurseFacute[playerid] = 0;
	if(PlayerInfo[playerid][pShowJob] == 0 && PlayerInfo[playerid][pJob] != 5 && PlayerInfo[playerid][pLevel] < 3) SCM(playerid, COLOR_YELLOW, "Daca doresti sa vezi mai multe informatii folositoare de la job, o poti face prin comanda (/hud > Informatii job).");
	new skill = GetPlayerSkill(playerid);
	if(PlayerInfo[playerid][pJob] == 11) {
		new rand = 1 + random(5);		
		if(rand == 1) { Pos[0] = 877.5832; Pos[1] = -2126.4685; Pos[2] = 0.3231; CarAngle = -89.2800; }
		if(rand == 2) { Pos[0] = 877.3463; Pos[1] = -2113.4219; Pos[2] = 0.3231; CarAngle = -89.2800; }
		if(rand == 3) { Pos[0] = 796.3821; Pos[1] = -2114.0200; Pos[2] = -0.0049; CarAngle = 89.7000; }
		if(rand == 4) { Pos[0] = 796.9351; Pos[1] = -2127.4446; Pos[2] = -0.0049; CarAngle = 89.7000; }
		if(rand == 5) { Pos[0] = 796.1244; Pos[1] = -2100.6455; Pos[2] = -0.0049; CarAngle = 89.7000; }
		if(rand == 6) { Pos[0] = 797.0450; Pos[1] = -2139.8650; Pos[2] = -0.0049; CarAngle = 89.7000; }
	}
	if(PlayerInfo[playerid][pJob] == 12) {
		if(skill == 1) JobVehicle[playerid] = CreateVehicleEx(JobInfo[PlayerInfo[playerid][pJob]][jSkill1Veh], 1982.5657,-2493.7964,14.4719, CarAngle, -1, -1, -1);
		else if(skill == 2) JobVehicle[playerid] = CreateVehicleEx(JobInfo[PlayerInfo[playerid][pJob]][jSkill2Veh], 1982.5657,-2493.7964,14.4719, CarAngle, -1, -1, -1);
		else if(skill == 3) JobVehicle[playerid] = CreateVehicleEx(JobInfo[PlayerInfo[playerid][pJob]][jSkill3Veh], 1982.5657,-2493.7964,14.4719, CarAngle, -1, -1, -1);
		else if(skill == 4) JobVehicle[playerid] = CreateVehicleEx(JobInfo[PlayerInfo[playerid][pJob]][jSkill4Veh], 1982.5657,-2493.7964,14.4719, CarAngle, -1, -1, -1);
		else if(skill == 5) JobVehicle[playerid] = CreateVehicleEx(JobInfo[PlayerInfo[playerid][pJob]][jSkill5Veh], 1982.5657,-2493.7964,14.4719, CarAngle, -1, -1, -1);	
	}
	else {
		if(PlayerInfo[playerid][pJob] == 3) {
			if(skill == 1) JobVehicle[playerid] = CreateVehicleEx(578, Pos[0], Pos[1], Pos[2], CarAngle, random(240), random(240), -1);
			else if(skill == 2) JobVehicle[playerid] = CreateVehicleEx(578, Pos[0], Pos[1], Pos[2], CarAngle, random(240), random(240), -1);
			else if(skill == 3) JobVehicle[playerid] = CreateVehicleEx(578, Pos[0], Pos[1], Pos[2], CarAngle, random(240), random(240), -1);
			else if(skill == 4) JobVehicle[playerid] = CreateVehicleEx(578, Pos[0], Pos[1], Pos[2], CarAngle, random(240), random(240), -1);
			else if(skill == 5) JobVehicle[playerid] = CreateVehicleEx(578, Pos[0], Pos[1], Pos[2], CarAngle, random(240), random(240), -1);		
		}
		else {
			if(skill == 1) JobVehicle[playerid] = CreateVehicleEx(JobInfo[PlayerInfo[playerid][pJob]][jSkill1Veh], Pos[0], Pos[1], Pos[2], CarAngle, -1, -1, -1);
			else if(skill == 2) JobVehicle[playerid] = CreateVehicleEx(JobInfo[PlayerInfo[playerid][pJob]][jSkill2Veh], Pos[0], Pos[1], Pos[2], CarAngle, -1, -1, -1);
			else if(skill == 3) JobVehicle[playerid] = CreateVehicleEx(JobInfo[PlayerInfo[playerid][pJob]][jSkill3Veh], Pos[0], Pos[1], Pos[2], CarAngle, -1, -1, -1);
			else if(skill == 4) JobVehicle[playerid] = CreateVehicleEx(JobInfo[PlayerInfo[playerid][pJob]][jSkill4Veh], Pos[0], Pos[1], Pos[2], CarAngle, -1, -1, -1);
			else if(skill == 5) JobVehicle[playerid] = CreateVehicleEx(JobInfo[PlayerInfo[playerid][pJob]][jSkill5Veh], Pos[0], Pos[1], Pos[2], CarAngle, -1, -1, -1);
		}	
	}	
    PutPlayerInVehicleEx(playerid, JobVehicle[playerid], 0);
    JobWorking[playerid] = 1;
	if(PlayerInfo[playerid][pJob] != 2) UpdateJobStats(playerid);
    Gas[JobVehicle[playerid]] = 100;
	WorkingTime[playerid] = 0;
 	if(PlayerInfo[playerid][pJob] == 11) DisableRemoteVehicleCollisions(playerid, 1);
	SetPlayerVirtualWorld(playerid, 0);

	new engine,lights,alarm,doors,bonnet,boot,objective;
	vehEngine[JobVehicle[playerid]] = 1;
	GetVehicleParamsEx(JobVehicle[playerid],engine,lights,alarm,doors,bonnet,boot,objective);
	SetVehicleParamsEx(JobVehicle[playerid],VEHICLE_PARAMS_ON,lights,alarm,doors,bonnet,boot,objective);	
	return 1;
}
//Comenzi JOB
cmd::picklock(playerid, params[]) {
    if(JobWorking[playerid] == 0 || PlayerInfo[playerid][pJob] != 4) return 1;
    if(GetPlayerSkill(playerid) != 4) return SCM(playerid, COLOR_LGREEN, "Eroare: Ai nevoie de skill 4 pentru a folosi aceasta comanda!");
	if(IsPlayerInAnyVehicle(playerid)) return 1;
	new idd, car;
	car = GetClosestVehicle(playerid);
	idd = FindSpawnID(car);
	if(CarInfo[idd][Spawned] == 0) return SCM(playerid, COLOR_GREY, "Vehicul invalid!");
	if(CarInfo[idd][cLock] == 0) return SCM(playerid, COLOR_GREY, "Acest vehicul nu este inchis!");
	if(CarInfo[idd][Userid] == PlayerInfo[playerid][pSQLID]) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu iti poti fura propria masina!");
	if(IsAFLYCar(car) || IsABOATCar(car)) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu poti folosi aceasta comanda pe un avion/barca/elicopter!");
	
	new engine,lights,alarm,doors,bonnet,boot,objective;
	CarInfo[idd][cLock] = 0;
	GetVehicleParamsEx(CarInfo[idd][Spawned],engine,lights,alarm,doors,bonnet,boot,objective);
	SetVehicleParamsEx(CarInfo[idd][Spawned],engine,lights,alarm,0,bonnet,boot,objective);
	new string[128];
	format(string, sizeof(string), "~w~%s~n~~g~Deschis",aVehicleNames[CarInfo[idd][cModel]-400]);
	GameTextForPlayer(playerid, string, 5000, 4);
	mysql_format(SQL, string, sizeof(string), "UPDATE cars SET Lockk='%d' WHERE ID=%d", CarInfo[idd][cLock], idd);
	mysql_tquery(SQL, string, "", "");
	PlayerInfo[playerid][pWantedLevel] += 1;
	SetPlayerWantedLevel(playerid, PlayerInfo[playerid][pWantedLevel]);
	SetPlayerCriminal(playerid,255, "car jacker");
    WantedTime[playerid] = 0;
    Update(playerid,pWantedLevelx);
	ShowWanted[playerid] = 1;	
	return 1;
}
cmd:startwork(playerid, params[], help) {
	if(PlayerInfo[playerid][pJob] == 11) return SCM(playerid, -1, "Foloseste /fish pentru a incepe munca la acest job!");
	if(IsPlayerInAnyVehicle(playerid)) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu poti aceasta comanda dintr-un vehicul!");
	new Float: Pos[3], Float: CarAngle, string[128];
	new skill = GetPlayerSkill(playerid);
	if(PlayerInfo[playerid][pJob] == 0) return SCM(playerid, COLOR_GREY, "Nu ai un job!");
	if(JobWorking[playerid] == 1) return SCM(playerid, COLOR_WHITE, "Muncesti deja.");
 	GetPlayerPos(playerid, Pos[0], Pos[1], Pos[2]);
    if(targetfind[playerid] != -1) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ.\nDoresti sa-l anulezi? Daca da, apasa pe 'Ok'.", "Ok", "Exit");
	if(GetPlayerVirtualWorld(playerid) != 0) return 1;
	if(JobDeelay[playerid][PlayerInfo[playerid][pJob]] != 0 && PlayerInfo[playerid][pAdmin] < 6) return JobTimeDeelay(playerid);
	switch(PlayerInfo[playerid][pJob]) {
		case 1: {        //FARMER
	        if(PlayerToPoint(7.0, playerid, -372.6979, -1456.3641, 26.4046)) {
				if(PlayerInfo[playerid][pCarLic] == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Ai nevoie de o licenta de condus pentru a putea munci la acest job!");
				JobSeconds[playerid] = 120;
                CarAngle = -184.0199;
                DisablePlayerCheckpointEx(playerid);
			}
			else {
 				if(CP[playerid] != 0) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ.\nDoresti sa-l anulezi? Daca da, apasa pe 'Ok'.", "Ok", "Exit");
	          	CP[playerid] = 53;
				SCM(playerid, COLOR_GREY, "Nu esti la locul unde poti incepe munca. Ti-am pus un checkpoint, du-te la el!");
				SetPlayerCheckpointEx(playerid, -372.6979, -1456.3641, 26.4046, 7.0);
				return 1;
		    }
	    }
		case 2: {  //TRUCKER
	        if(PlayerToPoint(7.0, playerid, -1017.3097,-638.8459,32.0078)) {
				if(PlayerInfo[playerid][pCarLic] == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Ai nevoie de o licenta de condus pentru a putea munci la acest job!");
                CarAngle = 74.1729;
                CP[playerid] = 52;
                DisablePlayerCheckpointEx(playerid);
   		    	new szDialog2[1024];				
				strcat(szDialog2, "Destination\tCity\tDistance\tSkill\n");
				strcat(szDialog2, "Aeroport\tLos Santos\t%d\t1\n");
				strcat(szDialog2, "Odean Docks\tLos Santos\t%d\t1\n");
				strcat(szDialog2, "Burger Shot\tLos Santos\t%d\t1\n");
				strcat(szDialog2, "Aeroport\tLas Venturas\t%d\t1\n");
				strcat(szDialog2, "Rent\tLos Santos\t%d\t1\n");
				strcat(szDialog2, "Baza Militara\tLas Venturas\t%d\t1\n");
				strcat(szDialog2, "Depozit Amazon\tLas Venturas\t%d\t1\n");
				strcat(szDialog2, "Linden Side \tLas Venturas\t%d\t1\n");
				strcat(szDialog2, "Aeroport\tSan Fierro\t%d\t1\n");
				strcat(szDialog2, "Docks\tSan Fierro\t%d\t1\n");
				strcat(szDialog2, "Vest\tSan Fierro\t%d\t1\n");
				strcat(szDialog2, "Angel Pine\tSan Fierro\t%d\t1\n");
				ShowPlayerDialog(playerid, DIALOG_TRUCKER, DIALOG_STYLE_TABLIST_HEADERS, "Choose destination", szDialog2, "Select", "Cancel");			

			}
	        else {
 				if(CP[playerid] != 0) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ.\nDoresti sa-l anulezi? Daca da, apasa pe 'Ok'.", "Ok", "Exit");
	          	CP[playerid] = 53;
				SCM(playerid, COLOR_GREY, "Nu esti la locul unde poti incepe munca. Ti-am pus un checkpoint, du-te la el!");
				SetPlayerCheckpointEx(playerid, -1017.3097,-638.8459,32.0078, 7.0);
				return 1;
		    }
	    }
	    case 3: { //CAR JACKER
			if(GetPlayerSkill(playerid) == 1) PlayerTextDrawSetString(playerid, InfosTD, "~y~Car Jacker~w~~h~~n~Fura un vehicul public!");
			else if(GetPlayerSkill(playerid) == 2) PlayerTextDrawSetString(playerid, InfosTD, "~y~Car Jacker~w~~h~~n~Fura un vehicul personal descuiat!");
			else if(GetPlayerSkill(playerid) == 3) PlayerTextDrawSetString(playerid, InfosTD, "~y~Car Jacker~w~~h~~n~Fura un vehicul ce apartine unei mafii!");
			else if(GetPlayerSkill(playerid) == 4) PlayerTextDrawSetString(playerid, InfosTD, "~y~Car Jacker~w~~h~~n~Fura un vehicul personal incuiat!");
			else if(GetPlayerSkill(playerid) == 5) PlayerTextDrawSetString(playerid, InfosTD, "~y~Car Jacker~w~~h~~n~Fura un vehicul ce apartine unui departament de politie!");
			PlayerTextDrawShow(playerid, InfosTD);
			JobWorking[playerid] = 1;
			SetTimerEx("HideTextdraw", 8000, 0, "%d", playerid);
			return 1;
	    }
	    case 4: { //ARMS DEALER
			if(PlayerInfo[playerid][pWantedLevel] != 0) return SCM(playerid, -1, "Nu poti munci la acest job deoarece ai wanted!");
			if(!PlayerToPoint(10.0, playerid, 2770.2822,-1610.9043,11.0418)) {				
				SCM(playerid, COLOR_GREY, "Nu esti la locul unde poti incepe munca. Ti-am pus un checkpoint, du-te la el!");
				SetPlayerCheckpointEx(playerid, 2770.2822,-1610.9043,11.0418, 10.0);
				CP[playerid] = 53;
				return 1;
			}
			if(PlayerInfo[playerid][pCarLic] == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Ai nevoie de o licenta de condus pentru a putea munci la acest job!");
			CP[playerid] = 156;
			new rand = random(3);			
			switch(rand) {
				case 0: SetPlayerCheckpointEx(playerid, 2790.6213,-2523.6418,13.6704, 5.0);
				case 1: SetPlayerCheckpointEx(playerid, 2529.4214,-2009.4240,13.5798, 5.0);
				case 2: SetPlayerCheckpointEx(playerid, 2180.0774,-2317.1672,13.5703, 5.0); 
				case 3: SetPlayerCheckpointEx(playerid, 681.2267,-442.6591,16.3633, 5.0);
			}
			
			format(string, sizeof(string), "Du-te la checkpoint-ul de pe mapa pentru a livra materialele!");
			PlayerTextDrawSetString(playerid, InfosTD, string);
			SetTimerEx("HideTextdraw", 8000, 0, "%d", playerid);
			PlayerTextDrawShow(playerid, InfosTD);
			
			CarAngle = 277.2561;
			StartingWork[playerid] = 0;
			CurseFacute[playerid] = 0;
			MoneyEarned[playerid] = 0;		
		}
		case 5..7: return 1;
		case 8: {//PIZZA
	        if(PlayerToPoint(7.0, playerid, 2113.9392,-1775.1980,13.3918)) {
				if(PlayerInfo[playerid][pCarLic] == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Ai nevoie de o licenta de condus pentru a putea munci la acest job!");
                CarAngle = 0;
                CP[playerid] = 155;
				new j = random(housess)+1;
				if(j == 0) j = 1;
				SetPlayerCheckpointEx(playerid, HouseInfo[j][hEntrancex],HouseInfo[j][hEntrancey],HouseInfo[j][hEntrancez], 7.0);
				format(string, sizeof(string), "Du-te la punctul ~r~~h~rosu~w~~h~ de pe mapa pentru a livra pizza.~n~Distanta: ~y~%0.1fm.", GetPlayerDistanceFromPoint(playerid, HouseInfo[j][hEntrancex],HouseInfo[j][hEntrancey],HouseInfo[j][hEntrancez]));
				PlayerTextDrawSetString(playerid, InfosTD, string);
				SetTimerEx("HideTextdraw", 8000, 0, "%d", playerid);
				PlayerTextDrawShow(playerid, InfosTD);				
			}
	        else {
 				if(CP[playerid] != 0) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ.\nDoresti sa-l anulezi? Daca da, apasa pe 'Ok'.", "Ok", "Exit");
	          	CP[playerid] = 53;
				SCM(playerid, COLOR_GREY, "Nu esti la locul unde poti incepe munca. Ti-am pus un checkpoint, du-te la el!");
				SetPlayerCheckpointEx(playerid,2113.9392,-1775.1980,13.3918, 7.0);
				return 1;
		    }
	    }
	    case 9: {//AMAZON
			if(!PlayerToPoint(6.0, playerid, 1663.3005,729.2867,10.8203)) {
				SCM(playerid, COLOR_GREY, "Nu esti la locul unde poti incepe munca. Ti-am pus un checkpoint, du-te la el!");
				SetPlayerCheckpointEx(playerid, 1663.3005,729.2867,10.8203, 6.0);
				CP[playerid] = 53;
				return 1;
			}
			if(PlayerInfo[playerid][pCarLic] == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Ai nevoie de o licenta de condus pentru a putea munci la acest job!");
			CarAngle = 0.7028;
			CP[playerid] = 57;
			
			new rand = random(3);
			if(rand == 1) SetPlayerCheckpointEx(playerid, 830.0479, -611.8955, 16.3432, 5.0);
			else if(rand == 2) SetPlayerCheckpointEx(playerid, 820.7677, -612.4786, 16.3432, 5.0);
			else if(rand == 3) SetPlayerCheckpointEx(playerid, 790.9538, -612.2801, 16.3432, 5.0);
			else SetPlayerCheckpointEx(playerid, 830.0479, -611.8955, 16.3432, 5.0);
			
			PlayerTextDrawSetString(playerid, InfosTD, "Du-te la punctul ~r~rosu~w~~h~ pentru a incarca coletele!");
			SetTimerEx("HideTextdraw", 8000, 0, "%d", playerid);
			PlayerTextDrawShow(playerid, InfosTD);	
		}

	SetPVarInt(playerid, "Pressed", 0);
	SetPVarInt(playerid, "Trees", 0);
	SetPVarInt(playerid, "JobStep", 0);				
	SetPVarInt(playerid, "InHand", 0);				
	
    MoneyEarned[playerid] = 0;
	CurseFacute[playerid] = 0;
	if(PlayerInfo[playerid][pShowJob] == 0 && PlayerInfo[playerid][pJob] != 5 && PlayerInfo[playerid][pLevel] < 3) SCM(playerid, COLOR_YELLOW, "Daca doresti sa vezi mai multe informatii folositoare de la job, o poti face prin comanda (/hud > Informatii job).");
	new skill = GetPlayerSkill(playerid);
    PutPlayerInVehicleEx(playerid, JobVehicle[playerid], 0);
    JobWorking[playerid] = 1;
	if(PlayerInfo[playerid][pJob] != 2) UpdateJobStats(playerid);
    Gas[JobVehicle[playerid]] = 100;
	WorkingTime[playerid] = 0;
 	if(PlayerInfo[playerid][pJob] == 11) DisableRemoteVehicleCollisions(playerid, 1);
	SetPlayerVirtualWorld(playerid, 0);

	new engine,lights,alarm,doors,bonnet,boot,objective;
	vehEngine[JobVehicle[playerid]] = 1;
	GetVehicleParamsEx(JobVehicle[playerid],engine,lights,alarm,doors,bonnet,boot,objective);
	SetVehicleParamsEx(JobVehicle[playerid],VEHICLE_PARAMS_ON,lights,alarm,doors,bonnet,boot,objective);	
	return 1;
}
function CheckSeconds(playerid) {
	if(GetTickCount() - JobTime[playerid] < 1000) {
	    new string[256];
		format(string, sizeof(string), "AdmCmd: %s a primti kick de la AdmBot, motiv: posibil TP-Hack", GetNameEx(playerid));
		SendClientMessageToAll(COLOR_LIGHTRED, string);
		KickEx(playerid);
	}
	return 1;
}

cmd:fish(playerid, params[], help) {
	if(PlayerInfo[playerid][pJob] != 11) return SCM(playerid, COLOR_GREY, "Nu esti pescar!");
	if(!PlayerToPoint(35.0, playerid, 377.8837,-2086.3262,7.8359)) return SCM(playerid, COLOR_GREY, "Nu esti in zona in care poti pescui.");
	if(IsPlayerInAnyVehicle(playerid)) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu poti aceasta comanda dintr-un vehicul!");
	if(HaveFish[playerid] != 0) return SCM(playerid, -1, "Ai prins deja un peste! Du-te si vinde-l la unul dintre magazinele 24/7.");
	if(StartFish[playerid] == 1) return 1;
	GameTextForPlayer(playerid,"~n~~n~~n~~n~~n~~n~~n~~n~~w~YOU'RE FISHING NOW...",15000,3);
	SetTimerEx("Fish", 15000, 0, "d", playerid);
	TogglePlayerControllable(playerid, 0);
	ApplyAnimation(playerid, "SAMP", "FishingIdle", 3.0,1,1,0,0,0);
	SetPlayerAttachedObject(playerid, 0, 18632,6,0.079376,0.037070,0.007706,181.482910,0.000000,0.000000,1.000000,1.000000,1.000000);
	StartFish[playerid] = 1;
	Freezed[playerid] = 1;
	return 1;
}

cmd:refill(playerid, params[])
{
    if(IsPlayerConnected(playerid))
    {
	    if(PlayerInfo[playerid][pJob] != 7) return SendClientMessage(playerid, COLOR_GREY, "Nu ai jobul 'Mecanic'.");
		new playa,money,string[256],giveplayer[25],sendername[25];
	 	if(sscanf(params, "ui",playa,money)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /refill <Nume/Playerid> <Price>");
		new engine,lights,alarm,doors,bonnet,boot,objective;
		new idcar = GetPlayerVehicleID(playa);
		GetVehicleParamsEx(idcar,engine,lights,alarm,doors,bonnet,boot,objective);
		if(engine == VEHICLE_PARAMS_ON)
			return SCM(playerid, -1, "Acel player are motorul pornit!");
		if(money < 1 || money > 100) return SendClientMessage(playerid, COLOR_GREY, "Pretul trebuie sa fie cuprins intre $1 si $100!");
		if(IsPlayerConnected(playa))
		{
		    if(playa != INVALID_PLAYER_ID)
		    {
		        if(ProxDetectorS(8.0, playerid, playa)&& IsPlayerInAnyVehicle(playa))
				{
				    if(playa == playerid) return 1;
				    GetPlayerName(playa, giveplayer, sizeof(giveplayer));
					GetPlayerName(playerid, sendername, sizeof(sendername));
				    format(string, sizeof(string), "* I-ai oferit %s posibilitatea de a-i umple rezervorul vehiculul in schimbul a $%d .",giveplayer,money);
					SendClientMessage(playerid, COLOR_MONEY, string);
					format(string, sizeof(string), "* Mecanicul %s doreste sa-ti alimenteze vehiculul in schimbul a $%d, (scrie /accept refill %d) pentru a accepta.",sendername,money,playerid);
					SendClientMessage(playa, COLOR_MONEY, string);
					RefillOffer[playa] = playerid;
					RefillPrice[playa] = money;
					Refillx[playerid] = playa;
				}
				else return SendClientMessage(playerid, COLOR_GREY, "Acel player nu este in raza ta sau nu se afla intr-un vehicul.");
			}
		}
		else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	return 1;
}

cmd:flip(playerid, params[]) {
	if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(!IsPlayerInAnyVehicle(playerid)) return SCM(playerid, COLOR_BZWHITE, "Eroare: Trebuie sa fii intr-un vehicul.");
	if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
    new Float:angle,string[100];
    GetVehicleZAngle(GetPlayerVehicleID(playerid), angle);
    SetVehicleZAngle(GetPlayerVehicleID(playerid), angle);
	if(PlayerInfo[playerid][pAdmin] <= 3) {
	    format(string,sizeof(string), "Vehiculul %d a fost resetat cu succes.",GetPlayerVehicleID(playerid));
	    SCM(playerid,COLOR_BZWHITE,string);
	}
	if(PlayerInfo[playerid][pAdmin] >= 4) {
        RepairVehicle(GetPlayerVehicleID(playerid));
	    Gas[GetPlayerVehicleID(playerid)] = 100;
	    format(string,sizeof(string), "Vehiculul %d a fost resetat si reparat cu succes.",GetPlayerVehicleID(playerid));
    	SCM(playerid,COLOR_BZWHITE,string);
	}
	return 1;
}

cmd:gsearch(playerid, params[]) {
	new result[180], x, string[180];
	if(PlayerInfo[playerid][pAdmin] < 2) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(sscanf(params, "s[250]",result)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /gsearch <Nume/ID>");
	SCM(playerid, COLOR_SERVER, "--------------------------------------------------------------------");
	for(new v = 1; v < 48; v++) {
		if(strfind(GunNames[v], result, true) != -1 || v == strval(result)) {
			format(string, sizeof(string), "%s (%d)", GunNames[v], v);
			SCM(playerid, -1, string);
			x++;
		}
	}
	if(x == 0) return SCM(playerid, COLOR_GREY, "* Nu au fost gasite rezultate!"), SCM(playerid, COLOR_SERVER, "--------------------------------------------------------------------");	
	SCM(playerid, COLOR_SERVER, "--------------------------------------------------------------------");	
	return 1;
}

cmd:slapcar(playerid, params[]) {
	new carid,Float: Pos[3];
	if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(!IsPlayerInAnyVehicle(playerid)) {
		if(sscanf(params, "i",carid)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /slapcar <Vehicle ID>");
		if(!IsValidVehicle(carid)) return SCM(playerid, COLOR_GREY, "Vehicul invalid!");
		GetVehiclePos(carid, Pos[0], Pos[1], Pos[2]);
		SetVehiclePos(carid, Pos[0]+2, Pos[1], Pos[2]+5);
		new string[180];
		format(string, sizeof(string), "AdmCmd: %s a dat slap vehiculului %d.", GetName(playerid), carid);
		SendAdminMessage(COLOR_LOGS, string, 1);
	}
	else {
	    carid = GetPlayerVehicleID(playerid);
	   	GetVehiclePos(carid, Pos[0], Pos[1], Pos[2]);
		SetVehiclePos(carid, Pos[0]+2, Pos[1], Pos[2]+5);
		new string[180];
		format(string, sizeof(string), "AdmCmd: %s a dat slap vehiculului %d.", GetName(playerid), carid);
		SendAdminMessage(COLOR_LOGS, string, 1);
	}
	return 1;
}
cmd:repair(playerid, params[])
{
    if(IsPlayerConnected(playerid))
    {
        if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	    if(PlayerInfo[playerid][pJob] != 7) return SendClientMessage(playerid, COLOR_GREY, "Nu ai jobul 'Mecanic'.");
		new playa,money,string[256],giveplayer[25],sendername[25];
 		if(sscanf(params, "ui",playa,money)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /repair <Nume/Playerid> <Price>");
		new engine,lights,alarm,doors,bonnet,boot,objective;
		new idcar = GetPlayerVehicleID(playa);
		GetVehicleParamsEx(idcar,engine,lights,alarm,doors,bonnet,boot,objective);
		if(engine == VEHICLE_PARAMS_ON)
			return SCM(playerid, -1, "Acel player are motorul pornit!");
		if(money < 1 || money > 100) return SendClientMessage(playerid, COLOR_GREY, "Pretul trebuie sa fie cuprins intre $1 si $100!");
		if(IsPlayerConnected(playa))
		{
		    if(playa != INVALID_PLAYER_ID)
		    {
		        if(ProxDetectorS(8.0, playerid, playa)&& IsPlayerInAnyVehicle(playa))
				{
				    if(playa == playerid) return 1;
			    	GetPlayerName(playa, giveplayer, sizeof(giveplayer));
					GetPlayerName(playerid, sendername, sizeof(sendername));
				    format(string, sizeof(string), "* You I-ai oferit lui %s posibilitatea de a-i repara vehiculul in schimbul a $%s .",giveplayer,FormatNumber(money));
					SendClientMessage(playerid, COLOR_MONEY, string);
					format(string, sizeof(string), "* Mecanicul %s doreste sa-ti repare vehiculul in schimbul a $%s, (scrie /accept repair %d) pentru a accepta.",sendername,FormatNumber(money),playerid);
					SendClientMessage(playa, COLOR_MONEY, string);
					RepairOffer[playa] = playerid;
					RepairPrice[playa] = money;
					Rapairx[playerid] = playa;
				}
				else return SendClientMessage(playerid, COLOR_GREY, "Acel player nu este in raza ta sau nu se afla intr-un vehicul.");
			}
		}
		else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	return 1;
}

cmd:getdrugs(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
        if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		if(PlayerInfo[playerid][pJob] != 6) return SCM(playerid,COLOR_GREY, "Nu ai jobul 'Distribuitor de droguri'.");
		if(!IsPlayerInRangeOfPoint(playerid, 5.0, 2166.4771,-1671.7883,15.0743)) {
			if(CP[playerid] != 0) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ. Doresti sa-l anulezi?", "Ok", "Exit");
          	CP[playerid] = 53;
			SendClientMessage(playerid, COLOR_GREY, "Nu esti la locul de unde se incep misiunile. Urmeaza punctul rosu de pe harta.");
			SetPlayerCheckpointEx(playerid, 2166.4771,-1671.7883,15.0743, 7.0);
			return 1;
		}
		new level = PlayerInfo[playerid][pDrugsSkill];
	    new points,money;
		if(level >= 0 && level <= 50)
		{
			points = 20;
			money = 1000;
		}
		else if(level >= 51 && level <= 100)
		{
			points = 40;
			money = 1500;
		}
		else if(level >= 101 && level <= 200)
		{
			points = 60;
			money = 2000;
		}
		else if(level >= 201 && level <= 400)
		{
			points = 800;
			money = 2500;
		}
		else if(level >= 401)
		{
			points = 100;
			money = 3000;
		}
		if(GetPlayerCash(playerid) < money) return SCM(playerid,COLOR_GREY, "Nu ai aceasta suma de bani!");
		PlayerInfo[playerid][pDrugs] += points;
		GivePlayerCash(playerid,-money);
		new string[64];
		format(string,sizeof(string),"Ai luat %d grame de droguri in schimbul a $%s.",points,FormatNumber(money));
		SCM(playerid,COLOR_LIGHTBLUE,string);
		new str2[128];
		format(str2,sizeof(str2),"UPDATE users SET `Money`='%d',`Drugs`='%d' WHERE `ID`='%d'",GetPlayerCash(playerid),PlayerInfo[playerid][pDrugs],PlayerInfo[playerid][pSQLID]);
		mysql_query(SQL,str2);
		return 1;
	}
	return 1;
}
cmd:selldrugs(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
        if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
        if(PlayerInfo[playerid][pJob] != 6) return SendClientMessage(playerid, COLOR_GREY, "Nu ai jobul 'Distribuitor de droguri'.");
		new playa,needed,string[128],giveplayer[25],sendername[25],money;
		if(sscanf(params, "uii",playa,needed,money)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /selldrugs <Nume/Playerid> <Drugs> <Price>");
		if(needed < 1 || needed > 50) return SendClientMessage(playerid, COLOR_GREY, "Gramele de droguri trebuie sa fie cuprinse intre 1 si 50 grame!");
		if(money < 1 || money > 50000) return SendClientMessage(playerid, COLOR_GREY, "Pretul trebuie sa fie cuprins intre $1 si $150.000!");
    	if(needed > PlayerInfo[playerid][pDrugs]) return SendClientMessage(playerid, COLOR_WHITE,"Nu ai aceasta suma Drugs with you.");
		
		if(PlayerInfo[playerid][pJailTime] != 0) return SCM(playerid, -1, "Nu poti vinde lucruri atata timp cat esti in jail!");	
		if(IsPlayerConnected(playa))
    	{
    	    if(playa != INVALID_PLAYER_ID)
		    {
 	     		if (ProxDetectorS(8.0, playerid, playa))
        		{
            	    if(playa == playerid) return 1;
	        	    GetPlayerName(playa, giveplayer, sizeof(giveplayer));
	        		GetPlayerName(playerid, sendername, sizeof(sendername));
	        	    format(string, sizeof(string), "{B8FFDB}* I-ai oferit lui %s, %d grame de droguri pentru %s$.", giveplayer, needed, FormatNumber(money));
	        		SendClientMessage(playerid, COLOR_WHITE, string);
	         		format(string, sizeof(string), "{B8FFDB}* %s ti-a oferit %d grame de droguri pentru %s$, (scrie /accept drugs %d) pentru a accepta.", sendername, needed, FormatNumber(money),playerid);
		        	SendClientMessage(playa, COLOR_WHITE, string);
		         	DrugOffer[playa] = playerid;
		        	DrugPrice[playa] = money;
		        	DrugGram[playa] = needed;
	    		}
		    	else return SendClientMessage(playerid, COLOR_GREY, "Acel player nu este langa tine.");
        	}
    	}
	}
	return 1;
}

cmd:sellmaterials(playerid, params[])
{
    if(IsPlayerConnected(playerid))
    {
        if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
        if(PlayerInfo[playerid][pJob] != 5) return SendClientMessage(playerid,COLOR_GREY, "Nu ai jobul 'Distribuitor de arme'.");
		new id,mats,string[128],sendername[25],giveplayer[25],price;
	    if(sscanf(params, "uii",id,mats,price)) return SendClientMessage(playerid,COLOR_SYNTAX, "Syntax: /sellmaterials <Nume/Playerid> <Mats> <Price>");
		if(price < 1 || price > 150000) return SendClientMessage(playerid, COLOR_GREY, "Pretul trebuie sa fie cuprins intre $1 si $150.000!");
		if(playerid == id) return 1;
 	    if(id != INVALID_PLAYER_ID)
        {
			if(ProxDetectorS(5.0, playerid, id))
			{
			    
			    if(mats < 1 || mats > 50000) return SendClientMessage(playerid, COLOR_GREY, "Poti vinde intre 1 si 50.000 de materiale.");
			    if(mats > PlayerInfo[playerid][pMats]) return SendClientMessage(playerid, COLOR_GREY, "Nu ai atatea materiale.");
				GetPlayerName(playerid, sendername, sizeof(sendername));
				GetPlayerName(id, giveplayer, sizeof(giveplayer));
				format(string, sizeof(string), "{B8FFDB}* I-ai oferit lui %s, %d materiale pentru %s$.",giveplayer,mats,FormatNumber(price));
				SendClientMessage(playerid, COLOR_WHITE, string);
				format(string, sizeof(string), "{B8FFDB}* %s ti-a oferit %d materiale pentru %s$, (scrie /accept materials %d) pentru a accepta.",sendername,mats,FormatNumber(price),playerid);
				SendClientMessage(id, COLOR_WHITE, string);
				MatsOffer[id] = playerid;
				MatsPrice[id] = price;
				MatsAmmo[id] = mats;
			}
			else return SendClientMessage(playerid, COLOR_GREY, "Acel player nu este langa tine.");
        }
    }
    return 1;
}
alias:sellgun("sg");
cmd:sellgun(playerid, params[])
{
    if(IsPlayerConnected(playerid))
	{
	    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	    if (PlayerInfo[playerid][pJob] != 5) return SendClientMessage(playerid,COLOR_YELLOW2,"Nu ai jobul 'Distribuitor de arme'");
		new x_weapon[10],weapon[MAX_PLAYERS],ammo[MAX_PLAYERS],price[MAX_PLAYERS],price2,id,giveplayer[25],sendername[25],string[128];
		if(sscanf(params, "us[10]d",id,x_weapon,price2))
		{
			SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /sellgun <Nume/Playerid> <Gun Name> <Price>");
			SendClientMessage(playerid, COLOR_WHITE, "Weapons:{FFFFFF} SDPistol(100) Deagle(150)");
			SendClientMessage(playerid, COLOR_WHITE, "Weapons:{FFFFFF} MP5(200) Shotgun(300)");
			SendClientMessage(playerid, COLOR_WHITE, "Weapons:{FFFFFF} AK47(350) M4(400) Rifle(600)");
			return 1;
		}
		if(playerid == id) return SCM(playerid,COLOR_WHITE,"{FFB870}You can not sell yourself weapons.");
		if(PlayerInfo[playerid][pJailTime] != 0) return SCM(playerid, -1, "Nu poti vinde lucruri atata timp cat esti in jail!");
		if(IsPlayerInAnyVehicle(id)) return SCM(playerid, -1, "Nu poti folosi aceasta comanda atata timp cat acel player este intr-un vehicul.");
		if(id != INVALID_PLAYER_ID)
        {
			if(PlayerInfo[id][pGunLic] == 0) return SCM(playerid,COLOR_WHITE,"{FFB870}This player does not have arms license.");
			if(strcmp(x_weapon,"sdpistol",true) == 0)
			{
			    if(PlayerInfo[playerid][pMats] < 100) return SendClientMessage(playerid,COLOR_GRAD2, "Nu ai destule materiale pentru aceasta arma.");
				weapon[playerid] = 23;
				price[playerid] = 100;
				ammo[playerid] = 100;
			}
			else if(strcmp(x_weapon,"deagle",true) == 0)
			{
			    if(PlayerInfo[playerid][pMats] < 150) return SendClientMessage(playerid,COLOR_GRAD2, "Nu ai destule materiale pentru aceasta arma.");
			    weapon[playerid] = 24;
				price[playerid] = 150;
				ammo[playerid] = 100;
			}
			else if(strcmp(x_weapon,"mp5",true) == 0)
			{
			    if(PlayerInfo[playerid][pMats] < 200) return SendClientMessage(playerid,COLOR_GRAD2, "Nu ai destule materiale pentru aceasta arma.");
			    weapon[playerid] = 29;
				price[playerid] = 200;
				ammo[playerid] = 150;
			}
			else if(strcmp(x_weapon,"shotgun",true) == 0)
			{
			    if(PlayerInfo[playerid][pMats] < 300) return SendClientMessage(playerid,COLOR_GRAD2, "Nu ai destule materiale pentru aceasta arma.");
			    weapon[playerid] = 25;
				price[playerid] = 300;
				ammo[playerid] = 50;
			}
			else if(strcmp(x_weapon,"ak47",true) == 0)
			{
			    if(PlayerInfo[playerid][pMats] < 350) return SendClientMessage(playerid,COLOR_GRAD2, "Nu ai destule materiale pentru aceasta arma.");
			    weapon[playerid] = 30;
				price[playerid] = 350;
				ammo[playerid] = 150;
			}
			else if(strcmp(x_weapon,"m4",true) == 0)
			{
			    if(PlayerInfo[playerid][pMats] < 400) return SendClientMessage(playerid,COLOR_GRAD2, "Nu ai destule materiale pentru aceasta arma.");
				weapon[playerid] = 31;
				price[playerid] = 400;
				ammo[playerid] = 150;
			}
			else if(strcmp(x_weapon,"rifle",true) == 0)
			{
			    if(PlayerInfo[playerid][pMats] < 600) return SendClientMessage(playerid,COLOR_GRAD2, "Nu ai destule materiale pentru aceasta arma.");
			    weapon[playerid] = 33;
				price[playerid] = 600;
				ammo[playerid] = 25;
			}
			else return SendClientMessage(playerid,COLOR_WHITE,"Numele armei este invalid.");
			if(price2 < 1 || price2 > 100000) return SendClientMessage(playerid,COLOR_WHITE,"Pretul trebuie sa fie intre $1 si $100000.");
			if (ProxDetectorS(5.0, playerid, id))
			{
				GetPlayerName(id, giveplayer, sizeof(giveplayer));
				GetPlayerName(playerid, sendername, sizeof(sendername));
				SellgunOffer[id] = playerid;
				SellgunPrice[id] = price2;
				SellgunMats[id] = price[playerid];
				SellgunAmmo[id] = ammo[playerid];
				SellgunID[id] = weapon[playerid];
				new gunname[50];
				GetWeaponNameEx(weapon[playerid],gunname,sizeof(gunname));
				format(string, sizeof(string), "{B8FFDB}* I-ai oferit lui %s %s pentru %s$.",giveplayer,gunname,FormatNumber(price2));
				SendClientMessage(playerid, COLOR_WHITE, string);
				format(string, sizeof(string), "{B8FFDB}* %s ti-a oferit %s pentru %s$, (scrie /accept gun %d) pentru a accepta.",sendername,gunname,FormatNumber(price2),playerid);
				SendClientMessage(id, COLOR_WHITE, string);
			}
			else return SendClientMessage(playerid, COLOR_GREY, "Acel player nu este langa tine.");
		}
		else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	return 1;
}
cmd:creategun(playerid, params[])
{
    if(IsPlayerConnected(playerid))
	{
	    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	    if(PlayerInfo[playerid][pJob] != 5) return SendClientMessage(playerid,COLOR_YELLOW2,"Nu ai jobul 'Distribuitor de arme'");
		if(PlayerInfo[playerid][pMatSkill] < 401) return SCM(playerid,COLOR_GREY,"Nu ai skill 5.");
		if(PlayerInfo[playerid][pGunLic] == 0) return SCM(playerid,COLOR_GREY,"Nu ai licenta de arme.");
		if(PlayerInfo[playerid][pJailTime] != 0) return SCM(playerid, -1, "Esti in inchisoare.");
		if(IsPlayerInAnyVehicle(playerid)) return SCM(playerid, -1, "Esti intr-un vehicul.");
		new x_weapon[10];
		if(sscanf(params, "us[10]d",x_weapon))
		{
			SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /creategun <Gun Name>");
			SendClientMessage(playerid, COLOR_WHITE, "Weapons:{FFFFFF} SDPistol(100) Deagle(150)");
			SendClientMessage(playerid, COLOR_WHITE, "Weapons:{FFFFFF} MP5(200) Shotgun(300)");
			SendClientMessage(playerid, COLOR_WHITE, "Weapons:{FFFFFF} AK47(350) M4(400) Rifle(600)");
			return 1;
		}
		if(strcmp(x_weapon,"sdpistol",true) == 0)
		{
			if(PlayerInfo[playerid][pMats] < 100) return SendClientMessage(playerid,COLOR_GRAD2, "Nu ai destule materiale pentru aceasta arma.");
			GivePlayerWeaponEx(playerid,23,300);
			PlayerInfo[playerid][pMats] -= 100;
			Update(playerid,pMatsx);
		}
		else if(strcmp(x_weapon,"deagle",true) == 0)
		{
			if(PlayerInfo[playerid][pMats] < 150) return SendClientMessage(playerid,COLOR_GRAD2, "Nu ai destule materiale pentru aceasta arma.");
			GivePlayerWeaponEx(playerid,24,300);
			PlayerInfo[playerid][pMats] -= 150;
			Update(playerid,pMatsx);
		}
		else if(strcmp(x_weapon,"mp5",true) == 0)
		{
			if(PlayerInfo[playerid][pMats] < 200) return SendClientMessage(playerid,COLOR_GRAD2, "Nu ai destule materiale pentru aceasta arma.");
			GivePlayerWeaponEx(playerid,29,300);
			PlayerInfo[playerid][pMats] -= 200;
			Update(playerid,pMatsx);
		}
		else if(strcmp(x_weapon,"shotgun",true) == 0)
		{
			if(PlayerInfo[playerid][pMats] < 300) return SendClientMessage(playerid,COLOR_GRAD2, "Nu ai destule materiale pentru aceasta arma.");
			GivePlayerWeaponEx(playerid,25,300);
			PlayerInfo[playerid][pMats] -= 300;
			Update(playerid,pMatsx);
		}
		else if(strcmp(x_weapon,"ak47",true) == 0)
		{
			if(PlayerInfo[playerid][pMats] < 350) return SendClientMessage(playerid,COLOR_GRAD2, "Nu ai destule materiale pentru aceasta arma.");
			GivePlayerWeaponEx(playerid,30,300);
			PlayerInfo[playerid][pMats] -= 350;
			Update(playerid,pMatsx);
		}
		else if(strcmp(x_weapon,"m4",true) == 0)
		{
			if(PlayerInfo[playerid][pMats] < 400) return SendClientMessage(playerid,COLOR_GRAD2, "Nu ai destule materiale pentru aceasta arma.");
			GivePlayerWeaponEx(playerid,31,300);
			PlayerInfo[playerid][pMats] -= 400;
			Update(playerid,pMatsx);
		}
		else if(strcmp(x_weapon,"rifle",true) == 0)
		{
			if(PlayerInfo[playerid][pMats] < 600) return SendClientMessage(playerid,COLOR_GRAD2, "Nu ai destule materiale pentru aceasta arma.");
			GivePlayerWeaponEx(playerid,33,300);
			PlayerInfo[playerid][pMats] -= 600;
			Update(playerid,pMatsx);
		}
	}
	return 1;
}
cmd:materials(playerid, params[])
{
    if(IsPlayerConnected(playerid))
    {
	    if (PlayerInfo[playerid][pJob] != 5) return SendClientMessage(playerid,COLOR_GREY, "Nu ai jobul 'Distribuitor de arme'.");
		new string[128];
		if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid,COLOR_GREY, "Nu esti intr-un vehicul.");
	
		if(PlayerToPoint(3.0,playerid,2770.4629,-1628.3237,12.1775))
		{
			if(GetPlayerCash(playerid) > 1000)
			{
				new level = PlayerInfo[playerid][pMatSkill];
				if(level >= 0 && level <= 50)
				{ MatsHolding[playerid] = 10; }
				else if(level >= 51 && level <= 100)
				{ MatsHolding[playerid] = 20; }
				else if(level >= 101 && level <= 200)
				{ MatsHolding[playerid] = 30; }
				else if(level >= 201 && level <= 400)
				{ MatsHolding[playerid] = 40; }
				else if(level >= 401)
				{ MatsHolding[playerid] = 60; }
				format(string, sizeof(string), "* Ai cumparat %d pachete cu materiale in schimbul a $1,000.", MatsHolding[playerid]);
				SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
				GivePlayerCash(playerid, - 1000);
				Update(playerid, pCashx);
				PlayerInfo[playerid][pMats] += MatsHolding[playerid];
			}
			else return SendClientMessage(playerid, COLOR_GREY, "Nu ai $1.000!");
		}
		else {
			if(CP[playerid] != 0) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ. Doresti sa-l anulezi?", "Ok", "Exit");
			CP[playerid] = 53;
			SendClientMessage(playerid, COLOR_GREY, "Nu esti la locul de unde se incep misiunile. Urmeaza punctul rosu de pe harta.");
			SetPlayerCheckpointEx(playerid, 2770.4629,-1628.3237,12.1775, 7.0);
		}
	
	}
	return 1;
}
function HideMowerObjects(playerid) {
	for(new i=0; i<12; i++) {
		if(mowerobj[playerid][i] != 0) {
			DestroyPlayerObject(playerid, mowerobj[playerid][i]);
			mowerobj[playerid][i] = 0;
		}
	}
	return 1;
}
function HideFarmerObjects(playerid) {
	for(new i=0; i<70; i++) {
		if(farmobj[playerid][i] != 0) {
			DestroyPlayerObject(playerid, farmobj[playerid][i]);
			farmobj[playerid][i] = 0;
		}
	}
	return 1;
}
function ShowFarmerObjects(playerid) {
	farmobj[playerid][0] = CreatePlayerObject(playerid, 872, -126.31320, 57.79793, 2.64140,   0.00000, 0.00000, 0.00000);
	farmobj[playerid][1] = CreatePlayerObject(playerid, 872, -131.92044, 41.85484, 2.64140,   0.00000, 0.00000, 0.00000);
	farmobj[playerid][2] = CreatePlayerObject(playerid, 872, -146.25810, 47.04414, 2.64140,   0.00000, 0.00000, 0.00000);
	farmobj[playerid][3] = CreatePlayerObject(playerid, 872, -140.72925, 63.10469, 2.64140,   0.00000, 0.00000, -0.24000);
	farmobj[playerid][4] = CreatePlayerObject(playerid, 872, -155.86375, 69.74763, 2.64140,   0.00000, 0.00000, 0.00000);
	farmobj[playerid][5] = CreatePlayerObject(playerid, 872, -161.45853, 52.54005, 2.64140,   0.00000, 0.00000, 0.60000);
	farmobj[playerid][6] = CreatePlayerObject(playerid, 872, -138.23868, 24.99846, 2.64140,   0.00000, 0.00000, 0.00000);
	farmobj[playerid][7] = CreatePlayerObject(playerid, 872, -151.94897, 28.53493, 2.64140,   0.00000, 0.00000, 0.12000);
	farmobj[playerid][8] = CreatePlayerObject(playerid, 872, -167.69366, 34.34010, 2.64140,   0.00000, 0.00000, -0.12000);
	farmobj[playerid][9] = CreatePlayerObject(playerid, 872, -145.27104, 6.27454, 2.64140,   0.00000, 0.00000, 0.00000);
	farmobj[playerid][10] = CreatePlayerObject(playerid, 872, -157.63394, 12.24600, 2.64140,   0.00000, 0.00000, 0.96000);
	farmobj[playerid][11] = CreatePlayerObject(playerid, 872, -172.63692, 18.15729, 2.64140,   0.00000, 0.00000, -0.06000);
	farmobj[playerid][12] = CreatePlayerObject(playerid, 872, -152.55196, -10.67732, 2.64140,   0.00000, 0.00000, 0.54000);
	farmobj[playerid][13] = CreatePlayerObject(playerid, 872, -165.73528, -5.08819, 2.64140,   0.00000, 0.00000, 0.42000);
	farmobj[playerid][14] = CreatePlayerObject(playerid, 872, -179.11043, -0.49343, 2.64140,   0.00000, 0.00000, 0.00000);
	farmobj[playerid][15] = CreatePlayerObject(playerid, 872, -159.31020, -28.32910, 2.64140,   0.00000, 0.00000, 0.54000);
	farmobj[playerid][16] = CreatePlayerObject(playerid, 872, -171.80571, -22.02221, 2.64140,   0.00000, 0.00000, 1.92000);
	farmobj[playerid][17] = CreatePlayerObject(playerid, 872, -185.01457, -16.70184, 2.64140,   0.00000, 0.00000, 0.54000);
	farmobj[playerid][18] = CreatePlayerObject(playerid, 872, -166.29504, -45.95559, 2.64140,   0.00000, 0.00000, 0.54000);
	farmobj[playerid][19] = CreatePlayerObject(playerid, 872, -179.65427, -41.28563, 2.64140,   0.00000, 0.00000, 0.54000);
	farmobj[playerid][20] = CreatePlayerObject(playerid, 872, -192.00938, -35.87339, 2.64140,   0.00000, 0.00000, 0.54000);
	farmobj[playerid][21] = CreatePlayerObject(playerid, 872, -172.25316, -61.69171, 2.64140,   0.00000, 0.00000, 0.54000);
	farmobj[playerid][22] = CreatePlayerObject(playerid, 872, -185.40735, -57.76556, 2.64140,   0.00000, 0.00000, 0.72000);
	farmobj[playerid][23] = CreatePlayerObject(playerid, 872, -199.09566, -52.92851, 2.64140,   0.00000, 0.00000, 0.24000);
	farmobj[playerid][24] = CreatePlayerObject(playerid, 872, -207.14375, -31.92470, 2.64140,   0.00000, 0.00000, 0.54000);
	farmobj[playerid][25] = CreatePlayerObject(playerid, 872, -213.08908, -46.72758, 2.64140,   0.00000, 0.00000, 0.54000);
	farmobj[playerid][26] = CreatePlayerObject(playerid, 872, -200.98978, -11.52742, 2.64140,   0.00000, 0.00000, 0.54000);
	farmobj[playerid][27] = CreatePlayerObject(playerid, 872, -195.57019, 4.12127, 2.64140,   0.00000, 0.00000, 38.10000);
	farmobj[playerid][28] = CreatePlayerObject(playerid, 872, -189.49782, 22.31618, 2.64140,   0.00000, 0.00000, 38.10000);
	farmobj[playerid][29] = CreatePlayerObject(playerid, 872, -183.96407, 38.64014, 2.64140,   0.00000, 0.00000, 38.10000);
	farmobj[playerid][30] = CreatePlayerObject(playerid, 872, -178.32964, 57.06733, 2.64140,   0.00000, 0.00000, 38.10000);
	farmobj[playerid][31] = CreatePlayerObject(playerid, 872, -171.93912, 74.18954, 2.64140,   0.00000, 0.00000, 39.30000);
	farmobj[playerid][32] = CreatePlayerObject(playerid, 872, -229.35033, 95.51638, 1.40449,   0.00000, 0.00000, 39.24000);
	farmobj[playerid][33] = CreatePlayerObject(playerid, 872, -210.54608, 88.74751, 1.97997,   0.00000, 0.00000, 39.24000);
	farmobj[playerid][34] = CreatePlayerObject(playerid, 872, -191.66759, 81.80237, 2.64140,   0.00000, 0.00000, 48.48000);
	farmobj[playerid][35] = CreatePlayerObject(playerid, 872, -241.43912, 72.89980, 1.40449,   0.00000, 0.00000, 39.24000);
	farmobj[playerid][36] = CreatePlayerObject(playerid, 872, -219.50311, 63.75337, 2.24240,   0.00000, 0.00000, 39.24000);
	farmobj[playerid][37] = CreatePlayerObject(playerid, 872, -247.48291, 56.80265, 1.40449,   0.00000, 0.00000, 39.24000);
	farmobj[playerid][38] = CreatePlayerObject(playerid, 872, -253.34338, 35.83281, 1.40449,   0.00000, 0.00000, 15.84000);
	farmobj[playerid][39] = CreatePlayerObject(playerid, 872, -260.22452, 15.99219, 1.40449,   0.00000, 0.00000, 0.90000);
	farmobj[playerid][40] = CreatePlayerObject(playerid, 872, -253.34338, 35.83281, 1.40449,   0.00000, 0.00000, 15.84000);
	farmobj[playerid][41] = CreatePlayerObject(playerid, 872, -265.93948, -4.69743, 1.40449,   0.00000, 0.00000, -3.66000);
	farmobj[playerid][42] = CreatePlayerObject(playerid, 872, -271.50836, -23.59697, 1.40449,   0.00000, 0.00000, -3.66000);
	farmobj[playerid][43] = CreatePlayerObject(playerid, 872, -275.45279, -38.26259, 1.40449,   0.00000, 0.00000, -10.86000);
	farmobj[playerid][44] = CreatePlayerObject(playerid, 872, -198.74203, 58.13530, 2.64140,   0.00000, 0.00000, 48.48000);
	farmobj[playerid][45] = CreatePlayerObject(playerid, 872, -223.69292, 47.17229, 2.64140,   0.00000, 0.00000, 48.72001);
	farmobj[playerid][46] = CreatePlayerObject(playerid, 872, -204.86844, 40.59549, 2.64140,   0.00000, 0.00000, 52.62000);
	farmobj[playerid][47] = CreatePlayerObject(playerid, 872, -210.91193, 19.96154, 2.64140,   0.00000, 0.00000, 52.62000);
	farmobj[playerid][48] = CreatePlayerObject(playerid, 872, -229.64909, 27.16617, 2.64140,   0.00000, 0.00000, 52.38000);
	farmobj[playerid][49] = CreatePlayerObject(playerid, 872, -218.13661, 0.81248, 2.64140,   0.00000, 0.00000, 76.26000);
	farmobj[playerid][50] = CreatePlayerObject(playerid, 872, -236.04741, 9.43892, 2.64140,   0.00000, 0.00000, 54.12000);
	farmobj[playerid][51] = CreatePlayerObject(playerid, 872, -223.25839, -16.10955, 2.64140,   0.00000, 0.00000, 76.50000);
	farmobj[playerid][52] = CreatePlayerObject(playerid, 872, -242.98398, -10.17081, 2.64140,   0.00000, 0.00000, 76.56000);
	farmobj[playerid][53] = CreatePlayerObject(playerid, 872, -249.69847, -26.89772, 2.64140,   0.00000, 0.00000, 95.16000);
	farmobj[playerid][54] = CreatePlayerObject(playerid, 872, -228.40097, -31.67301, 2.64140,   0.00000, 0.00000, 76.56000);
	farmobj[playerid][55] = CreatePlayerObject(playerid, 872, -234.79672, -51.26039, 2.64140,   0.00000, 0.00000, 76.56000);
	farmobj[playerid][56] = CreatePlayerObject(playerid, 872, -253.74765, -44.55552, 2.64140,   0.00000, 0.00000, 76.56000);
	farmobj[playerid][57] = CreatePlayerObject(playerid, 872, -217.17714, -57.39472, 2.64140,   0.00000, 0.00000, 76.56000);
	farmobj[playerid][58] = CreatePlayerObject(playerid, 872, -202.90996, -62.93708, 2.64140,   0.00000, 0.00000, 76.56000);
	farmobj[playerid][59] = CreatePlayerObject(playerid, 872, -190.04466, -67.96265, 2.64140,   0.00000, 0.00000, 76.56000);
	farmobj[playerid][60] = CreatePlayerObject(playerid, 872, -176.92703, -71.51519, 2.64140,   0.00000, 0.00000, 74.03999);
	farmobj[playerid][61] = CreatePlayerObject(playerid, 872, -183.88304, -82.61775, 2.64140,   0.00000, 0.00000, 74.03999);
	farmobj[playerid][62] = CreatePlayerObject(playerid, 872, -193.71664, -80.04971, 2.64140,   0.00000, 0.00000, 74.03999);
	farmobj[playerid][63] = CreatePlayerObject(playerid, 872, -206.22394, -76.42412, 2.64140,   0.00000, 0.00000, 74.03999);
	farmobj[playerid][64] = CreatePlayerObject(playerid, 872, -221.37863, -71.28752, 2.64140,   0.00000, 0.00000, 83.28000);
	farmobj[playerid][65] = CreatePlayerObject(playerid, 872, -239.98096, -65.28379, 2.64140,   0.00000, 0.00000, 83.28000);
	farmobj[playerid][66] = CreatePlayerObject(playerid, 872, -258.43713, -57.45726, 2.64140,   0.00000, 0.00000, 90.23999);
	farmobj[playerid][67] = CreatePlayerObject(playerid, 872, -275.36755, -51.52993, 2.64140,   0.00000, 0.00000, 120.23999);
	farmobj[playerid][68] = CreatePlayerObject(playerid, 872, -263.21744, -67.78632, 2.64140,   0.00000, 0.00000, 120.23999);
	farmobj[playerid][69] = CreatePlayerObject(playerid, 872, -243.75461, -76.76117, 2.64140,   0.00000, 0.00000, 83.64000);
	return 1;
}

function HideTextdraw(playerid) {
	if(!IsPlayerConnected(playerid)) return 1;
	PlayerTextDrawHide(playerid, InfosTD);
	return 1;
}

cmd:stopwork(playerid, params[]) {
	if(JobWorking[playerid] == 0) return SCM(playerid, -1, "Nu muncesti!");
	JobWorking[playerid] = 0;
	PlayerTextDrawHide(playerid, JobTD);
	if(JobVehicle[playerid] != 0) { DestroyVehicle(JobVehicle[playerid]); JobVehicle[playerid] = 0; }
	if(Trailer[playerid] != 0) { DestroyVehicle(Trailer[playerid]); Trailer[playerid] = 0; TruckerRoute[playerid] = 15; }
	PlayerTextDrawHide(playerid, InfosTD);
	DisablePlayerCheckpoint(playerid);
	CP[playerid] = 0;
	JobVehicle[playerid] = 0;
	SendClientMessage(playerid, COLOR_LIGHTBLUE, "* Acum, nu mai muncesti.");
	HideFarmerObjects(playerid);
	PlayerTime2[playerid] = 3;
	RemovePlayerAttachedObject(playerid, 2);
    for(new i=0; i<MAX_PLAYER_ATTACHED_OBJECTS; i++)
    {
        if(IsPlayerAttachedObjectSlotUsed(playerid, i)) RemovePlayerAttachedObject(playerid, i);
    }
	return 1;
}
cmd:getjob(playerid, params[])
{
	new string[256], str[256], job;
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(PlayerInfo[playerid][pJob] != 0) return SendClientMessage(playerid, COLOR_GREY, "Ai deja un job. Pentru a renunta la el, poti folosi comanda /quitjob.");
	for(new j = 1; j < MAX_JOBS; j++)
	{
		if(PlayerToPoint(3.0, playerid, JobInfo[j][jPosX], JobInfo[j][jPosY], JobInfo[j][jPosZ]))
		{
			if(PlayerInfo[playerid][pLevel] < JobInfo[j][jLevel]) {
				format(string, sizeof(string), "Ai nevoie de level %d pentru a lua jobul %s.",  JobInfo[j][jLevel], JobInfo[j][jName]);
				SendClientMessage(playerid, COLOR_WHITE, string);
				return 1;
			}
			format(string, sizeof(string), "* Felicitari! Noul tau job, este acum %s.", JobInfo[j][jName]);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, "Pentru a vedea comenzile acestui job, foloseste comanda /help > Jobs.");
			PlayerInfo[playerid][pJob] = j;
			job = 1;
		}
	}
	if(job == 0) return SendClientMessage(playerid, COLOR_YELLOW2, "Nu te aflii in jurul unui punct de job.");
	mysql_format(SQL, str,128,"UPDATE `users` SET `Job`='%d' WHERE `ID`='%d' LIMIT 1",PlayerInfo[playerid][pJob],PlayerInfo[playerid][pSQLID]);
	mysql_tquery(SQL, str, "", "");
	return 1;
}

cmd:quitjob(playerid, params[])
{
	new str[256];
	if(PlayerInfo[playerid][pJob] == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu ai un job.");
	if(JobWorking[playerid] == 1) return SCM(playerid, -1, "Nu poti demisiona in timp ce muncesti! Foloseste /stopwork.");
	SendClientMessage(playerid, COLOR_LIGHTBLUE, "* Ai demisionat de la locul de munca.");
	PlayerInfo[playerid][pJob] = 0;
	if(JobWorking[playerid]) {
	    CP[playerid] = 0;
	    DisablePlayerCheckpoint(playerid);
	}
	JobWorking[playerid] = 0;
	PlayerTextDrawHide(playerid, JobTD);
    HideFarmerObjects(playerid);
    HideMowerObjects(playerid);
	if(JobVehicle[playerid] != 0) DestroyVehicle(JobVehicle[playerid]), JobVehicle[playerid] = 0;
	mysql_format(SQL, str,128,"UPDATE `users` SET `Job`='%d' WHERE `ID`='%d' LIMIT 1",PlayerInfo[playerid][pJob],PlayerInfo[playerid][pSQLID]);
	mysql_tquery(SQL, str, "", "");
	return 1;
}

cmd:jobs(playerid, params[]) {
	new szType[256], szDialog[1024], szDialog2[1024], szTitle[50], xx;
	for(new j = 0; j < MAX_JOBS; j++)
	{
		if(strlen(JobInfo[j][jName]) >= 1)
		{
			if(JobInfo[j][jLegal] == 0) szType = "Ilegal";
			else if(JobInfo[j][jLegal] == 1) szType = "Legal";
			if(xx == 0) format(szDialog, sizeof(szDialog), "Nume\tTip\tNivel\tMuncitori\n%s\t%s\tNivel %d\t%d\n", JobInfo[j][jName], szType, JobInfo[j][jLevel], GetJobWorkers(j));
			else format(szDialog, sizeof(szDialog), "%s\t%s\tNivel %d\t%d\n", JobInfo[j][jName], GetJobType(j), JobInfo[j][jLevel], GetJobWorkers(j));
			strcat(szDialog2, szDialog);
			xx++;
		}
	}
	format(szTitle, sizeof(szTitle), "Joburi: 11");
	ShowPlayerDialog(playerid, DIALOG_JOBS, DIALOG_STYLE_TABLIST_HEADERS, szTitle, szDialog2, "Alege", "Cancel");
	return 1;
}

stock GetJobType(jid) {
	new szType[256];
	if(JobInfo[jid][jLegal] == 0) szType = "Ilegal";
	else if(JobInfo[jid][jLegal] == 1) szType = "Legal";
	return szType;
}

function GetJobWorkers(jid) {
	new x;
	foreach(Player, i) {
	    if(PlayerInfo[i][pJob] == jid && JobWorking[i] == 1) {
	        x++;
	    }
	}
	return x;
}

cmd:shop(playerid,params[])
{
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    ShowShop(playerid);
	return 1;
}

cmd:removeclan(playerid, params[]) {
	new membrii, szQuery[256], string[180];
	if(PlayerInfo[playerid][pClan] == 0 || PlayerInfo[playerid][pClanRank] != 6) return SendClientMessage(playerid,-1,"Nu ai un clan!");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new clanid = PlayerInfo[playerid][pClan];
	for(new h = 0; h < 28; h++) {
	    if(GraffitiInfo[h][gfOwned] == clanid && clanid != 0) {
	        GraffitiInfo[h][gfOwned] = 0;
			DestroyDynamicObject(GraffitiInfo[h][gfObject]);
			GraffitiInfo[h][gfObject] = CreateDynamicObject(19373, GraffitiInfo[h][gfX], GraffitiInfo[h][gfY], GraffitiInfo[h][gfZ], 0.0, 0.0, GraffitiInfo[h][gfRot]);
			format(string, sizeof(string), "None", ClanInfo[GraffitiInfo[h][gfOwned]][clColor], ClanInfo[GraffitiInfo[h][gfOwned]][clTag]);
		    SetDynamicObjectMaterialText(GraffitiInfo[h][gfObject], 0, string, OBJECT_MATERIAL_SIZE_256x128, "BankGothic Md BT", 60, 1, 0xfff0f0f0, 0, 1);
			GraffitiInfo[StartedSprayOn[playerid]][gfAttacked] = 0;
			new query[256];
			format(query, sizeof(query), "UPDATE `graffiti` SET `Owned`='0' WHERE `ID`='%d'", h);
			mysql_query(SQL, query);
	    }
	}
	foreach(Player, i) {
	    if(IsPlayerLogged[i] == 1 && PlayerInfo[i][pClan] == clanid && i != playerid) {
	        SendClientMessage(i, COLOR_YELLOW, "Ai fost demis din acest clan! Motiv: Liderul a renuntat la clan.");
	        SendClientMessage(i, COLOR_YELLOW, "Server: Tag-ul a fost scos. Numele tau nu a fost afectat.");
	        PlayerInfo[i][pClan] = 0;
	        PlayerInfo[i][pClanRank] = 0;
	        SetPlayerName(i, PlayerInfo[i][pUsername]);
			format(szQuery, sizeof(szQuery), "UPDATE `users` SET `Clan`='0', `ClanRank`='0', `ClanDays`='0', `ClanWarns`='0' WHERE `Name`='%s'", GetName(i));
			mysql_query(SQL, szQuery);
	        membrii++;
	    }
	}
    format(szQuery, sizeof(szQuery), "SELECT * FROM `users` WHERE `Clan` = '%d'", clanid);
    new Cache: result = mysql_query(SQL, szQuery);
    new idwtf[180];
    for(new i, j = cache_get_row_count (); i < j; i++)
    {
        cache_get_field_content(i, "id", idwtf);
 		membrii++;
 		new szQuery2[256];
		mysql_format(SQL, szQuery2, sizeof(szQuery2), "UPDATE `users` SET `Clan`='0', `ClanRank`='0', `ClanDays`='0', `ClanWarns`='0' WHERE `ID`='%d'", strval(idwtf));
	    mysql_tquery(SQL,szQuery2, "", "");
    }
    cache_delete(result);

	format(string, sizeof(string), "Ai sters clanul cu succes! Nu-l mai poti recupera. [%d Membrii au fost scosi]", membrii);
	SendClientMessage(playerid, COLOR_YELLOW, string);
	SetPlayerName(playerid, PlayerInfo[playerid][pUsername]);

	mysql_format(SQL, string,128,"DELETE FROM `clans` WHERE `ID`='%d'",clanid);
	mysql_query(SQL, string);

	PlayerInfo[playerid][pClan] = 0;
	PlayerInfo[playerid][pClanRank] = 0;
	return 1;
}
cmd:addsafezone(playerid, params[])
{
	new range, string[256], Float: Pos[3];
    if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid, COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "i", range)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /addsafezone <Range>");
	if(range < 15) return SCM(playerid, COLOR_GREY, "Raza prea mica. (minim 15m)");
	GetPlayerPos(playerid, Pos[0], Pos[1], Pos[2]);
    mysql_format(SQL, string, sizeof(string), "INSERT INTO `safezones` (`X`, `Y`, `Z`, `Range`) VALUES ('%f', '%f', '%f', '%d')", Pos[0], Pos[1], Pos[2], range);
	new Cache: result = mysql_query(SQL, string);
	new i = cache_insert_id();
	SafeZone[i][szX] = Pos[0];
	SafeZone[i][szY] = Pos[1];
	SafeZone[i][szZ] = Pos[2];
	SafeZone[i][szRange] = range;
	cache_delete(result);
	SCM(playerid, COLOR_GOLD, "Acest loc a fost adaugat cu succes in baza de date.");
	format(string, sizeof(string), "Informatii: ID %d, Coordonate (%f, %f, %f), raza %d.", i, Pos[0], Pos[1], Pos[2], range);
	SCM(playerid, COLOR_GOLD, string);
	return 1;
}
cmd:editsafezone(playerid, params[]) {
	new szDialog[1024], szDialog2[1024],szZone[128];
    if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid, COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	for(new i = 1; i < MAX_SAFEZONES; i++) {
	    if(SafeZone[i][szRange] >= -1) {
	        GetPlayer3DZone2(SafeZone[i][szX], SafeZone[i][szY], SafeZone[i][szZ], szZone, sizeof(szZone));
	        format(szDialog, sizeof(szDialog), "%d. %s\n", i, szZone);
	        strcat(szDialog2, szDialog);
		}
	}
	ShowPlayerDialog(playerid, DIALOG_EDITSF, DIALOG_STYLE_TABLIST, "Safezones:", szDialog2, "Select", "Close");
	return 1;
}
cmd:createhouse(playerid, params[])
{
	new pret, nivel;
	if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid, COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(CreateHouse[playerid] == 1) return SCM(playerid, COLOR_GREY, "Deja creezi o casa!");
	if(sscanf(params, "ii", pret, nivel)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /createhouse <Price> <Level>");
    PlayerTextDrawSetString(playerid, ShopTDs[1], "Seteaza");
	CreateHouse[playerid] = 1;
	SInterior[playerid] = 1;
	pPret[playerid] = pret;
	pNivel[playerid] = nivel;
	GetPlayerPos(playerid, pPos[playerid][0], pPos[playerid][1], pPos[playerid][2]);
    pInteriorID[playerid] = GetPlayerInterior(playerid), pVirtual[playerid] = GetPlayerVirtualWorld(playerid);
	SetInteriorCamera(playerid);
	ShowShopTDs(playerid);
	SetPlayerVirtualWorld(playerid, playerid+900);
	return 1;
}

cmd:deleteclan(playerid, params[]) {
	new membrii, szQuery[256], string[180], clanid;
	if(PlayerInfo[playerid][pAdmin] < 6) return SendClientMessage(playerid, COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "i", clanid)) {
 		SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /deleteclan <Clan ID>");
        for(new h = 0; h < MAX_CLANS; h++) {
            if(strlen(ClanInfo[h][clName]) > 0) {
	            format(string, sizeof(string), "%d. Clan: %s (%s) | Owner: %s", h, ClanInfo[h][clName], ClanInfo[h][clTag], ClanInfo[h][clOwner]);
	            SendClientMessage(playerid, COLOR_WHITE, string);
	        }
        }
		return 1;
	}
	foreach(Player, i) {
	    if(IsPlayerLogged[i] == 1 && PlayerInfo[i][pClan] == clanid && clanid != 0) {
	        SendClientMessage(i, COLOR_YELLOW, "Ai fost demis din acest clan! Motiv: Clanul a fost sters de un admin.");
	        SendClientMessage(i, COLOR_YELLOW, "Server: Tag-ul a fost scos. Numele tau nu a fost afectat.");
	        PlayerInfo[i][pClan] = 0;
	        PlayerInfo[i][pClanRank] = 0;
	        SetPlayerName(i, PlayerInfo[i][pUsername]);
			format(szQuery, sizeof(szQuery), "UPDATE `users` SET `Clan`='0', `ClanRank`='0', `ClanDays`='0', `ClanWarns`='0' WHERE `Name`='%s'", GetName(i));
			mysql_query(SQL, szQuery);
	        membrii++;
	    }
	}
	for(new h = 0; h < 28; h++) {
	    if(GraffitiInfo[h][gfOwned] == clanid && clanid != 0) {
	        GraffitiInfo[h][gfOwned] = 0;
			DestroyDynamicObject(GraffitiInfo[h][gfObject]);
			GraffitiInfo[h][gfObject] = CreateDynamicObject(19373, GraffitiInfo[h][gfX], GraffitiInfo[h][gfY], GraffitiInfo[h][gfZ], 0.0, 0.0, GraffitiInfo[h][gfRot]);
			format(string, sizeof(string), "None", ClanInfo[GraffitiInfo[h][gfOwned]][clColor], ClanInfo[GraffitiInfo[h][gfOwned]][clTag]);
		    SetDynamicObjectMaterialText(GraffitiInfo[h][gfObject], 0, string, OBJECT_MATERIAL_SIZE_256x128, "BankGothic Md BT", 60, 1, 0xfff0f0f0, 0, 1);
			GraffitiInfo[StartedSprayOn[playerid]][gfAttacked] = 0;
			new query[256];
			format(query, sizeof(query), "UPDATE `graffiti` SET `Owned`='%d' WHERE `ID`='%d'", h);
			mysql_query(SQL, query);
	    }
	}
    format(ClanInfo[clanid][clName], 256, "");
    format(szQuery, sizeof(szQuery), "SELECT * FROM `users` WHERE `Clan` = '%d'", clanid);
    new Cache: result = mysql_query(SQL, szQuery);
    new idwtf[180];
    for(new i, j = cache_get_row_count (); i < j; i++)
    {
        cache_get_field_content(i, "id", idwtf);
 		membrii++;
 		new szQuery2[256];
		mysql_format(SQL, szQuery2, sizeof(szQuery2), "UPDATE `users` SET `Clan`='0', `ClanRank`='0', `ClanDays`='0', `ClanWarns`='0' WHERE `ID`='%d'", strval(idwtf));
	    mysql_tquery(SQL,szQuery2, "", "");
    }
    cache_delete(result);
	format(string, sizeof(string), "Ai sters clanul cu succes! [%d Membrii au fost scosi]", membrii);
	SendClientMessage(playerid, COLOR_YELLOW, string);
	mysql_format(SQL, string,128,"DELETE FROM `clans` WHERE `ID`='%d'",clanid);
	mysql_query(SQL, string);
	return 1;
}
cmd:clanduty(playerid, params[])
{
	new clanid = PlayerInfo[playerid][pClan];
    if(clanid == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu faci parte dintr-un clan!");
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	switch(ClanDuty[playerid]) {
	    case 0: SendClientMessage(playerid, -1, "Acum, esti la datoria clanului!"), ClanDuty[playerid] = 1;
	    case 1: {
			if(StartedSpray[playerid] == 1 || ClanDuty[playerid] == 1) {
				SendClientMessage(playerid, -1, "Acum, nu mai esti la datoria clanului!");
				GraffitiInfo[StartedSpray2[playerid]][gfAttacked] = 0;
				StartedSpray[playerid] = 0;
				StartedSpray2[playerid] = 0;
				StartedSprayOn[playerid] = 0;
				ClanProces[playerid] = 0;
				ClanDuty[playerid] = 0;
			}
		}
	}
	return 1;
}

cmd:clanzones(playerid, params[])
{
	new clanid = PlayerInfo[playerid][pClan];
    if(clanid == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu faci parte dintr-un clan!");
    new szDialog[1024], szDialog2[1024], szZone[256];
	for(new j = 0; j < 18; j++)
	{
		if(j != 0)
		{
		    GetPlayer3DZone2(GraffitiInfo[j][gfX], GraffitiInfo[j][gfY], GraffitiInfo[j][gfZ], szZone, sizeof(szZone));
		    if(GraffitiInfo[j][gfOwned] == 0) format(szDialog, sizeof(szDialog), "%d.\t%s\tServer\n", j, szZone);
		    else format(szDialog, sizeof(szDialog), "%d.\t%s\t%s\n", j, szZone, ClanInfo[GraffitiInfo[j][gfOwned]][clName]);
		    strcat(szDialog2, szDialog);
		}
	}
	ShowPlayerDialog(playerid, DIALOG_CLANTURFS, DIALOG_STYLE_TABLIST, "Teritorii:", szDialog2, "Ok", "Iesire");
	return 1;
}

cmd:spray(playerid, params[])
{
	new clanid = PlayerInfo[playerid][pClan], string[256];
    if(clanid == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu faci parte dintr-un clan!");
    if(ClanDuty[playerid] == 0) return SCM(playerid,-1,"Nu esti la datorie!");
    if(StartedSpray2[playerid] == 1) return 1;
	if(StartedSpray[playerid] == 0) ClanProces[playerid] = 0;
	for(new h = 0; h < 18; h++) {
		if(PlayerToPoint(8.0, playerid, GraffitiInfo[h][gfX], GraffitiInfo[h][gfY], GraffitiInfo[h][gfZ])) {
		    if(StartedSprayOn[playerid] != 0 && StartedSprayOn[playerid] != h) {
		        SCM(playerid, -1, "Peretele pe care vrei sa folosesti aceasta comanda, este diferit fata de primul!");
		    }
		    else if(GraffitiInfo[h][gfOwned] == PlayerInfo[playerid][pClan]) {
		        SCM(playerid, -1, "Acest perete apartine clanului tau.");
		    }
		    /*else if(GraffitiInfo[StartedSprayOn[playerid]][gfAttacked] != 0 && StartedSprayOn[playerid] != GraffitiInfo[h][gfAttacked]) {
		        SendClientMessage(playerid, -1, "Cineva deja scrie pe acest perete!");
		    }*/
		    else {
			    if(StartedSpray[playerid] == 0) {
			        if(GraffitiInfo[h][gfOwned] == 0) format(string, sizeof(string), "Ai inceput sa scrii pe peretele cu id-ul %d, detinut de clanul: Server", h);
					else format(string, sizeof(string), "Ai inceput sa scrii pe peretele cu id-ul %d, detinut de clanul: %s", h, ClanInfo[GraffitiInfo[h][gfOwned]][clName]);
					SCM(playerid, COLOR_LIGHTBLUE, string);
					GraffitiInfo[h][gfAttacked] = clanid;
					format(string, sizeof(string), "{FF0000}%s (din clanul %s) a inceput sa scrie pe peretele clanului tau (turf id %d).", GetName(playerid), ClanInfo[PlayerInfo[playerid][pClan]][clName], h);
					SendClanMessage(GraffitiInfo[h][gfOwned], string);
			    }
				GivePlayerWeapon(playerid, 41, 10000);
				ApplyAnimation(playerid,"SPRAYCAN","spraycan_full",4.0,0,0,0,0,0);
				SetTimerEx( "FinalProces", 4000, 0, "d", playerid );
				StartedSpray[playerid] = 1;
				StartedSpray2[playerid] = 1;
				StartedSprayOn[playerid] = h;
			}
		}
	}
    return 1;
}
function FinalProces(playerid) {
	if(IsPlayerConnected(playerid) && StartedSpray[playerid] == 1) {
    	ClearAnimations(playerid);
    	new string[256];
    	new test = 7 + random(6);
    	ClanProces[playerid] += test;
    	if(ClanProces[playerid] >= 100) {
			new tagname[256];
			new i = StartedSprayOn[playerid];
			format(string, sizeof(string), "{FF0000}%s (din clanul %s) a reusit sa deseneze complet peretele (turf id %d).", GetName(playerid), ClanInfo[PlayerInfo[playerid][pClan]][clName], i);
			SendClanMessage(GraffitiInfo[i][gfOwned], string);
			format(string, sizeof(string), "{FF0000}%s a reusit sa va deseneze complet peretele (turf id %d).", GetName(playerid), i);
			SendClanMessage(PlayerInfo[playerid][pClan], string);
            GraffitiInfo[i][gfOwned] = PlayerInfo[playerid][pClan];
			DestroyDynamicObject(GraffitiInfo[i][gfObject]);
			GraffitiInfo[i][gfObject] = CreateDynamicObject(19353, GraffitiInfo[i][gfX], GraffitiInfo[i][gfY], GraffitiInfo[i][gfZ], 0.0, 0.0, GraffitiInfo[i][gfRot]);
			format(tagname, sizeof(tagname), "{%s}%s\n%s", ClanInfo[GraffitiInfo[i][gfOwned]][clColor], ClanInfo[GraffitiInfo[i][gfOwned]][clName], ClanInfo[GraffitiInfo[i][gfOwned]][clTag]);
		    SetDynamicObjectMaterialText(GraffitiInfo[i][gfObject], 0, tagname, OBJECT_MATERIAL_SIZE_512x256, "BankGothic Md BT", 60, 1, 0xfff0f0f0, 0, OBJECT_MATERIAL_TEXT_ALIGN_CENTER);
			
			GraffitiInfo[StartedSprayOn[playerid]][gfAttacked] = 0;
			new query[256];
			format(query, sizeof(query), "UPDATE `graffiti` SET `Owned`='%d' WHERE `ID`='%d'", PlayerInfo[playerid][pClan], i);
			mysql_query(SQL, query);
			StartedSpray[playerid] = 0;
			StartedSpray2[playerid] = 0;
			StartedSprayOn[playerid] = 0;
    	}
    	else {
	    	format(string, sizeof(string), "Continua sa dai cu spray-ul! (%d%s)", ClanProces[playerid], "%%");
			SendClientMessage(playerid, COLOR_GOLD, string);
    	}
    	ResetPlayerWeapons(playerid);
    	StartedSpray2[playerid] = 0;
	}
	return 1;
}

cmd:clan(playerid,params[])
{
	if(PlayerInfo[playerid][pClan] == 0) return  SendClientMessage(playerid, COLOR_GREY, "Nu faci parte dintr-un clan!");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	ShowPlayerDialog(playerid, DIALOG_CLAN_COMMAND, DIALOG_STYLE_LIST, "Clan:", "Comenzile clanului\nMembrii clanului\nSetari", "Select", "Cancel");
	return 1;
}

alias:clanchat("c");
cmd:clanchat(playerid, params[])
{
	new
		message[256],
		szMessage[256],
		clanid = PlayerInfo[playerid][pClan];

	if(IsPlayerLogged[playerid] == 0) return 1;
	if(clanid == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu faci parte dintr-un clan!");
	if(sscanf(params, "s[160]", message)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /clanchat <Message>");
	switch(PlayerInfo[playerid][pClanRank])
	{
	    case 1: format(szMessage, sizeof(szMessage), "{%s}(CLAN) %s %s: %s", ClanInfo[clanid][clColor], ClanInfo[clanid][clRankName1], GetName(playerid), message);
	    case 2: format(szMessage, sizeof(szMessage), "{%s}(CLAN) %s %s: %s", ClanInfo[clanid][clColor], ClanInfo[clanid][clRankName2], GetName(playerid), message);
	    case 3: format(szMessage, sizeof(szMessage), "{%s}(CLAN) %s %s: %s", ClanInfo[clanid][clColor], ClanInfo[clanid][clRankName3], GetName(playerid), message);
	    case 4: format(szMessage, sizeof(szMessage), "{%s}(CLAN) %s %s: %s", ClanInfo[clanid][clColor], ClanInfo[clanid][clRankName4], GetName(playerid), message);
	    case 5: format(szMessage, sizeof(szMessage), "{%s}(CLAN) %s %s: %s", ClanInfo[clanid][clColor], ClanInfo[clanid][clRankName5], GetName(playerid), message);
	    case 6: format(szMessage, sizeof(szMessage), "{%s}(CLAN) %s %s: %s", ClanInfo[clanid][clColor], ClanInfo[clanid][clRankName6], GetName(playerid), message);
	}
	SendClanMessage(clanid, szMessage);
	return 1;
}

stock SendClanMessage(clanid, text[])
{
	for(new i = 0; i < MAX_PLAYERS; i++) {
        if(IsPlayerLogged[i] == 1 && clanid != 0) {
    		if(PlayerInfo[i][pClan] == clanid) {
				SendClientMessage(i, COLOR_WHITE, text);
    		}
        }
	}
	return 1;
}

cmd:cinvite(playerid, params[])
{
	new
		userID,
		string[256],
		clanid = PlayerInfo[playerid][pClan];

	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "u", userID)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /cinvite <Nume/Playerid>");
	if(!ProxDetectorS(5.0, playerid, userID)) return SendClientMessage(playerid, -1, "Nu esti langa acel player!");
	if(userID == playerid) return 1;
	
	if(!IsPlayerLogged[userID] && !IsPlayerConnected(playerid)) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	if(PlayerInfo[playerid][pClan] == 0) return SendClientMessage(playerid, COLOR_GREY, "La aceasta comanda au acces doar cei care fac parte dintr-un clan oficial.");
    if(PlayerInfo[playerid][pClanRank] < 6) return SendClientMessage(playerid, COLOR_GREY, "La aceasta categorie, are acces doar propietarul clanului.");
	if(PlayerInfo[userID][pClan] != 0) return SendClientMessage(playerid, COLOR_GREY, "Jucatorul invitat este deja intr-un clan!");
	if(ClanInfo[clanid][clSlots] == 0) return SCM(playerid, COLOR_GREY, "Nu mai poti baga membrii in clan deoarece e plin.");
	format(string, sizeof(string), "I-ai trimis o invitatie lui %s de intrare in clan.", GetName(userID));
	SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
	format(string, sizeof(string), "Ai fost invitat in clanul %s cu tagul %s de catre %s.", ClanInfo[clanid][clName], ClanInfo[clanid][clTag], GetName(playerid));
	SendClientMessage(userID, COLOR_LIGHTBLUE, string);
	format(string, sizeof(string), "Foloseste /accept clan %d pentru a accepta invitatia de a intra in clan.", playerid);
	SendClientMessage(userID, COLOR_LIGHTBLUE, string);

	InvitedClan[userID] = clanid;
	InvitedBy[userID] = playerid;
	return 1;
}
alias:blacklist("bl");
cmd:blacklist(playerid, params[])
{
	if(PlayerInfo[playerid][pLeader] == 0) return SCM(playerid,COLOR_BZWHITE,"Eroare: Nu esti lider.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new szQuery[256], szString[256], szDialog[1024], szDialog2[1024], onf, x, szTitle[256];
	format(szQuery, sizeof(szQuery), "SELECT * FROM `blacklist` WHERE `Faction`='%d'", PlayerInfo[playerid][pLeader]);
	new Cache: result = mysql_query(SQL, szQuery);

	for(new i, j = cache_get_row_count (); i != j; ++i)
	{
		cache_get_field_content(i, "Name", szString);
		format(Selected[playerid][x], MAX_PLAYER_NAME, szString);
		new userID = GetPlayerID( szString );
		if(userID != INVALID_PLAYER_ID)
		{
			onf++;
			if(x == 0) format(szDialog, sizeof(szDialog), "Adauga un jucator...\n{13E300}%s (%d){FFFFFF}\n", szString, userID);
			else format(szDialog, sizeof(szDialog), "{13E300}%s (%d){FFFFFF}\n", szString, userID);
			strcat(szDialog2, szDialog);
		}
		else
		{
			if(x == 0) format(szDialog, sizeof(szDialog), "Adauga un jucator...\n{FF0000}%s{FFFFFF}\n", szString);
			else format(szDialog, sizeof(szDialog), "{FF0000}%s{FFFFFF}\n", szString);
			strcat(szDialog2, szDialog);
		}
		x++;
	}
	if(x == 0) {
		format(szDialog, sizeof(szDialog), "Adauga un jucator...");
		strcat(szDialog2, szDialog);
	}
	cache_delete(result);
	format(szTitle, sizeof(szTitle), "Jucatori conectati: %d", onf);
	ShowPlayerDialog(playerid, DIALOG_BLACKLIST, DIALOG_STYLE_LIST, szTitle, szDialog2, "Select", "Inapoi");
	return 1;
}
alias:myblacklist("mybl");
cmd:myblacklist(playerid, params[])
{
	new szQuery[256], szString[256], szDialog[1024], szDialog2[1024], x;
	format(szQuery, sizeof(szQuery), "SELECT * FROM `blacklist` WHERE `Userid` = '%d'", PlayerInfo[playerid][pSQLID]);
	new Cache: result = mysql_query(SQL, szQuery);

	new faction, addby[256];
	for(new i, j = cache_get_row_count (); i != j; ++i)
	{
		cache_get_field_content(i, "Faction", szString);
		faction = strval(szString);
		cache_get_field_content(i, "Added", szString);
		format(addby, 256, szString);
		format(szDialog, 1024, "{FFFFFF}%d. Factiune: {D10A0A}%s{FFFFFF} | Adaugat de: {D10A0A}%s\n", x+1, NumeFactiune(faction), addby);
		strcat(szDialog2, szDialog);
		x++;
	}
	cache_delete(result);
	if(x == 0) return SCM(playerid, -1, "Nu esti pe blacklist-ul unei factiuni!");
	ShowPlayerDialog(playerid, DIALOG_BLACKLIST, DIALOG_STYLE_MSGBOX, "My blacklist:", szDialog2, "Ok", "Cancel");
	return 1;
}

function IsInBlacklist(playerid, fid) {
	new szQuery[256], adev;
	format(szQuery, sizeof(szQuery), "SELECT * FROM `blacklist` WHERE `Userid`='%d'", PlayerInfo[playerid][pSQLID]);
	new Cache: result = mysql_query(SQL, szQuery);
	for(new i, j = cache_get_row_count (); i != j; ++i)
	{
        adev ++;
    }
    cache_delete(result);
    if(adev != 0) return 1;
	return 0;
}
function GetStaffOnline(type) {
	new x;
	switch(type) {
		case 0: {
			foreach(Player, i) {
				if(IsPlayerConnected(i) && PlayerInfo[i][pAdmin] != 0) x++;
			}
		}
		case 1: {
			foreach(Player, i) {
				if(IsPlayerConnected(i) && PlayerInfo[i][pHelper] != 0) x++;
			}
		}		
	}
	return x;
}


stock ShowPlayerFriends(playerid) {
	new	szDialog[1024],szDialog2[1024],szQuery[256],szString[256],color[200],x;

	format(szQuery, sizeof(szQuery), "SELECT * FROM `friends` WHERE `AddBy` = '%d'", PlayerInfo[playerid][pSQLID]);
	new Cache: result = mysql_query(SQL, szQuery);
	strcat(szDialog2, "Add Friend...{FFFFFF}\n");
	for(new i, j = cache_get_row_count (); i != j; ++i) {
		cache_get_field_content(i, "friendName", szString); 
		format(Selected[playerid][x], MAX_PLAYER_NAME, szString);
		new userID = GetPlayerID( szString );
		if(IsPlayerConnected(userID)) color = "04E004";
		if(!IsPlayerConnected(userID)) color ="FF0000";
		if(IsPlayerConnected(userID) && PlayerInfo[userID][pSleeping] == 1) color="FFDD00";
		format(szDialog, sizeof(szDialog), "{%s}%s{FFFFFF}\n", color, szString);
		strcat(szDialog2, szDialog);	
		x++;
	}
	cache_delete(result);
	ShowPlayerDialog(playerid, DIALOG_FRIENDS, DIALOG_STYLE_LIST, "Prieteni", szDialog2, "Selecteaza", "Iesi");
	return 1;
}


cmd:friends(playerid, params[]) {
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	ShowPlayerFriends(playerid);
	return 1;
}

function ShowPlayerRaport(playerid, targetid) {
	new szDialog[1024], szDialog2[1024];
	new ffID = PlayerInfo[playerid][pMember];
	strcat(szDialog2, "Rank\tComenzi\tStare\n");
	switch(PlayerInfo[targetid][pRank]) {
		case 1: format(szDialog, 1024, "Rank 1\t%d/%d\t%s\n", PlayerInfo[targetid][pCommands], FactionInfo[ffID][fRank1], (FactionInfo[ffID][fRank1]-PlayerInfo[targetid][pCommands] <= 0) ? ("{0DFF00}Terminat{FFFFFF}") : ("{FF0000}Neterminat{FFFFFF}"));
		case 2: format(szDialog, 1024, "Rank 2\t%d/%d\t%s\n", PlayerInfo[targetid][pCommands], FactionInfo[ffID][fRank2], (FactionInfo[ffID][fRank2]-PlayerInfo[targetid][pCommands] <= 0) ? ("{0DFF00}Terminat{FFFFFF}") : ("{FF0000}Neterminat{FFFFFF}"));
		case 3: format(szDialog, 1024, "Rank 3\t%d/%d\t%s\n", PlayerInfo[targetid][pCommands], FactionInfo[ffID][fRank3], (FactionInfo[ffID][fRank3]-PlayerInfo[targetid][pCommands] <= 0) ? ("{0DFF00}Terminat{FFFFFF}") : ("{FF0000}Neterminat{FFFFFF}"));
		case 4: format(szDialog, 1024, "Rank 4\t%d/%d\t%s\n", PlayerInfo[targetid][pCommands], FactionInfo[ffID][fRank4], (FactionInfo[ffID][fRank4]-PlayerInfo[targetid][pCommands] <= 0) ? ("{0DFF00}Terminat{FFFFFF}") : ("{FF0000}Neterminat{FFFFFF}"));
		case 5: format(szDialog, 1024, "Rank 5\t%d/%d\t%s\n", PlayerInfo[targetid][pCommands], FactionInfo[ffID][fRank5], (FactionInfo[ffID][fRank5]-PlayerInfo[targetid][pCommands] <= 0) ? ("{0DFF00}Terminat{FFFFFF}") : ("{FF0000}Neterminat{FFFFFF}"));
	}
	strcat(szDialog2, szDialog);
	new titleh[256];
	format(titleh, sizeof(titleh), "%s (%s)", GetName(targetid), NumeFactiune(PlayerInfo[targetid][pMember]));
	ShowPlayerDialog(playerid, 0, DIALOG_STYLE_TABLIST_HEADERS, titleh, szDialog2, "Inchide", "");
	return 1;
}
cmd:myraport(playerid, params[]) {
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    new ffID = PlayerInfo[playerid][pMember];
	if(ffID == 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte dintr-o factiune.");
	if(PlayerInfo[playerid][pRank] == 7) return 1;
    ShowPlayerRaport(playerid, playerid);
	return 1;
}
cmd:furniture(playerid, params[])
{
	if(IsPlayerLogged[playerid] == 0) return SendClientMessage(playerid, COLOR_RED, "Nu esti logat!");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new house = PlayerInfo[playerid][pHouse];
	new bouse = PlayerInfo[playerid][pHouse];
	if(GetHouseObjects(house) == 50) return SCM(playerid,-1,"Ai prea mult mobiler in casa (50/50).");
	if(bouse != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0)
	{
        if(!PlayerToPoint(50.0, playerid, HouseInfo[bouse][hExitx], HouseInfo[bouse][hExity], HouseInfo[bouse][hExitz]) && GetPlayerVirtualWorld(playerid) != HouseInfo[bouse][hVirtual]) return SCM(playerid, COLOR_GREY, "Nu esti in interiorul casei tale!");
		ShowModelSelectionMenu(playerid, furnitures, "Mobila");
	}
	return 1;
}

cmd:editfurniture(playerid, params[])
{
	new furnituress;
	new house = PlayerInfo[playerid][pHouse];
	new bouse = PlayerInfo[playerid][pHouse];
	new szDialog[1024], string[256];
	if(bouse != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0)
	{
        if(!PlayerToPoint(50.0, playerid, HouseInfo[bouse][hExitx], HouseInfo[bouse][hExity], HouseInfo[bouse][hExitz]) && GetPlayerVirtualWorld(playerid) != HouseInfo[bouse][hVirtual]) return SCM(playerid, COLOR_GREY, "Nu esti in interiorul casei tale!");
		if(GetHouseObjects(PlayerInfo[playerid][pHouse]) == 0) return SCM(playerid, -1, "Nu ai mobilier in casa!");
	    for(new i = 0; i != sizeof(FurnitureInfo); i++ )
	    {
	        if(FurnitureInfo[i][fiHouse] == house) {
				SelMobila[playerid][furnituress] = i;
				furnituress++;
				format(string, sizeof(string), "Slot %d\n", furnituress);
				strcat(szDialog, string);
	        }
	    }
	    ShowPlayerDialog(playerid, DIALOG_EDITMOBILA, DIALOG_STYLE_LIST, "Editeaza:", szDialog, "Ok", "Iesire");
	}
	return 1;
}

stock GetHouseObjects(houseid) {
	new x;
    for(new i = 0; i != sizeof(FurnitureInfo); i++)
    {
        if(FurnitureInfo[i][fiHouse] == houseid) x++;
    }
	return x;
}
function UnfreezePlayer(playerid) {
	if(!IsPlayerConnected(playerid)) return 1;
	TogglePlayerControllable(playerid, 1);
	return 1;
}
cmd:createvehicle(playerid, params[]) {
    if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid, COLOR_ERROR, AdminOnly);
	new Float: Pos[3], Float: Angle, string[256], szQuery[500], modelid, color[2];
	if(sscanf(params, "iii", modelid, color[0], color[1])) return SCM(playerid, COLOR_SYNTAX, "Syntax: /createvehicle <Model> <Culoarea 1> <Culoarea 2>");
	if(400 <= modelid >= 611) return SCM(playerid, COLOR_GREY, "Invalid vehicle id. (400 - 611)");
	if(!(0 <= color[0] <= 255 && 0 <= color[1] <= 255)) return SCM(playerid, COLOR_GREY, "Invalid color id. (0 - 255)");
	if(IsPlayerInAnyVehicle(playerid)) return 1;

	GetPlayerPos(playerid, Pos[0], Pos[1], Pos[2]);
	GetPlayerFacingAngle(playerid, Angle);
	new carid = GetServerVehicles()+1;
	ServerVehicles[carid][vSpawned] = CreateVehicle(modelid, Pos[0], Pos[1], Pos[2], Angle, color[0], color[1], -1);
	PutPlayerInVehicleEx(playerid, ServerVehicles[carid][vSpawned], 0);
	ServerVehicles[carid][vID] = carid;
	ServerVehicles[carid][vModel] = modelid;
	ServerVehicles[carid][vLocation][0] = Pos[0];
	ServerVehicles[carid][vLocation][1] = Pos[1];
	ServerVehicles[carid][vLocation][2] = Pos[2];
	ServerVehicles[carid][vAngle] = Angle;
	ServerVehicles[carid][vColor][0] = color[0];
	ServerVehicles[carid][vColor][1] = color[1];

	mysql_format(SQL, szQuery, sizeof(szQuery),
	"INSERT INTO `svehicles` (vID, vModel, LocationX, LocationY, LocationZ, Angle, Color1, Color2) VALUES ('%d', '%d', '%f', '%f', '%f', '%f', '%d', '%d')", carid, modelid, Pos[0], Pos[1], Pos[2], ServerVehicles[carid][vAngle], color[0], color[1]);
	mysql_query(SQL, szQuery);
	format(string, sizeof(string), "Ai creat cu succes un %s (vID: %d).", aVehicleNames[modelid - 400], carid);
	SCM(playerid, COLOR_LGREEN, string);
	format(string, sizeof(string), "Acesta a fost adaugat cu succes in baza de date iar acum sunt in total %d vehicule!", GetServerVehicles());
	SCM(playerid, COLOR_LGREEN, string);
	SCM(playerid, COLOR_LGREEN, "Daca vrei sa modifici acest vehicul, foloseste comanda /editvehicle.");
	return 1;
}
cmd:editvehicle(playerid, params[]) {
    if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid, COLOR_ERROR, AdminOnly);
	new vehicleid = GetPlayerVehicleID(playerid), string[256], szQuery[256], option[25], result;
	if(sscanf(params, "s[25]i", option, result)) {
		SCM(playerid, COLOR_SYNTAX, "Syntax: /editvehicle <option> <result>");
		SCM(playerid, COLOR_SYNTAX, "Avaiable: Model, Color1, Color2, Faction, Rank.");
		return 1;
	}
	if(!IsPlayerInAnyVehicle(playerid)) return 1;
	new dbid = GetVehicleID(vehicleid);
	if(ServerVehicles[dbid][vID] == 0) return SCM(playerid, COLOR_GREY, "Acest vehicul nu face parte din baza de date.");
	if(strcmp(option, "model" , true) == 0) {
	    if(result < 400 || result > 611) return SCM(playerid, COLOR_GREY, "Modelul vehiculului este invalid.");
		DestroyVehicle(vehicleid);
		CreateVehicle(result, ServerVehicles[dbid][vLocation][0], ServerVehicles[dbid][vLocation][1], ServerVehicles[dbid][vLocation][2], ServerVehicles[dbid][vAngle], ServerVehicles[dbid][vColor][0], ServerVehicles[dbid][vColor][1], -1);
		PutPlayerInVehicleEx(playerid, vehicleid, 0);
		ServerVehicles[dbid][vModel] = result;
		format(string, sizeof(string), "Ai schimbat cu succes modelul acestui vehicul (vID: %d) in: %d.", vehicleid, result);
		SCM(playerid, COLOR_LGREEN, string);

		mysql_format(SQL, szQuery, sizeof(szQuery), "UPDATE `svehicles` SET `vModel` = '%d' WHERE `vID` = '%d'", result, dbid);
		mysql_query(SQL, szQuery);
	}
	if(strcmp(option, "color1" , true) == 0) {
	    if(result < 0 || result > 256) return SCM(playerid, COLOR_GREY, "ID-ul culorii este invalid.");
		ChangeVehicleColorEx(vehicleid, result, ServerVehicles[dbid][vColor][1]);
		ServerVehicles[dbid][vColor][0] = result;
		format(string, sizeof(string), "Ai schimbat cu succes culoarea acestui vehicul (vID: %d) in: %d.", vehicleid, result);
		SCM(playerid, COLOR_LGREEN, string);

		mysql_format(SQL, szQuery, sizeof(szQuery), "UPDATE `svehicles` SET `Color1` = '%d' WHERE `vID` = '%d'", result, dbid);
		mysql_query(SQL, szQuery);
	}
	if(strcmp(option, "color2" , true) == 0) {
	    if(result < 0 || result > 256) return SCM(playerid, COLOR_GREY, "ID-ul culorii este invalid.");
		ChangeVehicleColorEx(vehicleid, ServerVehicles[dbid][vColor][0], result);
		ServerVehicles[dbid][vColor][1] = result;
		format(string, sizeof(string), "Ai schimbat cu succes culoarea acestui vehicul (vID: %d) in: %d.", vehicleid, result);
		SCM(playerid, COLOR_LGREEN, string);

		mysql_format(SQL, szQuery, sizeof(szQuery), "UPDATE `svehicles` SET `Color2` = '%d' WHERE `vID` = '%d'", result, dbid);
		mysql_query(SQL, szQuery);
	}
	if(strcmp(option, "faction" , true) == 0) {
		ServerVehicles[dbid][vFaction] = result;
		format(string, sizeof(string), "Ai schimbat cu succes id-ul factiunii al acestui vehicul (vID: %d) in: %d.", vehicleid, result);
		SCM(playerid, COLOR_LGREEN, string);

		mysql_format(SQL, szQuery, sizeof(szQuery), "UPDATE `svehicles` SET `Faction` = '%d' WHERE `vID` = '%d'", result, dbid);
		mysql_query(SQL, szQuery);
	}
	if(strcmp(option, "rank" , true) == 0) {
		ServerVehicles[dbid][vRank] = result;
		format(string, sizeof(string), "Ai schimbat cu succes rank-ul necesar al acestui vehicul (vID: %d) in: %d.", vehicleid, result);
		SCM(playerid, COLOR_LGREEN, string);

		mysql_format(SQL, szQuery, sizeof(szQuery), "UPDATE `svehicles` SET `Rank` = '%d' WHERE `vID` = '%d'", result, dbid);
		mysql_query(SQL, szQuery);
	}
	return 1;
}
cmd:vpark(playerid, params[]) {
    if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid, COLOR_ERROR, AdminOnly);
    if(!IsPlayerInAnyVehicle(playerid)) return 1;
    new carid = GetPlayerVehicleID(playerid), Float: Pos[3], Float: Angle, string[500], szQuery[256];
	new dbid = GetVehicleID(carid);
	if(ServerVehicles[dbid][vID] == 0) return SCM(playerid, COLOR_GREY, "Acest vehicul nu face parte din baza de date.");
	GetVehiclePos(carid, Pos[0], Pos[1], Pos[2]);
	GetVehicleZAngle(carid, Angle);
	ServerVehicles[dbid][vLocation][0] = Pos[0];
	ServerVehicles[dbid][vLocation][1] = Pos[1];
	ServerVehicles[dbid][vLocation][2] = Pos[2];
	ServerVehicles[dbid][vAngle] = Angle;
	DestroyVehicle(carid);
	ServerVehicles[dbid][vSpawned] = CreateVehicle(ServerVehicles[dbid][vModel], ServerVehicles[dbid][vLocation][0], ServerVehicles[dbid][vLocation][1], ServerVehicles[dbid][vLocation][2], ServerVehicles[dbid][vAngle], ServerVehicles[dbid][vColor][0], ServerVehicles[dbid][vColor][1], -1);
	ChangeVehicleColorEx(carid, ServerVehicles[dbid][vColor][0], ServerVehicles[dbid][vColor][1]);
	PutPlayerInVehicleEx(playerid, carid, 0);
	new plate[64];
	format(plate, sizeof(plate), "F%d %d", ServerVehicles[dbid][vFaction], ServerVehicles[dbid][vSpawned]);
	format(string, sizeof(string), "Pozitiile vehiculului au fost modificate cu succes (vID: %d).", carid);
	SCM(playerid, COLOR_LGREEN, string);
	mysql_format(SQL, szQuery, sizeof(szQuery), "UPDATE `svehicles` SET `LocationX` = '%f', `LocationY` = '%f', `LocationZ` = '%f', `Angle` = '%f' WHERE `vID` = '%d'", Pos[0], Pos[1], Pos[2], Angle, dbid);
	mysql_query(SQL, szQuery);
	return 1;
}
cmd:setrankname(playerid, params[]) {
	new string[180], name[180], rank;
	if(PlayerInfo[playerid][pLeader] <= 0) return SCM(playerid,COLOR_BZWHITE,"Eroare: Nu esti lider.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "is[180]", rank, name)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /setrankname <Rank (1-7)> <Name>");
	if(rank < 1 || rank > 7) return SCM(playerid, -1, "Rank invalid! (1-7)");
	format(fRankNames[PlayerInfo[playerid][pLeader]][rank-1], 256, name);
	format(string, sizeof(string), "Liderul %s a schimbat numele la rank %d: %s.", GetName(playerid),rank, name);
	SendFactionMessage(PlayerInfo[playerid][pLeader],COLOR_LIGHTBLUE,string);
	format(string, sizeof(string), "AdmWarn: Liderul %s %s a schimbat numele rangului %d in %s.", NumeFactiune(PlayerInfo[playerid][pLeader]),GetName(playerid),rank, name);
	SendAdminMessage(COLOR_LOGS,string,1);
	SaveRankNames(PlayerInfo[playerid][pLeader]);
	return 1;
}	

function SaveRankNames(fid) {
	new query[2048];
	format(query, sizeof(query), "UPDATE `factions` SET `Name1`='%s', `Name2`='%s', `Name3`='%s', `Name4`='%s', `Name5`='%s', `Name6`='%s', `Name7`='%s' WHERE `ID`='%d'", 
	fRankNames[fid][0], fRankNames[fid][1], fRankNames[fid][2], fRankNames[fid][3], fRankNames[fid][4], fRankNames[fid][5],
	fRankNames[fid][6], fid);
	mysql_query(SQL, query);
	return 1;
}	
	
stock GetRankName(playerid) {
	new name[180];
	format(name, 256, fRankNames[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]-1]);
	return name;
}
function saveTuning(playerid, vehicleid) {
	new idd = FindSpawnID(vehicleid);
	if(idd != 0) {
		new component;
		new query[180];
		component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 0);
		mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod0='%d' WHERE ID=%d",component,idd);
		mysql_tquery(SQL, query, "", "");
		CarInfo[idd][mod0] = component;
		component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 1);
		mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod1='%d' WHERE ID=%d",component,idd);
		mysql_tquery(SQL, query, "", "");
		CarInfo[idd][mod1] = component;
		component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 2);
		mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod2='%d' WHERE ID=%d",component,idd);
		mysql_tquery(SQL, query, "", "");
		CarInfo[idd][mod2] = component;
		component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 3);
		mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod3='%d' WHERE ID=%d",component,idd);
		mysql_tquery(SQL, query, "", "");
		CarInfo[idd][mod3] = component;
		component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 4);
		mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod4='%d' WHERE ID=%d",component,idd);
		mysql_tquery(SQL, query, "", "");
		CarInfo[idd][mod4] = component;
		component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 5);
		mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod5='%d' WHERE ID=%d",component,idd);
		mysql_tquery(SQL, query, "", "");
		CarInfo[idd][mod5] = component;
		component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 6);
		mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod6='%d' WHERE ID=%d",component,idd);
		mysql_tquery(SQL, query, "", "");
		CarInfo[idd][mod6] = component;
		component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 7);
		mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod7='%d' WHERE ID=%d",component,idd);
		mysql_tquery(SQL, query, "", "");
		CarInfo[idd][mod7] = component;
		component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 8);
		mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod8='%d' WHERE ID=%d",component,idd);
		mysql_tquery(SQL, query, "", "");
		CarInfo[idd][mod8] = component;
		component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 9);
		mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod9='%d' WHERE ID=%d",component,idd);
		mysql_tquery(SQL, query, "", "");
		CarInfo[idd][mod9] = component;
		component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 10);
		mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod10='%d' WHERE ID=%d",component,idd);
		mysql_tquery(SQL, query, "", "");
		CarInfo[idd][mod10] = component;
		component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 11);
		mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod11='%d' WHERE ID=%d",component,idd);
		mysql_tquery(SQL, query, "", "");
		CarInfo[idd][mod11] = component;
		component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 12);
		mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod12='%d' WHERE ID=%d",component,idd);
		mysql_tquery(SQL, query, "", "");
		CarInfo[idd][mod12] = component;
		component = GetVehicleComponentInSlot(GetPlayerVehicleID(playerid), 13);
		mysql_format(SQL, query, sizeof(query), "UPDATE cars SET mod13='%d' WHERE ID=%d",component,idd);
		mysql_tquery(SQL, query, "", "");
		CarInfo[idd][mod13] = component;
		
	}	
	return 1;
}
	
function RentCar() {
	new carid, string[180], query[256], result[MAX_PLAYERS];
	foreach(Player, i) {
		if(IsPlayerConnected(i) && IsPlayerInAnyVehicle(i)) {
			carid = GetPlayerVehicleID(i);
			result[i] = 0;
			if(carid == scooter[1] || carid == scooter[2] || carid == scooter[3] || carid == scooter[4] || carid == scooter[5] || carid == scooter[6] || carid == scooter[7] || carid == scooter[8] || carid == scooter[9] || carid == scooter[10]) {
				RentPrice[i] += BizzInfo[8][bFee];
				BizzInfo[8][bBalance] += BizzInfo[8][bFee];
				format(query, sizeof(query),"UPDATE `bizz` SET `Till`='%d' WHERE `ID`='8'",BizzInfo[8][bBalance]);
				mysql_query(SQL,query);				
				if(GetPlayerCash(i) < BizzInfo[8][bFee]) {
					RemovePlayerFromVehicleEx(i);
					PlayerTextDrawHide(i, RentTD);
					RentPrice[i] = 0;
					HireCar[i] = 0;
					SCM(i, COLOR_GREY, "Ai fost dat afara din vehicul deoarece nu ai banii necesari!");
					result[i] = 1;
				}				
				GivePlayerCash(i, -BizzInfo[8][bFee]);				
			}
			else if(carid == rentls[1] || carid == rentls[2] || carid == rentls[3] || carid == rentls[4] || carid == rentls[5] || carid == rentls[6]  || carid == rentls[7] || carid == rentls[8] || carid == rentls[9]
			|| carid == rentls[10] || carid == rentls[11] || carid == rentls[12] || carid == rentls[13] || carid == rentls[14] || carid == rentls[15])
			{
				RentPrice[i] += BizzInfo[10][bFee];
				BizzInfo[10][bBalance] += BizzInfo[10][bFee];
				format(query, sizeof(query),"UPDATE `bizz` SET `Till`='%d' WHERE `ID`='10'",BizzInfo[10][bBalance]);
				mysql_query(SQL,query);				
				if(GetPlayerCash(i) < BizzInfo[10][bFee]) {
					RemovePlayerFromVehicleEx(i);
					PlayerTextDrawHide(i, RentTD);
					RentPrice[i] = 0;
					HireCar[i] = 0;
					SCM(i, COLOR_GREY, "Ai fost dat afara din vehicul deoarece nu ai banii necesari!");
					result[i] = 1;
				}				
				GivePlayerCash(i, -BizzInfo[10][bFee]);			
			}
			else result[i] = 1;
			if(result[i] == 0) {
				format(string, sizeof(string), "  Rent car: ~g~$%s", FormatNumber(RentPrice[i]));
				PlayerTextDrawSetString(i, RentTD, string);
				PlayerTextDrawShow(i, RentTD);
			}	
		}
	}
	return 1;
}
function HelperQuestions() {
	new string[180], helpers;
	foreach(Player, i) {
	    if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1) {
	        if(PlayerInfo[i][pHelper] != 0 && HelperDuty[i] == 1 && HaveHelp[i] == -1) {
	            HaveHelper[helpers] = i;
				helpers ++;
	        }
	    }
	}

	foreach(Player, i) {
		if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1) {
			if(Helped[i] == 1 && OnHelper[i] == 0) {
				if(helpers >= 1) {
					new userID = HaveHelper[random(helpers)], playerid = i;
					if(HaveHelp[userID] == -1) {
						PlayerPlaySound(userID, 1056, 0.0, 0.0, 0.0);
						format(string, sizeof(string), "Intrebarea ta a fost preluata de helperul %s (%d). Asteapta sa-ti raspunda.", GetName(userID), userID);
						SendClientMessage(i, COLOR_YELLOW, string);
						format(string, 512, "{FFA200}**{FFFF00} Question from %s(%d, level %d) {FFA200}**", GetName(playerid), playerid, PlayerInfo[playerid][pLevel]);
						SendClientMessage(userID, COLOR_DBLUE, string);						
						format(string, 512, "%s", HelpText[i]);
						SendClientMessage(userID, COLOR_YELLOW, string);
						HaveHelp[userID] = playerid;
						OnHelper[i] = 1;
					}	
				}	
			}
		}
	}
	return 1;
}


function PutHat(playerid) {
	if(GetPVarInt(playerid, "Santa") == 1) return SetPlayerAttachedObject(playerid, 0, 19065, 2, 0.120000, 0.040000, -0.003500, 0, 100, 100, 1.4, 1.4, 1.4);	
	new skin = GetPlayerSkin(playerid);
	if(skin == 2 || skin == 6 || skin == 8 || skin == 13 || skin == 19 || skin == 22 || skin == 23 || skin == 24 || skin == 27 || skin == 29 || skin == 33 || skin == 34 || skin == 35 ||
	skin == 36 || skin == 37 || skin == 52 || skin == 61 || skin == 65 || skin == 71 || skin == 77 || skin == 78 || skin == 79 || skin == 99 || skin == 107 || skin == 115 || skin == 137 || skin == 143 ||
	skin == 149 || skin == 153 || skin == 155 || skin == 158 || skin == 161 || skin == 167 || skin == 173 || skin == 198 || skin == 205 || skin == 209 || skin == 249 || skin == 253 ||
	skin == 255 || skin == 260 || skin == 261 || skin == 264 || skin == 269 || skin == 270 || skin == 271 || skin == 277 || skin == 278 || skin == 279 || skin == 283 || skin == 284 ||
	skin == 285 || skin == 287 || skin == 288 || skin == 289 || skin == 293)
		return RemovePlayerAttachedObject(playerid, 0);
	new model = PlayerInfo[playerid][pHat];
	switch(skin) {
		case 1: SetPlayerAttachedObject( playerid, 0, model, 2, 0.138505, 0.001595, -0.003624, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 1
		case 2: SetPlayerAttachedObject( playerid, 0, model, 2, 0.158120, 0.001595, -0.003624, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 3
		case 3: SetPlayerAttachedObject( playerid, 0, model, 2, 0.158120, 0.001595, -0.003624, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 3
		case 4: SetPlayerAttachedObject( playerid, 0, model, 2, 0.217011, 0.001595, -0.003624, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 4
		case 5: SetPlayerAttachedObject( playerid, 0, model, 2, 0.197443, 0.001595, -0.003624, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 5
		case 6: SetPlayerAttachedObject( playerid, 0, model, 2, 0.197443, 0.001595, -0.003624, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 6
		case 7: SetPlayerAttachedObject( playerid, 0, model, 2, 0.166039, 0.001595, -0.003624, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 7
		case 8: SetPlayerAttachedObject( playerid, 0, model, 2, 0.166039, 0.001595, -0.003624, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 8
		case 9: SetPlayerAttachedObject( playerid, 0, model, 2, 0.137042, 0.003905, -0.003624, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 9
		case 10: SetPlayerAttachedObject( playerid, 0, model, 2, 0.137042, 0.003905, -0.003624, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 10
		case 11: SetPlayerAttachedObject( playerid, 0, model, 2, 0.137042, 0.003905, -0.003624, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 11
		case 12: SetPlayerAttachedObject( playerid, 0, model, 2, 0.169248, 0.003905, -0.003624, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 12
		case 13: SetPlayerAttachedObject( playerid, 0, model, 2, 0.169248, 0.003905, -0.003624, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 13
		case 14: SetPlayerAttachedObject( playerid, 0, model, 2, 0.176461, 0.003905, -0.003624, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 14
		case 15: SetPlayerAttachedObject( playerid, 0, model, 2, 0.135116, -0.028391, -0.003624, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 15
		case 16: SetPlayerAttachedObject( playerid, 0, model, 2, 0.135116, -0.028391, -0.003624, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 16
		case 17: SetPlayerAttachedObject( playerid, 0, model, 2, 0.176750, -0.005152, 0.003589, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 17
		case 18: SetPlayerAttachedObject( playerid, 0, model, 2, 0.137032, -0.005152, 0.003589, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 18
		case 19: SetPlayerAttachedObject( playerid, 0, model, 2, 0.137032, -0.005152, 0.003589, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 19
		case 20: SetPlayerAttachedObject( playerid, 0, model, 2, 0.169844, -0.005152, 0.003589, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // HatBoater2 - 
		case 21: SetPlayerAttachedObject( playerid, 0, model, 2, 0.169844, -0.005152, 0.003589, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 21
		case 22: SetPlayerAttachedObject( playerid, 0, model, 2, 0.169844, -0.005152, 0.003589, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 22
		case 23: SetPlayerAttachedObject( playerid, 0, model, 2, 0.169844, -0.005152, 0.003589, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 23
		case 24: SetPlayerAttachedObject( playerid, 0, model, 2, 0.169844, -0.005152, 0.003589, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 24
		case 25: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153401, 0.006404, 0.003589, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 25
		case 26: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153401, 0.006404, 0.003589, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 26
		case 27: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153401, 0.006404, 0.003589, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 27
		case 28: SetPlayerAttachedObject( playerid, 0, model, 2, 0.178765, 0.006345, -0.014876, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 28
		case 29: SetPlayerAttachedObject( playerid, 0, model, 2, 0.178765, 0.006345, -0.014876, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 29
		case 30: SetPlayerAttachedObject( playerid, 0, model, 2, 0.178310, 0.009442, 0.000530, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 30
		case 31: SetPlayerAttachedObject( playerid, 0, model, 2, 0.178310, 0.009442, 0.000530, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 31
		case 32: SetPlayerAttachedObject( playerid, 0, model, 2, 0.178310, 0.009442, 0.000530, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 32
		case 33: SetPlayerAttachedObject( playerid, 0, model, 2, 0.178310, 0.009442, 0.000530, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 33
		case 34: SetPlayerAttachedObject( playerid, 0, model, 2, 0.178310, 0.009442, 0.000530, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 34
		case 35: SetPlayerAttachedObject( playerid, 0, model, 2, 0.178310, 0.009442, 0.000530, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 35
		case 36: SetPlayerAttachedObject( playerid, 0, model, 2, 0.178310, 0.009442, 0.000530, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 36
		case 37: SetPlayerAttachedObject( playerid, 0, model, 2, 0.178310, 0.009442, 0.000530, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 37
		case 38: SetPlayerAttachedObject( playerid, 0, model, 2, 0.178310, 0.009442, 0.000530, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 38
		case 39: SetPlayerAttachedObject( playerid, 0, model, 2, 0.137954, -0.002958, 0.000530, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 39
		case 40: SetPlayerAttachedObject( playerid, 0, model, 2, 0.148416, -0.002958, 0.000530, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 40
		case 41: SetPlayerAttachedObject( playerid, 0, model, 2, 0.148416, -0.002958, 0.000530, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 41
		case 42: SetPlayerAttachedObject( playerid, 0, model, 2, 0.148416, -0.002958, 0.000530, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 42
		case 43: SetPlayerAttachedObject( playerid, 0, model, 2, 0.092380, -0.002958, 0.000530, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 43
		case 44: SetPlayerAttachedObject( playerid, 0, model, 2, 0.118452, 0.014299, 0.000530, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 44
		case 45: SetPlayerAttachedObject( playerid, 0, model, 2, 0.133399, -0.000648, 0.000530, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 45
		case 46: SetPlayerAttachedObject( playerid, 0, model, 2, 0.161029, 0.014299, 0.000530, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 46
		case 47: SetPlayerAttachedObject( playerid, 0, model, 2, 0.174838, 0.005146, 0.000530, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 47
		case 48: SetPlayerAttachedObject( playerid, 0, model, 2, 0.185725, -0.002868, -0.008738, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 48
		case 49: SetPlayerAttachedObject( playerid, 0, model, 2, 0.140534, 0.011140, -0.008738, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 49
		case 50: SetPlayerAttachedObject( playerid, 0, model, 2, 0.179763, -0.020149, -0.008738, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 50
		case 51: SetPlayerAttachedObject( playerid, 0, model, 2, 0.179763, -0.020149, -0.008738, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 51
		case 52: SetPlayerAttachedObject( playerid, 0, model, 2, 0.179763, -0.020149, -0.008738, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 52
		case 53: SetPlayerAttachedObject( playerid, 0, model, 2, 0.179763, -0.020149, -0.008738, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 53
		case 54: SetPlayerAttachedObject( playerid, 0, model, 2, 0.174966, 0.024967, 0.009581, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 54
		case 55: SetPlayerAttachedObject( playerid, 0, model, 2, 0.163809, -0.018255, 0.009581, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 55
		case 56: SetPlayerAttachedObject( playerid, 0, model, 2, 0.163809, -0.018255, 0.009581, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 56
		case 57: SetPlayerAttachedObject( playerid, 0, model, 2, 0.197187, -0.000997, 0.009581, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 57
		case 58: SetPlayerAttachedObject( playerid, 0, model, 2, 0.136419, 0.006264, -0.002492, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 58
		case 59: SetPlayerAttachedObject( playerid, 0, model, 2, 0.180506, 0.006264, -0.002492, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 59
		case 60: SetPlayerAttachedObject( playerid, 0, model, 2, 0.180506, 0.006264, -0.002492, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 60
		case 61: SetPlayerAttachedObject( playerid, 0, model, 2, 0.180506, 0.006264, -0.002492, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 61
		case 62: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153101, 0.023522, -0.002492, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 62
		case 63: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153101, -0.004900, -0.002492, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 63
		case 64: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153101, -0.004900, -0.002492, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 64
		case 65: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153101, -0.004900, -0.002492, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 65
		case 66: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153101, 0.011196, -0.002492, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 66
		case 67: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153101, 0.011196, -0.002492, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 67
		case 68: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153101, 0.011196, -0.002492, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 68
		case 69: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153101, 0.011196, -0.002492, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 69
		case 70: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153101, 0.009975, 0.011316, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 70
		case 71: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153101, 0.009975, 0.011316, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 71
		case 72: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153101, 0.020482, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 72
		case 73: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153101, 0.020482, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 73
		case 74: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153101, 0.002100, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 74
		case 75: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153101, 0.002100, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 75
		case 76: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153101, -0.009375, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 76
		case 77: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153101, -0.009375, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 77
		case 78: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153101, -0.009375, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 78
		case 79: SetPlayerAttachedObject( playerid, 0, model, 2, 0.153101, -0.009375, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 79
		case 80: SetPlayerAttachedObject( playerid, 0, model, 2, 0.138384, -0.015113, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 80
		case 81: SetPlayerAttachedObject( playerid, 0, model, 2, 0.138384, -0.015113, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 81
		case 82: SetPlayerAttachedObject( playerid, 0, model, 2, 0.188178, 0.017015, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 82
		case 83: SetPlayerAttachedObject( playerid, 0, model, 2, 0.188178, 0.017015, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 83
		case 84: SetPlayerAttachedObject( playerid, 0, model, 2, 0.188178, -0.004219, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 84
		case 85: SetPlayerAttachedObject( playerid, 0, model, 2, 0.188178, -0.004219, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 85
		case 86: SetPlayerAttachedObject( playerid, 0, model, 2, 0.136243, -0.004046, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 86
		case 87: SetPlayerAttachedObject( playerid, 0, model, 2, 0.158262, 0.028254, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 87
		case 88: SetPlayerAttachedObject( playerid, 0, model, 2, 0.158262, 0.028254, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 88
		case 89: SetPlayerAttachedObject( playerid, 0, model, 2, 0.151486, -0.012409, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 89
		case 90: SetPlayerAttachedObject( playerid, 0, model, 2, 0.164169, -0.012409, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 90
		case 91: SetPlayerAttachedObject( playerid, 0, model, 2, 0.164169, -0.012409, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 91
		case 92: SetPlayerAttachedObject( playerid, 0, model, 2, 0.164169, -0.012409, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 92
		case 93: SetPlayerAttachedObject( playerid, 0, model, 2, 0.164169, -0.012409, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 93
		case 94: SetPlayerAttachedObject( playerid, 0, model, 2, 0.110970, -0.012409, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 94
		case 95: SetPlayerAttachedObject( playerid, 0, model, 2, 0.127067, -0.012409, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 95
		case 96: SetPlayerAttachedObject( playerid, 0, model, 2, 0.158763, -0.012409, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 96
		case 97: SetPlayerAttachedObject( playerid, 0, model, 2, 0.139774, -0.012409, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 97
		case 98: SetPlayerAttachedObject( playerid, 0, model, 2, 0.164045, 0.003758, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 98
		case 99: SetPlayerAttachedObject( playerid, 0, model, 2, 0.164045, 0.003758, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 99
		case 100: SetPlayerAttachedObject( playerid, 0, model, 2, 0.181303, 0.003758, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 100
		case 101: SetPlayerAttachedObject( playerid, 0, model, 2, 0.167212, 0.003758, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 101
		case 102: SetPlayerAttachedObject( playerid, 0, model, 2, 0.167212, 0.003758, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 102
		case 103: SetPlayerAttachedObject( playerid, 0, model, 2, 0.167212, 0.003758, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 103
		case 104: SetPlayerAttachedObject( playerid, 0, model, 2, 0.167212, 0.003758, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 104
		case 105: SetPlayerAttachedObject( playerid, 0, model, 2, 0.167212, 0.003758, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 105
		case 106: SetPlayerAttachedObject( playerid, 0, model, 2, 0.185643, -0.006704, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 106
		case 107: SetPlayerAttachedObject( playerid, 0, model, 2, 0.185643, -0.006704, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 107
		case 108: SetPlayerAttachedObject( playerid, 0, model, 2, 0.176239, -0.006704, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 108
		case 109: SetPlayerAttachedObject( playerid, 0, model, 2, 0.176239, 0.008243, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 109
		case 110: SetPlayerAttachedObject( playerid, 0, model, 2, 0.176239, 0.008243, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 110
		case 111: SetPlayerAttachedObject( playerid, 0, model, 2, 0.176239, -0.003313, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 111
		case 112: SetPlayerAttachedObject( playerid, 0, model, 2, 0.140058, -0.003313, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 112
		case 113: SetPlayerAttachedObject( playerid, 0, model, 2, 0.172263, 0.006964, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 113
		case 114: SetPlayerAttachedObject( playerid, 0, model, 2, 0.172263, 0.005701, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 114
		case 115: SetPlayerAttachedObject( playerid, 0, model, 2, 0.172263, 0.005701, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 115
		case 116: SetPlayerAttachedObject( playerid, 0, model, 2, 0.172263, 0.005701, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 116
		case 117: SetPlayerAttachedObject( playerid, 0, model, 2, 0.123344, 0.005701, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 117
		case 118: SetPlayerAttachedObject( playerid, 0, model, 2, 0.123344, 0.005701, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 118
		case 119: SetPlayerAttachedObject( playerid, 0, model, 2, 0.159842, 0.005701, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 119
		case 120: SetPlayerAttachedObject( playerid, 0, model, 2, 0.159842, -0.009245, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 120
		case 121: SetPlayerAttachedObject( playerid, 0, model, 2, 0.159842, -0.009245, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 121
		case 122: SetPlayerAttachedObject( playerid, 0, model, 2, 0.159842, -0.009245, 0.004102, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 122
		case 123: SetPlayerAttachedObject( playerid, 0, model, 2, 0.194358, -0.009245, -0.008579, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 123
		case 124: SetPlayerAttachedObject( playerid, 0, model, 2, 0.168926, -0.009245, 0.003209, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 124
		case 125: SetPlayerAttachedObject( playerid, 0, model, 2, 0.168926, 0.006851, 0.003209, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 125
		case 126: SetPlayerAttachedObject( playerid, 0, model, 2, 0.168926, -0.009382, 0.003209, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 126
		case 127: SetPlayerAttachedObject( playerid, 0, model, 2, 0.168926, 0.000999, 0.003209, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 127
		case 128: SetPlayerAttachedObject( playerid, 0, model, 2, 0.168926, 0.024238, 0.003209, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 128
		case 129: SetPlayerAttachedObject( playerid, 0, model, 2, 0.144890, 0.004670, 0.003209, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 129
		case 130: SetPlayerAttachedObject( playerid, 0, model, 2, 0.109372, 0.004670, 0.003209, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 130
		case 131: SetPlayerAttachedObject( playerid, 0, model, 2, 0.141611, 0.004670, 0.003209, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 131
		case 132: SetPlayerAttachedObject( playerid, 0, model, 2, 0.057620, 0.007382, 0.003209, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 132
		case 133: SetPlayerAttachedObject( playerid, 0, model, 2, 0.057620, 0.007382, 0.003209, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 133
		case 134: SetPlayerAttachedObject( playerid, 0, model, 2, 0.057620, 0.007382, 0.003209, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 134
		case 135: SetPlayerAttachedObject( playerid, 0, model, 2, 0.057620, 0.007382, 0.003209, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 135
		case 136: SetPlayerAttachedObject( playerid, 0, model, 2, 0.131672, -0.001954, 0.003209, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 136
		case 137: SetPlayerAttachedObject( playerid, 0, model, 2, 0.131672, -0.001954, 0.003209, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 137
		case 138: SetPlayerAttachedObject( playerid, 0, model, 2, 0.145482, -0.001954, 0.003209, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 138
		case 139: SetPlayerAttachedObject( playerid, 0, model, 2, 0.145482, -0.001954, 0.003209, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 139
		case 140: SetPlayerAttachedObject( playerid, 0, model, 2, 0.186944, -0.001954, 0.003209, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 140
		case 141: SetPlayerAttachedObject( playerid, 0, model, 2, 0.177850, -0.020384, 0.003209, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 141
		case 142: SetPlayerAttachedObject( playerid, 0, model, 2, 0.162902, -0.001954, 0.003209, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 142
		case 143: SetPlayerAttachedObject( playerid, 0, model, 2, 0.162902, -0.001954, 0.003209, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 143
		case 144: SetPlayerAttachedObject( playerid, 0, model, 2, 0.205876, -0.027250, -0.004153, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 144
		case 145: SetPlayerAttachedObject( playerid, 0, model, 2, 0.160719, -0.005472, -0.004153, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 145
		case 146: SetPlayerAttachedObject( playerid, 0, model, 2, 0.160719, -0.005472, -0.004153, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 146
		case 147: SetPlayerAttachedObject( playerid, 0, model, 2, 0.160719, -0.016239, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 147
		case 148: SetPlayerAttachedObject( playerid, 0, model, 2, 0.160719, -0.016239, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 148
		case 149: SetPlayerAttachedObject( playerid, 0, model, 2, 0.160719, -0.016239, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 149
		case 150: SetPlayerAttachedObject( playerid, 0, model, 2, 0.160719, -0.016239, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 150
		case 151: SetPlayerAttachedObject( playerid, 0, model, 2, 0.173401, -0.016239, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 151
		case 152: SetPlayerAttachedObject( playerid, 0, model, 2, 0.167766, -0.016239, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 152
		case 153: SetPlayerAttachedObject( playerid, 0, model, 2, 0.167766, -0.016239, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 153
		case 154: SetPlayerAttachedObject( playerid, 0, model, 2, 0.131260, -0.016239, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 154
		case 155: SetPlayerAttachedObject( playerid, 0, model, 2, 0.131260, -0.016239, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 155
		case 156: SetPlayerAttachedObject( playerid, 0, model, 2, 0.192687, -0.016239, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 156
		case 157: SetPlayerAttachedObject( playerid, 0, model, 2, 0.149395, 0.014873, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 157
		case 158: SetPlayerAttachedObject( playerid, 0, model, 2, 0.149395, 0.014873, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 158
		case 159: SetPlayerAttachedObject( playerid, 0, model, 2, 0.149395, 0.014873, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 159
		case 160: SetPlayerAttachedObject( playerid, 0, model, 2, 0.149395, -0.003556, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 160
		case 161: SetPlayerAttachedObject( playerid, 0, model, 2, 0.149395, -0.003556, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 161
		case 162: SetPlayerAttachedObject( playerid, 0, model, 2, 0.149395, 0.003181, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 162
		case 163: SetPlayerAttachedObject( playerid, 0, model, 2, 0.149395, 0.003181, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 163
		case 164: SetPlayerAttachedObject( playerid, 0, model, 2, 0.149395, 0.003181, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 164
		case 165: SetPlayerAttachedObject( playerid, 0, model, 2, 0.149395, 0.003181, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 165
		case 166: SetPlayerAttachedObject( playerid, 0, model, 2, 0.149395, 0.003181, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 166
		case 167: SetPlayerAttachedObject( playerid, 0, model, 2, 0.149395, 0.003181, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 167
		case 168: SetPlayerAttachedObject( playerid, 0, model, 2, 0.149395, 0.003181, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 168
		case 169: SetPlayerAttachedObject( playerid, 0, model, 2, 0.162078, -0.017747, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 169
		case 170: SetPlayerAttachedObject( playerid, 0, model, 2, 0.162078, 0.004271, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 170
		case 171: SetPlayerAttachedObject( playerid, 0, model, 2, 0.162078, 0.004271, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 171
		case 172: SetPlayerAttachedObject( playerid, 0, model, 2, 0.162078, 0.004271, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 172
		case 173: SetPlayerAttachedObject( playerid, 0, model, 2, 0.162078, 0.004271, 0.004263, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 173
		case 174: SetPlayerAttachedObject( playerid, 0, model, 2, 0.191174, 0.019861, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 174
		case 175: SetPlayerAttachedObject( playerid, 0, model, 2, 0.191174, 0.019861, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 175
		case 176: SetPlayerAttachedObject( playerid, 0, model, 2, 0.179688, -0.004609, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 176
		case 177: SetPlayerAttachedObject( playerid, 0, model, 2, 0.207318, -0.004609, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 177
		case 178: SetPlayerAttachedObject( playerid, 0, model, 2, 0.178637, -0.004609, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 178
		case 179: SetPlayerAttachedObject( playerid, 0, model, 2, 0.155398, 0.003675, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 179
		case 180: SetPlayerAttachedObject( playerid, 0, model, 2, 0.187603, -0.005275, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 180
		case 181: SetPlayerAttachedObject( playerid, 0, model, 2, 0.185789, -0.005275, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 181
		case 182: SetPlayerAttachedObject( playerid, 0, model, 2, 0.137889, -0.005275, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 182
		case 183: SetPlayerAttachedObject( playerid, 0, model, 2, 0.137889, -0.005275, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 183
		case 184: SetPlayerAttachedObject( playerid, 0, model, 2, 0.167829, -0.005275, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 184
		case 185: SetPlayerAttachedObject( playerid, 0, model, 2, 0.167829, -0.005275, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 185
		case 186: SetPlayerAttachedObject( playerid, 0, model, 2, 0.167829, -0.005275, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 186
		case 187: SetPlayerAttachedObject( playerid, 0, model, 2, 0.157367, -0.017958, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 187
		case 188: SetPlayerAttachedObject( playerid, 0, model, 2, 0.157367, -0.003010, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 188
		case 189: SetPlayerAttachedObject( playerid, 0, model, 2, 0.157367, -0.005583, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 189
		case 190: SetPlayerAttachedObject( playerid, 0, model, 2, 0.175797, -0.005583, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 190
		case 191: SetPlayerAttachedObject( playerid, 0, model, 2, 0.175797, -0.005583, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 191
		case 192: SetPlayerAttachedObject( playerid, 0, model, 2, 0.175797, -0.005583, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 192
		case 193: SetPlayerAttachedObject( playerid, 0, model, 2, 0.175797, -0.005583, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 193
		case 194: SetPlayerAttachedObject( playerid, 0, model, 2, 0.175797, -0.005583, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 194
		case 195: SetPlayerAttachedObject( playerid, 0, model, 2, 0.175797, -0.005583, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 195
		case 196: SetPlayerAttachedObject( playerid, 0, model, 2, 0.138831, -0.005583, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 196
		case 197: SetPlayerAttachedObject( playerid, 0, model, 2, 0.138831, -0.005583, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 197
		case 198: SetPlayerAttachedObject( playerid, 0, model, 2, 0.138831, -0.005583, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 198
		case 199: SetPlayerAttachedObject( playerid, 0, model, 2, 0.138831, 0.009363, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 199
		case 200: SetPlayerAttachedObject( playerid, 0, model, 2, 0.138831, -0.003318, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 200
		case 201: SetPlayerAttachedObject( playerid, 0, model, 2, 0.138831, -0.003318, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 201
		case 202: SetPlayerAttachedObject( playerid, 0, model, 2, 0.138831, 0.031243, 0.002032, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 202
		case 203: SetPlayerAttachedObject( playerid, 0, model, 2, 0.161976, 0.007214, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 203
		case 204: SetPlayerAttachedObject( playerid, 0, model, 2, 0.161976, 0.007214, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 204
		case 205: SetPlayerAttachedObject( playerid, 0, model, 2, 0.161976, 0.007214, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 205
		case 206: SetPlayerAttachedObject( playerid, 0, model, 2, 0.161976, 0.007214, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 206
		case 207: SetPlayerAttachedObject( playerid, 0, model, 2, 0.116949, 0.007214, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 207
		case 208: SetPlayerAttachedObject( playerid, 0, model, 2, 0.125234, 0.007214, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 208
		case 209: SetPlayerAttachedObject( playerid, 0, model, 2, 0.146650, -0.013561, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 209
		case 210: SetPlayerAttachedObject( playerid, 0, model, 2, 0.125317, -0.000878, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 210
		case 211: SetPlayerAttachedObject( playerid, 0, model, 2, 0.144065, -0.000878, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 211
		case 212: SetPlayerAttachedObject( playerid, 0, model, 2, 0.144065, -0.000878, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 212
		case 213: SetPlayerAttachedObject( playerid, 0, model, 2, 0.144065, -0.000878, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 213
		case 214: SetPlayerAttachedObject( playerid, 0, model, 2, 0.144065, -0.000878, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 214
		case 215: SetPlayerAttachedObject( playerid, 0, model, 2, 0.144065, -0.000878, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 215
		case 216: SetPlayerAttachedObject( playerid, 0, model, 2, 0.161322, -0.000878, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 216
		case 217: SetPlayerAttachedObject( playerid, 0, model, 2, 0.161322, -0.000878, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 217
		case 218: SetPlayerAttachedObject( playerid, 0, model, 2, 0.161322, -0.000878, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 218
		case 219: SetPlayerAttachedObject( playerid, 0, model, 2, 0.161322, -0.000878, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 219
		case 220: SetPlayerAttachedObject( playerid, 0, model, 2, 0.122851, 0.018736, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 220
		case 221: SetPlayerAttachedObject( playerid, 0, model, 2, 0.187490, -0.009962, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 221
		case 222: SetPlayerAttachedObject( playerid, 0, model, 2, 0.187490, -0.009962, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 222
		case 223: SetPlayerAttachedObject( playerid, 0, model, 2, 0.187490, 0.007295, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 223
		case 224: SetPlayerAttachedObject( playerid, 0, model, 2, 0.148834, -0.016988, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 224
		case 225: SetPlayerAttachedObject( playerid, 0, model, 2, 0.148834, -0.016988, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 225
		case 226: SetPlayerAttachedObject( playerid, 0, model, 2, 0.148834, -0.016988, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 226
		case 227: SetPlayerAttachedObject( playerid, 0, model, 2, 0.175808, 0.000124, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 227
		case 228: SetPlayerAttachedObject( playerid, 0, model, 2, 0.175808, 0.000124, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 228
		case 229: SetPlayerAttachedObject( playerid, 0, model, 2, 0.137351, -0.009810, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 229
		case 230: SetPlayerAttachedObject( playerid, 0, model, 2, 0.137351, -0.009810, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 230
		case 231: SetPlayerAttachedObject( playerid, 0, model, 2, 0.137351, 0.017909, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 231
		case 232: SetPlayerAttachedObject( playerid, 0, model, 2, 0.137351, -0.002900, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 232
		case 233: SetPlayerAttachedObject( playerid, 0, model, 2, 0.137351, -0.002900, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 233
		case 234: SetPlayerAttachedObject( playerid, 0, model, 2, 0.137351, -0.022515, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 234
		case 235: SetPlayerAttachedObject( playerid, 0, model, 2, 0.137351, -0.022515, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 235
		case 236: SetPlayerAttachedObject( playerid, 0, model, 2, 0.137351, -0.005257, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 236
		case 237: SetPlayerAttachedObject( playerid, 0, model, 2, 0.137351, -0.005257, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 237
		case 238: SetPlayerAttachedObject( playerid, 0, model, 2, 0.172246, -0.005257, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 238
		case 239: SetPlayerAttachedObject( playerid, 0, model, 2, 0.172246, -0.005257, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 239
		case 240: SetPlayerAttachedObject( playerid, 0, model, 2, 0.172469, -0.005257, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 240
		case 241: SetPlayerAttachedObject( playerid, 0, model, 2, 0.172469, -0.005257, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 241
		case 242: SetPlayerAttachedObject( playerid, 0, model, 2, 0.172469, -0.005257, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 242
		case 243: SetPlayerAttachedObject( playerid, 0, model, 2, 0.120642, 0.012000, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 243
		case 244: SetPlayerAttachedObject( playerid, 0, model, 2, 0.120642, 0.012000, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 244
		case 245: SetPlayerAttachedObject( playerid, 0, model, 2, 0.172256, -0.006535, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 245
		case 246: SetPlayerAttachedObject( playerid, 0, model, 2, 0.172256, -0.006535, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 246
		case 247: SetPlayerAttachedObject( playerid, 0, model, 2, 0.172256, 0.015483, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 247
		case 248: SetPlayerAttachedObject( playerid, 0, model, 2, 0.195495, 0.006421, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 248
		case 249: SetPlayerAttachedObject( playerid, 0, model, 2, 0.195495, 0.006421, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 249
		case 250: SetPlayerAttachedObject( playerid, 0, model, 2, 0.156291, -0.007588, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 250
		case 251: SetPlayerAttachedObject( playerid, 0, model, 2, 0.156291, -0.007588, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 251
		case 252: SetPlayerAttachedObject( playerid, 0, model, 2, 0.166753, -0.007588, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 252
		case 253: SetPlayerAttachedObject( playerid, 0, model, 2, 0.166753, -0.007588, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 253
		case 254: SetPlayerAttachedObject( playerid, 0, model, 2, 0.166753, -0.007588, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 254
		case 255: SetPlayerAttachedObject( playerid, 0, model, 2, 0.166753, -0.007588, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 255
		case 256: SetPlayerAttachedObject( playerid, 0, model, 2, 0.166753, -0.005231, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 256
		case 257: SetPlayerAttachedObject( playerid, 0, model, 2, 0.166753, 0.012026, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 257
		case 258: SetPlayerAttachedObject( playerid, 0, model, 2, 0.166753, -0.012517, -0.002862, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 258
		case 259: SetPlayerAttachedObject( playerid, 0, model, 2, 0.166753, -0.014782, 0.009909, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 259
		case 260: SetPlayerAttachedObject( playerid, 0, model, 2, 0.166753, -0.014782, 0.009909, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 260
		case 261: SetPlayerAttachedObject( playerid, 0, model, 2, 0.166753, -0.014782, 0.009909, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 261
		case 262: SetPlayerAttachedObject( playerid, 0, model, 2, 0.142282, 0.013118, 0.009909, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 262
		case 263: SetPlayerAttachedObject( playerid, 0, model, 2, 0.158379, -0.013855, 0.009909, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 263
		case 264: SetPlayerAttachedObject( playerid, 0, model, 2, 0.158379, -0.013855, 0.009909, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 264
		case 265: SetPlayerAttachedObject( playerid, 0, model, 2, 0.158379, -0.005807, 0.009909, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 265
		case 266: SetPlayerAttachedObject( playerid, 0, model, 2, 0.158379, -0.005807, 0.009909, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 266
		case 267: SetPlayerAttachedObject( playerid, 0, model, 2, 0.158379, -0.005807, 0.009909, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 267
		case 268: SetPlayerAttachedObject( playerid, 0, model, 2, 0.158379, -0.005807, 0.009909, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 268
		case 269: SetPlayerAttachedObject( playerid, 0, model, 2, 0.158379, -0.005807, 0.009909, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 269
		case 270: SetPlayerAttachedObject( playerid, 0, model, 2, 0.158379, -0.005807, 0.009909, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 270
		case 271: SetPlayerAttachedObject( playerid, 0, model, 2, 0.175637, -0.005807, 0.009909, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 271
		case 272: SetPlayerAttachedObject( playerid, 0, model, 2, 0.182708, 0.001264, 0.009909, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 272
		case 273: SetPlayerAttachedObject( playerid, 0, model, 2, 0.133486, -0.008114, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 273
		case 274: SetPlayerAttachedObject( playerid, 0, model, 2, 0.135796, -0.008114, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 274
		case 275: SetPlayerAttachedObject( playerid, 0, model, 2, 0.135796, -0.008114, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 275
		case 276: SetPlayerAttachedObject( playerid, 0, model, 2, 0.135796, -0.008114, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 276
		case 277: SetPlayerAttachedObject( playerid, 0, model, 2, 0.135796, -0.008114, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 277
		case 278: SetPlayerAttachedObject( playerid, 0, model, 2, 0.135796, -0.008114, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 278
		case 279: SetPlayerAttachedObject( playerid, 0, model, 2, 0.135796, -0.008114, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 279
		case 280: SetPlayerAttachedObject( playerid, 0, model, 2, 0.151893, -0.008114, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 280
		case 281: SetPlayerAttachedObject( playerid, 0, model, 2, 0.151893, -0.008114, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 281
		case 282: SetPlayerAttachedObject( playerid, 0, model, 2, 0.151893, -0.008114, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 282
		case 283: SetPlayerAttachedObject( playerid, 0, model, 2, 0.151893, -0.008114, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 283
		case 284: SetPlayerAttachedObject( playerid, 0, model, 2, 0.151893, -0.008114, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 284
		case 285: SetPlayerAttachedObject( playerid, 0, model, 2, 0.151893, -0.008114, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 285
		case 286: SetPlayerAttachedObject( playerid, 0, model, 2, 0.158825, 0.006832, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 286
		case 287: SetPlayerAttachedObject( playerid, 0, model, 2, 0.158825, 0.006832, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 287
		case 288: SetPlayerAttachedObject( playerid, 0, model, 2, 0.158825, 0.006832, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 288
		case 289: SetPlayerAttachedObject( playerid, 0, model, 2, 0.158825, 0.017294, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 289
		case 290: SetPlayerAttachedObject( playerid, 0, model, 2, 0.158825, -0.002320, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 290
		case 291: SetPlayerAttachedObject( playerid, 0, model, 2, 0.169287, 0.002255, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 291
		case 292: SetPlayerAttachedObject( playerid, 0, model, 2, 0.169287, 0.002255, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 292
		case 293: SetPlayerAttachedObject( playerid, 0, model, 2, 0.135447, 0.002255, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 293
		case 294: SetPlayerAttachedObject( playerid, 0, model, 2, 0.168825, 0.002255, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 294
		case 295: SetPlayerAttachedObject( playerid, 0, model, 2, 0.168825, -0.013864, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 295
		case 296: SetPlayerAttachedObject( playerid, 0, model, 2, 0.168825, -0.013864, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 296
		case 297: SetPlayerAttachedObject( playerid, 0, model, 2, 0.183773, -0.006650, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 297
		case 298: SetPlayerAttachedObject( playerid, 0, model, 2, 0.165301, -0.006650, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 298
		case 299: SetPlayerAttachedObject( playerid, 0, model, 2, 0.197506, 0.008296, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 299
		case 300: SetPlayerAttachedObject( playerid, 0, model, 2, 0.144926, 0.007234, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 300
		case 301: SetPlayerAttachedObject( playerid, 0, model, 2, 0.144926, 0.007234, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 301
		case 302: SetPlayerAttachedObject( playerid, 0, model, 2, 0.144926, 0.007234, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 302
		case 303: SetPlayerAttachedObject( playerid, 0, model, 2, 0.144926, 0.007234, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 303
		case 304: SetPlayerAttachedObject( playerid, 0, model, 2, 0.144926, 0.007234, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 304
		case 305: SetPlayerAttachedObject( playerid, 0, model, 2, 0.144926, 0.007234, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 305
		case 306: SetPlayerAttachedObject( playerid, 0, model, 2, 0.144926, 0.007234, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 306
		case 307: SetPlayerAttachedObject( playerid, 0, model, 2, 0.144926, 0.007234, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 307
		case 308: SetPlayerAttachedObject( playerid, 0, model, 2, 0.144926, 0.007234, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 308
		case 309: SetPlayerAttachedObject( playerid, 0, model, 2, 0.144926, 0.007234, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 309
		case 310: SetPlayerAttachedObject( playerid, 0, model, 2, 0.144926, 0.007234, -0.002116, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // Skin 310
	}
	return 1;
}	

cmd:puthat(playerid, params[]) {
	if(PlayerInfo[playerid][pHat] == 0) return SCM(playerid, -1, "Nu ai o palarie!");
	if(PlayerInfo[playerid][pShowHat] == 1) return SCM(playerid, -1, "Ai deja palaria pe cap!");
	PlayerInfo[playerid][pShowHat] = 1;
	UpdateVar(playerid, "ShowHat", 1);
	PutHat(playerid);
	new string[180];
	format(string, sizeof(string), "%s si-a pus palaria pe cap.", GetName(playerid));
	ProxDetector(30.0, playerid, string, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE);
	return 1;
}

cmd:removehat(playerid, params[]) {
	if(PlayerInfo[playerid][pHat] == 0) return SCM(playerid, -1, "Nu ai o palarie!");
	if(PlayerInfo[playerid][pShowHat] == 0) return SCM(playerid, -1, "Nu ai palaria pe cap!");
	PlayerInfo[playerid][pShowHat] = 0;
	UpdateVar(playerid, "ShowHat", 0);
	RemovePlayerAttachedObject(playerid, 0);
	new string[180];
	format(string, sizeof(string), "%s si-a scos palaria de pe cap.", GetName(playerid));
	ProxDetector(30.0, playerid, string, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE);
	return 1;
}
	

function SendPaintMessage(paintid, color, text[]) {
	foreach(Player, i) {
	    if(IsPlayerConnected(i) && PaintType[i] == paintid) {
	        SendClientMessage(i, color, text);
	    }
	}
	return 1;
}

function PlayersOnPaint(paintid) {
	new x;
	foreach(Player, i) {
		switch(paintid) {
			case 0: if(PaintType[i] == 1) x++; // classic
			case 1: if(PaintType[i] == 2) x++; // armour
			case 2: if(PaintType[i] == 3) x++; // gungame
		}
	}
	return x;
}

function CheckPaintball() {
	foreach(Player, i) {
		if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1 && GetPlayerScore(i) != 0) {
			for(new x = 3; x < 3; x++) {
				if(PlayersOnPaint(x) < 2 && PaintTime[x] != -1) {
					PaintTime[x] = -1;
					if(PaintType[i] == i+1) {
						ResetPlayerWeapons(i);
						SendClientMessage(i, COLOR_YELLOW, "Runda a fost intrerupta deoarece ai ramas singur.");
						PlayerTextDrawHide(i, PaintTD);
						PKills[i] = 0, PDeaths[i] = 0;
						for(new m = 0; m < 5; m++) SendDeathMessageToPlayer(i, 1001, 1001, 200);
					}
				}		
			}	
		}	
	}	
	return 1;
}

cmd:removeglasses(playerid, params[]) {
	new szMessage[180];
	if(IsPlayerLogged[playerid] == 0) return SendClientMessage(playerid, COLOR_RED, "Nu esti logat!");
	if(PlayerInfo[playerid][pShowGlasses] == 0) return SCM(playerid, COLOR_GREY, "Nu ai ochelarii pe ochi.");
	StopPlayerHoldingObject(playerid);
	PlayerInfo[playerid][pShowGlasses] = 0;
	new szQuery[256];
	format(szQuery, sizeof(szQuery), "UPDATE users SET `ShowGlasses` = '%d' WHERE `ID` = '%d'", PlayerInfo[playerid][pShowGlasses], PlayerInfo[playerid][pSQLID]);
	mysql_query(SQL, szQuery);
	format(szMessage, 256, "%s si-a scos ochelarii de pe ochi.", GetName(playerid));
	ProxDetector(30.0, playerid, szMessage, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE);
	SCM(playerid, -1, "Pentru a-ti pune la loc ochelarii, trebuie sa folosesti comanda /putglasses.");
	return 1;
}

cmd:putglasses(playerid, params[]) {
	new szMessage[180];
	if(IsPlayerLogged[playerid] == 0) return SendClientMessage(playerid, COLOR_RED, "Nu esti logat!");
	if(PlayerInfo[playerid][pGlasses] == 0) return SCM(playerid, COLOR_GREY, "Nu ai o pereche de ochelari.");
	if(PlayerInfo[playerid][pShowGlasses] == 1) return SCM(playerid, COLOR_WHITE, "Ai deja ochelarii pe ochi.");
	PlayerInfo[playerid][pShowGlasses] = 1;
	new szQuery[256];
	format(szQuery, sizeof(szQuery), "UPDATE users SET `ShowGlasses` = '%d' WHERE `ID` = '%d'", PlayerInfo[playerid][pShowGlasses], PlayerInfo[playerid][pSQLID]);
	mysql_query(SQL, szQuery);
	new skin = PlayerInfo[playerid][pChar];
	SetPlayerHoldingObject(playerid, PlayerInfo[playerid][pGlasses], 2, SkinOffSet[skin][0], SkinOffSet[skin][1], SkinOffSet[skin][2], SkinOffSet[skin][3], SkinOffSet[skin][4], SkinOffSet[skin][5]);
	format(szMessage, 256, "%s si-a pus ochelarii pe ochi.", GetName(playerid));
	ProxDetector(30.0, playerid, szMessage, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE);
	return 1;
}

cmd:paintleave(playerid, params[]) {
	if(PaintType[playerid] == 0) return SendClientMessage(playerid, COLOR_WHITE, "Nu esti la paintball.");
	new string[256];
	format(string, 256, "%s a iesit din paintball.", GetName(playerid));
	SendPaintMessage(PaintType[playerid], COLOR_YELLOW, string);
	PaintType[playerid] = 0;
	SetPlayerPosEx(playerid, BizzInfo[9][bEntranceX],BizzInfo[9][bEntranceY],BizzInfo[9][bEntranceZ]);
	ResetPlayerWeapons(playerid);
	SetPlayerInterior(playerid, 0);
	SetPlayerVirtualWorld(playerid, 0);
	SetPlayerArmour(playerid, 0);
	Voted[playerid] = 0;
	for(new m = 0; m < 5; m++) SendDeathMessageToPlayer(playerid, 1001, 1001, 200);
	return 1;
}
	
cmd:paint(playerid, params[]) {
	if(OnDuty[playerid] == 1) return SendClientMessage(playerid, COLOR_WHITE, "Esti la datorie, nu poti intra.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(!PlayerToPoint(5.0, playerid, BizzInfo[9][bEntranceX],BizzInfo[9][bEntranceY],BizzInfo[9][bEntranceZ])) return SendClientMessage(playerid, COLOR_WHITE, "Nu esti la paintball. Foloseste /gps pentru a vedea unde este.");
	if(PlayerInfo[playerid][pWantedLevel] > 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Esti cautat de politie.");
	new szDialog[1024], szDialog2[1024];
	if(PaintTime[0] > 0) format(szDialog, 1024, "Clasic [%d/20 players] [map: %s] - {278EE3}started [%s]\n", PlayersOnPaint(0), MapName(0), CalculeazaTimp2(PaintTime[0]));
	else format(szDialog, 1024, "Clasic [%d/20 players] [map: %s] - {FFB300}waiting...\n", PlayersOnPaint(0), MapName(0));
	strcat(szDialog2, szDialog);
	if(PaintTime[1] > 0) format(szDialog, 1024, "Clasic cu armura [%d/20 players] [map: %s] - {278EE3}started [%s]\n", PlayersOnPaint(1), MapName(1), CalculeazaTimp2(PaintTime[1]));
	else format(szDialog, 1024, "Clasic cu armura [%d/20 players] [map: %s] - {FFB300}waiting...\n", PlayersOnPaint(1), MapName(1));
	strcat(szDialog2, szDialog);
	if(PaintTime[2] > 0) format(szDialog, 1024, "Gun Game [map: %d/20 players] [%s] - {278EE3}started [%s]\n", PlayersOnPaint(2), MapName(2), CalculeazaTimp2(PaintTime[2]));
	else format(szDialog, 1024, "Gun Game [%d/20 players] [map: %s] - {FFB300}waiting...\n", PlayersOnPaint(2), MapName(2));
	strcat(szDialog2, szDialog);
	ShowPlayerDialog(playerid, DIALOG_MODE, DIALOG_STYLE_LIST, "Paintball", szDialog2, "Ok", "Cancel");
	return 1;
}


cmd:votemap(playerid, params[]) {
	if(PaintType[playerid] != 0) {
		if(Voted[playerid] == 1) return SendClientMessage(playerid, -1, "Nu poti vota de mai multe ori.");
		if(PaintVote[PaintType[playerid]-1] == 0) return SendClientMessage(playerid, -1, "Nu se poate vota acum.");
		ShowPlayerDialog(playerid, DIALOG_VOTE, DIALOG_STYLE_LIST, "Voteaza mapa", "rc_arena\nfarm\nisland\ndesert\nbeach", "Ok", "Cancel");
	}
	return 1;
}


function PaintSpawn(playerid) {

	SetPlayerHealth(playerid, 100);
    SetPlayerArmour(playerid, 0);

    SetPlayerHealth(playerid, 100);	
    new rand = random(sizeof(PaintballSpawns));
	SetPlayerInterior(playerid, 0);
	switch(PaintMap[PaintType[playerid]-1]) {
		case 0: {
			SetPlayerPosEx(playerid, PaintballSpawns[rand][0], PaintballSpawns[rand][1], PaintballSpawns[rand][2]);
			SetPlayerInterior(playerid, 10);
		}
		case 1: SetPlayerPosEx(playerid, PaintballSpawns2[rand][0], PaintballSpawns2[rand][1], PaintballSpawns2[rand][2]);
		case 2: SetPlayerPosEx(playerid, PaintballSpawns3[rand][0], PaintballSpawns3[rand][1], PaintballSpawns3[rand][2]);
		case 3: SetPlayerPosEx(playerid, PaintballSpawns4[rand][0], PaintballSpawns4[rand][1], PaintballSpawns4[rand][2]);
		case 4: SetPlayerPosEx(playerid, PaintballSpawns5[rand][0], PaintballSpawns5[rand][1], PaintballSpawns5[rand][2]);	
	}
	SetPlayerVirtualWorld(playerid, PaintType[playerid]);
	if(PaintTime[PaintType[playerid]-1] < 1) return 1;
	switch(PaintType[playerid]) {
	    case 1: {
	        GivePlayerWeapon(playerid, 24, 999); GivePlayerWeapon(playerid, 31, 999);
	        GivePlayerWeapon(playerid, 16, 1);
	    }
	    case 2: {
	        SetPlayerArmour(playerid, 100);
	        GivePlayerWeapon(playerid, 24, 999); GivePlayerWeapon(playerid, 31, 999);
	        GivePlayerWeapon(playerid, 16, 1);
	    }
	    case 3: {
	        GiveSkillWeapon2(playerid);
	    }
	}
	return 1;
}

function GiveSkillWeapon(playerid) {
	switch(PKills[playerid]-PDeaths[playerid]) {
	    case 0: ResetPlayerWeapons(playerid), GivePlayerWeapon(playerid, 22, 999);
	    case 3: ResetPlayerWeapons(playerid), GivePlayerWeapon(playerid, 24, 999);
	    case 6: ResetPlayerWeapons(playerid), GivePlayerWeapon(playerid, 25, 999);
	    case 9: ResetPlayerWeapons(playerid), GivePlayerWeapon(playerid, 32, 999);
	    case 12: ResetPlayerWeapons(playerid), GivePlayerWeapon(playerid, 33, 999);
	    case 15: ResetPlayerWeapons(playerid), GivePlayerWeapon(playerid, 30, 999);
	    case 18: ResetPlayerWeapons(playerid), GivePlayerWeapon(playerid, 34, 999);
	    case 21: ResetPlayerWeapons(playerid), GivePlayerWeapon(playerid, 4, 999);
	}
	if(PKills[playerid]-PDeaths[playerid] < 0) ResetPlayerWeapons(playerid), GivePlayerWeapon(playerid, 22, 999);
	return 1;
}

function GiveSkillWeapon2(playerid) {
	switch(PKills[playerid]-PDeaths[playerid]) {
	    case 0..2: ResetPlayerWeapons(playerid), GivePlayerWeapon(playerid, 22, 999);
	    case 3..5: ResetPlayerWeapons(playerid), GivePlayerWeapon(playerid, 24, 999);
	    case 6..8: ResetPlayerWeapons(playerid), GivePlayerWeapon(playerid, 25, 999);
	    case 9..11: ResetPlayerWeapons(playerid), GivePlayerWeapon(playerid, 32, 999);
	    case 12..14: ResetPlayerWeapons(playerid), GivePlayerWeapon(playerid, 33, 999);
	    case 15..17: ResetPlayerWeapons(playerid), GivePlayerWeapon(playerid, 30, 999);
	    case 18..20: ResetPlayerWeapons(playerid), GivePlayerWeapon(playerid, 34, 999);
	    case 21: ResetPlayerWeapons(playerid), GivePlayerWeapon(playerid, 4, 999);
	}
	if(PKills[playerid]-PDeaths[playerid] < 0) ResetPlayerWeapons(playerid), GivePlayerWeapon(playerid, 22, 999);
	return 1;
}

function GetPaintLevel(playerid) {
	new level;
	switch(PKills[playerid]-PDeaths[playerid]) {
	    case 0..2: level = 1;
	    case 3..5: level = 2;
	    case 6..8: level = 3;
	    case 9..11: level = 4;
	    case 12..14: level = 5;
	    case 15..17: level = 6;
	    case 18..20: level = 7;
	    case 21..24: level = 8;
	}
	return level;
}
		

function CalculateVote(paintid) {
	PaintTime[paintid] = 0;
	PaintTimer[paintid] = 0;
	if(PlayersOnPaint(paintid) < 2) return SendPaintMessage(paintid+1, COLOR_CLIENT, "Votarea a fost anulata deoarece este un singur player.");

	new string[180], map;
	PaintVote[paintid] = 0;
	if(MapVotes[paintid][0] >= MapVotes[paintid][1] && MapVotes[paintid][0] >= MapVotes[paintid][2] && MapVotes[paintid][0] >= MapVotes[paintid][3] && MapVotes[paintid][0] >= MapVotes[paintid][4]) map = 0;
	else if(MapVotes[paintid][1] >= MapVotes[paintid][0] && MapVotes[paintid][1] >= MapVotes[paintid][2] && MapVotes[paintid][1] >= MapVotes[paintid][3] && MapVotes[paintid][1] >= MapVotes[paintid][4]) map = 1;
	else if(MapVotes[paintid][2] >= MapVotes[paintid][0] && MapVotes[paintid][2] >= MapVotes[paintid][1] && MapVotes[paintid][2] >= MapVotes[paintid][3] && MapVotes[paintid][2] >= MapVotes[paintid][4]) map = 2;
	else if(MapVotes[paintid][3] >= MapVotes[paintid][0] && MapVotes[paintid][3] >= MapVotes[paintid][1] && MapVotes[paintid][3] >= MapVotes[paintid][2] && MapVotes[paintid][3] >= MapVotes[paintid][4]) map = 3;
	else if(MapVotes[paintid][4] >= MapVotes[paintid][0] && MapVotes[paintid][4] >= MapVotes[paintid][1] && MapVotes[paintid][4] >= MapVotes[paintid][2] && MapVotes[paintid][4] >= MapVotes[paintid][3]) map = 4;

	format(string, sizeof(string), "Votarea s-a terminat. Mapa %s a castigat cu %d voturi.", MapName2(map), MapVotes[paintid][map]);
	PaintMap[paintid] = map;
	if(paintid == 2) PaintTime[paintid] = 600;
	else PaintTime[paintid] = 300;
	SendPaintMessage(paintid+1, COLOR_CLIENT, string);
	MapVotes[paintid][0] = 0; MapVotes[paintid][1] = 0; MapVotes[paintid][2] = 0; MapVotes[paintid][3] = 0; MapVotes[paintid][4] = 0; 
	foreach(Player, i) {
		if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1)  {
			if(PaintType[i] == paintid+1) Voted[i] = 0, SpawnPlayer(i);
		}
	}
	return 1;
}

stock MapName(paint) {
	new string[180];
	switch(PaintMap[paint]) {
		case 0: string = "rc_arena";
		case 1: string = "farm";
		case 2: string = "island";
		case 3: string = "desert";
		case 4: string = "beach";
		case 5: string = "forest";		
	}
	return string;
}

stock MapName2(paint) {
	new string[180];
	switch(paint) {
		case 0: string = "rc_arena";
		case 1: string = "farm";
		case 2: string = "island";
		case 3: string = "desert";
		case 4: string = "beach";
		case 5: string = "forest";
	}
	return string;
}
		
function GetSlots(playerid) {
	new x;
	if(PlayerInfo[playerid][pCarKey][0] >= 0) x ++;
	if(PlayerInfo[playerid][pCarKey][1] >= 0) x ++;
	if(PlayerInfo[playerid][pCarKey][2] >= 0) x ++;
	if(PlayerInfo[playerid][pCarKey][3] >= 0) x ++;
	if(PlayerInfo[playerid][pCarKey][4] >= 0) x ++;	
	if(PlayerInfo[playerid][pPremiumAccount] == 0) x -= 2;
	
	if(PlayerInfo[playerid][pCarKey][5] >= 0 && PlayerInfo[playerid][pSlot][0] == 1) x ++;
	if(PlayerInfo[playerid][pCarKey][6] >= 0 && PlayerInfo[playerid][pSlot][1] == 1) x ++;
	if(PlayerInfo[playerid][pCarKey][7] >= 0 && PlayerInfo[playerid][pSlot][2] == 1) x ++;
	if(PlayerInfo[playerid][pCarKey][8] >= 0 && PlayerInfo[playerid][pSlot][3] == 1) x ++;
	if(PlayerInfo[playerid][pCarKey][9] >= 0 && PlayerInfo[playerid][pSlot][4] == 1) x ++;
	return x;
}	

function UpdateSlots(playerid) {
	new query[256];
	format(query, sizeof(query), 
		"UPDATE `users` SET `Slot1`='%d', `Slot2`='%d', `Slot3`='%d', `Slot4`='%d', `Slot5`='%d' WHERE `ID`='%d'",
		PlayerInfo[playerid][pSlot][0], PlayerInfo[playerid][pSlot][1], PlayerInfo[playerid][pSlot][2], PlayerInfo[playerid][pSlot][3], PlayerInfo[playerid][pSlot][4], PlayerInfo[playerid][pSQLID]);
	mysql_query(SQL, query);	
	return 1;
}

cmd:givecar(playerid, params[]) {
	if(PlayerInfo[playerid][pAdmin] < 6) return SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new id, model, string[180];
	if(sscanf(params, "ui", id, model)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /givecar <Nume/Playerid> <Model>");
	if(!IsPlayerConnected(id) || id == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	if(GetSlots(id) == GetVehicles(id) && PlayerInfo[id][pPremiumAccount] != 0) return SCM(playerid, -1, "Acel player are numarul maxim de masini personale!"); 
	else if(GetSlots(id) == 8 && PlayerInfo[id][pPremiumAccount] == 0) return SCM(playerid, -1, "Acel player are numarul maxim de masini personale! Isi poate cumpara un slot din /shop.");
	else if(GetSlots(id) == GetVehicles(id)) return SCM(playerid, -1, "Acel player are numarul maxim de masini personale! Isi poate cumpara un slot din /shop.");
	format(string,sizeof(string),"AdmCmd: %s i-a dat un %s lui %s.",GetName(playerid), aVehicleNames[model-400],GetName(id));
	SendAdminMessage(COLOR_LOGS,string,5);
	format(string, sizeof(string), "Adminul %s ti-a dat un vehicul de tip %s.", GetName(playerid), aVehicleNames[model-400]);
	SCM(id, COLOR_BBLUE, string);
	GiveVehicle(id, model);	
	return 1;
}
cmd:setgiftbox(playerid, params[]) {
	new string[256];
    if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid,COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	for(new i=0; i<MAX_PLAYERS; i++)
	{
	    PlayerInfo[i][pGiftPoints] = 10;
		format(string, 256, "Adminul: %s[ID: %d] a resetat GiftBox-ul, puteti sa folositi comanda (/getgift) pentru a lua un cadou.", GetName(playerid), playerid);
		SendClientMessage(i, COLOR_YELLOW, string);
	}
	return 1;
}

cmd:getgift(playerid, params[]) {
	if(SpecialWeek == 0) return SCM(playerid, COLOR_LGREEN, "Giftbox-ul nu este activ pe server, o sa fie activat la o ocazie speciala!");
	new string[256];
	if(PlayerInfo[playerid][pConnectTime] < 3) return SCM(playerid, COLOR_LGREEN, "Ai nevoie de 3 ore jucate pentru a putea lua un cadou din GiftBox!");
	if(PlayerInfo[playerid][pGiftPoints] >= 5)
    {	
		if(PlayerToPoint(5.0, playerid, 154.3069,-1938.6196,3.7734))
		{
			new rand = random(7);
			PlayerInfo[playerid][pGiftPoints] = 0;
			Update(playerid, pGiftPointsx);
			if(rand == 0 || rand == 1 || rand == 2 || rand == 3)
			{
			    new randmoney = 9000 + random(9000);
				PlayerInfo[playerid][pCash] += randmoney;
				GivePlayerCash(playerid, randmoney);
				format(string, sizeof(string), "Ai castigat %s$ din gift box. Felicitari!", FormatNumber(randmoney));
				SendClientMessage(playerid, COLOR_MONEY, string);
			}
			if(rand == 4)
			{
			    new randrp = 1 + random(5);
			    PlayerInfo[playerid][pExp] += randrp;
			    Update(playerid, pRP);
				format(string, sizeof(string), "Ai castigat %d respect points din gift box. Felicitari!", randrp);
				SendClientMessage(playerid, COLOR_MONEY, string);
			}
			if(rand == 5)
			{
			    new randrp = 50 + random(50);
			    PlayerInfo[playerid][pPremiumPoints] += randrp;
			    Update(playerid, pPremiumPointsx);
				format(string, sizeof(string), "Ai castigat %d puncte premium din gift box. Felicitari!", randrp);
				SendClientMessage(playerid, COLOR_MONEY, string);
			}
			if(rand == 6)
			{
			    new randrp = 2 + random(4);
			    PlayerInfo[playerid][pExp] += randrp;
			    Update(playerid, pRP);
				format(string, sizeof(string), "Ai castigat %d respect points din gift box. Felicitari!", randrp);
				SendClientMessage(playerid, COLOR_MONEY, string);
			}
			if(rand == 7)
			{
				new randrp = 1 + random(1);
                format(string, sizeof(string), "Ai castigat un vehicul din gift box!", randrp);
                SendClientMessage(playerid, COLOR_MONEY, string);
                GiveVehicle(playerid, 411);
            }
		}
        else return SendClientMessage(playerid, COLOR_GREY, "Nu te afli langa GiftBox! Tasteaza (/gps) alege 'GiftBox' si mergi la checkpoint.");
	}
	else
	{
	    format(string, sizeof(string), "Poti lua un cadou peste %d ore jucate.", 5-PlayerInfo[playerid][pGiftPoints]);
	    SendClientMessage(playerid, COLOR_YELLOW, string);
		SCM(playerid, COLOR_YELLOW, "Orele pe sleep/AFK nu sunt contorizate. Ai nevoie de 1800 de secunde pentru a se puna o ora jucata!");
	}
	return 1;
}
	
cmd:togbid(playerid, params[]) {
	if(toglicitatie[playerid] == 0) toglicitatie[playerid] = 1, SendClientMessage(playerid, COLOR_YELLOW, "Acum vei vedea informatiile despre licitatie!");
	else toglicitatie[playerid] = 0, SendClientMessage(playerid, COLOR_YELLOW, "Acum nu vei mai vedea informatiile despre licitatie!");	
	return 1;
}
	
cmd:a(playerid,params[]) {
	if(IsPlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid,COLOR_ERROR,AdminOnly);
 	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new text[128],string[128];
	if(sscanf(params,"s[128]",text)) return SCM(playerid,COLOR_SYNTAX,"Syntax: /a <Message>");
	foreach(Player,i) {
		if(IsPlayerConnected(i) && PlayerInfo[i][pAdmin] > 0) {
			format(string,128,"[%d] Admin Level %s: %s",PlayerInfo[i][pAdmin],GetName(i),text);
			SCM(i,0xE8BE00FF,string);
		}
	}
	return 1;
}
cmd:hc(playerid, params[])
{
	if(IsPlayerConnected(playerid))
	{
		if(PlayerInfo[playerid][pHelper] >= 1)
		{
			new sendername[30],texthl[250],string[250];
	       	GetPlayerName(playerid, sendername, sizeof(sendername));
	    	if(sscanf(params, "s[250]",texthl)) return SCM(playerid,COLOR_SYNTAX, "Syntax: /hc <Message>");
	    	{
				if(PlayerInfo[playerid][pHelper] >= 1)
				{
					format(string, sizeof(string), "[%d] Helper Level %s: %s",PlayerInfo[playerid][pHelper],sendername, texthl);
					HLChat(0xE07000FF, string);
				}
		    	printf("Helper %s: %s", sendername, texthl);
            }
        }
		else
		{
			SendClientMessage(playerid, COLOR_ERROR,HelperOnly);
			return 1;
		}
	}
	return 1;
}
cmd:cw(playerid,params[])
{
    if(IsPlayerInAnyVehicle(playerid))
    {
        if(PlayerInfo[playerid][pMuted] == 1)
		{
			new string[700];
			format(string, sizeof(string), "Nu poti scrie pe chat sau folosi comenzi deoarece ai mute timp de %d secunde.",PlayerInfo[playerid][pMuteTime]);
			SendClientMessage(playerid, COLOR_LIGHTRED, string);
			return 1;
		}
		new result[250],sendername[25],string[250];
		if(sscanf(params, "s[250]",result)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /cw <Message>");
		GetPlayerName(playerid, sendername, sizeof(sendername));
	    format(string, sizeof(string), "(Car whisper) %s: %s", sendername, result);
        foreach(Player,i)
        {
            if(IsPlayerConnected(i))
            {
                if(IsPlayerInVehicle(i, GetPlayerVehicleID(playerid)))
                {
                    SendClientMessage(i,COLOR_YELLOW, string);
                }
            }
        }
        return 1;
    }
    else
	{
		SendClientMessage(playerid, COLOR_WHITE,"Trebuie sa fii intr-un vehicul.");
	}
    return 1;
}

cmd:live(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
		if(PlayerInfo[playerid][pMember] == 9 || PlayerInfo[playerid][pLeader] == 9)
		{
		    if(TalkingLive[playerid] != 255)
		    {
		        SendClientMessage(playerid, COLOR_LIGHTBLUE, "* Conversatie terminata.");
		        SendClientMessage(TalkingLive[playerid], COLOR_LIGHTBLUE, "* Conversatie terminata.");
		        TogglePlayerControllable(playerid, 1);
		        TogglePlayerControllable(TalkingLive[playerid], 1);
	            TalkingLive[TalkingLive[playerid]] = 255;
		        TalkingLive[playerid] = 255;
				PlayerInfo[playerid][pCommands] ++;
				Update(playerid,pCommandsx);
		        return 1;
		    }
		    if(PlayerInfo[playerid][pRank] < 3) return SendClientMessage(playerid, COLOR_GREY, "Trebuie sa ai minim rank 3 pentru a da live!");
			new giveplayerid;
			if(sscanf(params, "u",giveplayerid)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /live <Nume/Playerid");
			if (IsPlayerConnected(giveplayerid))
			{
			    if(giveplayerid != INVALID_PLAYER_ID)
			    {
					if (ProxDetectorS(5.0, playerid, giveplayerid))
					{
					    if(giveplayerid == playerid) return 1;
						new sendername[25],giveplayer[25],string[128];
					    GetPlayerName(giveplayerid, giveplayer, sizeof(giveplayer));
						GetPlayerName(playerid, sendername, sizeof(sendername));
						format(string, sizeof(string), "{B8FFDB}* I-ai oferit lui %s o conversatie Live.", giveplayer);
						SendClientMessage(playerid, COLOR_WHITE, string);
						format(string, sizeof(string), "{B8FFDB}* %s ti-a oferit o conversatie live. (/accept live %d) pentru a accepta.", sendername,playerid);
						SendClientMessage(giveplayerid, COLOR_WHITE, string);
						LiveOffer[giveplayerid] = playerid;
					}
					else
					{
					    SendClientMessage(playerid, COLOR_YELLOW2, "Acel player nu este langa tine.");
					    return 1;
					}
				}
			}
			else
			{
			    SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
			    return 1;
			}
		}
		else
		{
		    SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte din factiunea News Reporters.");
		}
	}//not connected
	return 1;
}
cmd:afklist(playerid,params[]) {
	if(PlayerInfo[playerid][pAdmin] < 5) return SCM(playerid,COLOR_ERROR, AdminOnly);
	new string[2000],dname[20],count = 0;
	foreach(Player,i) {
		if(IsPlayerConnected(i)) {
			if(PlayerInfo[playerid][pSleeping] == 1) {
				count++;
				format(dname,20,"AFK Players: %d",count);
				format(string,2000,"%s%d\t%s\n",string,i,GetName(i));
			}
		}
	}
	if(count == 0) return SCM(playerid,COLOR_GREY,"Nu sunt jucatori AFK.");
	ShowPlayerDialog(playerid,0,DIALOG_STYLE_LIST,dname,string,"Close","");
	return 1;
}
cmd:setskin(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
    	if (PlayerInfo[playerid][pAdmin] >= 5)
		{
		    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
			new para1,level,string[128],giveplayer[25],sendername[25];
			if(sscanf(params, "ud",para1,level)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /setskin <Nume/Playerid> <Skin ID>");
			if(level < 1 || level > 310) return SendClientMessage(playerid, COLOR_GREY, "Wrong skin ID.");
		    if(IsPlayerConnected(para1))
		    {
		        if(para1 != INVALID_PLAYER_ID)
		        {
					GetPlayerName(para1, giveplayer, sizeof(giveplayer));
					GetPlayerName(playerid, sendername, sizeof(sendername));
					PlayerInfo[para1][pChar] = level;
					format(string, sizeof(string), "AdmCmd: %s i-a setat skinul %d lui %s.", GetName(playerid), level, GetName(para1));
					SendAdminMessage(COLOR_LOGS, string, 1);					
					format(string, sizeof(string), "Adminul %s ti-a setat skin-ul %d.", GetName(playerid),level);
					SendClientMessage(para1, COLOR_LIGHTBLUE, string);
				    SetPlayerSkinEx(para1, PlayerInfo[para1][pChar]);
					new str2[128];
					format(str2,sizeof(str2),"UPDATE users SET `Money`='%d',`CChar`='%d' WHERE `ID`='%d'",GetPlayerCash(playerid),PlayerInfo[para1][pChar],PlayerInfo[para1][pSQLID]);
					mysql_query(SQL,str2);
				}
			}
		}
		else
		{
			SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
		}
	}
	return 1;
}
cmd:temporarskin(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
    	if (PlayerInfo[playerid][pAdmin] >= 4)
		{
		    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
			new para1,level,string[128];
			if(sscanf(params, "ud",para1,level)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /temporarskin <Nume/Playerid> <Skin ID>");
			if(level < 1 || level > 310) return SendClientMessage(playerid, COLOR_GREY, "Wrong skin ID.");
		    if(IsPlayerConnected(para1))
		    {
		        if(para1 != INVALID_PLAYER_ID)
		        {
					format(string, sizeof(string), "AdmCmd: %s i-a setat skinul temporar %d lui %s.", GetName(playerid), level, GetName(para1));
					SendAdminMessage(COLOR_LOGS, string, 1);
					format(string, sizeof(string), "Adminul %s ti-a setat skin-ul temporar %d.", GetName(playerid),level);
					SendClientMessage(para1, COLOR_LIGHTBLUE, string);
				    SetPlayerSkinEx(para1, level);
				}
			}
		}
		else
		{
			SendClientMessage(playerid, COLOR_ERROR, AdminOnly);
		}
	}
	return 1;
}

cmd:ticket(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
        if(!IsACop(playerid)) return SendClientMessage(playerid, COLOR_BZWHITE,"Eroare: Nu faci parte dintr-un departament.");
        if(OnDuty[playerid] != 1) return SendClientMessage(playerid, COLOR_GREY, "Nu esti la datorie.");
        if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
        new giveplayerid,moneys,result[50],giveplayer[25],sendername[25],string[128];
		if(sscanf(params, "uis[50]",giveplayerid,moneys,result)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /ticket <Nume/Playerid> <Price> <Reason>");
		if(moneys < 1 || moneys > 1000) return SendClientMessage(playerid, COLOR_GREY, "Suma trebuie sa fie cuprinsa intre 1$ si 1000$.");
		if(IsPlayerConnected(giveplayerid))
		{
		    if(giveplayerid != INVALID_PLAYER_ID)
		    {
		        if (ProxDetectorS(8.0, playerid, giveplayerid))
				{
				    GetPlayerName(giveplayerid, giveplayer, sizeof(giveplayer));
					GetPlayerName(playerid, sendername, sizeof(sendername));
					format(string, sizeof(string), "{B8FFDB}* I-ai dat lui %s o amenda in valoare de $%s, motiv: %s", giveplayer, FormatNumber(moneys), result);
					SendClientMessage(playerid, COLOR_WHITE, string);
					format(string, sizeof(string), "{B8FFDB}* Ofiter %s ti-a dat o amenda in valoare de $%s, motiv: %s, scrie /accept ticket %d pentru a accepta.", sendername, FormatNumber(moneys), result,playerid);
					SendClientMessage(giveplayerid, COLOR_WHITE, string);
					TicketOffer[giveplayerid] = playerid;
					TicketMoney[giveplayerid] = moneys;
					return 1;
				}
				else return SendClientMessage(playerid, COLOR_YELLOW2, "Acel player nu este langa tine.");
			}
		}
		else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	return 1;
}


cmd:help(playerid,params[])
{
    if(IsPlayerConnected(playerid)) ShowPlayerDialog(playerid, DIALOG_HELP, DIALOG_STYLE_LIST, "Help",
	"Account\nGeneral\nJobs\nBank\nVehicles\nHouse\nBusiness\nGPS\nFaction\nLeader\nPin", "Select", "Cancel");
	return 1;
}

cmd:stopanim(playerid,params[])
{
    if(IsPlayerConnected(playerid)) ClearAnimations(playerid);
    return 1;
}

cmd:tazer(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
		if(IsACop(playerid))
		{
			if(OnDuty[playerid] != 1) return SendClientMessage(playerid, COLOR_GREY, "Nu esti la datorie.");
			if(GetPlayerWeapon(playerid) != 24) return SCM(playerid,COLOR_GREY, "Nu ai un deagle in mana.");
			if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		    new x_nr[10];
	        if(sscanf(params, "s[10]",x_nr)) return SCM(playerid, COLOR_SYNTAX, "Syntax: /tazer <On-Off>");
	        if(strcmp(x_nr,"on",true) == 0)
       		{
       			if(tazer[playerid] == 1) return SendClientMessage(playerid, COLOR_GREY, "Este deja activat.");
       		    tazer[playerid] = 1;
				SendClientMessage(playerid, COLOR_WHITE, "Ai activat tazer gun.");
				return 1;
       		}
	        if(strcmp(x_nr,"off",true) == 0)
       		{
       			if(tazer[playerid] == 0) return SendClientMessage(playerid, COLOR_GREY, "Este deja dezactivat.");
		   	    tazer[playerid] = 0;
       		    SendClientMessage(playerid, COLOR_WHITE, "Ai dezactivat tazer gun.");
       		    return 1;
       		}
	    }
		else return SendClientMessage(playerid, COLOR_BZWHITE,"Eroare: Nu faci parte dintr-un departament.");
	}
	return 1;
}
cmd:cuff(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
		if(IsACop(playerid))
		{
			if(OnDuty[playerid] == 0) return SCM(playerid, COLOR_LGREEN, "Nu poti folosi aceasta comanda deoarece nu esti la datorie!");
			if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
			new giveplayerid,string[256],sendername[25],giveplayer[25];
			if(sscanf(params, "u",giveplayerid)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /cuff <Nume/Playerid>");
		    if(IsPlayerConnected(giveplayerid))
			{
			    if(giveplayerid != INVALID_PLAYER_ID)
			    {
			        if(IsACop(giveplayerid)) return 1;
				    if(PlayerCuffed2[giveplayerid] > 0) return 1;
					if (ProxDetectorS(8.0, playerid, giveplayerid))
					{
					    if(giveplayerid == playerid) return 1;
						if(IsPlayerInAnyVehicle(giveplayerid))
						{
							TogglePlayerControllable(giveplayerid, 0);
						}
					    GetPlayerName(giveplayerid, giveplayer, sizeof(giveplayer));
						GetPlayerName(playerid, sendername, sizeof(sendername));
					    format(string, sizeof(string), "* Ai fost incatusat de %s.", sendername);
						SendClientMessage(giveplayerid, COLOR_WHITE, string);
						format(string, sizeof(string), "* L-ai incatusat pe %s.", giveplayer);
						SendClientMessage(playerid, COLOR_WHITE, string);
						format(string, sizeof(string), "* %s l-a incatusat pe %s.", sendername ,giveplayer);
						ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
						GameTextForPlayer(giveplayerid, "~r~~h~Incatusat", 2500, 3);
						PlayerCuffed2[giveplayerid] = 1;
						SetPlayerAttachedObject(giveplayerid, 1, 19418, 6, -0.011000, 0.028000, -0.022000, -15.600012, -33.699977, -81.700035, 0.891999, 1.000000, 1.168000);
                        SetPlayerSpecialAction(giveplayerid,SPECIAL_ACTION_CUFFED);
					}
					else return SendClientMessage(playerid, COLOR_YELLOW2, "Acel player nu este langa tine.");
				}
			}
			else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
		else return SendClientMessage(playerid, COLOR_BZWHITE,"Eroare: Nu faci parte dintr-un departament.");
	}
	return 1;
}
cmd:uncuff(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
		if(IsACop(playerid))
		{
			if(OnDuty[playerid] == 0) return SCM(playerid, COLOR_LGREEN, "Nu poti folosi aceasta comanda deoarece nu esti la datorie!");
			if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
			new giveplayerid,giveplayer[25],sendername[25],string[128];
			if(sscanf(params, "u",giveplayerid)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /uncuff <Nume/Playerid>");
			{
				if(IsPlayerConnected(giveplayerid))
				{
					if(giveplayerid != INVALID_PLAYER_ID)
					{
					    if (ProxDetectorS(8.0, playerid, giveplayerid))
						{
						    if(giveplayerid == playerid) return 1;
							if(PlayerCuffed2[giveplayerid] == 1)
							{
								if(IsPlayerInAnyVehicle(giveplayerid))
								{
									TogglePlayerControllable(giveplayerid, 1);
								}
							    GetPlayerName(giveplayerid, giveplayer, sizeof(giveplayer));
								GetPlayerName(playerid, sendername, sizeof(sendername));
							    format(string, sizeof(string), "* Ai fost dezcatusat de %s.", sendername);
								SendClientMessage(giveplayerid, COLOR_WHITE, string);
								format(string, sizeof(string), "* L-ai dezcatusat de %s.", giveplayer);
								SendClientMessage(playerid, COLOR_WHITE, string);
								GameTextForPlayer(giveplayerid, "~g~Dezcatusat", 2500, 3);
					     		PlayerCuffed2[giveplayerid] = 0;
						    	SetPlayerSpecialAction(giveplayerid,SPECIAL_ACTION_NONE);
						    	RemovePlayerAttachedObject(giveplayerid,1);
							}
							else return 1;
						}
						else return SendClientMessage(playerid, COLOR_YELLOW2, "Acel player nu este langa tine.");
					}
					else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
				}
			}
		}
		else return SendClientMessage(playerid, COLOR_BZWHITE,"Eroare: Nu faci parte dintr-un departament.");
	}
	return 1;
}

function GetPlayerSkill(playerid) {
    new level;
	switch(PlayerInfo[playerid][pJob]) {
	    case 1: {
			level = PlayerInfo[playerid][pTruckerSkill];
			if(level >= 0 && level <= 50) level = 1;
			else if(level >= 51 && level <= 100) level = 2;
			else if(level >= 101 && level <= 200) level = 3;
			else if(level >= 201 && level <= 400) level = 4;
			else if(level >= 401) level = 5;
	    }
	    case 2: {
		    level = PlayerInfo[playerid][pGarbageSkill];
			if(level >= 0 && level <= 50) level = 1;
			else if(level >= 51 && level <= 100) level = 2;
			else if(level >= 101 && level <= 200) level = 3;
			else if(level >= 201 && level <= 400) level = 4;
			else if(level >= 401) level = 5;
	    }
	    case 3: {
		    level = PlayerInfo[playerid][pFarmerSkill];
			if(level >= 0 && level <= 50) level = 1;
			else if(level >= 51 && level <= 100) level = 2;
			else if(level >= 101 && level <= 200) level = 3;
			else if(level >= 201 && level <= 400) level = 4;
			else if(level >= 401) level = 5;
	    }
	    case 4: {
		    level = PlayerInfo[playerid][pMowerSkill];
			if(level >= 0 && level <= 50) level = 1;
			else if(level >= 51 && level <= 100) level = 2;
			else if(level >= 101 && level <= 200) level = 3;
			else if(level >= 201 && level <= 400) level = 4;
			else if(level >= 401) level = 5;
	    }
	    case 5: {
		    level = PlayerInfo[playerid][pMatSkill];
			if(level >= 0 && level <= 50) level = 1;
			else if(level >= 51 && level <= 100) level = 2;
			else if(level >= 101 && level <= 200) level = 3;
			else if(level >= 201 && level <= 400) level = 4;
			else if(level >= 401) level = 5;
	    }
	    case 6: {
		    level = PlayerInfo[playerid][pDrugsSkill];
			if(level >= 0 && level <= 50) level = 1;
			else if(level >= 51 && level <= 100) level = 2;
			else if(level >= 101 && level <= 200) level = 3;
			else if(level >= 201 && level <= 400) level = 4;
			else if(level >= 401) level = 5;
	    }
	    case 7: {
		    level = PlayerInfo[playerid][pMechSkill];
			if(level >= 0 && level <= 20) level = 1;
			else if(level >= 21 && level <= 40) level = 2;
			else if(level >= 41 && level <= 60) level = 3;
			else if(level >= 61 && level <= 80) level = 4;
			else if(level >= 81) level = 5;
	    }
	    case 8: {
		    level = PlayerInfo[playerid][pDetectivSkill];
			if(level >= 0 && level <= 20) level = 1;
			else if(level >= 21 && level <= 40) level = 2;
			else if(level >= 41 && level <= 60) level = 3;
			else if(level >= 61 && level <= 80) level = 4;
			else if(level >= 81) level = 5;
	    }
	    case 9: {
		    level = PlayerInfo[playerid][pConstructorSkill];
			if(level >= 0 && level <= 50) level = 1;
			else if(level >= 51 && level <= 100) level = 2;
			else if(level >= 101 && level <= 200) level = 3;
			else if(level >= 201 && level <= 400) level = 4;
			else if(level >= 401) level = 5;
	    }
	    case 10: {
		    level = PlayerInfo[playerid][pFishSkill];
			if(level >= 0 && level <= 50) level = 1;
			else if(level >= 51 && level <= 100) level = 2;
			else if(level >= 101 && level <= 200) level = 3;
			else if(level >= 201 && level <= 400) level = 4;
			else if(level >= 401) level = 5;
	    }
	    case 11: {
		    level = PlayerInfo[playerid][pBusSkill];
			if(level >= 0 && level <= 50) level = 1;
			else if(level >= 51 && level <= 100) level = 2;
			else if(level >= 101 && level <= 200) level = 3;
			else if(level >= 201 && level <= 400) level = 4;
			else if(level >= 401) level = 5;
	    }
	    case 12: {
		    level = PlayerInfo[playerid][pPizzaSkill];
			if(level >= 0 && level <= 50) level = 1;
			else if(level >= 51 && level <= 100) level = 2;
			else if(level >= 101 && level <= 200) level = 3;
			else if(level >= 201 && level <= 400) level = 4;
			else if(level >= 401) level = 5;
	    }
	}
	return level;
}

function GetPlayerSkill2(playerid, id) {
    new level;
	switch(id) {
	    case 1: {
			level = PlayerInfo[playerid][pTruckerSkill];
			if(level >= 0 && level <= 50) level = 1;
			else if(level >= 51 && level <= 100) level = 2;
			else if(level >= 101 && level <= 200) level = 3;
			else if(level >= 201 && level <= 400) level = 4;
			else if(level >= 401) level = 5;
	    }
	    case 2: {
		    level = PlayerInfo[playerid][pGarbageSkill];
			if(level >= 0 && level <= 50) level = 1;
			else if(level >= 51 && level <= 100) level = 2;
			else if(level >= 101 && level <= 200) level = 3;
			else if(level >= 201 && level <= 400) level = 4;
			else if(level >= 401) level = 5;
	    }
	    case 3: {
		    level = PlayerInfo[playerid][pFarmerSkill];
			if(level >= 0 && level <= 50) level = 1;
			else if(level >= 51 && level <= 100) level = 2;
			else if(level >= 101 && level <= 200) level = 3;
			else if(level >= 201 && level <= 400) level = 4;
			else if(level >= 401) level = 5;
	    }
	    case 4: {
		    level = PlayerInfo[playerid][pMowerSkill];
			if(level >= 0 && level <= 50) level = 1;
			else if(level >= 51 && level <= 100) level = 2;
			else if(level >= 101 && level <= 200) level = 3;
			else if(level >= 201 && level <= 400) level = 4;
			else if(level >= 401) level = 5;
	    }
	    case 5: {
		    level = PlayerInfo[playerid][pMatSkill];
			if(level >= 0 && level <= 50) level = 1;
			else if(level >= 51 && level <= 100) level = 2;
			else if(level >= 101 && level <= 200) level = 3;
			else if(level >= 201 && level <= 400) level = 4;
			else if(level >= 401) level = 5;
	    }
	    case 6: {
		    level = PlayerInfo[playerid][pDrugsSkill];
			if(level >= 0 && level <= 50) level = 1;
			else if(level >= 51 && level <= 100) level = 2;
			else if(level >= 101 && level <= 200) level = 3;
			else if(level >= 201 && level <= 400) level = 4;
			else if(level >= 401) level = 5;
	    }
	    case 7: {
		    level = PlayerInfo[playerid][pMechSkill];
			if(level >= 0 && level <= 20) level = 1;
			else if(level >= 21 && level <= 40) level = 2;
			else if(level >= 41 && level <= 60) level = 3;
			else if(level >= 61 && level <= 80) level = 4;
			else if(level >= 81) level = 5;
	    }
	    case 9: {
		    level = PlayerInfo[playerid][pConstructorSkill];
			if(level >= 0 && level <= 50) level = 1;
			else if(level >= 51 && level <= 100) level = 2;
			else if(level >= 101 && level <= 200) level = 3;
			else if(level >= 201 && level <= 400) level = 4;
			else if(level >= 401) level = 5;
	    }
	    case 10: {
		    level = PlayerInfo[playerid][pFishSkill];
			if(level >= 0 && level <= 50) level = 1;
			else if(level >= 51 && level <= 100) level = 2;
			else if(level >= 101 && level <= 200) level = 3;
			else if(level >= 201 && level <= 400) level = 4;
			else if(level >= 401) level = 5;
	    }
	    case 11: {
		    level = PlayerInfo[playerid][pBusSkill];
			if(level >= 0 && level <= 50) level = 1;
			else if(level >= 51 && level <= 100) level = 2;
			else if(level >= 101 && level <= 200) level = 3;
			else if(level >= 201 && level <= 400) level = 4;
			else if(level >= 401) level = 5;
	    }
	    case 12: {
		    level = PlayerInfo[playerid][pPizzaSkill];
			if(level >= 0 && level <= 50) level = 1;
			else if(level >= 51 && level <= 100) level = 2;
			else if(level >= 101 && level <= 200) level = 3;
			else if(level >= 201 && level <= 400) level = 4;
			else if(level >= 401) level = 5;
	    }
	}
	return level;
}

function GetNeedPoints(playerid, jid) {
	new x;
	new skill = GetPlayerSkill2(playerid, jid);
	if(skill == 1) x = 50;
	else if(skill == 2) x = 100;
	else if(skill == 3) x = 200;
	else if(skill == 4) x = 400;
	return x;
}

cmd:skills(playerid, params[], help) {
	new string[180], needp[10], skill;
	new szDialog[600];
    if(IsPlayerConnected(playerid))
    {
		// job 1
        skill = GetPlayerSkill2(playerid, 1);
		if(skill < 5) format(needp, 10, "%d", GetNeedPoints(playerid, 1));
		else needp = "-";
		format(string, sizeof(string), "* Farmer: %d (%d/%s)\n", GetPlayerSkill2(playerid, 1), PlayerInfo[playerid][pFarmerSkill], needp);
		strcat(szDialog, string);

		// job 2
		skill = GetPlayerSkill2(playerid, 2);
		if(skill < 5) format(needp, 10, "%d", GetNeedPoints(playerid, 2));
		else needp = "-";
		format(string, sizeof(string), "* Trucker: %d (%d/%s)\n", GetPlayerSkill2(playerid, 2), PlayerInfo[playerid][pTruckerSkill], needp);
		strcat(szDialog, string);

		// job 4
		skill = GetPlayerSkill2(playerid, 3);
		if(skill < 5) format(needp, 10, "%d", GetNeedPoints(playerid, 4));
		else needp = "-";
		format(string, sizeof(string), "* Car Jacker: %d (%d/%s)\n", GetPlayerSkill2(playerid, 4), PlayerInfo[playerid][pJackerSkill], needp);
		strcat(szDialog, string);

		// job 5
		skill = GetPlayerSkill2(playerid, 6);
		if(skill < 5) format(needp, 10, "%d", GetNeedPoints(playerid, 5));
		else needp = "-";
		format(string, sizeof(string), "* Arms Dealer: %d (%d/%s)\n", GetPlayerSkill2(playerid, 5), PlayerInfo[playerid][pMatSkill], needp);
		strcat(szDialog, string);
/*
		// job 6
		skill = GetPlayerSkill2(playerid, 6);
		if(skill == 1) format(needp, 10, "50");
		else if(skill == 2) format(needp, 10, "100");
		else if(skill == 3) format(needp, 10, "200");
		else if(skill == 4) format(needp, 10, "400");
		else if(skill == 5) format(needp, 10, "-");
		format(string, sizeof(string), "* Drugs Dealer: %d (%d/%s)\n", GetPlayerSkill2(playerid, 6), PlayerInfo[playerid][pDrugsSkill], needp);
		SCM(playerid, -1, string);*/

		// job 7
		skill = GetPlayerSkill2(playerid, 7);
		if(skill < 5) format(needp, 10, "%d", GetNeedPoints(playerid, 7));
		else needp = "-";
		format(string, sizeof(string), "* Mechanic: %d (%d/%s)\n", GetPlayerSkill2(playerid, 7), PlayerInfo[playerid][pMechSkill], needp);
		strcat(szDialog, string);

		// job 9
		skill = GetPlayerSkill2(playerid, 8);
		if(skill < 5) format(needp, 10, "%d", GetNeedPoints(playerid, 9));
		else needp = "-";
		format(string, sizeof(string), "* Pizza Boy: %d (%d/%s)\n", GetPlayerSkill2(playerid, 9), PlayerInfo[playerid][pPizzaSkill], needp);
		strcat(szDialog, string);
		// job 10
		skill = GetPlayerSkill2(playerid, 9);
		if(skill < 5) format(needp, 10, "%d", GetNeedPoints(playerid, 10));
		else needp = "-";
		format(string, sizeof(string), "* Curier: %d (%d/%s)\n", GetPlayerSkill2(playerid, 10), PlayerInfo[playerid][pCurierSkill], needp);
		strcat(szDialog, string);	
		
		// job 11
		skill = GetPlayerSkill2(playerid, 10);
		if(skill < 5) format(needp, 10, "%d", GetNeedPoints(playerid, 11));
		else needp = "-";
		format(string, sizeof(string), "* Fisher: %d (%d/%s)\n", GetPlayerSkill2(playerid, 11), PlayerInfo[playerid][pFishSkill], needp);
		strcat(szDialog, string);
		
		
		ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Skills", szDialog, "Ok", "");
    }
    return 1;
}
cmd:askills(playerid,params[])
{
	if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new szDialog[1024], string[256], needp[10], skill,id;
	if(sscanf(params, "u", id)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /askills <Nume/Playerid>");
 	if(id == INVALID_PLAYER_ID) return SCM(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
    if(IsPlayerConnected(id))
    {
        // job 1
        skill = GetPlayerSkill2(id, 1);
		if(skill == 1) format(needp, 10, "50");
		else if(skill == 2) format(needp, 10, "100");
		else if(skill == 3) format(needp, 10, "200");
		else if(skill == 4) format(needp, 10, "400");
		else if(skill == 5) format(needp, 10, "-");
		format(string, sizeof(string), "{3AA2E8}Camionagiu: {FFFFFF}%d (%d/%s)\n", GetPlayerSkill2(id, 1), PlayerInfo[id][pTruckerSkill], needp);
		strcat(szDialog, string);

		// job 2
		skill = GetPlayerSkill2(id, 2);
		if(skill == 1) format(needp, 10, "50");
		else if(skill == 2) format(needp, 10, "100");
		else if(skill == 3) format(needp, 10, "200");
		else if(skill == 4) format(needp, 10, "400");
		else if(skill == 5) format(needp, 10, "-");
		format(string, sizeof(string), "{3AA2E8}Gunoier: {FFFFFF}%d (%d/%s)\n", GetPlayerSkill2(id, 2), PlayerInfo[id][pGarbageSkill], needp);
		strcat(szDialog, string);

		// job 3
		skill = GetPlayerSkill2(id, 3);
		if(skill == 1) format(needp, 10, "50");
		else if(skill == 2) format(needp, 10, "100");
		else if(skill == 3) format(needp, 10, "200");
		else if(skill == 4) format(needp, 10, "400");
		else if(skill == 5) format(needp, 10, "-");
		format(string, sizeof(string), "{3AA2E8}Fermier: {FFFFFF}%d (%d/%s)\n", GetPlayerSkill2(id, 3), PlayerInfo[id][pFarmerSkill], needp);
		strcat(szDialog, string);

		// job 4
		skill = GetPlayerSkill2(id, 4);
		if(skill == 1) format(needp, 10, "50");
		else if(skill == 2) format(needp, 10, "100");
		else if(skill == 3) format(needp, 10, "200");
		else if(skill == 4) format(needp, 10, "400");
		else if(skill == 5) format(needp, 10, "-");
		format(string, sizeof(string), "{3AA2E8}Curatator: {FFFFFF}%d (%d/%s)\n", GetPlayerSkill2(id, 4), PlayerInfo[id][pMowerSkill], needp);
		strcat(szDialog, string);

		// job 5
		skill = GetPlayerSkill2(id, 5);
		if(skill == 1) format(needp, 10, "50");
		else if(skill == 2) format(needp, 10, "100");
		else if(skill == 3) format(needp, 10, "200");
		else if(skill == 4) format(needp, 10, "400");
		else if(skill == 5) format(needp, 10, "-");
		format(string, sizeof(string), "{3AA2E8}Distribuitor de materiale: {FFFFFF}%d (%d/%s)\n", GetPlayerSkill2(id, 5), PlayerInfo[id][pMatSkill], needp);
		strcat(szDialog, string);

		// job 6
		skill = GetPlayerSkill2(id, 6);
		if(skill == 1) format(needp, 10, "50");
		else if(skill == 2) format(needp, 10, "100");
		else if(skill == 3) format(needp, 10, "200");
		else if(skill == 4) format(needp, 10, "400");
		else if(skill == 5) format(needp, 10, "-");
		format(string, sizeof(string), "{3AA2E8}Distribuitor de droguri: {FFFFFF}%d (%d/%s)\n", GetPlayerSkill2(id, 6), PlayerInfo[id][pDrugsSkill], needp);
		strcat(szDialog, string);

		// job 7
		skill = GetPlayerSkill2(id, 7);
		if(skill == 1) format(needp, 10, "20");
		else if(skill == 2) format(needp, 10, "40");
		else if(skill == 3) format(needp, 10, "60");
		else if(skill == 4) format(needp, 10, "80");
		else if(skill == 5) format(needp, 10, "-");
		format(string, sizeof(string), "{3AA2E8}Mecanic: {FFFFFF}%d (%d/%s)\n", GetPlayerSkill2(id, 7), PlayerInfo[id][pMechSkill], needp);
		strcat(szDialog, string);

		// job 8
		skill = GetPlayerSkill2(id, 8);
		if(skill == 1) format(needp, 10, "20");
		else if(skill == 2) format(needp, 10, "40");
		else if(skill == 3) format(needp, 10, "60");
		else if(skill == 4) format(needp, 10, "80");
		else if(skill == 5) format(needp, 10, "-");
		format(string, sizeof(string), "{3AA2E8}Detectiv: {FFFFFF}%d (%d/%s)\n", GetPlayerSkill2(id, 8), PlayerInfo[id][pDetectivSkill], needp);
		strcat(szDialog, string);

		// job 9
		skill = GetPlayerSkill2(id, 9);
		if(skill == 1) format(needp, 10, "50");
		else if(skill == 2) format(needp, 10, "100");
		else if(skill == 3) format(needp, 10, "200");
		else if(skill == 4) format(needp, 10, "400");
		else if(skill == 5) format(needp, 10, "-");
		format(string, sizeof(string), "{3AA2E8}Constructor: {FFFFFF}%d (%d/%s)\n", GetPlayerSkill2(id, 9), PlayerInfo[id][pConstructorSkill], needp);
		strcat(szDialog, string);

		// job 10
		skill = GetPlayerSkill2(id, 10);
		if(skill == 1) format(needp, 10, "50");
		else if(skill == 2) format(needp, 10, "100");
		else if(skill == 3) format(needp, 10, "200");
		else if(skill == 4) format(needp, 10, "400");
		else if(skill == 5) format(needp, 10, "-");
		format(string, sizeof(string), "{3AA2E8}Pescar: {FFFFFF}%d (%d/%s)\n", GetPlayerSkill2(id, 10), PlayerInfo[id][pFishSkill], needp);
		strcat(szDialog, string);

		// job 11
		skill = GetPlayerSkill2(id, 12);
		if(skill == 1) format(needp, 10, "50");
		else if(skill == 2) format(needp, 10, "100");
		else if(skill == 3) format(needp, 10, "200");
		else if(skill == 4) format(needp, 10, "400");
		else if(skill == 5) format(needp, 10, "-");
		format(string, sizeof(string), "{3AA2E8}Sofer pe autobuz: {FFFFFF}%d (%d/%s)\n", GetPlayerSkill2(id, 11), PlayerInfo[id][pBusSkill], needp);
		strcat(szDialog, string);

		// job 12
		skill = GetPlayerSkill2(id, 12);
		if(skill == 1) format(needp, 10, "50");
		else if(skill == 2) format(needp, 10, "100");
		else if(skill == 3) format(needp, 10, "200");
		else if(skill == 4) format(needp, 10, "400");
		else if(skill == 5) format(needp, 10, "-");
		format(string, sizeof(string), "{3AA2E8}Pizza Boy: {FFFFFF}%d (%d/%s)\n", GetPlayerSkill2(id, 12), PlayerInfo[id][pPizzaSkill], needp);
		strcat(szDialog, string);

		new name[256];
		format(name, 256, "%s's skills:", GetName(id));
		// show
		ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, name, szDialog, "Ok", "");
    }
    return 1;
}
cmd:show(playerid, params[]) {
	new szDialog[1024], string[256];
	if(IsPlayerLogged[playerid] == 0) return SendClientMessage(playerid, COLOR_LIGHTRED, "Trebuie sa te loghezi mai intai.");
    if(IsPlayerConnected(playerid))
    {
		// 1
        if(PlayerInfo[playerid][pShowJob] == 0) format(string, sizeof(string), "Optiune\tStatus\nInformatii job\t{DB0909}Dezactivat{FFFFFF}\n");
        else format(string, sizeof(string), "Optiune\tStatus\nInformatii job\t{1AAB07}Activat{FFFFFF}\n");
		strcat(szDialog, string);
		// 2
        if(PlayerInfo[playerid][pShowFP] == 0) format(string, sizeof(string), "FPS si Ping\t{DB0909}Dezactivat{FFFFFF}\n");
        else format(string, sizeof(string), "FPS si Ping\t{1AAB07}Activat{FFFFFF}\n");
		strcat(szDialog, string);
		// 5
        if(PlayerInfo[playerid][pShowFaction] == 0) format(string, sizeof(string), "Informatii factiune\t{DB0909}Dezactivat{FFFFFF}\n");
        else format(string, sizeof(string), "Informatii factiune\t{1AAB07}Activat{FFFFFF}\n");
		strcat(szDialog, string);
        ShowPlayerDialog(playerid, DIALOG_SHOW, DIALOG_STYLE_TABLIST_HEADERS, "Arata:", szDialog, "Select", "Cancel");
    }
	return 1;
}

cmd:news(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
		if(PlayerInfo[playerid][pMember] == 9 || PlayerInfo[playerid][pLeader] == 9)
		{
		    new newcar = GetPlayerVehicleID(playerid);
		    new string[128],sendername[25];
	        if(PlayerInfo[playerid][pMuted] == 1)
            {
				format(string, sizeof(string), "Nu poti scrie pe chat sau folosi comenzi deoarece ai mute timp de %d secunde.",PlayerInfo[playerid][pMuteTime]);
				SendClientMessage(playerid, COLOR_LIGHTRED, string);
				return 1;
		    }
		    new result[250];
		    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		    if(sscanf(params, "s[250]",result)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /news <Message>");
			if(ServerVehicles[newcar][vFaction] == 9)
			{
				GetPlayerName(playerid, sendername, sizeof(sendername));
				format(string, sizeof(string), "NR %s: %s", sendername, result);
				OOCNews(COLOR_NEWS,string);
				PlayerInfo[playerid][pCommands] ++;
				Update(playerid,pCommandsx);
			}
			else return SendClientMessage(playerid, COLOR_GREY, "Nu esti intr-un vehicul de-al factiunii.");
		}
		else return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte din factiunea News Reporters.");
	}
	return 1;
}
cmd:clothes(playerid,params[])
{
    if(IsAtClothShop(playerid))
    {
		if(PlayerInfo[playerid][pMember] >= 1 || PlayerInfo[playerid][pLeader] >= 1)  {
			ShowModelSelectionMenu (playerid, fskins[PlayerInfo[playerid][pMember]-1], "Haine");	
		}
		else ShowModelSelectionMenu (playerid, skinlist, "Haine");
	}
	else SCM(playerid,COLOR_GREY, "Nu esti intr-un magazin.");
    return 1;
}
alias:clothes("skins");
function OnPlayerModelSelection(playerid, response, listid, modelid)
{
	if(listid == hats) {
        if(response) {
			if(GetPlayerCash(playerid) < 1000) return SCM(playerid, COLOR_GREY, "Nu ai destui bani!");
			PlayerInfo[playerid][pHat] = modelid;
			PlayerInfo[playerid][pShowHat] = 1;
			PutHat(playerid);
			UpdateVar(playerid, "Hat", modelid);
			UpdateVar(playerid, "ShowHat", 1);
			SCM(playerid, COLOR_YELLOW, "Ti-ai cumparat o palarie! Comenzi disponibile: /puthat, /removehat.");
			BizzInfo[InBussines[playerid]][bBalance] += 1000;
            GivePlayerCash(playerid,-1000);
			new query[128];
			format(query,sizeof(query),"UPDATE users SET `Money`='%d' WHERE `ID`='%d'",GetPlayerCash(playerid),PlayerInfo[playerid][pSQLID]);
			mysql_query(SQL,query);
        }
		return 1;
    }
	
    if(listid == glasses)
    {
        if(response)
        {
	    	PlayerInfo[playerid][pGlasses] = modelid;
		    PlayerInfo[playerid][pShowGlasses] = 1;
			new szQuery[256];
			format(szQuery, sizeof(szQuery), "UPDATE users SET `ShowGlasses` = '%d', `Glasses`='%d' WHERE `ID` = '%d'", PlayerInfo[playerid][pShowGlasses], modelid, PlayerInfo[playerid][pSQLID]);
			mysql_query(SQL, szQuery);
		    new skin = PlayerInfo[playerid][pChar];
			SetPlayerHoldingObject(playerid, modelid, 2, SkinOffSet[skin][0], SkinOffSet[skin][1], SkinOffSet[skin][2], SkinOffSet[skin][3], SkinOffSet[skin][4], SkinOffSet[skin][5]);
			BizzInfo[InBussines[playerid]][bBalance] += 100;
			GivePlayerCash(playerid, -100);
			new query[184];
			format(query,sizeof(query),"UPDATE `bizz` SET `Till`='%d' WHERE `ID`='%d'",BizzInfo[InBussines[playerid]][bBalance],InBussines[playerid]);
			mysql_query(SQL,query);
			SCM(playerid, COLOR_MONEY, "Ai cumparat o pereche de ochelari pentru $100.");
			SCM(playerid, -1, "Pentru a-ti scoate ochelarii de pe ochi, poti folosi comanda /removeglasses.");
		}
		return 1;
    }
	
	if(listid == furnitures) {
	    if(response) {
	        new Float: Pos[3];
	        GetPlayerPos(playerid, Pos[0], Pos[1], Pos[2]);
	        EditHouse[playerid] = 1;
	        EditModel[playerid] = modelid;
            ObjectEdited[playerid] = CreateDynamicObject(modelid, Pos[0]+4, Pos[1], Pos[2], 0, 0, 0);
            SendClientMessage(playerid, COLOR_YELLOW, "Mobilerul ales de tine a fost spawnat. Tot ce trebuie sa faci, este sa-i alegi o pozitie!");
            SendClientMessage(playerid, COLOR_YELLOW, "Pentru a misca camera, apasa tasta SPACE iar pentru a misca obiectul, apasa click pe acele axe (X,Y,Z)");
            EditDynamicObject(playerid, ObjectEdited[playerid]);
	    }
	}


    if(listid == skinlist)
    {
        if(response)
        {
			PlayerInfo[playerid][pChar] = modelid;
            SetPlayerSkinEx(playerid, PlayerInfo[playerid][pChar]);
			BizzInfo[InBussines[playerid]][bBalance] += 1500;
            GivePlayerCash(playerid,-1500);
			new str2[128];
			format(str2,sizeof(str2),"UPDATE users SET `Money`='%d',`CChar`='%d' WHERE `ID`='%d'",GetPlayerCash(playerid),PlayerInfo[playerid][pChar],PlayerInfo[playerid][pSQLID]);
			mysql_query(SQL,str2);
        }
		return 1;
    }

    if(listid == fskins[PlayerInfo[playerid][pMember]-1])
    {
        if(response)
        {
			PlayerInfo[playerid][pChar] = modelid;
			if(IsACop(playerid) && OnDuty[playerid] == 0) SetPlayerSkinEx(playerid, 250);
			else SetPlayerSkinEx(playerid, PlayerInfo[playerid][pChar]);
			if(IsACop(playerid) && OnDuty[playerid] == 0) SCM(playerid, COLOR_CLIENT, "Ti-ai ales skin-ul cu succes. Nu l-ai primit deoarece nu esti la datorie.");
            GivePlayerCash(playerid,-1500);
			new str2[128];
			format(str2,sizeof(str2),"UPDATE users SET `Money`='%d',`CChar`='%d' WHERE `ID`='%d'",GetPlayerCash(playerid),PlayerInfo[playerid][pChar],PlayerInfo[playerid][pSQLID]);
			mysql_query(SQL,str2);
        }
    }	
	return 1;
}

cmd:endauction(playerid,params[]) {
	if(PlayerInfo[playerid][pAdmin] < 5) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new string[200];
	if(Licitatie == 0) return SendClientMessage(playerid, COLOR_BZYELLOW, "Nu este o licitatie in desfasurare.");
	Licitatie = 0;
	TimpLicitatie = 0;
	IDLicitatie = 0;
	format(string,sizeof(string),"AdmCmd: %s a oprit licitatia.",GetName(playerid));
	SendAdminMessage(COLOR_LOGS,string,1);
	format(string,sizeof(string),"Adminul %s a oprit licitatia.",GetName(playerid));
	SendClientMessageToAll(COLOR_SYNTAX,string);
	return 1;
}
cmd:auction(playerid, params[]) {
	new item[50], id, time, string[180],ltype[20],needlevel;
	if(PlayerInfo[playerid][pAdmin] < 5) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(Licitatie == 1) return SendClientMessage(playerid, COLOR_BZYELLOW, "Este deja o licitatie in desfasurare.");
	if(sscanf(params, "s[50]ii", item, id, time)) {
		SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /auction <Type> <Item ID> <Time>");
		SendClientMessage(playerid, COLOR_WHITE, "Valabile: (1)Casa, (2)Bizz.");
		return 1;
	}
	if(strcmp(item, "1", true, strlen(item)) == 0) TipLicitatie = 1;
	else if(strcmp(item, "2", true, strlen(item)) == 0) TipLicitatie = 2;
	else return 1;

	Licitatie = 1;
	TimpLicitatie = time*60;
	TotalBani = 0;
	foreach(Player, i) {
	    if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1) TotalMoney[i] = 0;
	}
	IDLicitatie = id;
	LastPlayer = -1;
	
	switch(TipLicitatie) {
	    case 1: {
	        ltype ="Casa";
			needlevel = HouseInfo[id][hLevel];
	        if(id < 1 || id > housess) return SCM(playerid,COLOR_BZYELLOW,"ID-ul casei este invalid.");
			format(string, sizeof(string), "Adminul %s a pornit o licitatie pentru casa %d.", GetName(playerid),id);
		}
		case 2: {
		    ltype ="Business";
			needlevel = BizzInfo[id][bLevelNeeded];
		    if(id < 1 || id > bussines) return SCM(playerid,COLOR_BZYELLOW,"ID-ul bizz-ului este invalid.");
            format(string, sizeof(string), "Adminul %s a pornit o licitatie pentru bizz-ul %d.", GetName(playerid),id);
		}
	}
	MesajLicitatie(COLOR_SYNTAX, string);
	format(string, sizeof(string), "Nume: %s %d, Nivel Minim: %d, Incepe de la: 5,000$, Tip: %s", ltype, id,needlevel, ltype);
	MesajLicitatie(COLOR_SYNTAX, string);
	format(string, sizeof(string), "Licitatia este disponibila timp de %d minute.", time);
	MesajLicitatie(COLOR_SYNTAX, string);
	return 1;
}

cmd:bid(playerid, params[]) {
	new suma, string[180];
	if(Licitatie == 0) return SendClientMessage(playerid, COLOR_BZYELLOW, "Nu este o licitatie activa.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(TipLicitatie == 1) {
		if(PlayerInfo[playerid][pHouse] != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0) return SendClientMessage(playerid, COLOR_BZYELLOW, "Nu poti licita deoarece ai o casa.");
	}
	else if(TipLicitatie == 2 && PlayerInfo[playerid][pBizz] != 255) return SCM(playerid, COLOR_BZYELLOW, "Nu poti licita deoarece ai un business.");
    new id = IDLicitatie;
	if(sscanf(params, "i", suma)) {
		SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /bid <Money>");
		switch(TipLicitatie) {
			case 1: format(string, sizeof(string), "De data aceasta, se liciteaza pentru casa cu ID-ul %d.", id);
			case 2: format(string, sizeof(string), "De data aceasta, se liciteaza pentru business-ul cu ID %d.", id);
		}
		SendClientMessage(playerid, COLOR_SYNTAX, string);
		format(string, sizeof(string), "Timp disponibil pentru a licita: %s", CalculeazaTimp2(TimpLicitatie));
		SendClientMessage(playerid, COLOR_SYNTAX, string);
		if(LastPlayer == INVALID_PLAYER_ID || LastPlayer == -1) format(string, sizeof(string), "Ultimul care a licitat: None | Suma: %s$", FormatNumber(TotalBani));
		else format(string, sizeof(string), "Ultimul care a licitat: %s | Suma: %s$", GetName(LastPlayer), FormatNumber(TotalBani));
		SendClientMessage(playerid, COLOR_SYNTAX, string);
		return 1;
	}
	switch(TipLicitatie) {
		case 1: if(PlayerInfo[playerid][pLevel] < HouseInfo[id][hLevel]) return SCM(playerid,COLOR_BZYELLOW,"Nu ai nivelul minim pentru a licita.");
		case 2: if(PlayerInfo[playerid][pLevel] < BizzInfo[id][bLevelNeeded]) return SCM(playerid,COLOR_BZYELLOW,"Nu ai nivelul minim pentru a licita.");
	}
	if(suma < 5000) return SCM(playerid, COLOR_BZYELLOW, "Suma minima este de $5,000!");
	if(GetPlayerCash(playerid) < TotalBani) return SendClientMessage(playerid, COLOR_BZYELLOW, "Nu ai destui bani!");
	if(GetPlayerCash(playerid) < suma) return SendClientMessage(playerid, COLOR_BZYELLOW, "Nu ai destui bani!");
	if(suma < TotalBani+5000 && TotalBani != 0) {
		format(string, sizeof(string), "Suma invalida! Poti licita minim %s$.", FormatNumber(TotalBani+5000));
		SCM(playerid, COLOR_BZYELLOW, string);
		return 1;
	}	
	format(string, sizeof(string), "Esti sigur ca vrei sa licitezi %s?", FormatNumber(suma));
	ShowPlayerDialog(playerid, DIALOG_BID, DIALOG_STYLE_MSGBOX, "Server:", string, "Done", "Close");
	SelectedMoney[playerid] = suma;
	return 1;
}
         
stock MesajLicitatie(color, string[]) {
	foreach(Player, i) {
		if(IsPlayerConnected(i) && toglicitatie[i] == 1) {
			SendClientMessage(i, color, string);
		}
	}
	return 1;
}

cmd:frisk(playerid,params[])
{
    if(IsPlayerConnected(playerid))
    {
        new giveplayerid,sendername[25],giveplayer[25],string[128];
	    if(sscanf(params, "u",giveplayerid)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /frisk <Nume/Playerid>");
		if(IsACop(playerid))
		{
			if(giveplayerid != INVALID_PLAYER_ID)
			{
			    if (ProxDetectorS(8.0, playerid, giveplayerid))
				{
				    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
				    if(giveplayerid == playerid) return 1;
				    GetPlayerName(giveplayerid, giveplayer, sizeof(giveplayer));
					GetPlayerName(playerid, sendername, sizeof(sendername));
				    new text1[20], text2[20], text4[20];
				    if(PlayerInfo[giveplayerid][pDrugs] > 0) { text1 = "| Droguri."; } else { text1 = "| Buzunar gol."; }
				    if(PlayerInfo[giveplayerid][pMats] > 0) { text2 = "| Materiale."; } else { text2 = "| Buzunar gol."; }
				    format(string, sizeof(string), "** Lucrurile lui {B8DBFF}%s{FFFFFF} **", giveplayer);
			        SendClientMessage(playerid, COLOR_WHITE, string);
			        format(string, sizeof(string), "%s, grame de droguri: %d", text1,PlayerInfo[giveplayerid][pDrugs]);
					SendClientMessage(playerid, 0xFFFFFF99, string);
					format(string, sizeof(string), "%s, materiale: %d", text2,PlayerInfo[giveplayerid][pMats]);
					SendClientMessage(playerid, 0xFFFFFF99, string);
					format(string, sizeof(string), "%s.", text4);
					SendClientMessage(playerid, 0xFFFFFF99, string);
                    new Player_Weapons[13];
                    new Player_Ammos[13];
                    new i;
                    for(i = 1;i <= 12;i++)
                    {
                        GetPlayerWeaponData(giveplayerid,i,Player_Weapons[i],Player_Ammos[i]);
                        if(Player_Weapons[i] != 0)
                        {
	                        new weaponName[256];
	                        GetWeaponName(Player_Weapons[i],weaponName,255);
	                        format(string,255,"* %s, Arma:{FFFFFF} %s{B8DBFF}, Gloante:{FFFFFF} %d",giveplayer,weaponName,Player_Ammos[i]);
	                        SendClientMessage(playerid,0xFFFFFF99,string);
                        }
                    }
					format(string, sizeof(string), "* %s l-a verificat pe %s pentru lucruri ilegale.", sendername ,giveplayer);
					ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
				}
				else return SendClientMessage(playerid, COLOR_YELLOW2, "Acel player nu este langa tine.");
			}
            else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
		}
        else return SendClientMessage(playerid, COLOR_BZWHITE,"Eroare: Nu faci parte dintr-un departament.");
	}
    return 1;
}
cmd:animlist(playerid,params[])
{
    SendClientMessage(playerid,COLOR_GROVE,"Anim List");
    SendClientMessage(playerid,COLOR_WHITE,"Lifejump : Robman : Exhaust : Carlock : Rcarjack1 : Lcarjack1 : Rcarjack2 : Lcarjack2 : Hoodfrisked");
    SendClientMessage(playerid,COLOR_WHITE,"Lightcig : Tapcig : Bat : Lean : Clearanim : Dancing : Box : Lowthrow : Highthrow");
    SendClientMessage(playerid,COLOR_WHITE,"Leftslap : Handsup : Fall : Fallback : Sup : Rap : Push : Akick : Lowbodypush");
    SendClientMessage(playerid,COLOR_WHITE,"Spray : Headbutt : Pee : Koface : Kostomach : Kiss : Rollfall : Lay2 : Hitch");
    SendClientMessage(playerid,COLOR_WHITE,"Beach : Medic : Scratch : Sit : Drunk : Bomb : Getarrested : Laugh : Lookout");
    SendClientMessage(playerid,COLOR_WHITE,"Aim : Crossarms : Lay : Hide : Vomit : Eating : Wave : Shouting : Chant");
    SendClientMessage(playerid,COLOR_WHITE,"Frisked : Exhausted : Injured : Slapass : Deal : Dealstance : Crack : Wank : Gro");
    SendClientMessage(playerid,COLOR_WHITE,"Sit : Chat : Fucku : Taichi : Knife : Basket : JumpWater");
    return 1;
}
cmd:carhand(playerid,params[])
{
    if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    ApplyAnimation(playerid,"CAR","Tap_hand",4.1,0,1,1 ,1,1);
	return 1;
}
cmd:lifejump(playerid,params[])
{
    if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	LoopingAnim(playerid,"PED","EV_dive",4.0,0,1,1,1,0);
	return 1;
}
cmd:robman(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
 	LoopingAnim(playerid, "SHOP", "ROB_Loop_Threat", 4.0, 1, 0, 0, 0, 0);
	return 1;
}
cmd:exhaust(playerid,params[])
{
	if(IsPlayerLogged[playerid] == 0) return SendClientMessage(playerid, COLOR_LIGHTRED, "Trebuie sa te loghezi mai intai.");
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	LoopingAnim(playerid,"PED","IDLE_tired",3.0,1,0,0,0,0);
	return 1;
}
cmd:rcarjack1(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	OnePlayAnim(playerid,"PED","CAR_pulloutL_LHS",4.0,0,0,0,0,0);
	return 1;
}
cmd:lcarjack1(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
 	OnePlayAnim(playerid,"PED","CAR_pulloutL_RHS",4.0,0,0,0,0,0);
	return 1;
}
cmd:rcarjack2(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
 	OnePlayAnim(playerid,"PED","CAR_pullout_LHS",4.0,0,0,0,0,0);
	return 1;
}
cmd:lcarjack2(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
 	OnePlayAnim(playerid,"PED","CAR_pullout_RHS",4.0,0,0,0,0,0);
	return 1;
}
cmd:hoodfrisked(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
 	LoopingAnim(playerid,"POLICE","crm_drgbst_01",4.0,0,1,1,1,0);
	return 1;
}
cmd:lightcig(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
 	OnePlayAnim(playerid,"SMOKING","M_smk_in",3.0,0,0,0,0,0);
	return 1;
}
cmd:tapcig(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
 	OnePlayAnim(playerid,"SMOKING","M_smk_tap",3.0,0,0,0,0,0);
	return 1;
}
cmd:bat(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
 	LoopingAnim(playerid,"BASEBALL","Bat_IDLE",4.0,1,1,1,1,0);
	return 1;
}
cmd:lean(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	new test;
    if(sscanf(params, "d",test)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /lean <1-2>");
    switch (test)
    {
	    case 1: LoopingAnim(playerid,"GANGS","leanIDLE",4.0,0,1,1,1,0);
	    case 2: LoopingAnim(playerid,"MISC","Plyrlean_loop",4.0,0,1,1,1,0);
	    default: SendClientMessage(playerid,COLOR_SYNTAX, "Syntax: /lean <1-2>");
	}
	return 1;
}
cmd:clearanim(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	ApplyAnimation(playerid, "CARRY", "crry_prtial", 1.0, 0, 0, 0, 0, 0);
	return 1;
}
cmd:dancing(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	new test;
    if(sscanf(params, "d",test)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /dancing <1-7>");
	switch (test)
   	{
	    case 1: LoopingAnim(playerid,"STRIP", "strip_A", 4.1, 1, 1, 1, 1, 1 );
        case 2: LoopingAnim(playerid,"STRIP", "strip_B", 4.1, 1, 1, 1, 1, 1 );
     	case 3: LoopingAnim(playerid,"STRIP", "strip_C", 4.1, 1, 1, 1, 1, 1 );
    	case 4: LoopingAnim(playerid,"STRIP", "strip_D", 4.1, 1, 1, 1, 1, 1 );
    	case 5: LoopingAnim(playerid,"STRIP", "strip_E", 4.1, 1, 1, 1, 1, 1 );
    	case 6: LoopingAnim(playerid,"STRIP", "strip_F", 4.1, 1, 1, 1, 1, 1 );
     	case 7: LoopingAnim(playerid,"STRIP", "strip_G", 4.1, 1, 1, 1, 1, 1 );
     	default: SendClientMessage(playerid,COLOR_SYNTAX, "Syntax: /dancing <1-7>");
	}
	return 1;
}
cmd:box(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
 	LoopingAnim(playerid,"GYMNASIUM","GYMshadowbox",4.0,1,1,1,1,0);
	return 1;
}
cmd:lowthrow(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	OnePlayAnim(playerid,"GRENADE","WEAPON_throwu",3.0,0,0,0,0,0);
	return 1;
}
cmd:highthrow(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
 	OnePlayAnim(playerid,"GRENADE","WEAPON_throw",4.0,0,0,0,0,0);
	return 1;
}
cmd:leftslap(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	OnePlayAnim(playerid,"PED","BIKE_elbowL",4.0,0,0,0,0,0);
	return 1;
}
cmd:handsup(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    if(Freezed[playerid] == 1) return 1;
	SetPlayerSpecialAction(playerid,SPECIAL_ACTION_HANDSUP);
	return 1;
}
cmd:fall(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	LoopingAnim(playerid,"PED","KO_skid_front",4.1,0,1,1,1,0);
	return 1;
}
cmd:fallback(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    LoopingAnim(playerid, "PED","FLOOR_hit_f", 4.0, 1, 0, 0, 0, 0);
    return 1;
}
cmd:laugh(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
 	OnePlayAnim(playerid, "RAPPING", "Laugh_01", 4.0, 0, 0, 0, 0, 0);
	return 1;
}
cmd:lookout(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    OnePlayAnim(playerid, "SHOP", "ROB_Shifty", 4.0, 0, 0, 0, 0, 0);
	return 1;
}
cmd:aim(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    LoopingAnim(playerid, "SHOP", "ROB_Loop_Threat", 4.0, 1, 0, 0, 0, 0);
	return 1;
}
cmd:crossarms(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    LoopingAnim(playerid, "COP_AMBIENT", "Coplook_loop", 4.0, 0, 1, 1, 1, -1);
	return 1;
}
cmd:lay(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
 	LoopingAnim(playerid,"BEACH", "bather", 4.0, 1, 0, 0, 0, 0);
	return 1;
}
cmd:hide(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
 	LoopingAnim(playerid, "ped", "cower", 3.0, 1, 0, 0, 0, 0);
	return 1;
}
cmd:vomit(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
 	OnePlayAnim(playerid, "FOOD", "EAT_Vomit_P", 3.0, 0, 0, 0, 0, 0);
	return 1;
}
cmd:wave(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    LoopingAnim(playerid, "ON_LOOKERS", "wave_loop", 4.0, 1, 0, 0, 0, 0);
	return 1;
}
cmd:shouting(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    LoopingAnim(playerid,"RIOT","RIOT_shout",4.0,1,0,0,0,0);
	return 1;
}
cmd:chant(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    LoopingAnim(playerid,"RIOT","RIOT_CHANT",4.0,1,1,1,1,0);
	return 1;
}
cmd:frisked(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    LoopingAnim(playerid,"POLICE","crm_drgbst_01",4.0,0,1,1,1,0);
	return 1;
}
cmd:exhausted(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    LoopingAnim(playerid,"PED","IDLE_tired",3.0,1,0,0,0,0);
	return 1;
}
cmd:injured(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    LoopingAnim(playerid, "SWEET", "Sweet_injuredloop", 4.0, 1, 0, 0, 0, 0);
	return 1;
}
cmd:slapass(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    OnePlayAnim(playerid, "SWEET", "sweet_ass_slap", 4.0, 0, 0, 0, 0, 0);
	return 1;
}
cmd:deal(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    OnePlayAnim(playerid, "DEALER", "DEALER_DEAL", 4.0, 0, 0, 0, 0, 0);
	return 1;
}
cmd:dealstance(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    LoopingAnim(playerid,"DEALER","DEALER_IDLE",4.0,1,0,0,0,0);
	return 1;
}
cmd:crack(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    LoopingAnim(playerid, "CRACK", "crckdeth2", 4.0, 1, 0, 0, 0, 0);
	return 1;
}
cmd:wank(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    LoopingAnim(playerid,"PAULNMAC", "wank_loop", 1.800001, 1, 0, 0, 1, 600);
	return 1;
}
cmd:gro(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
 	LoopingAnim(playerid,"BEACH", "ParkSit_M_loop", 4.0, 1, 0, 0, 0, 0);
	return 1;
}
cmd:sup(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	new test;
    if(sscanf(params, "d",test)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /sup <1-3>");
	switch (test)
  	{
    	case 1: OnePlayAnim(playerid,"GANGS","hndshkba",4.0,0,0,0,0,0);
     	case 2: OnePlayAnim(playerid,"GANGS","hndshkda",4.0,0,0,0,0,0);
     	case 3: OnePlayAnim(playerid,"GANGS","hndshkfa_swt",4.0,0,0,0,0,0);
    	default: SendClientMessage(playerid,COLOR_SYNTAX, "Syntax: /sup <1-3>");
	}
    return 1;
}
cmd:rap(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	new test;
    if(sscanf(params, "d",test)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /rap <1-4>");
	switch (test)
	{
	    case 1: LoopingAnim(playerid,"RAPPING","RAP_A_Loop",4.0,1,0,0,0,0);
    	case 2: LoopingAnim(playerid,"RAPPING","RAP_C_Loop",4.0,1,0,0,0,0);
    	case 3: LoopingAnim(playerid,"GANGS","prtial_gngtlkD",4.0,1,0,0,0,0);
     	case 4: LoopingAnim(playerid,"GANGS","prtial_gngtlkH",4.0,1,0,0,1,1);
    	default: SendClientMessage(playerid,COLOR_SYNTAX, "Syntax: /rap <1-4>");
	}
    return 1;
}
cmd:push(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
 	OnePlayAnim(playerid,"GANGS","shake_cara",4.0,0,0,0,0,0);
	return 1;
}
cmd:akick(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	OnePlayAnim(playerid,"POLICE","Door_Kick",4.0,0,0,0,0,0);
	return 1;
}
cmd:lowbodypush(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	OnePlayAnim(playerid,"GANGS","shake_carSH",4.0,0,0,0,0,0);
	return 1;
}

cmd:headbutt(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	OnePlayAnim(playerid,"WAYFARER","WF_Fwd",4.0,0,0,0,0,0);
	return 1;
}
cmd:pee(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	if(CP[playerid] == 0)
	{
		SetPlayerSpecialAction(playerid, SPECIAL_ACTION_PISSING);
	}
	else return SCM(playerid,COLOR_WHITE,"Ai un checkpoint activ. Foloseste /cancel checkpoint");
	return 1;
}
cmd:koface(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	LoopingAnim(playerid,"PED","KO_shot_face",4.0,0,1,1,1,0);
	return 1;
}
cmd:kostomach(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	LoopingAnim(playerid,"PED","KO_shot_stom",4.0,0,1,1,1,0);
	return 1;
}
cmd:kiss(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	LoopingAnim(playerid,"KISSING", "Grlfrd_Kiss_02", 1.800001, 1, 0, 0, 1, 600);
	return 1;
}
cmd:rollfall(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	LoopingAnim(playerid,"PED","BIKE_fallR",4.0,0,1,1,1,0);
	return 1;
}
cmd:lay2(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	LoopingAnim(playerid,"SUNBATHE","Lay_Bac_in",3.0,0,1,1,1,0);
	return 1;
}
cmd:hitch(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	LoopingAnim(playerid,"MISC","Hiker_Pose", 4.0, 1, 0, 0, 0, 0);
	return 1;
}
cmd:beach(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	LoopingAnim(playerid,"BEACH","SitnWait_loop_W",4.1,0,1,1,1,1);
	return 1;
}
cmd:medic(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	LoopingAnim(playerid,"MEDIC","CPR",4.1,0,1,1,1,1);
	return 1;
}
cmd:scratch(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	LoopingAnim(playerid,"MISC","Scratchballs_01", 4.0, 1, 0, 0, 0, 0);
	return 1;
}
cmd:sit(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	LoopingAnim(playerid,"PED","SEAT_idle", 4.0, 1, 0, 0, 0, 0);
	return 1;
}
cmd:drunk(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	LoopingAnim(playerid,"PED","WALK_DRUNK",4.0,1,1,1,1,0);
	return 1;
}
cmd:bomb(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
   	ClearAnimations(playerid);
   	OnePlayAnim(playerid, "BOMBER", "BOM_Plant", 4.0, 0, 0, 0, 0, 0);
	return 1;
}
cmd:getarrested(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    LoopingAnim(playerid,"ped", "ARRESTgun", 4.0, 0, 1, 1, 1, -1);
	return 1;
}
cmd:chat(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    OnePlayAnim(playerid,"PED","IDLE_CHAT",4.0,0,0,0,0,0);
	return 1;
}
cmd:fucku(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    OnePlayAnim(playerid,"PED","fucku",4.0,0,0,0,0,0);
	return 1;
}
cmd:taichi(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    LoopingAnim(playerid,"PARK","Tai_Chi_Loop",4.0,1,0,0,0,0);
	return 1;
}
cmd:knife(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	new test;
    if(sscanf(params, "d",test)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /knife <1-4>");
	switch (test)
	{
	    case 1: LoopingAnim(playerid,"KNIFE","KILL_Knife_Ped_Damage",4.0,0,1,1,1,0);
     	case 2: LoopingAnim(playerid,"KNIFE","KILL_Knife_Ped_Die",4.0,0,1,1,1,0);
      	case 3: OnePlayAnim(playerid,"KNIFE","KILL_Knife_Player",4.0,0,0,0,0,0);
     	case 4: LoopingAnim(playerid,"KNIFE","KILL_Partial",4.0,0,1,1,1,1);
    	default: SendClientMessage(playerid,COLOR_SYNTAX, "Syntax: /knife <1-4>");
	}
	return 1;
}
cmd:basket(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	new test;
    if(sscanf(params, "d",test)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /basket <1-6>");
	switch (test)
 	{
    	case 1: LoopingAnim(playerid,"BSKTBALL","BBALL_idleloop",4.0,1,0,0,0,0);
    	case 2: OnePlayAnim(playerid,"BSKTBALL","BBALL_Jump_Shot",4.0,0,0,0,0,0);
     	case 3: OnePlayAnim(playerid,"BSKTBALL","BBALL_pickup",4.0,0,0,0,0,0);
     	case 4: LoopingAnim(playerid,"BSKTBALL","BBALL_run",4.1,1,1,1,1,1);
    	case 5: LoopingAnim(playerid,"BSKTBALL","BBALL_def_loop",4.0,1,0,0,0,0);
       	case 6: LoopingAnim(playerid,"BSKTBALL","BBALL_Dnk",4.0,1,0,0,0,0);
    	default: SendClientMessage(playerid,COLOR_SYNTAX, "Syntax: /basket <1-6>");
	}
	return 1;
}
cmd:dance(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
	if(CP[playerid] == 0)
	{
		new test;
		if(sscanf(params, "d",test)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /dance <1-4>");
		if(test < 1 || test > 4) return SendClientMessage(playerid,COLOR_SYNTAX, "Syntax: /dance <1-4>");
		if(test == 1)
		{
		    SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DANCE1);
		}
		else if(test== 2)
		{
		    SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DANCE2);
		}
		else if(test == 3)
		{
		    SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DANCE3);
		}
		else if(test == 4)
		{
		    SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DANCE4);
		}
	}
	else return SCM(playerid,COLOR_WHITE,"Ai un checkpoint activ. Foloseste /cancel checkpoint");
	return 1;
}
cmd:jumpwater(playerid,params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu poti folosi animatia aceasta atata timp cat esti intr-un vehicul.");
    ApplyAnimation(playerid,"DAM_JUMP","DAM_LAUNCH",2,0,1,1,0,0);
	return 1;
}

cmd:bizwithdraw(playerid,params[])
{
	new bouse = PlayerInfo[playerid][pBizz];
	if (bouse == 255) return SendClientMessage(playerid, COLOR_GREY, "Nu detii o afacere.");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new cashdeposit,string[64];
	if(sscanf(params, "d",cashdeposit))
	{
		SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /bizwithdraw <Amount>");
		if(cashdeposit > 10000000) return SCM(playerid,COLOR_GREY, "Suma maxima este de $10,000,000.");			
		format(string, sizeof(string), "Ai $%s in depozit.", FormatNumber(BizzInfo[bouse][bBalance]));
		SendClientMessage(playerid, COLOR_WHITE, string);		
		return 1;
	}
	new biz = bouse;
	if(!PlayerToPoint(50.0, playerid,BizzInfo[biz][bExitX],BizzInfo[biz][bExitY],BizzInfo[biz][bExitZ]) && BizzInfo[biz][bStatic] == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu esti langa afacerea ta!");
	else if(!PlayerToPoint(5.0, playerid,BizzInfo[biz][bEntranceX],BizzInfo[biz][bEntranceY],BizzInfo[biz][bEntranceZ]) && BizzInfo[biz][bStatic] == 1) return SendClientMessage(playerid, COLOR_GREY, "Nu esti langa afacerea ta!");
	GivePlayerCash(playerid,cashdeposit);
	BizzInfo[bouse][bBalance] -= cashdeposit;
	format(string, sizeof(string), "Ai scos $%s din depozit. Acum ai $%s.", FormatNumber(cashdeposit),FormatNumber(BizzInfo[bouse][bBalance]));
	SendClientMessage(playerid, COLOR_YELLOW, string);
	new str1[184];
	format(str1,sizeof(str1),"UPDATE `bizz` SET `Till`='%d' WHERE `ID`='%d'",BizzInfo[bouse][bBalance],bouse);
	mysql_query(SQL,str1);
	Update(playerid, pCashx);		
	return 1;
}

cmd:bizfee(playerid,params[])
{
    if(IsPlayerConnected(playerid))
	{
		new bouse = PlayerInfo[playerid][pBizz];
		if (bouse == 255) return SendClientMessage(playerid, COLOR_GREY, "Nu detii o afacere.");
		if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		new fee,string[64];
		if(sscanf(params, "d",fee)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /bizfee <Money>");
		if(fee < 1 || fee > 100) return SendClientMessage(playerid, COLOR_GREY, "Suma trebuie sa fie intre 1$ si 100$.");
		BizzInfo[bouse][bFee] = fee;
		format(string, sizeof(string), "{FFFF00}Taxa setata la: $%s.", FormatNumber(BizzInfo[bouse][bFee]));
		new str1[184];
		format(str1,sizeof(str1),"UPDATE `bizz` SET `EntranceCost`='%d' WHERE `ID`='%d'",BizzInfo[bouse][bFee],bouse);
		mysql_query(SQL,str1);
		UpdateLabel(2,bouse);
		SendClientMessage(playerid, COLOR_WHITE, string);
	}
	return 1;
}
cmd:bizname(playerid,params[])
{
    if(IsPlayerConnected(playerid))
	{
		new bouse = PlayerInfo[playerid][pBizz];
		if (bouse == 255) return SendClientMessage(playerid, COLOR_GREY, "Nu detii o afacere.");
		if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		new result[60],string[128];
		if(sscanf(params, "s[60]",result)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /bizname <Message>");
		new maxc = strlen(result);
		if(maxc > 20) return SCM(playerid,COLOR_GREY, "Caracterele maxime sunt de 20.");
		new result2[250];
		mysql_real_escape_string(result, result2);
		strmid(BizzInfo[bouse][bMessage], result2, 0, 64, 255);
		format(string, sizeof(string), "{FFFF00}Numele setat la: %s.",BizzInfo[bouse][bMessage]);
		new str1[184];
		format(str1,sizeof(str1),"UPDATE bizz SET Message='%s' WHERE ID='%d'",BizzInfo[bouse][bMessage],bouse);
		mysql_query(SQL,str1);
		UpdateLabel(2, bouse);
		SendClientMessage(playerid, COLOR_WHITE, string);
	}
	return 1;
}

cmd:sellbizto(playerid, params[])
{
    if(IsPlayerConnected(playerid))
    {
		new money,giveplayerid,sendername[25],giveplayer[25],string[150],playername[25];
		GetPlayerName(playerid, playername, sizeof(playername));
	    if(PlayerInfo[playerid][pBizz] == 255) return SendClientMessage(playerid, COLOR_GREY, "Nu detii o afacere.");
	    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		if(sscanf(params, "ui",giveplayerid,money)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /sellbizto <Nume/Playerid> <Price>");
		if(money < 1 || money > 1000000000) return SendClientMessage(playerid, COLOR_WHITE,"Pretul trebuie sa fie cuprins intre $1 - $1,000,000,000.");
		if(PlayerInfo[giveplayerid][pBizz] != 255) return SendClientMessage(playerid, COLOR_WHITE, "This player already own a Bussines.");
		if(IsPlayerConnected(giveplayerid))
		{
		    if(giveplayerid != INVALID_PLAYER_ID)
		    {
		        if(ProxDetectorS(8.0, playerid, giveplayerid))
				{				  
					if(PlayerInfo[playerid][pBizz] < 100)
					{
						if(PlayerInfo[giveplayerid][pLevel] < BizzInfo[PlayerInfo[playerid][pBizz]][bLevelNeeded]) return SCM(playerid,COLOR_WHITE,"Acel player nu are nivelul necesar.");
						if(giveplayerid == playerid) return 1;
					    GetPlayerName(giveplayerid, giveplayer, sizeof(giveplayer));
						GetPlayerName(playerid, sendername, sizeof(sendername));
					    format(string, sizeof(string), "* I-ai facut o oferta lui %s pentru a cumpara afacerea ta in schimbul sumei de $%s.", giveplayer, FormatNumber(money));
						SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
						format(string, sizeof(string), "* %s doreste sa-ti vanda afacerea lui pentru $%s, (scrie /accept biz %d) pentru a accepta.", sendername, FormatNumber(money),playerid);
						SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, string);
						biztype[giveplayerid] = 1;
						bizid[giveplayerid] = PlayerInfo[playerid][pBizz];
						bizprice[giveplayerid] = money;
						bizoffer[giveplayerid] = playerid;
						return 1;
					}
				}
    			else return SCM(playerid,COLOR_YELLOW2, "Acel player nu este langa tine.");
			}
		}
		else return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	}
	return 1;
}
cmd:sellbiztostate(playerid,params[])
{
    if(IsPlayerConnected(playerid))
	{
		new playername[25],string[70];
		GetPlayerName(playerid, playername, sizeof(playername));
		if(PlayerInfo[playerid][pBizz] == 255) return SendClientMessage(playerid, COLOR_GREY, "Nu detii o afacere.");
		if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		if(strcmp(GetName(playerid), BizzInfo[PlayerInfo[playerid][pBizz]-100][bOwner], true) == 0)
		{   
			new bouse = PlayerInfo[playerid][pBizz]-100;
			new cashb = 50000;
			BizzInfo[bouse][bBuyPrice] = 100000;
			GivePlayerCash(playerid,cashb);
			BizzInfo[bouse][bLocked] = 0;
			BizzInfo[bouse][bOwned] = 0;
			strmid(BizzInfo[bouse][bOwner], "The State", 0, strlen("The State"), 255);
			PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
			format(string, sizeof(string), "~w~Felicitari~n~ Ti-ai vandut propietatea pentru ~n~~g~$%d", cashb);
			GameTextForPlayer(playerid, string, 10000, 3);
			PlayerInfo[playerid][pBizz] = 255;
            new str1[184];
			format(str1,sizeof(str1),"UPDATE `bizz` SET `Locked`='0',`Owned`='0',`Till`='0',`Owner`='The State',`BuyPrice`='10000' WHERE `ID`='%d'",bouse);
			mysql_query(SQL,str1);
			Update(playerid,pCashx);
			Update(playerid,pBizzx);
			UpdateLabel(3,bouse);
			return 1;
		}
		else return SCM(playerid,COLOR_GREY, "Nu detii o afacere.");
	}
	return 1;
}

cmd:sellbiz(playerid, params[])
{
	new bIDs = PlayerInfo[playerid][pBizz];
	if(bIDs != 255) {
	    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		new price, string[256], szQuery[256];
		if(sscanf(params, "i", price)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /sellbiz <Price>");
		format(string, 256, "Ai setat pretul afacerii la $%s.", FormatNumber(price));
		SCM(playerid, COLOR_MONEY, string);
		BizzInfo[bIDs][bBuyPrice]= price;
		format(szQuery, sizeof(szQuery), "UPDATE `bizz` SET `BuyPrice`= '%d' WHERE `ID`= '%d'", price, bIDs);
		mysql_query(SQL, szQuery);
		UpdateLabel(2,bIDs);
	}
	else SCM(playerid, -1, "Nu detii o afacere!");
	return 1;
}

cmd:buybiz(playerid,params[])
{
    if(IsPlayerConnected(playerid))
	{
		new Float:oldposx, Float:oldposy, Float:oldposz;
		new id, moneys, newmoneys, szQuery[256];
		GetPlayerPos(playerid, oldposx, oldposy, oldposz);
		new string[128];
		if(PlayerInfo[playerid][pBizz] != 255) return SendClientMessage(playerid, COLOR_GREY, "Ai deja un biz.");
		if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
		for(new b = 1; b < sizeof(BizzInfo); b++)
		{
			if(PlayerToPoint(2.0, playerid, BizzInfo[b][bEntranceX], BizzInfo[b][bEntranceY], BizzInfo[b][bEntranceZ]) && BizzInfo[b][bBuyPrice] != 0)
			{
				if(PlayerInfo[playerid][pLevel] < BizzInfo[b][bLevelNeeded])
				{
					format(string, sizeof(string), "Ai nevoie de nivel %d.",BizzInfo[b][bLevelNeeded]);
					SendClientMessage(playerid, COLOR_WHITE, string);
					return 1;
				}
				if(GetPlayerCash(playerid) > BizzInfo[b][bBuyPrice])
				{
					id = GetPlayerID(BizzInfo[b][bOwner]);
					if(id != INVALID_PLAYER_ID) {
						PlayerInfo[id][pBizz] = 255;
						PlayerInfo[id][pAccount] += BizzInfo[b][bBuyPrice];
						format(string, sizeof(string), "* %s ti-a cumparat afacerea pentru {19CF2E}$%s{239931}. Banii au fost transferati in contul tau bancar.", GetName(playerid), FormatNumber(BizzInfo[b][bBuyPrice]));
						SendClientMessage(id, 0x239931FF, string);
					}
					else {
						format(szQuery, sizeof(szQuery), "SELECT * FROM `users` WHERE `name` = '%s'", BizzInfo[b][bOwner]);
						new Cache: result = mysql_query(SQL, szQuery);
						if(cache_get_row_count() != 0) {
							cache_get_field_content(0, "Bank", string); moneys = strval(string);
							newmoneys = moneys + BizzInfo[b][bBuyPrice];
						}
						cache_delete(result);
						format(szQuery, sizeof(szQuery), "UPDATE `users` SET `Bank` = '%d', `Bizz` = '255' WHERE `name` = '%s'", newmoneys, BizzInfo[b][bOwner]);
						mysql_tquery(SQL, szQuery, "", "");
					}
					format(string,sizeof(string),"($)%s a cumparat afacerea %d de la %s pentru %s$.",GetName(playerid),BizzInfo[b][bID],BizzInfo[b][bOwner],FormatNumber(BizzInfo[b][bBuyPrice]));
					SendAdminMessage(COLOR_YELLOW,string,1);
				    InBussines[playerid] = b;
					PlayerInfo[playerid][pBizz] = b;
					BizzInfo[b][bOwned] = 1;
					strmid(BizzInfo[b][bOwner], GetName(playerid), 0, strlen(GetName(playerid)), 255);
					GivePlayerCash(playerid,-BizzInfo[b][bBuyPrice]);
					SetPlayerInterior(playerid,BizzInfo[b][bInterior]);
					PlayerInfo[playerid][pInt] = BizzInfo[b][bInterior];
					SetPlayerVirtualWorld(playerid, BizzInfo[b][bVirtual]);
					SetPlayerPosEx(playerid,BizzInfo[b][bExitX],BizzInfo[b][bExitY],BizzInfo[b][bExitZ]);
					GameTextForPlayer(playerid, "~w~Bine ai venit~n~", 5000, 3);
					PlayerInfo[playerid][pInt] = BizzInfo[b][bInterior];
					PlayerInfo[playerid][pLocal] = b ;
					new str1[256];
					format(str1,sizeof(str1),"UPDATE users SET `Money`='%d',`Bizz`='%d' WHERE `ID`='%d'",GetPlayerCash(playerid),PlayerInfo[playerid][pBizz],PlayerInfo[playerid][pSQLID]);
					mysql_query(SQL,str1);
					format(str1,sizeof(str1),"UPDATE `bizz` SET `Owned`='1',`Owner`='%s' WHERE `ID`='%d'",BizzInfo[b][bOwner],b);
					mysql_query(SQL,str1);
					
					BizzInfo[b][bBuyPrice] = 0;
					format(szQuery, sizeof(szQuery), "UPDATE `bizz` SET `BuyPrice`= '%d' WHERE `ID`= '%d'", 0, b);
					mysql_query(SQL, szQuery);
					UpdateLabel(2,b);
					return 1;
				}
				else
				{
					SendClientMessage(playerid, COLOR_GREY, "Nu ai banii necesari");
					return 1;
				}
			}
			else return SCM(playerid,COLOR_GREY,"Aceasta afacere nu este de vanzare.");
		}
	}
	return 1;
}
cmd:eat(playerid, params[])
{
	if(IsPlayerConnected(playerid))
	{
		if(IsPlayerInRangeOfPoint(playerid, 3.0, 377.8164,-119.4989,1001.4922) || IsPlayerInRangeOfPoint(playerid, 3.0, 371.5085,-6.9538,1001.8589) || IsPlayerInRangeOfPoint(playerid, 3.0, 377.7664,-68.4227,1001.5151)
		|| IsPlayerInRangeOfPoint(playerid, 3.0, -786.4063,500.0738,1371.7422) || IsPlayerInRangeOfPoint(playerid, 50.0, 315.6270,-142.0954,999.6016) || IsPlayerInRangeOfPoint(playerid, 3.0, BizzInfo[39][bExitX],BizzInfo[39][bExitY],BizzInfo[39][bExitZ]))
		{
			if(GetPlayerCash(playerid) < 100) return SCM(playerid,COLOR_GREY, "Nu ai destui bani.");
		 	new Float:health;
    		GetPlayerHealthEx(playerid,health);
			if(health >= 75)
			{
                SetPlayerHealthEx(playerid, 100);
                ApplyAnimation(playerid,"FOOD","EAT_Burger", 3.0, 0, 0, 0, 0, 0);
                GivePlayerCash(playerid, -100);
                GameTextForPlayer(playerid, "~r~-100$", 5000, 1);
                BizzInfo[16][bProducts]--;
				BizzInfo[16][bBalance] += 100;
				Update(playerid,pCashx);
				SBUpdate(16, sbBalancex);
				SBUpdate(16, sbProductsx);
			}
			else
			{
				SetPlayerHealthEx (playerid, health+25);
				ApplyAnimation(playerid,"FOOD","EAT_Burger", 3.0, 0, 0, 0, 0, 0);
				GivePlayerCash(playerid, -100);
				GameTextForPlayer(playerid, "~r~-100$", 5000, 1);
				BizzInfo[16][bProducts]--;
				BizzInfo[16][bBalance] += 100;
				Update(playerid,pCashx);
				SBUpdate(16, sbBalancex);
				SBUpdate(16, sbProductsx);
			}
		}
		else
		{
			SendClientMessage(playerid, COLOR_YELLOW2, "You're at the place where you can eat.");
			return 1;
		}
	}
	return 1;
}

// OnPlayerCommandText
function OnPlayerCommandReceived(playerid, cmd[], params[], flags)
{
    if(IsPlayerLogged[playerid] == 0) return 0;
    return 1;
}
function OnPlayerCommandPerformed(playerid, cmd[], params[], result, flags)
{
    if(result == -1)
    {
        SendClientMessage(playerid, 0xFFFFFFFF, "SERVER: Unknown command.");
        return 0;
    }
    return 1;
}

function HouseLevel(playerid)
{
	new h = PlayerInfo[playerid][pHouse];
	if(h == 999)
	{
		return 0;
	}
	if(h <= 4)
	{
		return 1;
	}
	if(h >= 5 && h <= 9)
	{
		return 2;
	}
	if(h >= 10 && h <= 18)
	{
		return 3;
	}
	if(h >= 19 && h <= 22)
	{
		return 4;
	}
	if(h >= 23 && h <= 25)
	{
		return 5;
	}
	if(h == 26)
	{
		return 6;
	}
	if(h == 27)
	{
		return 7;
	}
	if(h >= 28 && h <= 31)
	{
		return 7;
	}
	return 0;
}

function CHouseLevel(houseid)
{
	if(houseid <= 4)
	{
		return 3;
	}
	if(houseid >= 29 && houseid <= 30)
	{
		return 4;
	}
	if(houseid >= 5 && houseid <= 9)
	{
		return 5;
	}
	if(houseid >= 10 && houseid <= 18 || houseid == 28)
	{
		return 7;
	}
	if(houseid >= 19 && houseid <= 22)
	{
		return 8;
	}
	if(houseid >= 23 && houseid <= 25)
	{
		return 9;
	}
	if(houseid == 26)
	{
		return 10;
	}
	if(houseid == 27)
	{
		return 11;
	}
	if(houseid >= 28 && houseid <= 31)
	{
		return 12;
	}
	return 0;
}

function ProxDetector(Float:radi, playerid, string[],col1,col2,col3,col4,col5)
{
	if(IsPlayerConnected(playerid))
	{
		new Float:posx, Float:posy, Float:posz;
		new Float:oldposx, Float:oldposy, Float:oldposz;
		new Float:tempposx, Float:tempposy, Float:tempposz;
		GetPlayerPos(playerid, oldposx, oldposy, oldposz);
		foreach(Player,i)
		{
			if(GetPlayerInterior(playerid) == GetPlayerInterior(i) && GetPlayerVirtualWorld(playerid) == GetPlayerVirtualWorld(i))
			{
				if(!BigEar[i])
				{
					GetPlayerPos(i, posx, posy, posz);
					tempposx = (oldposx -posx);
					tempposy = (oldposy -posy);
					tempposz = (oldposz -posz);
					if (((tempposx < radi/16) && (tempposx > -radi/16)) && ((tempposy < radi/16) && (tempposy > -radi/16)) && ((tempposz < radi/16) && (tempposz > -radi/16)))
					{
						SendClientMessage(i, col1, string);
					}
					else if (((tempposx < radi/8) && (tempposx > -radi/8)) && ((tempposy < radi/8) && (tempposy > -radi/8)) && ((tempposz < radi/8) && (tempposz > -radi/8)))
					{
						SendClientMessage(i, col2, string);
					}
					else if (((tempposx < radi/4) && (tempposx > -radi/4)) && ((tempposy < radi/4) && (tempposy > -radi/4)) && ((tempposz < radi/4) && (tempposz > -radi/4)))
					{
						SendClientMessage(i, col3, string);
					}
					else if (((tempposx < radi/2) && (tempposx > -radi/2)) && ((tempposy < radi/2) && (tempposy > -radi/2)) && ((tempposz < radi/2) && (tempposz > -radi/2)))
					{
						SendClientMessage(i, col4, string);
					}
					else if (((tempposx < radi) && (tempposx > -radi)) && ((tempposy < radi) && (tempposy > -radi)) && ((tempposz < radi) && (tempposz > -radi)))
					{
						SendClientMessage(i, col5, string);
					}
				}
				else
				{
					SendClientMessage(i, col1, string);
				}
			}
		}
	}
	return 1;
}

function CrimInRange(Float:radi, playerid,copid)
{
	if(IsPlayerConnected(playerid)&&IsPlayerConnected(copid))
	{
		new Float:posx, Float:posy, Float:posz;
		new Float:oldposx, Float:oldposy, Float:oldposz;
		new Float:tempposx, Float:tempposy;
		GetPlayerPos(playerid, oldposx, oldposy, oldposz);
		GetPlayerPos(copid, posx, posy, posz);
		tempposx = (oldposx -posx);
		tempposy = (oldposy -posy);
		if (((tempposx < radi) && (tempposx > -radi)) && ((tempposy < radi) && (tempposy > -radi)))
		{
			return 1;
		}
	}
	return 0;
}

function ProxDetectorS(Float:radi, playerid, targetid)
{
    if(IsPlayerConnected(playerid)&&IsPlayerConnected(targetid))
	{
		new Float:posx, Float:posy, Float:posz;
		new Float:oldposx, Float:oldposy, Float:oldposz;
		new Float:tempposx, Float:tempposy, Float:tempposz;
		GetPlayerPos(playerid, oldposx, oldposy, oldposz);
		GetPlayerPos(targetid, posx, posy, posz);
		tempposx = (oldposx -posx);
		tempposy = (oldposy -posy);
		tempposz = (oldposz -posz);
		if (((tempposx < radi) && (tempposx > -radi)) && ((tempposy < radi) && (tempposy > -radi)) && ((tempposz < radi) && (tempposz > -radi)))
		{
			return 1;
		}
	}
	return 0;
}

function PlayerToPoint(Float:radi, playerid, Float:x, Float:y, Float:z)
{
    if(IsPlayerConnected(playerid))
	{
		new Float:oldposx, Float:oldposy, Float:oldposz;
		new Float:tempposx, Float:tempposy, Float:tempposz;
		GetPlayerPos(playerid, oldposx, oldposy, oldposz);
		tempposx = (oldposx -x);
		tempposy = (oldposy -y);
		tempposz = (oldposz -z);
		if (((tempposx < radi) && (tempposx > -radi)) && ((tempposy < radi) && (tempposy > -radi)) && ((tempposz < radi) && (tempposz > -radi)))
		{
			return 1;
		}
	}
	return 0;
}

function CustomPickups()
{
	new Float:oldposx, Float:oldposy, Float:oldposz;
	new string[564];
	foreach(Player,i)
	{
		GetPlayerPos(i, oldposx, oldposy, oldposz);
	    if(Radaron[i] == 1)
	    {
	        foreach(Player, o)
 			{
 			    if(IsPlayerInRangeOfPoint(o, 30.0, oldposx, oldposy, oldposz) && GetPlayerState(o) == PLAYER_STATE_DRIVER && OnDuty[o] == 0)
			    {
					new viteza = Carspeed(o);
				    if(viteza > Radarlimit[i])
			        {
				        new nameradar[25],nameradar1[25];
				        GetPlayerName(o,nameradar,sizeof(nameradar));
				        GetPlayerName(i,nameradar1,sizeof(nameradar1));
				        format(string, sizeof(string), "{f03337}%s[ID:%d] is driving with %d km/h, Locatie: %s, Radar Limit: %d km/h!", nameradar,o,viteza,GetPlayerArea(o),Radarlimit[i]);
						SCM(i,COLOR_WHITE,string);
						format(string, sizeof(string), "{f03337}You were caught by %s radar with %d km/h, Radar Limit: %d km/h.",nameradar1,viteza,Radarlimit[i]);
    					SCM(o,COLOR_WHITE,string);
    					return 1;
					}
				}
			}
		}
	}
	return 1;
}

stock Carspeed(playerid,mode = 1)
{
    new Float:Velocity [3];
    GetVehicleVelocity ( GetPlayerVehicleID ( playerid ) , Velocity [ 0 ] , Velocity [ 1 ] , Velocity [ 2 ] ) ;
    return IsPlayerInAnyVehicle ( playerid ) ? floatround ( ( ( floatsqroot ( ( ( Velocity [ 0 ] * Velocity [ 0 ] ) + ( Velocity [ 1 ] * Velocity [ 1 ] ) + ( Velocity [ 2 ] * Velocity [ 2 ] ) ) ) * ( !mode ? 105.0 : 170.0 ) ) ) * 1 ) : 0;
}

stock stringContainsIP(string[])
{
    new
        dotCount
    ;
    for(new i; string[i] != EOS; ++i)
    {
        if(('0' <= string[i] <= '9') || string[i] == '.' || string[i] == ':')
        {
            if((string[i] == '.') && (string[i + 1] != '.') && ('0' <= string[i - 1] <= '9'))
            {
                ++dotCount;
            }
            continue;
        }
    }
    return (dotCount > 2);
}


AntiFlood_Check( playerid, bool:inc=true )
{
	AntiFlood_Data[playerid][floodRate] += inc ? RATE_INC : 0;
	AntiFlood_Data[playerid][floodRate] = AntiFlood_Data[playerid][floodRate] - ( GetTickCount() - AntiFlood_Data[playerid][lastCheck] );
	AntiFlood_Data[playerid][lastCheck] = GetTickCount();
	AntiFlood_Data[playerid][floodRate] = AntiFlood_Data[playerid][floodRate] < 0 ? 0 : AntiFlood_Data[playerid][floodRate];

	if ( AntiFlood_Data[playerid][floodRate] >= RATE_MAX )
	{
		#if THRESOLD_ACTION == 1
			SendClientMessage(playerid,COLOR_LIGHTRED,"Kick: You got kicked because you did spam.");
			Kick(playerid);
		#elseif THRESOLD_ACTION == 2
			SendClientMessage(playerid,COLOR_LIGHTRED,"Kick: You got kicked because you did spam.");
			Kick(playerid);
		#else
			SendClientMessage(playerid, COLOR_LIGHTRED, "Please stop spam." );
		#endif

		return false;
	}

	return true;
}

AntiFlood_InitPlayer( playerid )
{
	AntiFlood_Data[playerid][lastCheck] = GetTickCount();
	AntiFlood_Data[playerid][floodRate] = 0;
}

function OnPlayerText(playerid, text[])
{
	if(IsPlayerLogged[playerid] == 0) return 0;
	SpamCheck2[playerid] = GetTickCount();

	new sendername[MAX_PLAYER_NAME];
	new tmp[256];
	new string[256];
    if(PlayerInfo[playerid][pMuted] == 1)
    {
	    format(string, sizeof(string), "Nu poti scrie pe chat sau folosi comenzi deoarece ai mute timp de %d secunde.",PlayerInfo[playerid][pMuteTime]);
	    SendClientMessage(playerid, COLOR_LIGHTRED, string);
		return 0;
	}
	assert(AntiFlood_Check(playerid));
	if(TalkingLive[playerid] != 255)
	{
		GetPlayerName(playerid, sendername, sizeof(sendername));
		if(PlayerInfo[playerid][pLeader] == 9 || PlayerInfo[playerid][pMember] == 9)
		{
		    format(string, sizeof(string), "Reporter %s: %s", sendername, text);
			OOCNews(COLOR_LIGHTGREEN, string);
		}
		else
		{
		    format(string, sizeof(string), "Jucator %s: %s", sendername, text);
			OOCNews(COLOR_LIGHTGREEN, string);
		}
		return 0;
	}
	if(Mobile[playerid] != 255)
	{
		new idx;
		tmp = strtok(text, idx);
		GetPlayerName(playerid, sendername, sizeof(sendername));
		format(string, sizeof(string), "%s spune (telefon): %s", sendername, text);
		ProxDetector(20.0, playerid, string,COLOR_FADE1,COLOR_FADE2,COLOR_FADE3,COLOR_FADE4,COLOR_FADE5);
		if(IsPlayerConnected(Mobile[playerid]))
		{
		    if(Mobile[Mobile[playerid]] == playerid)
		    {
				if(PlayerInfo[Mobile[playerid]][pSpeaker] == 1)
				{
					ProxDetector(20.0, Mobile[playerid], string,COLOR_FADE1,COLOR_FADE2,COLOR_FADE3,COLOR_FADE4,COLOR_FADE5);
				}
				else
				{
				    SendClientMessage(Mobile[playerid], COLOR_YELLOW,string);
				}
			}
		}
		else
		{
			SendClientMessage(playerid, COLOR_YELLOW,"Nu este nimeni.");
		}
		return 0;
	}
	if (realchat)
	{
	    if(IsPlayerLogged[playerid] == 0)
	    {
	        return 0;
      	}
		GetPlayerName(playerid, sendername, sizeof(sendername));
		format(string, sizeof(string), "{%s}%s: {FFFFFF}%s", serverColors(PlayerInfo[playerid][pColor]), sendername, text);
 		ProxDetector(20.0, playerid,string,COLOR_FADE1,COLOR_FADE2,COLOR_FADE3,COLOR_FADE4,COLOR_FADE5);
		return 0;
	}
	return 1;
}

function FixHour(hour)
{
	hour = timeshift+hour;
	if (hour < 0)
	{
		hour = hour+24;
	}
	else if (hour > 23)
	{
		hour = hour-24;
	}
	shifthour = hour;
	return 1;
}

function UnFreezeStation(playerid)
{
	TogglePlayerControllable(playerid, 1);
	return 1;
}
function lvpdgateclose1()
{
    MoveObject(gatelvpd1,2293.84033, 2497.78271, 4.93679 , 2);
    return 1;
}
function lvpdgateclose2()
{
    MoveObject(gatelvpd2,2335.0828, 2443.7883, 7.3261 , 2);
    return 1;
}
function lspdgateclose()
{
    MoveObject(gatelspd, 1588.6552, -1637.9025, 15.0358, 1.5);
    return 1;
}
function fbigateclose()
{
    MoveObject(gatefbi, -1770.25696, 985.41028, 25.11872, 1.5);
    return 1;
}
function sfpdgateclose()
{
    MoveObject(gatesfpd1,  -1636.1808, 688.4628, 8.4412, 1.5);
    MoveObject(gatesfpd2,  -1624.6464, 688.4363, 8.4412, 1.5);
    return 1;
}
function area51gateclose1()
{
    MoveObject(area51gate1,  285.8540, 1822.7990, 19.0568, 1.5);
    return 1;
}
function area51gateclose2()
{
    MoveObject(area51gate2,  134.57402, 1941.25146, 20.59156, 1.5);
    return 1;
}
function nggateclose()
{
    MoveObject(gateng, 135.2833, 1941.3331, 21.6932, 1.5);
    return 1;
}

function lspdbarclose()
{
    MoveObject(lspdbar, 1544.7007, -1630.7527, 13.2983, 1.5,0.0000, 90.0200, 90.0000);
    return 1;
}

stock strvalEx( const string[] )
{
   if( strlen( string ) >= 50 ) return 0;
   return strval(string);
}

function UnsetAfterTutorial(playerid)
{
	if(IsPlayerConnected(playerid))
	{
        AfterTutorial[playerid] = 0;
	}
	return 1;
}


function OnVehicleDeath(vehicleid)
{
 	new engine,lights,alarm,doors,bonnet,boot,objective;
 	vehEngine[vehicleid] = 0;
	GetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,bonnet,boot,objective);
 	if(IsABike(vehicleid)) SetVehicleParamsEx(vehicleid,VEHICLE_PARAMS_OFF,lights,alarm,doors,bonnet,boot,objective);
 	if(Destroycar == 1)
 	{
		if(Carspawn[vehicleid] != 0)
		{
			DestroyVehicle(Carspawn[vehicleid]);
			Carspawn[vehicleid] = 0;
		}
	}
	StopAudioStreamForPlayersInCar(vehicleid);
 	return 1;
}

function Float:GetDistance(playerid, Float:x, Float:y)
{
	new Float:x2, Float:y2, Float:z2;
	GetPlayerPos(playerid, x2, y2, z2);
	x = x - x2;
	y = y - y2;
	return floatsqroot(x*x+y*y);
}

stock TempBanCheck(playerid)
{
	new str[128];
	new year, month, day;
	getdate(year, month, day);
    if(PlayerInfo[playerid][pBTemp] == 1)
    {
    	if (!(year >= PlayerInfo[playerid][pBYear] && month >= PlayerInfo[playerid][pBMonth] && day >= PlayerInfo[playerid][pBDay]))
    	{
    	    format(str, sizeof str, "Esti banat temporar de %s, expira pe %d.%d.%d, motiv: ",PlayerInfo[playerid][pBBy],PlayerInfo[playerid][pBDay], PlayerInfo[playerid][pBMonth], PlayerInfo[playerid][pBYear],PlayerInfo[playerid][pBReason]);
    	    SendClientMessage(playerid, COLOR_SYN2, str);
    	    return KickEx(playerid);
    	}
    	else
    	{
			PlayerInfo[playerid][pBTemp] = 0;
			PlayerInfo[playerid][pBYear] = 0;
			PlayerInfo[playerid][pBMonth] = 0;
			PlayerInfo[playerid][pBDay] = 0;
			Update(playerid,pBTempx);
			Update(playerid,pBYearx);
			Update(playerid,pBMonthx);
			Update(playerid,pBDayx);
    	}
	}
	return true;
}

stock IsMonth31(month)
{
 	switch (month)
	{
	    case 1: return 1;
	    case 3: return 1;
	    case 5: return 1;
	    case 7: return 1;
	    case 8: return 1;
	    case 10: return 1;
	    case 12: return 1;
	    default: return 0;
	}
	return 0;
}

stock IsMonth29(year)
{
 	new y = 2000;
 	for(new i = 4; i < 3000; i += 4) if ((y+i) == year) return 1;
 	return 0;
}

stock strtok2(const string[], &idx)
{
    new length = strlen(string);
	while ((idx < length) && (string[idx] <= ' '))
	{
		idx++;
	}
	new offset = idx;
	new result[128];
	while ((idx < length) && ((idx - offset) < (sizeof(result) - 1)))
	{
		result[idx - offset] = string[idx];
		idx++;
	}
	result[idx - offset] = EOS;
	return result;
}
// OnDialogResponse
function OnDialogResponse(playerid, dialogid, response, listitem, inputtext[])
{
	if(strlen(inputtext) != 1) {
		if(strfind(inputtext, "%", true) != -1) return SCM(playerid, COLOR_WARNING, "Nu este permis sa folosesti acest caracter!");
		if(strfind(inputtext, "", true) != -1) return SCM(playerid, COLOR_WARNING, "Nu este permis sa folosesti acest caracter!");
    }
	new query[256],vehicleid = GetPlayerVehicleID(playerid),sendername[25],string[1024],dialog[2000];

	switch(dialogid) {
	    case DIALOG_TRADE: {
			if(!response) return 1;
			if(TradeReady[playerid] == 1 || TradeID[playerid] == -1) return 1;
			switch(listitem) {
				case 0: {
					if(GetPVarInt(playerid, "MoneyTrade") != 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Ai pus deja o suma de bani!");
					ShowPlayerDialog(playerid, DIALOG_TRADE+1, DIALOG_STYLE_INPUT, "Trade money", "Pune mai jos suma de bani pe care o doresti sa o pui!", "Ok", "Back");
				}
				case 1: {
					if(GetPVarInt(playerid, "HouseTrade") != 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Ai pus deja casa!");
					if(PlayerInfo[playerid][pHouse] != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0) { }
					else return SCM(playerid, COLOR_WHITE, "Ai deja o casa.");
					AddTradeItem(playerid, 1, 0);
				}
				case 2: {
					if(GetPVarInt(playerid, "BusinessTrade") != 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Ai pus deja afacerea!");
					if(PlayerInfo[playerid][pBizz] == 255) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu ai o afacere!");
					AddTradeItem(playerid, 2, 0);
				}
				case 3: {
					if(GetPVarInt(playerid, "CarTrade") != -1) return SCM(playerid, COLOR_LGREEN, "Eroare: Ai pus deja un vehicul!");
					if(GetVehicles(playerid) == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu ai un vehicul personal!");
					new szDialog[500];
					for(new i = 0; i < 10; i++) {
						if(PlayerInfo[playerid][pCarKey][i] != 0) {
							format(string, sizeof(string), "%s\n", aVehicleNames[CarInfo[PlayerInfo[playerid][pCarKey][i]][cModel]-400]);
							strcat(szDialog, string);
						}
						else strcat(szDialog, "{FFD857}<slot liber>{FFFFFF}\n");
					}
					ShowPlayerDialog(playerid, DIALOG_TRADE+2, DIALOG_STYLE_LIST, "Trade vehicle", szDialog, "Ok", "Back");
				}
			}
		}
		case DIALOG_TRADE+1: {
			if(!response) return ShowPlayerDialog(playerid, DIALOG_TRADE, DIALOG_STYLE_LIST, "Trade", "Money\nHouse\nBusiness\nVehicle", "Ok", "Cancel");
			if(strval(inputtext) < 1) return SCM(playerid, COLOR_GREY, "Suma invalida!");
			if(GetPlayerCash(playerid) < strval(inputtext)) return SCM(playerid, COLOR_GREY, "Suma invalida!");
			AddTradeItem(playerid, 0, strval(inputtext));
		}
		case DIALOG_TRADE+2: {
			if(!response) return ShowPlayerDialog(playerid, DIALOG_TRADE, DIALOG_STYLE_LIST, "Trade", "Money\nHouse\nBusiness\nVehicle", "Ok", "Cancel");
			if(PlayerInfo[playerid][pCarKey][listitem] == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Nu ai un vehicul personal pe acest slot!");
			if(CarInfo[PlayerInfo[playerid][pCarKey][listitem]][Spawned] == 0)  return SCM(playerid, COLOR_LGREEN, "Eroare: Acel vehicul nu este spawnat!");
			AddTradeItem(playerid, 3, listitem);
		}
		case DIALOG_VOTE: {
			if(!response) return 1;
			MapVotes[PaintType[playerid]-1][listitem] ++;
			Voted[playerid] = 1;
			format(string, sizeof(string), "%s a votat pentru mapa %s.", GetName(playerid), MapName2(listitem));
			SendPaintMessage(PaintType[playerid], COLOR_CLIENT, string);
		}
		case DIALOG_EDITFACTION: {
			new szName[256],szDialog[1000];
		    format(szName,256,"%s - (%d)",NumeFactiune(FactionSel[playerid]),FactionSel[playerid]);
			if(!response) return 1;
			switch(listitem) {
				case 0: {
					format(szDialog,1000,"Faction Name: {%s}%s{FFFFFF}\nFaction Leader: %s\nEdit Faction Name\nEdit Faction Color\nEdit Faction MOTD\nMove Faction Entrance\nMove Faction Interior\nEdit Max Members\nEdit Minim Level",DynamicFactions[FactionSel[playerid]][fFactionColor],NumeFactiune(FactionSel[playerid]),GetFactionLeader(FactionSel[playerid]));
					ShowPlayerDialog(playerid,DIALOG_EDITFACTION,DIALOG_STYLE_LIST,szName,szDialog,"Select","Close");
				}
				case 1: {
					format(szDialog,1000,"Faction Name: {%s}%s{FFFFFF}\nFaction Leader: %s\nEdit Faction Name\nEdit Faction Color\nEdit Faction MOTD\nMove Faction Entrance\nMove Faction Interior\nEdit Max Members\nEdit Minim Level",DynamicFactions[FactionSel[playerid]][fFactionColor],NumeFactiune(FactionSel[playerid]),GetFactionLeader(FactionSel[playerid]));
					ShowPlayerDialog(playerid,DIALOG_EDITFACTION,DIALOG_STYLE_LIST,szName,szDialog,"Select","Close");
				}
				case 2: {
					format(szDialog,1000,"Change Faction Name:\n\nEsti pe cale sa schimbi numele factiunii %s (%d)\nEsti sigur?\nScrie aici noul nume:",NumeFactiune(FactionSel[playerid]),FactionSel[playerid]);
					ShowPlayerDialog(playerid,DIALOG_FNAME,DIALOG_STYLE_INPUT,szName,szDialog,"Confirm","Close");
				}
				case 3: {
					format(szDialog,1000,"Change Faction Color:\n\nEsti pe cale sa schimbi culoarea factiunii %s (%d)\nCuloarea curenta este %s\nEsti sigur?\nScrie aici noua culoare:",NumeFactiune(FactionSel[playerid]),FactionSel[playerid],DynamicFactions[FactionSel[playerid]][fFactionColor]);
					ShowPlayerDialog(playerid,DIALOG_FCOLOR,DIALOG_STYLE_INPUT,szName,szDialog,"Confirm","Close");
				}
				case 4: {
				    format(szDialog,1000,"Change Faction MOTD:\n\nEsti pe cale sa schimbi motto-ul factiunii %s (%d)\nEsti sigur?\nScrie aici noul MOTD:",NumeFactiune(FactionSel[playerid]),FactionSel[playerid]);
					ShowPlayerDialog(playerid,DIALOG_FMOTD,DIALOG_STYLE_INPUT,szName,szDialog,"Confirm","Close");
				}
				case 5: {
					format(szDialog,1000,"Esti pe care sa schimbi pozitiile de intrare pentru HQ-ul factiunii %s (%d)\nHQ-ul v-a fi mutat in pozitia ta curenta\nVa fi necesar un restart dupa aceasta actiune",NumeFactiune(FactionSel[playerid]),FactionSel[playerid]);
					ShowPlayerDialog(playerid,DIALOG_FMOVE,DIALOG_STYLE_MSGBOX,szName,szDialog,"Confirm","Close");
				}
				case 6: {
				    format(szDialog,1000,"Esti pe care sa schimbi pozitiile de interior pentru HQ-ul factiunii %s (%d)\nInteriorul v-a fi mutat in pozitia ta curenta\nVa fi necesar un restart dupa aceasta actiune\nScrie Lumea Virtuala mai jos:",NumeFactiune(FactionSel[playerid]),FactionSel[playerid]);
					ShowPlayerDialog(playerid,DIALOG_FMOVE+1,DIALOG_STYLE_INPUT,szName,szDialog,"Confirm","Close");
				}
				case 7: {
				    format(szDialog,1000,"Esti pe care sa schimbi numarul maxim de membrii al factiunii %s (%d)\nNumarul curent este %d\nScrie mai jos noul numar maxim:",NumeFactiune(FactionSel[playerid]),FactionSel[playerid],DynamicFactions[FactionSel[playerid]][fMaxMembers]);
					ShowPlayerDialog(playerid,DIALOG_FMEMBERS,DIALOG_STYLE_INPUT,szName,szDialog,"Confirm","Close");
				}
				case 8: {
				    format(szDialog,1000,"Esti pe care sa schimbi nivelul minim de recrutare al factiunii %s (%d)\nNivelul curent este %d\nScrie mai jos noul nivel minim:",NumeFactiune(FactionSel[playerid]),FactionSel[playerid],DynamicFactions[FactionSel[playerid]][fMinimLevel]);
					ShowPlayerDialog(playerid,DIALOG_FLEVEL,DIALOG_STYLE_INPUT,szName,szDialog,"Confirm","Close");
				}
			}
		}
		case DIALOG_FMEMBERS: {
			if(!response) return 1;
			if(!IsNumeric(inputtext)) return ShowPlayerDialog(playerid,DIALOG_FMEMBERS,DIALOG_STYLE_INPUT,"Error:","Numarul maxim de membrii trebuie sa fie exprimat in cifre.","Confirm","Close");
            if(strval(inputtext) < 5 || strval(inputtext) > 50) return ShowPlayerDialog(playerid,DIALOG_FMEMBERS,DIALOG_STYLE_INPUT,"Error:","Numarul este invalid(5-50).","Confirm","Close");
            DynamicFactions[FactionSel[playerid]][fMaxMembers] = strval(inputtext);
			mysql_format(SQL,query,sizeof(query),"UPDATE factions SET MaxMembers='%d' WHERE ID='%d'",strval(inputtext),FactionSel[playerid]);
			mysql_tquery(SQL,query,"","");
			format(string,sizeof(string),"AdmCmd: %s a setat numarul maxim de membrii al factiunii %s in %d.",GetName(playerid),NumeFactiune(FactionSel[playerid]),strval(inputtext));
			SendAdminMessage(COLOR_LOGS,string,1);
			format(string,sizeof(string),"Adminul %s a modificat numarul maxim de membrii in %d.",GetName(playerid),strval(inputtext));
			SendFactionMessage(FactionSel[playerid],COLOR_YELLOW,string);
			FactionSel[playerid] = 0;
		}
		case DIALOG_FLEVEL: {
			if(!response) return 1;
			if(!IsNumeric(inputtext)) return ShowPlayerDialog(playerid,DIALOG_FLEVEL,DIALOG_STYLE_INPUT,"Error:","Nivelul minim trebuie sa fie exprimat in cifre.","Confirm","Close");
            if(strval(inputtext) < 5 || strval(inputtext) > 30) return ShowPlayerDialog(playerid,DIALOG_FLEVEL,DIALOG_STYLE_INPUT,"Error:","Numarul este invalid(5-30).","Confirm","Close");
            DynamicFactions[FactionSel[playerid]][fMinimLevel] = strval(inputtext);
			mysql_format(SQL,query,sizeof(query),"UPDATE factions SET MinimLevel='%d' WHERE ID='%d'",strval(inputtext),FactionSel[playerid]);
			mysql_tquery(SQL,query,"","");
			format(string,sizeof(string),"AdmCmd: %s a setat nivelul minim de recrutare al factiunii %s in %d.",GetName(playerid),NumeFactiune(FactionSel[playerid]),strval(inputtext));
			SendAdminMessage(COLOR_LOGS,string,1);
			format(string,sizeof(string),"Adminul %s a modificat nivelul minim de recrutare in %d.",GetName(playerid),strval(inputtext));
			SendFactionMessage(FactionSel[playerid],COLOR_YELLOW,string);
			FactionSel[playerid] = 0;
		}
		case DIALOG_FMOVE+1: {
			if(!response) return 1;
			if(!IsNumeric(inputtext)) return ShowPlayerDialog(playerid,DIALOG_FMOVE+1,DIALOG_STYLE_INPUT,"Error:","Lumea virtuala trebuie sa fie exprimata in cifre.","Confirm","Close");
			if(strlen(inputtext) < 1 || strlen(inputtext) > 10) return ShowPlayerDialog(playerid,DIALOG_FMOVE+1,DIALOG_STYLE_INPUT,"Error:","Invalid Virtual World.","Confirm","Close");
			new Float:Pos[3];
			GetPlayerPos(playerid,Pos[0],Pos[1],Pos[2]);
			DynamicFactions[FactionSel[playerid]][fcX] = Pos[0];
			DynamicFactions[FactionSel[playerid]][fcY] = Pos[1];
			DynamicFactions[FactionSel[playerid]][fcZ] = Pos[2];
			DynamicFactions[FactionSel[playerid]][fVW] = strval(inputtext);
			DynamicFactions[FactionSel[playerid]][fInterior] = GetPlayerInterior(playerid);
			mysql_format(SQL,query,sizeof(query),"UPDATE factions SET IntX='%f', IntY='%f', IntZ='%f', VW='%d', Interior='%d' WHERE ID='%d'",Pos[0],Pos[1],Pos[2],strval(inputtext),GetPlayerInterior(playerid),FactionSel[playerid]);
			mysql_tquery(SQL,query,"","");
			format(string,sizeof(string),"AdmCmd: %s a mutat interiorul HQ-ului factiunii %s.",GetName(playerid), NumeFactiune(FactionSel[playerid]));
			SendAdminMessage(COLOR_LOGS,string,1);
			FactionSel[playerid] = 0;
		}
		case DIALOG_FMOVE: {
			if(!response) return 1;
			new Float:Pos[3];
			GetPlayerPos(playerid,Pos[0],Pos[1],Pos[2]);
			DynamicFactions[FactionSel[playerid]][extX] = Pos[0];
			DynamicFactions[FactionSel[playerid]][extY] = Pos[1];
			DynamicFactions[FactionSel[playerid]][extZ] = Pos[2];
			mysql_format(SQL,query,sizeof(query),"UPDATE factions SET X='%f', Y='%f', Z='%f' WHERE ID='%d'",Pos[0],Pos[1],Pos[2],FactionSel[playerid]);
			mysql_tquery(SQL, query, "", "");
			format(string,sizeof(string),"AdmCmd: %s a mutat HQ-ul factiunii %s.",GetName(playerid),NumeFactiune(FactionSel[playerid]));
			SendAdminMessage(COLOR_LOGS,string,1);
			FactionSel[playerid] = 0;
		}
		case DIALOG_FCOLOR: {
			if(!response) return 1;
			if(strlen(inputtext) != 6) return ShowPlayerDialog(playerid,DIALOG_FCOLOR,DIALOG_STYLE_INPUT,"Error:","Culoarea introdusa este incorecta\nHint: www.colorpicker.com","Confirm","Close");
			format(DynamicFactions[FactionSel[playerid]][fFactionColor],256,inputtext);
			mysql_format(SQL,query,256,"UPDATE factions SET FactionColor='%s' WHERE ID='%d'",inputtext,FactionSel[playerid]);
			mysql_tquery(SQL, query, "", "");
			format(string,sizeof(string),"AdmCmd: %s a schimbat culoarea factiunii %s (%d) in %s.",GetName(playerid),NumeFactiune(FactionSel[playerid]),FactionSel[playerid],inputtext);
			SendAdminMessage(COLOR_LOGS,string,1);
			format(string,sizeof(string),"Adminul %s a schimbat culoarea factiunii in {%s}%s.",GetName(playerid),strval(inputtext),strval(inputtext));
			SendFactionMessage(FactionSel[playerid],COLOR_YELLOW,string);
			FactionSel[playerid] = 0;
		}
		case DIALOG_FMOTD: {
			if(!response) return 1;
			if(strlen(inputtext) < 1 || strlen(inputtext) > 40) return ShowPlayerDialog(playerid,DIALOG_FMOTD,DIALOG_STYLE_INPUT,"Error:","Motto-ul factiunii nu trebuie sa depaseasca 40 caractere","Confirm","Close");
            strmid(DynamicFactions[FactionSel[playerid]][fAnn], inputtext, 0, strlen(inputtext), 255);
            format(string,sizeof(string),"AdmCmd: %s a schimbat motto-ul factiunii %s (%d).",GetName(playerid),NumeFactiune(FactionSel[playerid]),FactionSel[playerid]);
            SendAdminMessage(COLOR_LOGS,string,1);
            format(string,sizeof(string), "Mesajul Factiunii: %s",DynamicFactions[FactionSel[playerid]][fAnn]);
            SendFactionMessage(FactionSel[playerid],COLOR_YELLOW,string);
            FactionSel[playerid] = 0;
		}
		case DIALOG_FNAME: {
		    new name[200];
			if(!response) return 1;
			if(strlen(inputtext) < 1 || strlen(inputtext) > 40) return ShowPlayerDialog(playerid,DIALOG_FNAME,DIALOG_STYLE_INPUT,"Name:","Numele factiunii nu trebuie sa depaseasca 40 caractere","Confirm","Close");
			format(name,200,DynamicFactions[FactionSel[playerid]][fName]);
			format(DynamicFactions[FactionSel[playerid]][fName],256,inputtext);
			mysql_format(SQL,query,256,"UPDATE factions SET Name='%s' WHERE ID='%d'",inputtext,FactionSel[playerid]);
			mysql_tquery(SQL, query, "", "");
			format(string,sizeof(string),"AdmCmd: %s a schimbat numele factiunii %s (%d) in %s.",GetName(playerid),name,FactionSel[playerid],NumeFactiune(FactionSel[playerid]));
			SendAdminMessage(COLOR_LOGS,string,1);
			FactionSel[playerid] = 0;
		}
		case DIALOG_FSTOCKC: {
			if(!response) return 1;
			format(DynamicFactions[1][fFactionColor],8,"1E519D"); format(DynamicFactions[2][fFactionColor],8,"1E519D"); format(DynamicFactions[3][fFactionColor],8,"1E519D");
			format(DynamicFactions[4][fFactionColor],8,"33AA33"); format(DynamicFactions[5][fFactionColor],8,"B32CF6"); format(DynamicFactions[6][fFactionColor],8,"2A2A2A");
			format(DynamicFactions[7][fFactionColor],8,"9ACD32"); format(DynamicFactions[8][fFactionColor],8,"F5DEB3"); format(DynamicFactions[9][fFactionColor],8,"C2A2DA");
			format(DynamicFactions[10][fFactionColor],8,"946141"); format(DynamicFactions[11][fFactionColor],8,"AA3333"); format(DynamicFactions[12][fFactionColor],8,"00ff78");
			format(DynamicFactions[13][fFactionColor],8,"FFFF00"); format(DynamicFactions[14][fFactionColor],8,"FF6347"); format(DynamicFactions[15][fFactionColor],8,"1E519D");
			format(DynamicFactions[16][fFactionColor],8,"FFFF00"); format(DynamicFactions[17][fFactionColor],8,"FFFF00"); format(DynamicFactions[18][fFactionColor],8,"00ff78");
			format(DynamicFactions[19][fFactionColor],8,"00ff78"); format(DynamicFactions[20][fFactionColor],8,"D0000F"); format(DynamicFactions[21][fFactionColor],8,"769C98");
			format(DynamicFactions[22][fFactionColor],8,"00FFE4"); format(DynamicFactions[23][fFactionColor],8,"3A460C"); format(DynamicFactions[24][fFactionColor],8,"FF9900");
			format(DynamicFactions[25][fFactionColor],8,"1E519D");
			mysql_tquery(SQL, "UPDATE factions SET FactionColor='1E519D' WHERE `ID`='1'", "", ""); mysql_tquery(SQL, "UPDATE factions SET FactionColor='1E519D' WHERE `ID`='2'", "", "");
			mysql_tquery(SQL, "UPDATE factions SET FactionColor='1E519D' WHERE `ID`='3'", "", ""); mysql_tquery(SQL, "UPDATE factions SET FactionColor='33AA33' WHERE `ID`='4'", "", "");
			mysql_tquery(SQL, "UPDATE factions SET FactionColor='B32CF6' WHERE `ID`='5'", "", ""); mysql_tquery(SQL, "UPDATE factions SET FactionColor='2A2A2A' WHERE `ID`='6'", "", "");
			mysql_tquery(SQL, "UPDATE factions SET FactionColor='9ACD32' WHERE `ID`='7'", "", ""); mysql_tquery(SQL, "UPDATE factions SET FactionColor='F5DEB3' WHERE `ID`='8'", "", "");
			mysql_tquery(SQL, "UPDATE factions SET FactionColor='C2A2DA' WHERE `ID`='9'", "", ""); mysql_tquery(SQL, "UPDATE factions SET FactionColor='946141' WHERE `ID`='10'", "", "");
			mysql_tquery(SQL, "UPDATE factions SET FactionColor='AA3333' WHERE `ID`='11'", "", ""); mysql_tquery(SQL, "UPDATE factions SET FactionColor='00ff78' WHERE `ID`='12'", "", "");
			mysql_tquery(SQL, "UPDATE factions SET FactionColor='FFFF00' WHERE `ID`='13'", "", ""); mysql_tquery(SQL, "UPDATE factions SET FactionColor='FF6347' WHERE `ID`='14'", "", "");
			mysql_tquery(SQL, "UPDATE factions SET FactionColor='1E519D' WHERE `ID`='15'", "", ""); mysql_tquery(SQL, "UPDATE factions SET FactionColor='FFFF00' WHERE `ID`='16'", "", "");
			mysql_tquery(SQL, "UPDATE factions SET FactionColor='FFFF00' WHERE `ID`='17'", "", ""); mysql_tquery(SQL, "UPDATE factions SET FactionColor='00ff78' WHERE `ID`='18'", "", "");
			mysql_tquery(SQL, "UPDATE factions SET FactionColor='00ff78' WHERE `ID`='19'", "", ""); mysql_tquery(SQL, "UPDATE factions SET FactionColor='D0000F' WHERE `ID`='20'", "", "");
			mysql_tquery(SQL, "UPDATE factions SET FactionColor='769C98' WHERE `ID`='21'", "", ""); mysql_tquery(SQL, "UPDATE factions SET FactionColor='00FFE4' WHERE `ID`='22'", "", "");
			mysql_tquery(SQL, "UPDATE factions SET FactionColor='3A460C' WHERE `ID`='23'", "", ""); mysql_tquery(SQL, "UPDATE factions SET FactionColor='FF9900' WHERE `ID`='24'", "", "");
			mysql_tquery(SQL, "UPDATE factions SET FactionColor='1E519D' WHERE `ID`='25'", "", "");
			format(string,sizeof(string),"AdmCmd: %s a resetat culorile tuturor factiunilor.",GetName(playerid));
			SendAdminMessage(COLOR_LOGS,string,1);
		}
		case DIALOG_FCONTROL: {
			if(!response) return 1;
			switch(listitem) {
			    case 0: return 1;
				case 1: ShowPlayerDialog(playerid,DIALOG_FCONTROL+1,DIALOG_STYLE_INPUT,"Set Faction MOTD:","Scrie aici noul MOTD pentru factiunea ta:","Select","Close");
				case 2: {
                    switch(TogFChat[PlayerInfo[playerid][pLeader]]) {
                        case 0: {
							TogFChat[PlayerInfo[playerid][pLeader]] = 1;
							format(string,sizeof(string),"Liderul %s a dezactivat chat-ul factiunii.",GetName(playerid));
							SendTeamMessage(PlayerInfo[playerid][pLeader], COLOR_LIGHTBLUE1, string);
						}
				        case 1: {
							TogFChat[PlayerInfo[playerid][pLeader]] = 0;
							format(string,sizeof(string),"Liderul %s a activat chat-ul factiunii.",GetName(playerid));
							SendTeamMessage(PlayerInfo[playerid][pLeader], COLOR_LIGHTBLUE1, string);
						}
					}
				}
				case 3: {
                    switch(DynamicFactions[PlayerInfo[playerid][pLeader]][fApp]) {
                        case 0: {
                            format(string,sizeof(string),"Liderul %s a deschis aplicatiile factiunii.",GetName(playerid));
							SendTeamMessage(PlayerInfo[playerid][pLeader], COLOR_LIGHTBLUE1, string);
							DynamicFactions[PlayerInfo[playerid][pLeader]][fApp] = 1;
						}
		   				case 1: {
						    format(string,sizeof(string),"Liderul %s a inchis aplicatiile factiunii.",GetName(playerid));
							SendTeamMessage(PlayerInfo[playerid][pLeader], COLOR_LIGHTBLUE1, string);
							DynamicFactions[PlayerInfo[playerid][pLeader]][fApp] = 0;
						}
					}
					format(query, sizeof(query), "UPDATE `factions` SET `App`='%d' WHERE `ID`='%d'", DynamicFactions[PlayerInfo[playerid][pLeader]][fApp], PlayerInfo[playerid][pLeader]);
					mysql_query(SQL, query);
				}
                case 4: {
                    switch(DynamicFactions[PlayerInfo[playerid][pLeader]][fHQStats]) {
						case 0: {
		                    DynamicFactions[PlayerInfo[playerid][pLeader]][fHQStats] = 1;
							SCM(playerid,-1,"Ai descuiat HQ-ul.");
							format(string, sizeof(string), "{%s}F{FFFFFF}action ID: {%s}%d{FFFFFF}\n{%s}F{FFFFFF}action {%s}N{FFFFFF}ame: {%s}%s{FFFFFF}\n{%s}HQ {FFFFFF}Status: {47E000}Unlocked\n{FFFFFF}Apasa pe {%s}Enter{FFFFFF} pentru a intra",
							DynamicFactions[PlayerInfo[playerid][pLeader]][fFactionColor],DynamicFactions[PlayerInfo[playerid][pLeader]][fFactionColor],DynamicFactions[PlayerInfo[playerid][pLeader]][fID],DynamicFactions[PlayerInfo[playerid][pLeader]][fFactionColor],
							DynamicFactions[PlayerInfo[playerid][pLeader]][fFactionColor],DynamicFactions[PlayerInfo[playerid][pLeader]][fFactionColor],DynamicFactions[PlayerInfo[playerid][pLeader]][fName], DynamicFactions[PlayerInfo[playerid][pLeader]][fFactionColor],
							DynamicFactions[PlayerInfo[playerid][pLeader]][fFactionColor]);
							Update3DTextLabelText(FLabel[PlayerInfo[playerid][pLeader]],0xFFFFFFFF,string);
						}
						case 1: {
		                    DynamicFactions[PlayerInfo[playerid][pLeader]][fHQStats] = 0;
							SCM(playerid,-1,"Ai incuiat HQ-ul.");
							format(string, sizeof(string), "{%s}F{FFFFFF}action ID: {%s}%d{FFFFFF}\n{%s}F{FFFFFF}action {%s}N{FFFFFF}ame: {%s}%s{FFFFFF}\n{%s}HQ {FFFFFF}Status: {CC0000}Locked\n{FFFFFF}Apasa pe {%s}Enter{FFFFFF} pentru a intra",
							DynamicFactions[PlayerInfo[playerid][pLeader]][fFactionColor],DynamicFactions[PlayerInfo[playerid][pLeader]][fFactionColor],DynamicFactions[PlayerInfo[playerid][pLeader]][fID],DynamicFactions[PlayerInfo[playerid][pLeader]][fFactionColor],
							DynamicFactions[PlayerInfo[playerid][pLeader]][fFactionColor],DynamicFactions[PlayerInfo[playerid][pLeader]][fFactionColor],DynamicFactions[PlayerInfo[playerid][pLeader]][fName], DynamicFactions[PlayerInfo[playerid][pLeader]][fFactionColor],
							DynamicFactions[PlayerInfo[playerid][pLeader]][fFactionColor]);
							Update3DTextLabelText(FLabel[PlayerInfo[playerid][pLeader]],0xFFFFFFFF,string);
						}
					}
					mysql_format(SQL,query,sizeof(query),"UPDATE factions SET HQStats ='%d' WHERE ID='%d'",DynamicFactions[PlayerInfo[playerid][pLeader]][fHQStats],PlayerInfo[playerid][pLeader]);
					mysql_tquery(SQL,query,"","");
				}
                case 5: ShowRaports(playerid);
				case 6: {
                    new fid = PlayerInfo[playerid][pLeader];
					format(string, sizeof(string), "Rank 1\t%d\nRank 2\t%d\nRank 3\t%d\nRank 4\t%d\nRank 5\t%d\nRank 6\t%d", FactionInfo[fid][fRank1], FactionInfo[fid][fRank2],
					FactionInfo[fid][fRank3], FactionInfo[fid][fRank4], FactionInfo[fid][fRank5], FactionInfo[fid][fRank6]);
				    ShowPlayerDialog(playerid, DIALOG_FACTION, DIALOG_STYLE_TABLIST, "Set Members Raport:", string, "Select", "Iesire");
				}
		        case 7: ShowPlayerDialog(playerid,DIALOG_RRAPORT,DIALOG_STYLE_MSGBOX,"Reset raport:","Esti sigur ca vrei sa resetezi raportul tuturor membrilor?\n\n(!) Atentie, daca abuzezi de asta vei fi sanctionat.","Reset","Close");
			}
		}
		case DIALOG_RRAPORT: {
			if(!response) return 1;
			new fid = PlayerInfo[playerid][pMember];
			foreach(Player,i) {
				if(IsPlayerConnected(i) && PlayerInfo[i][pMember] == fid) PlayerInfo[i][pCommands] = 0;
			}
			mysql_format(SQL,query,sizeof(query),"UPDATE users SET Commands ='0' WHERE Member ='%d'",fid);
			mysql_tquery(SQL,query,"","");
			format(string,sizeof(string),"Liderul %s a resetat raportul tuturor membrilor.",GetName(playerid));
			SendTeamMessage(fid, COLOR_LIGHTBLUE1, string);
		}
		case DIALOG_FCONTROL+1: {
			if(!response) return 1;
		    if(strlen(inputtext) < 1 || strlen(inputtext) > 80) return ShowPlayerDialog(playerid,DIALOG_FCONTROL+1,DIALOG_STYLE_INPUT,"Change faction MOTD","Scrie aici noul MOTD pentru factiunea ta!\n{BF0000}Numarul maxim de caractere este de 80!","Next","Close");
		    strmid(DynamicFactions[PlayerInfo[playerid][pLeader]][fAnn], inputtext, 0, strlen(inputtext), 255);
			format(string,sizeof(string),"Liderul %s a actualizat mesjul factiunii: %s",GetName(playerid),DynamicFactions[PlayerInfo[playerid][pLeader]][fAnn]);
			SendFactionMessage(PlayerInfo[playerid][pLeader], COLOR_YELLOW, string);
		}
		case DIALOG_MODE: {
			if(!response) return 1;
			PaintType[playerid] = listitem+1;
			PKills[playerid] = 0, PDeaths[playerid] = 0;
			format(string, sizeof(string), "%s a intrat in arena da paintball.", GetName(playerid));
			SendPaintMessage(listitem+1, COLOR_YELLOW, string);
			PlayerTextDrawHide(playerid, PaintTD);
			ResetPlayerWeapons(playerid);
			PaintSpawn(playerid);
			if(PlayersOnPaint(listitem) == 2) {	
				PaintTime[listitem] = -1;
				PaintText[listitem] = 60;
			    SendPaintMessage(listitem+1, COLOR_YELLOW, "Runda va incepe peste un minut. Pentru a vota o mapa, folositi comanda /votemap.");
				PaintVote[listitem] = 1;	
				if(PaintTimer[listitem] != 0) KillTimer(PaintTimer[listitem]), PaintTimer[listitem] = 0;
				PaintTimer[listitem] = SetTimerEx("CalculateVote", 60000, 0, "i", listitem);
			}
			else if(PlayersOnPaint(listitem) < 2) SendClientMessage(playerid, COLOR_YELLOW, "Pentru a incepe runda, mai este nevoie de inca un jucator.");
		}
		case DIALOG_BID: {
			if(!response) return 1;
			if(Licitatie == 0) return SendClientMessage(playerid, COLOR_BZYELLOW, "Nu este o licitatie activa!");
			new suma = SelectedMoney[playerid];
			if(GetPlayerCash(playerid) < TotalBani) return SendClientMessage(playerid, COLOR_BZYELLOW, "Nu ai destui bani!");
			if(GetPlayerCash(playerid) < suma) return SendClientMessage(playerid, COLOR_BZYELLOW, "Nu ai destui bani!");
			if(suma < TotalBani+5000 && TotalBani != 0) {
				format(string, sizeof(string), "Suma invalida! Poti licita minim %s$.", FormatNumber(TotalBani+5000));
				SCM(playerid, COLOR_GREY, string);
				return 1;
			}				
			TotalBani = suma;
			TotalMoney[playerid] = suma;
			LastPlayer = playerid;
			if(toglicitatie[playerid] == 0) {
				toglicitatie[playerid] = 1;
				SendClientMessage(playerid, COLOR_YELLOW, "Server-ul ti-a activat automat optiunea de a vedea mesajele de la licitatie.");
				UpdateVar(playerid, "TogLicitatie", 1);
			}
			format(string, sizeof(string), "Auction: Jucatorul %s (%d) a licitat suma de %s$.", GetName(playerid),playerid, FormatNumber(suma));
			MesajLicitatie(COLOR_YELLOW, string);
		}		
		case DIALOG_CHECKPOINT: {
			if(!response) return 1;			
			if(CP[playerid] == 50) return SCM(playerid,COLOR_GREY, "Este checkpoint pentru rob.");
			if(CP[playerid] >= 100 && CP[playerid] <= 119) return SCM(playerid,COLOR_WHITE,"Acest checkpoint nu poate fi sters deoarece este pentru DMV!");
			if(JobWorking[playerid] == 1) return SCM(playerid,COLOR_GREY, "Foloseste /stopwork pentru a nu mai munci!");
			if(CP[playerid] != 0) {
		  		DisablePlayerCheckpoint(playerid);
				SCM(playerid,COLOR_WHITE,"Punctul rosu a fost sters cu succes.");
				CP[playerid] = 0;
				targetfind[playerid] = -1;
			}		
		}
		case DIALOG_GPS: {
			if(!response) return 1;
			if(CP[playerid] != 0) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ. Doresti sa-l anulezi?", "Ok", "Exit");
			new szDialog2[1000];
			SetPVarInt(playerid, "listitem", listitem);
			switch(listitem) {
				case 0: {
					SetPlayerCheckpointEx(playerid, 1602.4291,-2177.7148,13.5547, 5.0);
					CP[playerid] = 53;
					SCM(playerid,COLOR_BZYELLOW, "Serverul ti-a pus un punct rosu la locatia aleasa de tine.");
				}			
				case 1: {
					for(new i = 1; i < 26; i++) {
						format(string, sizeof(string), "HQ %s\n", DynamicFactions[i][fName]);
						strcat(szDialog2, string);
					}
					ShowPlayerDialog(playerid, DIALOG_GPS+1, DIALOG_STYLE_LIST, "HQ-uri Factiuni:", szDialog2, "Select", "Cancel");
				}
				case 2: {
					SetPlayerCheckpointEx(playerid, 327.9443, -1512.6609, 36.1366, 5.0);
			    	CP[playerid] = 53;
			    	SCM(playerid,COLOR_BZYELLOW, "Serverul ti-a pus un punct rosu la locatia aleasa de tine.");
				}
				case 3: {
					ShowPlayerDialog(playerid,DIALOG_FINDHOUSE,DIALOG_STYLE_INPUT,"Find House","Scrie mai jos ID-ul casei pe care doresti s-o gasesti:","Find","Close");
				}
				case 4: {
					ShowPlayerDialog(playerid,DIALOG_FINDBIZZ,DIALOG_STYLE_INPUT,"Find Bizz","Scrie mai jos ID-ul bizz-ului pe care doresti sa-l gasesti:","Find","Close");
				}
			}
		}
		case DIALOG_FINDHOUSE: {
			if(!response) return ShowPlayerDialog(playerid, DIALOG_GPS, DIALOG_STYLE_LIST, "Localizeaza:","DMV\nHQ-uri Factiuni\nDealership\nCase\nBizz-uri", "Select", "Cancel");
			if(!IsNumeric(inputtext)) return ShowPlayerDialog(playerid,DIALOG_FINDHOUSE,DIALOG_STYLE_INPUT,"Find House","Scrie mai jos ID-ul casei pe care doresti s-o gasesti\nID-ul introdus este invalid","Find","Close");
			if(strval(inputtext) < 1 || strval(inputtext) > housess) return ShowPlayerDialog(playerid,DIALOG_FINDHOUSE,DIALOG_STYLE_INPUT,"Find House","Scrie mai jos ID-ul casei pe care doresti s-o gasesti\nID-ul introdus este invalid","Find","Close");
			new hid = strval(inputtext);
			SetPlayerCheckpointEx(playerid, HouseInfo[hid][hEntrancex],HouseInfo[hid][hEntrancey],HouseInfo[hid][hEntrancez], 5.0);
			CP[playerid] = 53;
			format(string,sizeof(string),"Serverul ti-a pus un punct rosu la casa %d. Distanta: %0.2fm", hid, GetPlayerDistanceFromPoint(playerid, HouseInfo[hid][hEntrancex], HouseInfo[hid][hEntrancey], HouseInfo[hid][hEntrancez]));
			SCM(playerid,COLOR_BZYELLOW, string);
		}
		case DIALOG_FINDBIZZ: {
			if(!response) return ShowPlayerDialog(playerid, DIALOG_GPS, DIALOG_STYLE_LIST, "Localizeaza:","DMV\nHQ-uri Factiuni\nDealership\nCase\nBizz-uri", "Select", "Cancel");
			if(!IsNumeric(inputtext)) return ShowPlayerDialog(playerid,DIALOG_FINDBIZZ,DIALOG_STYLE_INPUT,"Find Bizz","Scrie mai jos ID-ul bizz-ului pe care doresti sa-l gasesti\nID-ul introdus este invalid","Find","Close");
			if(strval(inputtext) < 1 || strval(inputtext) > bussines) return ShowPlayerDialog(playerid,DIALOG_FINDBIZZ,DIALOG_STYLE_INPUT,"Find Bizz","Scrie mai jos ID-ul bizz-ului pe care doresti sa-l gasesti\nID-ul introdus este invalid","Find","Close");
			new biz = strval(inputtext);
			SetPlayerCheckpointEx(playerid, BizzInfo[biz][bEntranceX],BizzInfo[biz][bEntranceY],BizzInfo[biz][bEntranceZ], 5.0);
			CP[playerid] = 53;
			format(string,sizeof(string),"Serverul ti-a pus un punct rosu la bizz-ul %d. Distanta: %0.2fm", biz, GetPlayerDistanceFromPoint(playerid, BizzInfo[biz][bEntranceX],BizzInfo[biz][bEntranceY],BizzInfo[biz][bEntranceZ]));
			SCM(playerid,COLOR_BZYELLOW, string);
		}
		case DIALOG_GPS+1: {
			if(!response) return ShowPlayerDialog(playerid, DIALOG_GPS, DIALOG_STYLE_LIST, "Localizeaza:","DMV\nHQ-uri Factiuni\nDealership\nCase\nBizz-uri", "Select", "Cancel");
			if(CP[playerid] != 0) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ. Doresti sa-l anulezi?", "Ok", "Exit");
			new x = listitem+1;
			SetPlayerCheckpointEx(playerid, DynamicFactions[x][extX], DynamicFactions[x][extY], DynamicFactions[x][extZ], 5.0);
			CP[playerid] = 53;
			SCM(playerid,COLOR_BZYELLOW, "Serverul ti-a pus un punct rosu la locatia aleasa de tine.");
		}
		case DIALOG_FISH: {
		    if(!response) return 1;
			GivePlayerCash(playerid, HaveFish[playerid]);			
		    format(string, sizeof(string), "Ai primit $%s!", FormatNumber(HaveFish[playerid]));
		    SendClientMessage(playerid, COLOR_MONEY, string);
			format(string, sizeof(string), "%s a primit $%s pentru munca efectuata la job-ul %s.", GetName(playerid), FormatNumber(HaveFish[playerid]), JobInfo[PlayerInfo[playerid][pJob]][jName]);
			InsertLog(playerid, string, LOG_MONEY);			
		    HaveFish[playerid] = 0;
		    PlayerInfo[playerid][pFishes] = 0;
			PlayerInfo[playerid][pFishSkill] ++;
			Update(playerid, pFishSkillx);		
			if(PlayerInfo[playerid][pFishSkill] == 50)
			{ SendClientMessage(playerid, COLOR_YELLOW, "* Skillul tau la jobul Pescar, este acum 2."); }
			else if(PlayerInfo[playerid][pFishSkill] == 100)
			{ SendClientMessage(playerid, COLOR_YELLOW, "* Skillul tau la jobul Pescar, este acum 3."); }
			else if(PlayerInfo[playerid][pFishSkill] == 200)
			{ SendClientMessage(playerid, COLOR_YELLOW, "* Skillul tau la jobul Pescar, este acum 4."); }
			else if(PlayerInfo[playerid][pFishSkill] == 400)
			{ SendClientMessage(playerid, COLOR_YELLOW, "* Skillul tau la jobul Pescar, este acum 5."); }
			if(togjob[playerid] == 0) JobProgress(playerid);
			if(GetPlayerSkill(playerid) == 6) finishAchievement(playerid, 0);	
			if(PlayerInfo[playerid][pMember] == 0) {
				for(new m; m < 2; m++) {
					if(PlayerInfo[playerid][pDailyMission][m] == 15 || PlayerInfo[playerid][pDailyMission][m] == 16) CheckMission(playerid, m);
				}					
			}
			for(new m; m < 2; m++) {
				if(PlayerInfo[playerid][pDailyMission][m] == 2) CheckMission(playerid, m);
			}	
		}					
		case DIALOG_HUD: {
			if(!response) return 1;
			SelectedHud[playerid] = listitem;
			if(listitem == 4 && PlayerInfo[playerid][pMember] == 0) return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte dintr-o factiune.");
			switch(listitem) {
				case 0: ShowPlayerDialog(playerid,DIALOG_HUDSELECT,DIALOG_STYLE_LIST,"Optiuni HUD: Viata","{FF9E9E}Dezactiveaza\n{B8BFC2}Gri\n{FF0000}Rosu\n{00FF2F}Verde\n{0022FF}Albastru\n{FFFB00}Galben\n{8000FF}Mov","Ok","Inapoi");
				case 1: ShowPlayerDialog(playerid,DIALOG_HUDSELECT,DIALOG_STYLE_LIST,"Optiuni HUD: Armura","{FF9E9E}Dezactiveaza\n{B8BFC2}Gri\n{FF0000}Rosu\n{00FF2F}Verde\n{0022FF}Albastru\n{FFFB00}Galben\n{8000FF}Mov","Ok","Inapoi"); 
				case 2: ShowPlayerDialog(playerid,DIALOG_HUDSELECT,DIALOG_STYLE_LIST,"Optiuni HUD: FPS","{FF9E9E}Dezactiveaza\n{C8FF9E}Activeaza","Ok","Inapoi"); 						
				case 3: ShowPlayerDialog(playerid,DIALOG_HUDSELECT,DIALOG_STYLE_LIST,"Optiuni HUD: Progres level","{FF9E9E}Dezactiveaza\n{B8BFC2}Gri\n{FF0000}Rosu\n{00FF2F}Verde\n{0022FF}Albastru\n{FFFB00}Galben\n{8000FF}Mov","Ok","Inapoi"); 
				case 4: ShowPlayerDialog(playerid,DIALOG_HUDSELECT,DIALOG_STYLE_LIST,"Optiuni HUD: Progres raport","{FF9E9E}Dezactiveaza\n{B8BFC2}Gri\n{FF0000}Rosu\n{00FF2F}Verde\n{0022FF}Albastru\n{FFFB00}Galben\n{8000FF}Mov","Ok","Inapoi"); 	
			}
		}
		case DIALOG_HUDSELECT: {
			if(!response) return ShowPlayerHud(playerid);
			switch(SelectedHud[playerid]) {
				case 0: {
					PlayerInfo[playerid][pShowHud][0] = listitem;
					format(query, sizeof(query), "UPDATE `users` SET `ShowHud`='%d' WHERE `ID`='%d'", PlayerInfo[playerid][pShowHud][0], PlayerInfo[playerid][pSQLID]);
					mysql_query(SQL, query);
				}
				case 1: {
					PlayerInfo[playerid][pShowHud][1] = listitem;
					format(query, sizeof(query), "UPDATE `users` SET `ShowHud1`='%d' WHERE `ID`='%d'", PlayerInfo[playerid][pShowHud][1], PlayerInfo[playerid][pSQLID]);
					mysql_query(SQL, query);					
				}		
				case 2: {
					PlayerInfo[playerid][pShowHud][2] = listitem;
					format(query, sizeof(query), "UPDATE `users` SET `ShowHud2`='%d' WHERE `ID`='%d'", PlayerInfo[playerid][pShowHud][2], PlayerInfo[playerid][pSQLID]);
					mysql_query(SQL, query);
				}
				case 3: {
					PlayerInfo[playerid][pShowHud][3] = listitem;
					if(listitem == 0) DestroyProgress(playerid, 0);
					else UpdateProgress(playerid, 0);
					format(query, sizeof(query), "UPDATE `users` SET `ShowHud3`='%d' WHERE `ID`='%d'", PlayerInfo[playerid][pShowHud][3], PlayerInfo[playerid][pSQLID]);
					mysql_query(SQL, query);					
				}		
				case 4: {
					PlayerInfo[playerid][pShowHud][4] = listitem;
					if(listitem == 0) DestroyProgress(playerid, 1);
					else UpdateProgress(playerid, 1);				
					format(query, sizeof(query), "UPDATE `users` SET `ShowHud4`='%d' WHERE `ID`='%d'", PlayerInfo[playerid][pShowHud][4], PlayerInfo[playerid][pSQLID]);
					mysql_query(SQL, query);
				}					
			}
			SendClientMessage(playerid, 0xFFADADFF, "Optiuni HUD actualizate!");
		}	
		case DIALOG_WANTEDON: {
			if(!response) return 1;
			if(CP[playerid] != 0) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ. Doresti sa-l anulezi?", "Ok", "Exit");
			new id = SelectedPlayer[playerid][listitem];
			if(PlayerInfo[id][pWantedLevel] == 0) return SCM(playerid, COLOR_LGREEN, "Eroare: Acel player nu mai are wanted!");
			ShowMDC(playerid, id);			
			UsedFind[playerid] = 1;
			new Float:X,Float:Y,Float:Z;
			GetPlayerPos(id, X,Y,Z);
			SetPlayerCheckpointEx(playerid, X,Y,Z, 3.5);
			targetfind[playerid] = id;
			CP[playerid] = 43;
		}
		case DIALOG_BLACKLIST: {
			if(!response) return 1;
			if(listitem == 0) {
				ShowPlayerDialog(playerid, DIALOG_BLACKLIST+1, DIALOG_STYLE_INPUT, "Add player:", "Type in the ID, the full or partial name of the player\nyou want to be players with.", "Submit", "Cancel");
				return 1;
			}
			format(sName[playerid], 256, Selected[playerid][listitem-1]);
			format(string, sizeof(string), "%s", sName[playerid]);
			ShowPlayerDialog(playerid, DIALOG_BLACKLIST+2, DIALOG_STYLE_LIST, string, "{FF0000}Sterge de pe blacklist", "Select", "Inapoi");
		}
		case DIALOG_BLACKLIST+1: {
			if(!response) return 1;
			new id;
			if(sscanf(inputtext, "u", id)) {
				if(!IsPlayerConnected(id)) return SendClientMessage(playerid, COLOR_GRAD2, "Acel player nu este online!");
			}
			else {
                if(id == playerid) return SendClientMessage(playerid, COLOR_GRAD2, "Nu te poti adauga pe tine in lista!");
				if(!IsPlayerConnected(id)) return SendClientMessage(playerid, COLOR_GRAD2, "Acel player nu este online!");
				if(IsInBlacklist(id, PlayerInfo[playerid][pLeader])) return SCM(playerid, -1, "Acel player este deja pe blacklist-ul acestei factiuni!");
				format(string, sizeof(string), "{FFB870}%s (%d) face acum parte din lista de blacklist a factiunii.", GetName(id), id);
				SendClientMessage(playerid, COLOR_WHITE, string);
				format(string, sizeof(string), "{FFB870}%s (%d) te-a adaugat pe blacklist-ul factiunii %s.", GetName(playerid), playerid, NumeFactiune(PlayerInfo[playerid][pLeader]));
				SendClientMessage(id, COLOR_WHITE, string);
				format(string, sizeof(string), "INSERT INTO `blacklist` (`Userid`, `Name`, `Faction`, `Added`) VALUES ('%d', '%s', '%d', '%s')", PlayerInfo[id][pSQLID], PlayerInfo[id][pUsername], PlayerInfo[playerid][pLeader], PlayerInfo[playerid][pUsername]);
				mysql_tquery(SQL, string, "", "");
			}
		}

		case DIALOG_BLACKLIST+2: {
			if(!response) return 1;
			format(string, sizeof(string), "{FFB870}%s nu mai face parte din lista de blacklist.", sName[playerid]);
			SendClientMessage(playerid, COLOR_WHITE, string);
			new userID = GetPlayerID( sName[playerid] );
			if(userID != INVALID_PLAYER_ID) {
				mysql_format(SQL,string,128,"DELETE FROM `blacklist` WHERE `Userid`='%d'",PlayerInfo[userID][pSQLID]);
				mysql_query(SQL, string);
				format(string, sizeof(string), "{FFB870}%s te-a scos de pe lista de blacklist a factiunii %s.", GetName(playerid), NumeFactiune(PlayerInfo[playerid][pLeader]));
				SendClientMessage(userID, COLOR_WHITE, string);
			}
			else {
				mysql_format(SQL,string,128,"DELETE FROM `blacklist` WHERE `Name`='%s'",sName[playerid]);
				mysql_query(SQL, string);
			}
		}
		case DIALOG_EDITMOBILA: {
			if(!response) return 1;
			SlotSel[playerid] = listitem;
			ShowPlayerDialog(playerid, DIALOG_EDITMOBILA2, DIALOG_STYLE_MSGBOX, "Optiune:", "Ce vrei sa faci cu acest obiect?\nEditezi/Stergi?", "Editeaza", "Sterge");
		}
		case DIALOG_EDITMOBILA2: {
		    new id = SelMobila[playerid][SlotSel[playerid]];
		    printf("id = %d", id);
		    EditedObjectID[playerid] = id;
		    EditHouse[playerid] = 2;
		    new obj2 = FurnitureInfo[id][fiObject];
			if(!response) {
				mysql_format(SQL,string,128,"DELETE FROM `fobjects` WHERE `ID`='%d'",id);
				mysql_query(SQL, string);
				SCM(playerid, COLOR_YELLOW, "Obiect sters!");
				DestroyDynamicObject(FurnitureInfo[id][fiObject]);
				FurnitureInfo[id][fiHouse] = 0;
			}
			else {
		        EditHouse[playerid] = 2;
		        SendClientMessage(playerid, COLOR_YELLOW, "Mobilerul ales de tine a fost spawnat. Tot ce trebuie sa faci, este sa-i alegi o pozitie!");
		        SendClientMessage(playerid, COLOR_YELLOW, "Pentru a misca camera, apasa tasta SPACE iar pentru a misca obiectul, apasa click pe acele axe (X,Y,Z)");
		        EditDynamicObject(playerid, obj2);
			}
		}

		case DIALOG_FACTION: {
			if(!response) return 1;
			SelectedRank[playerid] = listitem;
			ShowPlayerDialog(playerid, DIALOG_FACTION1, DIALOG_STYLE_INPUT, "Raport system:", "Introdu numarul de comenzi pe care vrei sa-l faca membrii de acest rank!", "Select", "Inapoi");
		}
		case DIALOG_FACTION1: {
			new ffID = PlayerInfo[playerid][pMember];
			if(!response) {
				format(string, sizeof(string), "Rank 1\t%d\nRank 2\t%d\nRank 3\t%d\nRank 4\t%d\nRank 5\t%d\nRank 6\t%d", FactionInfo[ffID][fRank1], FactionInfo[ffID][fRank2],
				FactionInfo[ffID][fRank3], FactionInfo[ffID][fRank4], FactionInfo[ffID][fRank5], FactionInfo[ffID][fRank6]);
			    ShowPlayerDialog(playerid, DIALOG_FACTION, DIALOG_STYLE_TABLIST, "Raport system:", string, "Select", "Iesire");
			    return 1;
			}
			format(string, sizeof(string), "Numarul de comenzi pe care trebuie sa-l depuna membrii de rank %d, este acum de: %d", SelectedRank[playerid]+1, strval(inputtext));
			SCM(playerid, -1, string);
			switch(SelectedRank[playerid]) {
			    case 0: FactionInfo[ffID][fRank1] = strval(inputtext);
			    case 1: FactionInfo[ffID][fRank2] = strval(inputtext);
			    case 2: FactionInfo[ffID][fRank3] = strval(inputtext);
			    case 3: FactionInfo[ffID][fRank4] = strval(inputtext);
			    case 4: FactionInfo[ffID][fRank5] = strval(inputtext);
			    case 5: FactionInfo[ffID][fRank6] = strval(inputtext);
			}
			format(query, sizeof(query), "UPDATE `factions` SET `Rank1`='%d', `Rank2`='%d', `Rank3`='%d', `Rank4`='%d', `Rank5`='%d', `Rank6`='%d' WHERE `ID`='%d'",
			FactionInfo[ffID][fRank1], FactionInfo[ffID][fRank2], FactionInfo[ffID][fRank3], FactionInfo[ffID][fRank4], FactionInfo[ffID][fRank5], FactionInfo[ffID][fRank6], ffID);
			mysql_query(SQL, query);
		}
		case DIALOG_FRIENDS: {
			if(!response) return 1;
			if(listitem == 0) {
				ShowPlayerDialog(playerid, DIALOG_FRIENDS+1, DIALOG_STYLE_INPUT, "Add friend:", "Scrie ID-ul sau numele celui care vrei sa-l adaugi in lista ta de prieteni!", "Ok", "Exit");
				return 1;
			}
			format(sName[playerid], 256, Selected[playerid][listitem-1]);
			new userid = GetPlayerID(sName[playerid]);
			format(string, sizeof(string), "%s", sName[playerid]);
			if(userid != INVALID_PLAYER_ID) {
				ShowPlayerDialog(playerid, DIALOG_FRIENDS+2, DIALOG_STYLE_LIST, string, "Call\nSMS\n{FF0000}Remove Friend", "Select", "Inapoi");
			}
			else {
				ShowPlayerDialog(playerid, DIALOG_FRIENDS+3, DIALOG_STYLE_LIST, string, "{FF0000}Remove Friend", "Select", "Inapoi");
			}
		}
		case DIALOG_FRIENDS+1: {
			if(!response) return 1;
			new id;
			if(sscanf(inputtext, "u", id)) {
				if(!IsPlayerConnected(id)) return SendClientMessage(playerid, COLOR_GRAD2, "Acel player nu este online!");
			}
			else {
                if(id == playerid) return ShowPlayerDialog(playerid, DIALOG_FRIENDS+1, DIALOG_STYLE_INPUT, "Add friend:", "Scrie ID-ul sau numele celui care vrei sa-l adaugi in lista ta de prieteni!\n{C90404}Nu te poti addauga singur in lista!", "Ok", "Exit");
				if(!IsPlayerConnected(id)) ShowPlayerDialog(playerid, DIALOG_FRIENDS+1, DIALOG_STYLE_INPUT, "Add friend:", "Scrie ID-ul sau numele celui care vrei sa-l adaugi in lista ta de prieteni!\n{C90404}Jucatorul cu ID-ul introdus este offline!", "Ok", "Exit");
				new test, friends;
				new result[30];
				format(string, sizeof(string), "SELECT * FROM `friends` WHERE `friendID`='%d'", PlayerInfo[id][pSQLID]);
				new Cache: db = mysql_query (SQL, string);
				for ( new i, j = cache_get_row_count (); i != j; ++i )
				{
					friends++;
					cache_get_field_content( i, "AddBy", result ); test = strval( result );
					if(test == PlayerInfo[playerid][pSQLID]) return ShowPlayerDialog(playerid, DIALOG_FRIENDS+1, DIALOG_STYLE_INPUT, "Add friend:", "Scrie ID-ul sau numele celui care vrei sa-l adaugi in lista ta de prieteni!\n{C90404}Acel jucator este deja in lista ta!", "Ok", "Exit");
				}
				if(friends == 25 && PlayerInfo[playerid][pPremiumAccount] == 0) return SendClientMessage(playerid, COLOR_GRAD2, "* Poti avea doar 25 prieteni fara cont premium!");
				if(friends == 50) return SendClientMessage(playerid, COLOR_GRAD2, "* Ai prea multi prieteni!");
				cache_delete( db );
				format(string, sizeof(string), "{FFB870}%s (%d) face acum parte din lista ta de prieteni.", GetName(id), id);
				SendClientMessage(playerid, COLOR_WHITE, string);
				format(string, sizeof(string), "{FFB870}%s (%d) te-a adaugat in lista sa de prieteni.", GetName(playerid), playerid);
				SendClientMessage(id, COLOR_WHITE, string);
				format(string, sizeof(string), "INSERT INTO `friends` (`friendID`, `friendName`, `AddBy`) VALUES ('%d', '%s', '%d')", PlayerInfo[id][pSQLID], PlayerInfo[id][pUsername], PlayerInfo[playerid][pSQLID]);
				mysql_tquery(SQL, string, "", "");
			}
		}
		case DIALOG_FRIENDS+2: {
			if(!response) return ShowPlayerFriends(playerid);
			new userid = GetPlayerID(sName[playerid]);
			if(!IsPlayerConnected(userid)) return 1;
			switch(listitem) {
				case 0: {
					if(PlayerInfo[playerid][pPnumber] == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu ai a cellphone!");
					foreach(Player, i) {
						if(PlayerInfo[i][pPnumber] == PlayerInfo[userid][pPnumber]) {
							new id = i;
							if(PlayerInfo[id][pPnumber] == 0) return SendClientMessage(playerid, COLOR_GREY, "This player dont have a cellphone!");
							if(PhoneOnline[id] == 1) return SendClientMessage(playerid, COLOR_GREY, "Player's phone is offline!");
							Mobile[playerid] = id;
							if(Mobile[id] != 255) return SendClientMessage(playerid, COLOR_GREY, "That player is speaking with someone.");
							if(Mobile[id] == 255) {
								if(IsBlocked(id, playerid)) return SCM(playerid, COLOR_LGREEN, "Acel player te-a blocat! Nu il poti contacta.");
								if(IsBlocked(playerid, id)) return SCM(playerid, COLOR_LGREEN, "L-ai blocat pe acel player! Nu il poti contacta.");								
								format(string, sizeof(string), "Te suna %s cu numarul %s. Scrie '/pickup' pentru a raspunde.", GetName(playerid), DecimalNumber(playerid));
								SendClientMessage(id, COLOR_YELLOW, string);
								format(string, sizeof(string), "%s scoate telefonul si scrie un numar.", GetName(playerid));
								ProxDetector(30.0, playerid, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
								format(string, sizeof(string), "Lui %s ii suna telefonul.", GetName(id));
								ProxDetector(30.0, i, string, COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE,COLOR_PURPLE);
								SetPlayerSpecialAction(playerid, SPECIAL_ACTION_USECELLPHONE);
								return 1;
							}
						}
					}
				}
				case 1: {
					if(PlayerInfo[playerid][pPnumber] == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu ai a cellphone!");
					ShowPlayerDialog(playerid, DIALOG_FRIENDS+4, DIALOG_STYLE_INPUT, "Send SMS:", "Write the SMS text in the box below.", "Send", "Cancel");
				}
				case 2: {
					mysql_format(SQL,string,128,"DELETE FROM `friends` WHERE `friendID`='%d'",PlayerInfo[userid][pSQLID]);
					mysql_query(SQL, string);
					format(string, sizeof(string), "{FFB870}%s nu mai face parte din lista ta de prieteni.", PlayerInfo[userid][pUsername]);
					SendClientMessage(playerid, COLOR_WHITE, string);
				}
			}
		}
		case DIALOG_FRIENDS+3: {
			if(!response) return ShowPlayerFriends(playerid);
			mysql_format(SQL,string,128,"DELETE FROM `friends` WHERE `friendName`='%s'",sName[playerid]);
			mysql_query(SQL, string);
			format(string, sizeof(string), "{FFB870}%s nu mai face parte din lista ta de prieteni.", sName[playerid]);
			SendClientMessage(playerid, COLOR_WHITE, string);
		}
		case DIALOG_FRIENDS+4: {
			if(!response) return 1;
			new userid = GetPlayerID(sName[playerid]);
			if(!IsPlayerConnected(userid)) return 1;
			foreach(Player, i) {
				if(PlayerInfo[i][pPnumber] == PlayerInfo[userid][pPnumber] && PlayerInfo[userid][pPnumber] != 0) {
					new id = i;
					if(PlayerInfo[id][pPnumber] == 0) return SendClientMessage(playerid, COLOR_GREY, "This player dont have a cellphone!");
					if(PhoneOnline[id] == 1) return SendClientMessage(playerid, COLOR_GREY, "Player's phone is offline!");
					if(IsBlocked(id, playerid)) return SCM(playerid, COLOR_LGREEN, "Acel player te-a blocat! Nu il poti contacta.");
					if(IsBlocked(playerid, id)) return SCM(playerid, COLOR_LGREEN, "L-ai blocat pe acel player! Nu il poti contacta.");					
					format(string, sizeof(string), "SMS from %s ({FFFFFF}%s{FFFF00}): %s",GetName(playerid),DecimalNumber(playerid), inputtext);
					SendClientMessage(id, COLOR_YELLOW, string);
					format(string, sizeof(string), "SMS to %s ({FFFFFF}%s{FFFF00}): %s",GetName(id),DecimalNumber(id),inputtext);
					SendClientMessage(playerid, COLOR_YELLOW, string);
					PlayerPlaySound(id, 1052, 0.0, 0.0, 10.0);
					Reply[id] = playerid;
					return 1;
				}
			}
		}
		case DIALOG_EDITSF: {
			if(!response) return 1;
			pSelectSFZ[playerid] = listitem+1;
			format(string, sizeof(string), "Position\t(%f, %f, %f)\nRange\t%d", SafeZone[listitem+1][szX], SafeZone[listitem+1][szY], SafeZone[listitem+1][szZ], SafeZone[listitem+1][szRange]);
			format(dialog, sizeof(dialog), "Edit safe zone %d", listitem+1);
		    ShowPlayerDialog(playerid, DIALOG_EDITSF1, DIALOG_STYLE_TABLIST, dialog, string, "Ok", "Iesire");
		}
		case DIALOG_EDITSF1: {
			if(!response) return 1;
			switch(listitem) {
			    case 0: ShowPlayerDialog(playerid, DIALOG_EDITSF2, DIALOG_STYLE_INPUT, "Position:", "Scrie putin mai jos valoarea care vrei sa o aiba aceasta variabila.\nSintaxa: x, y, z", "Ok", "Cancel");
				case 1: ShowPlayerDialog(playerid, DIALOG_EDITSF2, DIALOG_STYLE_INPUT, "Range:", "Scrie putin mai jos valoarea care vrei sa o aiba aceasta variabila.", "Ok", "Cancel");
			}
			EditJob[playerid] = listitem;
		}
		case DIALOG_EDITSF2: {
			if(!response) return 1;
			new job = pSelectSFZ[playerid];
			new amount = strval(inputtext);
		    switch(EditJob[playerid]) {
				case 0: {
					new Float: Pos[3];
					if(sscanf(inputtext, "fff", Pos[0], Pos[1], Pos[2])) return SendClientMessage(playerid, COLOR_GREY, "Invalid syntax!");
					SafeZone[job][szX] = Pos[0];
					SafeZone[job][szY] = Pos[1];
					SafeZone[job][szZ] = Pos[2];
					format(string, sizeof(string), "Ai modificat 'Pozitiile' la safezone-ul cu ID-ul %d, in: %f, %f, %f.", job, Pos[0], Pos[1], Pos[2]);
					SendClientMessage(playerid, COLOR_WHITE, string);
					mysql_format(SQL, query, sizeof(query), "UPDATE `safezones` SET `X`='%f', `Y`='%f', `Z`='%f' WHERE `ID`='%d'", Pos[0], Pos[1], Pos[2], job);
					mysql_tquery(SQL, query, "", "");
				}
				case 1: {
					SafeZone[job][szRange] = amount;
					format(string, sizeof(string), "Ai modificat 'Raza' la safezone-ul cu ID-ul %d, in: %d.", job, amount);
					SendClientMessage(playerid, COLOR_WHITE, string);
					mysql_format(SQL, query, sizeof(query), "UPDATE `safezones` SET `Range`='%d' WHERE `ID`='%d'", amount, job);
					mysql_tquery(SQL, query, "", "");
				}
			}
		}
		case DIALOG_RESETKM: {
			if(!response) return ShowShop(playerid);
			if(!IsPlayerInAnyVehicle(playerid)) return SCM(playerid, COLOR_GREY, "Nu esti intr-un vehicul!");
		    if(PlayerInfo[playerid][pPremiumPoints] < 100) return SCM(playerid, COLOR_GREY, "Ai nevoie de 20 puncte premium pentru a lua acest produs.");
			PlayerInfo[playerid][pPremiumPoints] -= 100;
			Update(playerid, pPremiumPointsx);
			CarInfo[pCar[playerid]][KM] = 0;
			format(query, sizeof(query), "SELECT `cars` SET `Km`='0' WHERE `ID`='%d'", pCar[playerid]);
			mysql_query(SQL, query);
			SCM(playerid, COLOR_GOLD, "Felicitari! Ti-ai resetat kilometrii vehiculului personal.");
		}
		case DIALOG_SELLCAR: {
			if(!response) return 1;
			new vsid = PlayerSellCar[playerid];
			if(CarInfo[vsid][Spawned] == 0) return 1;
			VehicleOwned[CarInfo[vsid][Spawned]] = CarInfo[vsid][Spawned];
			VehicleSQL[CarInfo[vsid][Spawned]] = vsid;
						
			new value;
			CheckVehicle(CarInfo[vsid][Spawned]);
			value = CarPriceValid(CarInfo[vsid][cModel]) / 2;
			GivePlayerCash(playerid, value);
			format(string, sizeof(string), "Ai primit $%s pentru ca ti-ai vandut vehiculul!",FormatNumber(value), "%%");
			SendClientMessage(playerid,COLOR_MONEY,string);
			DestroyVehicle(CarInfo[vsid][Spawned]);		
			if(CarInfo[PlayerInfo[playerid][pCarKey][0]][Spawned] == CarInfo[vsid][Spawned] && vsid != 0) DespawnCar[playerid][0] = -1;
			else if(CarInfo[PlayerInfo[playerid][pCarKey][1]][Spawned] == CarInfo[vsid][Spawned] && vsid != 0) DespawnCar[playerid][1] = -1;
			else if(CarInfo[PlayerInfo[playerid][pCarKey][2]][Spawned] == CarInfo[vsid][Spawned] && vsid != 0) DespawnCar[playerid][2] = -1;
			else if(CarInfo[PlayerInfo[playerid][pCarKey][3]][Spawned] == CarInfo[vsid][Spawned] && vsid != 0) DespawnCar[playerid][3] = -1;
			else if(CarInfo[PlayerInfo[playerid][pCarKey][4]][Spawned] == CarInfo[vsid][Spawned] && vsid != 0) DespawnCar[playerid][4] = -1;
							
			
			mysql_format(SQL, string, sizeof(string), "DELETE FROM cars WHERE ID=%d",vsid);
			mysql_tquery(SQL, string, "", "");

			if(PlayerInfo[playerid][pCarKey][0] == vsid) { PlayerInfo[playerid][pCarKey][0] = 0; mysql_format(SQL, string, sizeof(string), "UPDATE `users`SET CarKey1 = %d WHERE `name`='%s'",PlayerInfo[playerid][pCarKey][0],PlayerInfo[playerid][pUsername]); }
			if(PlayerInfo[playerid][pCarKey][1] == vsid) { PlayerInfo[playerid][pCarKey][1] = 0; mysql_format(SQL, string, sizeof(string), "UPDATE `users`SET CarKey2 = %d WHERE `name`='%s'",PlayerInfo[playerid][pCarKey][1],PlayerInfo[playerid][pUsername]); }
			if(PlayerInfo[playerid][pCarKey][2] == vsid) { PlayerInfo[playerid][pCarKey][2] = 0; mysql_format(SQL, string, sizeof(string), "UPDATE `users`SET CarKey3 = %d WHERE `name`='%s'",PlayerInfo[playerid][pCarKey][2],PlayerInfo[playerid][pUsername]); }
			if(PlayerInfo[playerid][pCarKey][3] == vsid) { PlayerInfo[playerid][pCarKey][3] = 0; mysql_format(SQL, string, sizeof(string), "UPDATE `users`SET CarKey4 = %d WHERE `name`='%s'",PlayerInfo[playerid][pCarKey][3],PlayerInfo[playerid][pUsername]); }
			if(PlayerInfo[playerid][pCarKey][4] == vsid) { PlayerInfo[playerid][pCarKey][4] = 0; mysql_format(SQL, string, sizeof(string), "UPDATE `users`SET CarKey5 = %d WHERE `name`='%s'",PlayerInfo[playerid][pCarKey][4],PlayerInfo[playerid][pUsername]); }
			if(PlayerInfo[playerid][pCarKey][5] == vsid) { PlayerInfo[playerid][pCarKey][5] = 0; mysql_format(SQL, string, sizeof(string), "UPDATE `users`SET CarKey6 = %d WHERE `name`='%s'",PlayerInfo[playerid][pCarKey][5],PlayerInfo[playerid][pUsername]); }
			if(PlayerInfo[playerid][pCarKey][6] == vsid) { PlayerInfo[playerid][pCarKey][6] = 0; mysql_format(SQL, string, sizeof(string), "UPDATE `users`SET CarKey7 = %d WHERE `name`='%s'",PlayerInfo[playerid][pCarKey][6],PlayerInfo[playerid][pUsername]); }
			if(PlayerInfo[playerid][pCarKey][7] == vsid) { PlayerInfo[playerid][pCarKey][7] = 0; mysql_format(SQL, string, sizeof(string), "UPDATE `users`SET CarKey8 = %d WHERE `name`='%s'",PlayerInfo[playerid][pCarKey][7],PlayerInfo[playerid][pUsername]); }
			if(PlayerInfo[playerid][pCarKey][8] == vsid) { PlayerInfo[playerid][pCarKey][8] = 0; mysql_format(SQL, string, sizeof(string), "UPDATE `users`SET CarKey9 = %d WHERE `name`='%s'",PlayerInfo[playerid][pCarKey][8],PlayerInfo[playerid][pUsername]); }
			if(PlayerInfo[playerid][pCarKey][9] == vsid) { PlayerInfo[playerid][pCarKey][9] = 0; mysql_format(SQL, string, sizeof(string), "UPDATE `users`SET CarKey10 = %d WHERE `name`='%s'",PlayerInfo[playerid][pCarKey][9],PlayerInfo[playerid][pUsername]); }
							
			mysql_tquery(SQL, string, "", "");
			CarInfo[vsid][cID] = -2;
			CarInfo[vsid][Spawned] = 0;
			CarInfo[vsid][cValue] = 0;
		}
		case DIALOG_PCOLOR: {
			if(!response) return 1;		
			PlayerInfo[playerid][pColor] = listitem;
			format(query, sizeof(query), "UPDATE `users` SET `Color`='%d' WHERE `ID`='%d'", listitem, PlayerInfo[playerid][pSQLID]);
			mysql_query(SQL, query);			
			if(listitem == 0) return SCM(playerid, -1, "Ai scos culoarea!");
			format(string, sizeof(string), "{%s}Server: {FFFFFF}Ti-ai schimbat culoarea numelui!", serverColors(listitem));
			SCM(playerid, -1, string);
		}	
		case DIALOG_GARAGE: {
			if(!response) return 1;
			sVehicle[5][playerid] = sVehicle[listitem][playerid];
			if(CarInfo[sVehicle[5][playerid]][Spawned] != 0) ShowPlayerDialog(playerid, DIALOG_GARAGE1, DIALOG_STYLE_LIST, "Optiuni", "Informatii\nLocalizeaza\nRemorcheaza\nDespawneaza\nDeblocheaza\nVinde", "Ok", "Back");
			else if(CarInfo[sVehicle[5][playerid]][Spawned] == 0) ShowPlayerDialog(playerid, DIALOG_GARAGE1, DIALOG_STYLE_LIST, "Optiuni", "Informatii\nLocalizeaza\nRemorcheaza\nSpawneaza\nDeblocheaza\nVinde", "Ok", "Back");
		}
		case DIALOG_GARAGE1: {
			if(!response) return ShowVehiclesMenu(playerid);
			new vsid = sVehicle[5][playerid];
			switch(listitem) {
				case 0: { // info
					new locktext[15];
					if(CarInfo[vsid][cLock] > 0) {locktext = "Incuiat";}
					else {locktext = "Descuiat";}
					format(string, sizeof(string), "Model: %s (%d)\nStatus: %s\nColor 1: %d\nColor 2: %d\nOdometer: %.2f km", aVehicleNames[CarInfo[vsid][cModel]-400], CarInfo[vsid][Spawned], locktext, CarInfo[vsid][cColorOne], CarInfo[vsid][cColorTwo], CarInfo[vsid][KM]);
					ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Vehicle info", string, "Close", "");
				}
				case 1: { // find
					if(CarInfo[vsid][Spawned] == 0) return SendClientMessage(playerid, COLOR_GREY, "Masina ta nu este spawnata!");
					if(CP[playerid] != 0) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ. Doresti sa-l anulezi?", "Ok", "Exit");
					new Float:vehx, Float:vehy, Float:vehz;
					GetVehiclePos(CarInfo[vsid][Spawned], vehx, vehy, vehz);
					SetPlayerCheckpointEx(playerid, vehx, vehy, vehz, 3.0);
					new szZone[128];
					GetPlayer3DZone2(vehx, vehy, vehz, szZone, sizeof(szZone));
					format(string, sizeof(string), "{FFB870}Vehiculul tau, %s a fost localizat si se afla in %s.", aVehicleNames[CarInfo[vsid][cModel]-400], szZone);
					SendClientMessage(playerid, COLOR_WHITE, string);
					CP[playerid] = 53;
				}
				case 2: { // tow
					if(CarInfo[vsid][Spawned] == 0) return SendClientMessage(playerid, COLOR_GREY, "Masina ta nu este spawnata!");
					if(GetPlayerCash(playerid) < 500) return SendClientMessage(playerid, COLOR_GREY, "Nu ai $500!");
					if(IsVehicleOccupied(CarInfo[vsid][Spawned])) return SendClientMessage(playerid, COLOR_GREY, "Vehiculul este ocupat!");
					SetVehicleToRespawn(CarInfo[vsid][Spawned]);
					SetTunning(vsid);
					GivePlayerCash(playerid, -500);
					BizzInfo[11][bBalance] += 500;
					mysql_format(SQL, string,sizeof(string),"UPDATE bizz SET Till = %d WHERE ID = %d",BizzInfo[11][bBalance],5);
					mysql_tquery(SQL, string, "", "");
					format(string, sizeof(string), "Vehiculul tau, %s, este acum in locul parcarii.", aVehicleNames[CarInfo[vsid][cModel]-400]);
					SendClientMessage(playerid, COLOR_YELLOW, string);
				}
				case 3: { // despawn & spawn
					if(CarInfo[vsid][Spawned] == 0) {
						CarInfo[vsid][Spawned] = CreateVehicleEx(CarInfo[vsid][cModel],CarInfo[vsid][cLocationx],CarInfo[vsid][cLocationy],CarInfo[vsid][cLocationz],CarInfo[vsid][cAngle],CarInfo[vsid][cColorOne],CarInfo[vsid][cColorTwo],-1);
						VehicleOwned[CarInfo[vsid][Spawned]] = CarInfo[vsid][Spawned];
						VehicleSQL[CarInfo[vsid][Spawned]] = vsid;						
						SetTunning(vsid);
						CheckVehicle(CarInfo[vsid][Spawned]);
						if(CarInfo[PlayerInfo[playerid][pCarKey][0]][Spawned] == CarInfo[vsid][Spawned] && vsid != 0) DespawnCar[playerid][0] = 1540;
						else if(CarInfo[PlayerInfo[playerid][pCarKey][1]][Spawned] == CarInfo[vsid][Spawned] && vsid != 0) DespawnCar[playerid][1] = 1540;
						else if(CarInfo[PlayerInfo[playerid][pCarKey][2]][Spawned] == CarInfo[vsid][Spawned] && vsid != 0) DespawnCar[playerid][2] = 1540;
						else if(CarInfo[PlayerInfo[playerid][pCarKey][3]][Spawned] == CarInfo[vsid][Spawned] && vsid != 0) DespawnCar[playerid][3] = 1540;
						else if(CarInfo[PlayerInfo[playerid][pCarKey][4]][Spawned] == CarInfo[vsid][Spawned] && vsid != 0) DespawnCar[playerid][4] = 1540;
						format(string, sizeof(string), "Vehiculul tau, %s, este acum spawnat.", aVehicleNames[CarInfo[vsid][cModel]-400]);
						SendClientMessage(playerid, COLOR_YELLOW, string);
						new engine,lights,alarm,doors,bonnet,boot,objective;	
						GetVehicleParamsEx(CarInfo[vsid][Spawned],engine,lights,alarm,doors,bonnet,boot,objective);
						SetVehicleParamsEx(CarInfo[vsid][Spawned],engine,lights,alarm,CarInfo[vsid][cLock],bonnet,boot,objective);
						mysql_format(SQL, string, sizeof(string), "UPDATE cars SET Spawned='%d' WHERE ID=%d", CarInfo[vsid][Spawned], vsid);
						mysql_tquery(SQL, string, "", "");
					}
					else {
						if(IsVehicleOccupied(CarInfo[vsid][Spawned])) return SendClientMessage(playerid, COLOR_GREY, "Vehiculul este ocupat!");
						if(CarInfo[PlayerInfo[playerid][pCarKey][0]][Spawned] == CarInfo[vsid][Spawned] && vsid != 0) DespawnCar[playerid][0] = -1;
						else if(CarInfo[PlayerInfo[playerid][pCarKey][1]][Spawned] == CarInfo[vsid][Spawned] && vsid != 0) DespawnCar[playerid][1] = -1;
						else if(CarInfo[PlayerInfo[playerid][pCarKey][2]][Spawned] == CarInfo[vsid][Spawned] && vsid != 0) DespawnCar[playerid][2] = -1;
						else if(CarInfo[PlayerInfo[playerid][pCarKey][3]][Spawned] == CarInfo[vsid][Spawned] && vsid != 0) DespawnCar[playerid][3] = -1;
						else if(CarInfo[PlayerInfo[playerid][pCarKey][4]][Spawned] == CarInfo[vsid][Spawned] && vsid != 0) DespawnCar[playerid][4] = -1;
						DestroyVehicle(CarInfo[vsid][Spawned]);
						VehicleOwned[CarInfo[vsid][Spawned]] = 0;
						VehicleSQL[CarInfo[vsid][Spawned]] = 0;	
						SetTunning(vsid);
						CheckVehicle(CarInfo[vsid][Spawned]);
						CarInfo[vsid][Spawned] = 0;
						format(string, sizeof(string), "Vehiculul tau, %s, este acum despawnat.", aVehicleNames[CarInfo[vsid][cModel]-400]);
						SendClientMessage(playerid, COLOR_YELLOW, string);
						mysql_format(SQL, string, sizeof(string), "UPDATE cars SET Spawned='%d' WHERE ID=%d", CarInfo[vsid][Spawned], vsid);
						mysql_tquery(SQL, string, "", "");
					}
				}
				case 4: { // Debug
					if(CarInfo[vsid][Spawned] == 0) return SendClientMessage(playerid, COLOR_GREY, "Masina ta nu este spawnata!");
					if(IsVehicleOccupied(CarInfo[vsid][Spawned])) return SendClientMessage(playerid, COLOR_GREY, "Vehiculul este ocupat!");
					SetVehiclePos(CarInfo[vsid][Spawned], 1688.9471,1306.3896,10.9159);
					SetVehicleZAngle(CarInfo[vsid][Spawned], 359.3103);
					CP[playerid] = 53;
					if(IsAFLYCar(CarInfo[vsid][Spawned])) {
						format(string, sizeof(string), "Server-ul ti-a setat un nou checkpoint catre noua locatie a vehiculului.", aVehicleNames[CarInfo[vsid][cModel]-400]);
						SendClientMessage(playerid, COLOR_YELLOW, string);
						SetVehiclePos(CarInfo[vsid][Spawned], -1649.1798, -159.0667, 17.3618);
						SetVehicleZAngle(CarInfo[vsid][Spawned], -44.1000);
		                new randspawn = random(sizeof(HeliVehPos));
						SetVehiclePos(CarInfo[vsid][Spawned], HeliVehPos[randspawn][0], HeliVehPos[randspawn][1], HeliVehPos[randspawn][2]);
						SetVehicleZAngle(CarInfo[vsid][Spawned], 44.4000);
						SetPlayerCheckpointEx(playerid, HeliVehPos[randspawn][0], HeliVehPos[randspawn][1], HeliVehPos[randspawn][2], 5.0);
						return 1;
					}
					else if(IsABOATCar(CarInfo[vsid][Spawned])) {
						format(string, sizeof(string), "Server-ul ti-a setat un nou checkpoint catre noua locatie a vehiculului.", aVehicleNames[CarInfo[vsid][cModel]-400]);
						SendClientMessage(playerid, COLOR_YELLOW, string);
		                new randspawn = random(sizeof(BoatVehPos));
						SetVehiclePos(CarInfo[vsid][Spawned], BoatVehPos[randspawn][0], BoatVehPos[randspawn][1], BoatVehPos[randspawn][2]);
						SetVehicleZAngle(CarInfo[vsid][Spawned], -173.4001);
						SetPlayerCheckpointEx(playerid, BoatVehPos[randspawn][0], BoatVehPos[randspawn][1], BoatVehPos[randspawn][2], 5.0);
						return 1;
					}
			        else {
						format(string, sizeof(string), "Server-ul ti-a setat un nou checkpoint catre noua locatie a vehiculului.", aVehicleNames[CarInfo[vsid][cModel]-400]);
						SendClientMessage(playerid, COLOR_YELLOW, string);
		                new randspawn = random(sizeof(DealerCarPos));
		                SetTunning(vsid);
						SetVehiclePos(CarInfo[vsid][Spawned], DealerCarPos[randspawn][0], DealerCarPos[randspawn][1], DealerCarPos[randspawn][2]);
						SetVehicleZAngle(CarInfo[vsid][Spawned], -173.4001);
						SetPlayerCheckpointEx(playerid, DealerCarPos[randspawn][0], DealerCarPos[randspawn][1], DealerCarPos[randspawn][2], 5.0);
						return 1;
					}
				}
				case 5: { // sell
					if(CarInfo[vsid][Spawned] == 0) return SendClientMessage(playerid, COLOR_GREY, "Masina ta nu este spawnata!");
					if(CarInfo[vsid][cSpecial] == 1) return SendClientMessage(playerid, COLOR_GREY, "Acces interzis!");
					if(!PlayerToPoint(5.0,playerid,327.9443, -1512.6609, 36.1366)) return SendClientMessage(playerid, COLOR_WHITE, "{FFFFCC}{FFFFCC}Eroare: Trebuie sa fii la distribuitorul de vehicule.");
                    
					new value;
					value = floatround((CarInfo[vsid][cValue] * 7) / 10);
					format(string, sizeof(string), "Esti sigur ca vrei sa-ti vinzi vehiculul %s pentru $%s?",aVehicleNames[CarInfo[vsid][cModel]-400],FormatNumber(value));
					ShowPlayerDialog(playerid, DIALOG_SELLCAR, DIALOG_STYLE_MSGBOX, "Dealership Office", string, "Da", "Nu");
					PlayerSellCar[playerid] = vsid;
					if(CP[playerid] == 43 || CP[playerid] == 53) { CP[playerid] = 0; DisablePlayerCheckpoint(playerid); }
				}
			}
		}
		case DIALOG_CLANTURFS: {
			if(!response) return 1;
			if(CP[playerid] != 0) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ. Doresti sa-l anulezi?", "Ok", "Exit");
			new i;
			i = listitem+1;
			SetPlayerCheckpointEx(playerid, GraffitiInfo[i][gfX], GraffitiInfo[i][gfY], GraffitiInfo[i][gfZ]-3, 5.0);
			SendClientMessage(playerid, COLOR_YELLOW, "Server-ul ti-a pus un punct rosu catre locatia aleasa de tine.");
			CP[playerid] = 53;
		}
		case DIALOG_CLAN_COMMAND: {
			if(!response) return 1;
			switch(listitem) {
				case 0: ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX , "Comenzile clanului:", "/clan, /(c)lanchat, /cinvite, /clanduty, /spray, /clanzones.", "Cancel", "");
				case 1: {
					new
					    szDialog[1024], szDialog2[1024],
					    Members, name[256],
					    szRank1[256];

					format(query, sizeof(query), "SELECT * FROM `users` WHERE `users`.`Clan` = '%d' ORDER BY `users`.`ClanRank` DESC LIMIT 50", PlayerInfo[playerid][pClan]);
					new Cache: result = mysql_query(SQL, query);

					for(new i, j = cache_get_row_count (); i != j; ++i)
					{
						cache_get_field_content(i, "name", name);
						cache_get_field_content(i, "ClanRank", szRank1);
						format(Selected[playerid][Members], MAX_PLAYER_NAME, name);
						if(Members==0)format(szDialog, sizeof(szDialog), "#\tNume\tRank\n%d.\t%s\t%d\n", Members+1, name, strval(szRank1));
						else format(szDialog, sizeof(szDialog), "%d.\t%s\t%d\n", Members+1, name, strval(szRank1));
						strcat(szDialog2, szDialog);
						Members++;
					}
					cache_delete(result);
					ShowPlayerDialog(playerid, DIALOG_CLAN_MEMBERS, DIALOG_STYLE_TABLIST_HEADERS, "Membrii clanului:", szDialog2, "Select", "Inapoi");
				}
				case 2: {
					if(PlayerInfo[playerid][pClanRank] < 6) return SCM(playerid, -1, "Nu ai acces!");
				    ShowPlayerDialog(playerid, DIALOG_CLAN_SETTINGS, DIALOG_STYLE_LIST, "Setari:", "Schimba culoarea\nSchimba MOTD-ul\nSchimba numele rankurilor", "Select", "Cancel");
				}
			}
		}
		case DIALOG_CLAN_MEMBERS: {
			if(!response) return ShowPlayerDialog(playerid, DIALOG_CLAN_COMMAND, DIALOG_STYLE_LIST, "Clan:", "Comenzile clanului\nMembrii clanului\nSetari", "Select", "Cancel");
		    if(PlayerInfo[playerid][pClanRank] < 6) return SendClientMessage(playerid, COLOR_GREY, "La aceasta categorie, are acces doar propietarul clanului.");
            format(sName[playerid], MAX_PLAYER_NAME, Selected[playerid][listitem]);
			ShowPlayerDialog(playerid, DIALOG_CLAN_MANAGE2, DIALOG_STYLE_LIST, "Setari:", "Da-l afara\nDa-i un nou rang", "Select" ,"Inapoi");
		}

		case DIALOG_CLAN_MANAGE2: {
			if(!response) {
				new
				    szDialog[1024], szDialog2[1024],
				    Members, name[256],
				    szRank1[256];

				format(query, sizeof(query), "SELECT * FROM `users` WHERE `users`.`Clan` = '%d' ORDER BY `users`.`ClanRank` DESC LIMIT 50", PlayerInfo[playerid][pClan]);
				new Cache: result = mysql_query(SQL, query);

				for(new i, j = cache_get_row_count (); i != j; ++i)
				{
					cache_get_field_content(i, "name", name);
					cache_get_field_content(i, "ClanRank", szRank1);
					format(Selected[playerid][Members], MAX_PLAYER_NAME, name);
					if(Members==0)format(szDialog, sizeof(szDialog), "#\tNume\tRank\n%d.\t%s\t%d\n", Members+1, name, strval(szRank1));
					else format(szDialog, sizeof(szDialog), "%d.\t%s\t%d\n", Members+1, name, strval(szRank1));
					strcat(szDialog2, szDialog);
					Members++;
				}
				cache_delete(result);
				ShowPlayerDialog(playerid, DIALOG_CLAN_MEMBERS, DIALOG_STYLE_TABLIST_HEADERS, "Membrii clanului:", szDialog2, "Select", "Inapoi");
			    return 1;
			}
			switch(listitem)
			{
			    case 0:
			    {
			        new
						userID = GetPlayerID(sName[playerid]),
						clanid = PlayerInfo[playerid][pClan];

					if(userID == playerid) return 1;
			        if(userID != INVALID_PLAYER_ID) {
		  				format(string, sizeof(string), "Ai fost dat afara din clan de catre %s.", GetName(playerid));
		  				SendClientMessage(userID, COLOR_LIGHTBLUE, string);
						PlayerInfo[userID][pClan] = 0;
						PlayerInfo[userID][pClanRank] = 0;
						format(string, sizeof(string), "{%s}(CLAN) %s l-a dat pe %s afara.", ClanInfo[clanid][clColor], GetName(playerid), sName[playerid]);
						SetPlayerName(playerid, PlayerInfo[playerid][pUsername]);
				    }
				    else format(string, sizeof(string), "{%s}(CLAN) %s l-a dat pe %s (neconectat) afara.", ClanInfo[clanid][clColor], GetName(playerid), sName[playerid]);
				    SendClanMessage(clanid, string);
					format(query, sizeof(query), "UPDATE `users` SET `Clan`='0', `ClanRank`='0' WHERE `Name`='%s'", sName[playerid]);
					mysql_query(SQL, query);
		            ClanInfo[clanid][clSlots]++;
					format(query, sizeof(query), "UPDATE `clans` SET `Slots`='%d' WHERE `ID`='%d'", ClanInfo[clanid][clSlots], clanid);
					mysql_query(SQL, query);
			    }
			    case 1:
			    {
			        new szDialog[1024];
					format(szDialog, sizeof(szDialog), "Ce rank vrei sa ii acorzi membrului %s?\nScrie un rank valid (1-5).", sName[playerid]);
					ShowPlayerDialog(playerid, DIALOG_CLAN_GRANK, DIALOG_STYLE_INPUT, " ", szDialog, "Select", "Inapoi");
			    }
			}
		}
		case DIALOG_CLAN_GRANK:
		{
			if(!response) {
				new
				    szDialog[1024], szDialog2[1024],
				    Members, name[256],
				    szRank1[256];

				format(query, sizeof(query), "SELECT * FROM `users` WHERE `users`.`Clan` = '%d' ORDER BY `users`.`ClanRank` DESC LIMIT 50", PlayerInfo[playerid][pClan]);
				new Cache: result = mysql_query(SQL, query);

				for(new i, j = cache_get_row_count (); i != j; ++i)
				{
					cache_get_field_content(i, "name", name);
					cache_get_field_content(i, "ClanRank", szRank1);
					format(Selected[playerid][Members], MAX_PLAYER_NAME, name);
					if(Members==0)format(szDialog, sizeof(szDialog), "#\tNume\tRank\n%d.\t%s\t%d\n", Members+1, name, strval(szRank1));
					else format(szDialog, sizeof(szDialog), "%d.\t%s\t%d\n", Members+1, name, strval(szRank1));
					strcat(szDialog2, szDialog);
					Members++;
				}
				cache_delete(result);
				ShowPlayerDialog(playerid, DIALOG_CLAN_MEMBERS, DIALOG_STYLE_TABLIST_HEADERS, "Membrii clanului:", szDialog2, "Select", "Inapoi");
			    return 1;
			}
			if(strval(inputtext) <= 0 || strval(inputtext) >= 6) return SendClientMessage(playerid, COLOR_GREY, "Rank-ul este invalid. Trebuie sa fie cuprins intre 1 si 5!");
		    new
				userID = GetPlayerID(sName[playerid]),
				clanid = PlayerInfo[playerid][pClan];

			if(userID == playerid) return 1;
		    if(userID != INVALID_PLAYER_ID) {
				PlayerInfo[userID][pClanRank] = strval(inputtext);
				format(string, sizeof(string), "{%s}(CLAN) %s i-a dat rank %d lui %s.", ClanInfo[clanid][clColor], GetName(playerid), strval(inputtext), sName[playerid]);
		    }
		    else format(string, sizeof(string), "{%s}(CLAN) %s i-a dat rank %d lui %s (neconectat).", ClanInfo[clanid][clColor], GetName(playerid), strval(inputtext), sName[playerid]);
		    SendClanMessage(clanid, string);

			format(query, sizeof(query), "UPDATE `users` SET `ClanRank`='%d' WHERE `Name`='%s'", strval(inputtext), sName[playerid]);
			mysql_query(SQL, query);
		}

		case DIALOG_CLAN: {
			if(strlen(inputtext) < 2 || strlen(inputtext) > 10) {
				SendClientMessage(playerid, COLOR_GREY, "Numele clanului trebuie sa aiba intre 3 si 10 caractere.");
				if(sSlot[playerid] == 10) {
					ShowPlayerDialog(playerid, DIALOG_CLAN, DIALOG_STYLE_INPUT, "Achizitioneaza:", "{FFFFFF}Esti pe cale sa-ti creezi un {D10A0A}clan cu 10 locuri disponibile{FFFFFF}.\nTot ce trebuie sa faci in acest moment,\
					 este sa-ti alegi numele clanului.\nNumele clanului trebuie sa contina intre {D10A0A}3{FFFFFF} si {D10A0A}10{FFFFFF} caractere.", "Ok", "");
				}
				else if(sSlot[playerid] == 20) {
					ShowPlayerDialog(playerid, DIALOG_CLAN, DIALOG_STYLE_INPUT, "Achizitioneaza:", "{FFFFFF}Esti pe cale sa-ti creezi un {D10A0A}clan cu 20 locuri disponibile{FFFFFF}.\nTot ce trebuie sa faci in acest moment,\
					 este sa-ti alegi numele clanului.\nNumele clanului trebuie sa contina intre {D10A0A}3{FFFFFF} si {D10A0A}10{FFFFFF} caractere.", "Ok", "");
				}
				else if(sSlot[playerid] == 40) {
					ShowPlayerDialog(playerid, DIALOG_CLAN, DIALOG_STYLE_INPUT, "Achizitioneaza:", "{FFFFFF}Esti pe cale sa-ti creezi un {D10A0A}clan cu 40 locuri disponibile{FFFFFF}.\nTot ce trebuie sa faci in acest moment,\
					 este sa-ti alegi numele clanului.\nNumele clanului trebuie sa contina intre {D10A0A}3{FFFFFF} si {D10A0A}10{FFFFFF} caractere.", "Ok", "");
				}
				return 1;
			}

			new
			    szDate[256],
				Year, Month, Day, Hour, Minute, Second;

			getdate(Year, Month, Day);
			gettime(Hour, Minute, Second);

	        format(szDate, sizeof(szDate), "%02d/%02d/%d - %02d:%02d:%02d", Day, Month, Year, Hour, Minute, Second);
			mysql_format(SQL, query, 256, "INSERT INTO `clans` (`Name`, `Owner`, `RegisterDate`, `Color`, `Slots`) VALUES ('%e', '%e', '%e', 'FFFFFF', '%d')", inputtext, PlayerInfo[playerid][pUsername], szDate, sSlot[playerid]);
			new Cache: result = mysql_query(SQL, query);
			new i = cache_insert_id();
			cache_delete(result);

			ClanInfo[i][clSlots] = sSlot[playerid];
			format(ClanInfo[i][clName], 64, inputtext);
			format(ClanInfo[i][clOwner], 256, PlayerInfo[playerid][pUsername]);
			format(ClanInfo[i][clRegisterDate], 256, szDate);
			format(ClanInfo[i][clColor], 256, "FFFFFF");
			PlayerInfo[playerid][pClan] = i;
			PlayerInfo[playerid][pClanRank] = 6;

			new szText[256];
			format(szText, sizeof(szText), "{FFFFFF}Numele ales de tine este: {D10A0A}%s{FFFFFF}.\nCel de-al doilea pas, este de a alege tagul clanului.\nTagul clanului trebuie sa contina intre {D10A0A}3{FFFFFF} si {D10A0A}6{FFFFFF} caractere.", inputtext);
			ShowPlayerDialog(playerid, DIALOG_CLAN2, DIALOG_STYLE_INPUT, "Achizitioneaza:", szText, "Ok", "");

			format(query, sizeof(query), "UPDATE `users` SET `Clan`='%d', `ClanRank`='%d' WHERE `Name`='%s'", PlayerInfo[playerid][pClan], PlayerInfo[playerid][pClanRank], PlayerInfo[playerid][pUsername]);
			mysql_query(SQL, query);
		}
		case DIALOG_CLAN2: {
			if(strlen(inputtext) < 3 || strlen(inputtext) > 6) {
				SendClientMessage(playerid, COLOR_GREY, "Tagul clanului trebuie sa aiba intre 3 si 6 caractere.");
				new szText[256];
				format(szText, sizeof(szText), "{FFFFFF}Numele ales de tine este: {D10A0A}%s{FFFFFF}.\nCel de-al doilea pas, este de a alege tagul clanului.\nTagul clanului trebuie sa contina intre {D10A0A}3{FFFFFF} si {D10A0A}6{FFFFFF} caractere.", inputtext);
				ShowPlayerDialog(playerid, DIALOG_CLAN2, DIALOG_STYLE_INPUT, "Achizitioneaza:", szText, "Ok", "");
				return 1;
			}
			new clanid = PlayerInfo[playerid][pClan];
			format(ClanInfo[clanid][clTag], 32, inputtext);
			format(query, sizeof(query), "UPDATE `clans` SET `Tag`='%s' WHERE `ID`='%d'", inputtext, clanid);
			mysql_query(SQL, query);

			new szText[256];
			format(szText, sizeof(szText), "{D10A0A}%s{FFFFFF}Nume\nNume{D10A0A}%s", ClanInfo[clanid][clTag], ClanInfo[clanid][clTag]);

			ShowPlayerDialog(playerid, DIALOG_CLAN3, DIALOG_STYLE_LIST, "Alege pozitia:", szText, "Ok", "");
		}
		case DIALOG_CLAN3: {
			new
				szName[256],
				clanid = PlayerInfo[playerid][pClan];

			ClanInfo[clanid][clTagType] = listitem;

			format(string, sizeof(string), "Felicitari! Ti-ai cumparat din magazin, un clan cu %d locuri disponibile.", sSlot[playerid]);
			SendClientMessage(playerid, COLOR_GOLD, string);
            Update(playerid, pPremiumPointsx);
			format(string, sizeof(string), "Informatii: Numele clanului, este %s (tag: %s). [clan #%d]", ClanInfo[clanid][clName], ClanInfo[clanid][clTag], PlayerInfo[playerid][pClan]);
			SendClientMessage(playerid, COLOR_GOLD, string);

			format(query, sizeof(query), "UPDATE `clans` SET `TagType`='%d' WHERE `ID`='%d'", listitem, clanid);
			mysql_query(SQL, query);

			format(ClanInfo[clanid][clRankName1], 32, "Rank 1");
			format(ClanInfo[clanid][clRankName2], 32, "Rank 2");
			format(ClanInfo[clanid][clRankName3], 32, "Rank 3");
			format(ClanInfo[clanid][clRankName4], 32, "Rank 4");
			format(ClanInfo[clanid][clRankName5], 32, "Rank 5");
			format(ClanInfo[clanid][clRankName6], 32, "Rank 6");
			format(ClanInfo[clanid][clMotd], 32, "None");

			if(ClanInfo[clanid][clTagType] == 0) {
				format(szName, sizeof(szName), "%s%s", ClanInfo[clanid][clTag], PlayerInfo[playerid][pUsername]);
			}
			else if(ClanInfo[clanid][clTagType] == 1) {
				format(szName, sizeof(szName), "%s%s", PlayerInfo[playerid][pUsername], ClanInfo[clanid][clTag]);
			}
			SetPlayerName(playerid, szName);
		}
		case DIALOG_CLAN_SETTINGS:
		{
		    if(!response) return ShowPlayerDialog(playerid, DIALOG_CLAN_COMMAND, DIALOG_STYLE_LIST, "Clan:", "Comenzile clanului\nMembrii clanului\nSetari", "Select", "Cancel");
		    switch(listitem)
			{
			    case 0:
			    {
					ShowPlayerDialog(playerid, DIALOG_CLAN_COLOR, DIALOG_STYLE_INPUT, "Setari:", "Scrie mai jos culoarea clanului. (EX: FFFFFF - ALB)\nSite recomandat: http://www.colorpicker.com/", "Select", "Inapoi");
			    }
			    case 1:
			    {
					ShowPlayerDialog(playerid, DIALOG_CLAN_MOTD, DIALOG_STYLE_INPUT, "Setari:", "{FFFFFF}Introdu textul pe care vrei sa-l pui la MOTD.", "Select", "Inapoi");
			    }
			    case 2:
			    {
					ShowPlayerDialog(playerid, DIALOG_CLAN_RANK, DIALOG_STYLE_INPUT, "Setari:", "{FFFFFF}Introdu numele pe care vrei sa-l pui la rankuri.", "Select", "Inapoi");
			    }
			}
		}
		case DIALOG_CLAN_COLOR:
		{
            new clanid = PlayerInfo[playerid][pClan];
		    if(!response) return ShowPlayerDialog(playerid, DIALOG_CLAN_SETTINGS, DIALOG_STYLE_LIST , "Setarile clanului:", "{FFFFFF}Schimba culoarea\nSchimba MOTD-ul\nSchimba numele rankurilor", "Select", "Inapoi");
            if(strlen(inputtext) <= 0 || strlen(inputtext) > 6) return ShowPlayerDialog(playerid, DIALOG_CLAN_SETTINGS, DIALOG_STYLE_LIST , "Setarile clanului:", "{FFFFFF}Schimba culoarea\nSchimba MOTD-ul\nSchimba numele rankurilor", "Select", "Inapoi");
            format(ClanInfo[clanid][clColor], 256, inputtext);
			format(string, sizeof(string), "{%s}(CLAN) %s a schimbat culoarea la clan.", ClanInfo[clanid][clColor], GetName(playerid), inputtext);
			SendClanMessage(clanid, string);
			new tagname[256];
			for(new i = 0; i < 18; i++)
			{
			    if(GraffitiInfo[i][gfOwned] == PlayerInfo[playerid][pClan]) {
					DestroyDynamicObject(GraffitiInfo[i][gfObject]);
					GraffitiInfo[i][gfObject] = CreateDynamicObject(19353, GraffitiInfo[i][gfX], GraffitiInfo[i][gfY], GraffitiInfo[i][gfZ], 0.0, 0.0, GraffitiInfo[i][gfRot]);
					format(tagname, sizeof(tagname), "{%s}%s\n%s", ClanInfo[GraffitiInfo[i][gfOwned]][clColor], ClanInfo[GraffitiInfo[i][gfOwned]][clName], ClanInfo[GraffitiInfo[i][gfOwned]][clTag]);
				    SetDynamicObjectMaterialText(GraffitiInfo[i][gfObject], 0, tagname, OBJECT_MATERIAL_SIZE_512x256, "BankGothic Md BT", 60, 1, 0xfff0f0f0, 0, OBJECT_MATERIAL_TEXT_ALIGN_CENTER);
			    }
			}
			format(query, sizeof(query), "UPDATE `clans` SET `Color`='%s' WHERE `ID`='%d'", ClanInfo[clanid][clColor], clanid);
            mysql_query(SQL, query);
		}
		case DIALOG_CLAN_MOTD:
		{
		    if(!response) return ShowPlayerDialog(playerid, DIALOG_CLAN_SETTINGS, DIALOG_STYLE_LIST , "Setarile clanului:", "{FFFFFF}Schimba culoarea\nSchimba MOTD-ul\nSchimba numele rankurilor", "Select", "Inapoi");
		    new clanid = PlayerInfo[playerid][pClan];
			format(string, sizeof(string), "{%s}(CLAN) %s a schimbat MOTD clan in %s.", ClanInfo[clanid][clColor], GetName(playerid), inputtext);
			SendClanMessage(clanid, string);

		    format(ClanInfo[clanid][clMotd], 32, "%s", inputtext);
			format(query, sizeof(query), "UPDATE `clans` SET `Motd`='%s' WHERE `ID`='%d'", ClanInfo[clanid][clMotd], clanid);
            mysql_query(SQL, query);
		}
		case DIALOG_CLAN_RANK:
		{
		    if(!response) return ShowPlayerDialog(playerid, DIALOG_CLAN_SETTINGS, DIALOG_STYLE_LIST , "Setarile clanului:", "{FFFFFF}Schimba culoarea\nSchimba MOTD-ul\nSchimba numele rankurilor", "Select", "Inapoi");
		    format(string, 256, "%s", inputtext);
			format(szRank[playerid], 256, string);
			ShowPlayerDialog(playerid, DIALOG_CLAN_RANK2, DIALOG_STYLE_LIST, "Selecteaza rank-ul:", "Rank 1\nRank 2\nRank 3\nRank 4\nRank 5\nRank 6", "Schimba", "Inapoi");
		}
		case DIALOG_CLAN_RANK2:
		{
		    if(!response) return ShowPlayerDialog(playerid, DIALOG_CLAN_RANK, DIALOG_STYLE_INPUT, "Setarile clanului:", "{FFFFFF}Introdu numele pe care vrei sa-l pui la rankuri.", "Select", "Inapoi");
		    new
				ClanRank,
				clanid = PlayerInfo[playerid][pClan];

		    switch(listitem)
			{
			    case 0:
			    {
			        ClanRank = 1;
		    		format(ClanInfo[clanid][clRankName1], 32, "%s", szRank[playerid]);
					format(query, sizeof(query), "UPDATE `clans` SET `RankName1`='%s' WHERE `ID`='%d'", ClanInfo[clanid][clRankName1], clanid);
		            mysql_query(SQL, query);
			    }
			    case 1:
			    {
					ClanRank = 2;
		    		format(ClanInfo[clanid][clRankName2], 32, "%s", szRank[playerid]);
					format(query, sizeof(query), "UPDATE `clans` SET `RankName2`='%s' WHERE `ID`='%d'", ClanInfo[clanid][clRankName2], clanid);
		            mysql_query(SQL, query);
			    }
			    case 2:
			    {
					ClanRank = 3;
		    		format(ClanInfo[clanid][clRankName3], 32, "%s", szRank[playerid]);
					format(query, sizeof(query), "UPDATE `clans` SET `RankName3`='%s' WHERE `ID`='%d'", ClanInfo[clanid][clRankName3], clanid);
		            mysql_query(SQL, query);
			    }
			    case 3:
			    {
					ClanRank = 4;
		    		format(ClanInfo[clanid][clRankName4], 32, "%s", szRank[playerid]);
					format(query, sizeof(query), "UPDATE `clans` SET `RankName4`='%s' WHERE `ID`='%d'", ClanInfo[clanid][clRankName4], clanid);
		            mysql_query(SQL, query);
				}
			    case 4:
			    {
					ClanRank = 5;
		    		format(ClanInfo[clanid][clRankName5], 32, "%s", szRank[playerid]);
					format(query, sizeof(query), "UPDATE `clans` SET `RankName5`='%s' WHERE `ID`='%d'", ClanInfo[clanid][clRankName5], clanid);
		            mysql_query(SQL, query);
			    }
			    case 5:
			    {
					ClanRank = 6;
		    		format(ClanInfo[clanid][clRankName6], 32, "%s", szRank[playerid]);
					format(query, sizeof(query), "UPDATE `clans` SET `RankName6`='%s' WHERE `ID`='%d'", ClanInfo[clanid][clRankName6], clanid);
		            mysql_query(SQL, query);
			    }
			}
			format(string, sizeof(string), "{%s}(CLAN) %s a schimbat name rank %d in %s.", ClanInfo[clanid][clColor], GetName(playerid), ClanRank, szRank[playerid]);
			SendClanMessage(clanid, string);
		}
		case DIALOG_SHOP: {
			new szDialog[900];
			if(!response) { InShop[playerid] = 0; return 1; }
			switch(listitem) {
			    case 0: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi un {D10A0A}cont premium pentru o saptamana.\nPentru asta, ai nevoie de 3000 puncte premium.\n\n\
					Avantaje:\n- /togwhisper, /music (in alhambra)\n-Interes 0.2 la payday\n- 2 RP-uri o data la 5 ore\n- Poti avea 5 masini personale in total\n- +25%% la joburi.\n- Iti raman RP-urile pastrate dupa /buylevel.");
				}
			    case 1: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi un {D10A0A}cont premium pentru o luna.\nPentru asta, ai nevoie de 3000 puncte premium.\n\n\
					Avantaje:\n- /togwhisper, /music (in alhambra)\n-Interes 0.2 la payday\n- 2 RP-uri o data la 5 ore\n- Poti avea 5 masini personale in total\n- +25%% la joburi.\n- Iti raman RP-urile pastrate dupa /buylevel.");
				}
				case 2: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi un {D10A0A}clan cu 10 locuri disponibile.\nPentru asta, ai nevoie de 1000 puncte premium.\n\n\
					Avantaje:\n- Clan permanent\n- Poti invita 10 playeri");
				}
				case 3: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi un {D10A0A}clan cu 20 locuri disponibile.\nPentru asta, ai nevoie de 2000 puncte premium.\n\n\
					Avantaje:\n- Clan permanent\n- Poti invita 20 playeri");
				}
				case 4: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi un {D10A0A}clan cu 40 locuri disponibile.\nPentru asta, ai nevoie de 3000 puncte premium.\n\n\
					Avantaje:\n- Clan permanent\n- Poti invita 40 playeri");
				}
				case 5: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi 500,000.\nPentru asta, ai nevoie de 200 punct gold.\n\n\
					Avantaje:\n- Primesti $500,000");
				}
				case 6: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi 1,000,000.\nPentru asta, ai nevoie de 400 punct gold.\n\n\
					Avantaje:\n- Primesti $1,000,000");
				}
				case 7: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi 1,500,000.\nPentru asta, ai nevoie de 600 punct gold.\n\n\
					Avantaje:\n- Primesti $1,500,000");
				}
				case 8: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi 2,000,000.\nPentru asta, ai nevoie de 800 punct gold.\n\n\
					Avantaje:\n- Primesti $2,000,000");
				}
				case 9: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi 2,500,000.\nPentru asta, ai nevoie de 1000 punct gold.\n\n\
					Avantaje:\n- Primesti $2,500,000");
				}		
				case 10: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi 3,000,000.\nPentru asta, ai nevoie de 1200 punct gold.\n\n\
					Avantaje:\n- Primesti $3,000,000");
				}
				case 11: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi 3,500,000.\nPentru asta, ai nevoie de 1400 punct gold.\n\n\
					Avantaje:\n- Primesti $3,500,000");
				}		
				case 12: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi 4,000,000.\nPentru asta, ai nevoie de 1600 punct gold.\n\n\
					Avantaje:\n- Primesti $4,000,000");
				}
				case 13: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi 4,500,000.\nPentru asta, ai nevoie de 1800 punct gold.\n\n\
					Avantaje:\n- Primesti $4,500,000");
				}	
				case 14: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi 5,000,000.\nPentru asta, ai nevoie de 2000 punct gold.\n\n\
					Avantaje:\n- Primesti $5,000,000");
				}					
				case 15: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi schimbarea interiorului(casa).\nPentru asta, ai nevoie de 2500 punct gold.\n\n\
					Avantaje:\n- Iti poti pune orice fel de interior in casa.");
				}
				case 16: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi stergerea kilometrilor (vehicul).\nPentru asta, ai nevoie de 100 punct gold.\n\n\
					Avantaje:\n- Poti reseta kilometrii unui vehicul personal.");
				}
				case 17: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi o {D10A0A}culoare speciala.\nPentru asta, ai nevoie de 1000 punct gold.\n\n\
					Avantaje:\n- Poti pune o culoare speciala (128-255) pe un vehicul personal.");
				}
				case 18: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi stergerea FPunish.\nPentru asta, ai nevoie de 200 punct gold.\n\n\
					Avantaje:\n- Iti poti sterge FPunish-ul.");
				}
				case 19: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi stergerea warn-uri.\nPentru asta, ai nevoie de 200 punct gold.\n\n\
					Avantaje:\n- Iti poti sterge Warn-urile.");
				}
				case 20: {
					format(szDialog, sizeof(szDialog), "Esti pe cale sa-ti achizitionezi un slot pentru vehicule.\nPentru asta, ai nevoie de 1000 punct gold.");
				}				
			}
			SelectedItem[playerid] = listitem;
			ShowPlayerDialog(playerid, DIALOG_SHOP1, DIALOG_STYLE_MSGBOX, "Achizitioneaza:", szDialog, "Ok", "Cancel");
		}
		case DIALOG_SHOP1: {
			if(!response) { InShop[playerid] = 0; return 1; }
		    switch(SelectedItem[playerid]) {
		        case 0: {
	            	if(PlayerInfo[playerid][pPremiumPoints] < 350) return SCM(playerid, COLOR_GREY, "Ai nevoie de 350 puncte premium pentru a lua acest produs.");
		            if(PlayerInfo[playerid][pPremiumAccount] >= 1) return SCM(playerid, -1, "Contul tau deja este Premium.");
		            SCM(playerid, COLOR_GOLD, "Felicitari! Contul tau, este acum, unul de tip Premium pe o perioada de o saptamana.");
                    lastpremium[playerid] = gettime();
				    PlayerInfo[playerid][pPremiumAccount] = 1;
					format(query, 256, "UPDATE `users` SET `PremiumDate`='%d' WHERE ID='%d'", gettime( ), PlayerInfo[playerid][pSQLID]);
					printf(query);
					mysql_query(SQL, query);
			        Update(playerid, pPremiumAccountx);
		            PlayerInfo[playerid][pPremiumPoints]-=350;
		        }
		        case 1: {
	            	if(PlayerInfo[playerid][pPremiumPoints] < 850) return SCM(playerid, COLOR_GREY, "Ai nevoie de 850 puncte premium pentru a lua acest produs.");
		            if(PlayerInfo[playerid][pPremiumAccount] >= 1) return SCM(playerid, -1, "Contul tau deja este Premium.");
		            SCM(playerid, COLOR_GOLD, "Felicitari! Contul tau, este acum, unul de tip Premium pe o perioada de o luna.");
		            lastpremium[playerid] = gettime();
		            PlayerInfo[playerid][pPremiumAccount] = 2;
					format(query, 256, "UPDATE `users` SET `PremiumDate`='%d' WHERE ID='%d'", gettime( ), PlayerInfo[playerid][pSQLID]);
					printf(query);
					mysql_query(SQL, query);
		            Update(playerid, pPremiumAccountx);
		            PlayerInfo[playerid][pPremiumPoints]-=850;
		        }
		        case 2: {
		            if(PlayerInfo[playerid][pPremiumPoints] < 1000) return SCM(playerid, COLOR_GREY, "Ai nevoie de 1000 puncte premium pentru a lua acest produs.");
		            if(PlayerInfo[playerid][pClanRank] == 6) return SendClientMessage(playerid, COLOR_GREY, "Ai deja un clan.");
		            if(PlayerInfo[playerid][pClan] != 0) return SendClientMessage(playerid, COLOR_GREY, "Faci parte dintr-un clan deja.");
		            sSlot[playerid] = 10;
		            PlayerInfo[playerid][pPremiumPoints]-=1000;
					ShowPlayerDialog(playerid, DIALOG_CLAN, DIALOG_STYLE_INPUT, "Achizitioneaza:", "{FFFFFF}Esti pe cale sa-ti creezi un {D10A0A}clan cu 10 locuri disponibile{FFFFFF}.\nTot ce trebuie sa faci in acest moment,\
					 este sa-ti alegi numele clanului.\nNumele clanului trebuie sa contina intre {D10A0A}3{FFFFFF} si {D10A0A}10{FFFFFF} caractere.", "Ok", "");
		        }
		        case 3: {
		            if(PlayerInfo[playerid][pPremiumPoints] < 2000) return SCM(playerid, COLOR_GREY, "Ai nevoie de 2000 puncte premium pentru a lua acest produs.");
		            if(PlayerInfo[playerid][pClanRank] == 6) return SendClientMessage(playerid, COLOR_GREY, "Ai deja un clan.");
		            if(PlayerInfo[playerid][pClan] != 0) return SendClientMessage(playerid, COLOR_GREY, "Faci parte dintr-un clan deja.");
		            sSlot[playerid] = 20;
		            PlayerInfo[playerid][pPremiumPoints]-=2000;
					ShowPlayerDialog(playerid, DIALOG_CLAN, DIALOG_STYLE_INPUT, "Achizitioneaza:", "{FFFFFF}Esti pe cale sa-ti creezi un {D10A0A}clan cu 20 locuri disponibile{FFFFFF}.\nTot ce trebuie sa faci in acest moment,\
					 este sa-ti alegi numele clanului.\nNumele clanului trebuie sa contina intre {D10A0A}3{FFFFFF} si {D10A0A}10{FFFFFF} caractere.", "Ok", "");
		        }
		        case 4: {
		            if(PlayerInfo[playerid][pPremiumPoints] < 3000) return SCM(playerid, COLOR_GREY, "Ai nevoie de 3000 puncte premium pentru a lua acest produs.");
		            if(PlayerInfo[playerid][pClanRank] == 6) return SendClientMessage(playerid, COLOR_GREY, "Ai deja un clan.");
		            if(PlayerInfo[playerid][pClan] != 0) return SendClientMessage(playerid, COLOR_GREY, "Faci parte dintr-un clan deja.");
		            sSlot[playerid] = 40;
		            PlayerInfo[playerid][pPremiumPoints]-=3000;
					ShowPlayerDialog(playerid, DIALOG_CLAN, DIALOG_STYLE_INPUT, "Achizitioneaza:", "{FFFFFF}Esti pe cale sa-ti creezi un {D10A0A}clan cu 40 locuri disponibile{FFFFFF}.\nTot ce trebuie sa faci in acest moment,\
					 este sa-ti alegi numele clanului.\nNumele clanului trebuie sa contina intre {D10A0A}3{FFFFFF} si {D10A0A}10{FFFFFF} caractere.", "Ok", "");
			    }
				case 5: {
		            if(PlayerInfo[playerid][pPremiumPoints] < 200) return SCM(playerid, COLOR_GREY, "Ai nevoie de 200 puncte premium pentru a lua acest produs.");
		            GivePlayerCash(playerid, 500000);
		            PlayerInfo[playerid][pPremiumPoints]-=200;
		            format(string, sizeof(string), "Felicitari! Ti-ai cumparat $500,000 din magazin. Acum, ai $%s bani in mana!", FormatNumber(GetPlayerCash(playerid)));
					SCM(playerid, COLOR_GOLD, string);
				}
				case 6: {
		            if(PlayerInfo[playerid][pPremiumPoints] < 400) return SCM(playerid, COLOR_GREY, "Ai nevoie de 400 puncte premium pentru a lua acest produs.");
		            GivePlayerCash(playerid, 1000000);
		            PlayerInfo[playerid][pPremiumPoints]-=400;
		            format(string, sizeof(string), "Felicitari! Ti-ai cumparat $1,000,000 din magazin. Acum, ai $%s bani in mana!", FormatNumber(GetPlayerCash(playerid)));
					SCM(playerid, COLOR_GOLD, string);
				}
				case 7: {
		            if(PlayerInfo[playerid][pPremiumPoints] < 600) return SCM(playerid, COLOR_GREY, "Ai nevoie de 600 puncte premium pentru a lua acest produs.");
		            GivePlayerCash(playerid, 1500000);
		            PlayerInfo[playerid][pPremiumPoints]-=600;
		            format(string, sizeof(string), "Felicitari! Ti-ai cumparat $1,500,000 din magazin. Acum, ai $%s bani in mana!", FormatNumber(GetPlayerCash(playerid)));
					SCM(playerid, COLOR_GOLD, string);
				}
				case 8: {
		            if(PlayerInfo[playerid][pPremiumPoints] < 800) return SCM(playerid, COLOR_GREY, "Ai nevoie de 800 puncte premium pentru a lua acest produs.");
		            GivePlayerCash(playerid, 2000000);
		            PlayerInfo[playerid][pPremiumPoints]-=800;
		            format(string, sizeof(string), "Felicitari! Ti-ai cumparat $2,000,000 din magazin. Acum, ai $%s bani in mana!", FormatNumber(GetPlayerCash(playerid)));
					SCM(playerid, COLOR_GOLD, string);
				}
				case 9: {
		            if(PlayerInfo[playerid][pPremiumPoints] < 1000) return SCM(playerid, COLOR_GREY, "Ai nevoie de 1000 puncte premium pentru a lua acest produs.");
		            GivePlayerCash(playerid, 2500000);
		            PlayerInfo[playerid][pPremiumPoints]-=1000;
		            format(string, sizeof(string), "Felicitari! Ti-ai cumparat $2,500,000 din magazin. Acum, ai $%s bani in mana!", FormatNumber(GetPlayerCash(playerid)));
					SCM(playerid, COLOR_GOLD, string);
				}
				case 10: {
		            if(PlayerInfo[playerid][pPremiumPoints] < 1200) return SCM(playerid, COLOR_GREY, "Ai nevoie de 1200 puncte premium pentru a lua acest produs.");
		            GivePlayerCash(playerid, 3000000);
		            PlayerInfo[playerid][pPremiumPoints]-=1200;
		            format(string, sizeof(string), "Felicitari! Ti-ai cumparat $3,000,000 din magazin. Acum, ai $%s bani in mana!", FormatNumber(GetPlayerCash(playerid)));
					SCM(playerid, COLOR_GOLD, string);
				}
				case 11: {
		            if(PlayerInfo[playerid][pPremiumPoints] < 1400) return SCM(playerid, COLOR_GREY, "Ai nevoie de 1400 puncte premium pentru a lua acest produs.");
		            GivePlayerCash(playerid, 3500000);
		            PlayerInfo[playerid][pPremiumPoints]-=1400;
		            format(string, sizeof(string), "Felicitari! Ti-ai cumparat $3,500,000 din magazin. Acum, ai $%s bani in mana!", FormatNumber(GetPlayerCash(playerid)));
					SCM(playerid, COLOR_GOLD, string);
				}
				case 12: {
		            if(PlayerInfo[playerid][pPremiumPoints] < 1600) return SCM(playerid, COLOR_GREY, "Ai nevoie de 1600 puncte premium pentru a lua acest produs.");
		            GivePlayerCash(playerid, 4000000);
		            PlayerInfo[playerid][pPremiumPoints]-=1600;
		            format(string, sizeof(string), "Felicitari! Ti-ai cumparat $4,000,000 din magazin. Acum, ai $%s bani in mana!", FormatNumber(GetPlayerCash(playerid)));
					SCM(playerid, COLOR_GOLD, string);
				}
				case 13: {
		            if(PlayerInfo[playerid][pPremiumPoints] < 1800) return SCM(playerid, COLOR_GREY, "Ai nevoie de 1800 puncte premium pentru a lua acest produs.");
		            GivePlayerCash(playerid, 4500000);
		            PlayerInfo[playerid][pPremiumPoints]-=1800;
		            format(string, sizeof(string), "Felicitari! Ti-ai cumparat $4,500,000 din magazin. Acum, ai $%s bani in mana!", FormatNumber(GetPlayerCash(playerid)));
					SCM(playerid, COLOR_GOLD, string);
				}
				case 14: {
		            if(PlayerInfo[playerid][pPremiumPoints] < 2000) return SCM(playerid, COLOR_GREY, "Ai nevoie de 2000 puncte premium pentru a lua acest produs.");
		            GivePlayerCash(playerid, 5000000);
		            PlayerInfo[playerid][pPremiumPoints]-=2000;
		            format(string, sizeof(string), "Felicitari! Ti-ai cumparat $5,000,000 din magazin. Acum, ai $%s bani in mana!", FormatNumber(GetPlayerCash(playerid)));
					SCM(playerid, COLOR_GOLD, string);
				}
				case 15: {
		            if(PlayerInfo[playerid][pPremiumPoints] < 2500) return SCM(playerid, COLOR_GREY, "Ai nevoie de 2500 puncte premium pentru a lua acest produs.");
					new bouse = PlayerInfo[playerid][pHouse],playername[25];
					GetPlayerName(playerid, playername, sizeof(playername));
					if(bouse != 999 && strcmp(GetName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true) == 0)
					{
						SInterior[playerid] = 1;
						GetPlayerPos(playerid, pPos[playerid][0], pPos[playerid][1], pPos[playerid][2]);
	                    pInteriorID[playerid] = GetPlayerInterior(playerid), pVirtual[playerid] = GetPlayerVirtualWorld(playerid);
      					SetInteriorCamera(playerid);
      					PlayerTextDrawSetString(playerid, ShopTDs[1], "Cumpara");
						ShowShopTDs(playerid);
						SetPlayerVirtualWorld(playerid, playerid+900);
					}
					else return SendClientMessage(playerid, COLOR_GREY, "Nu detii o casa.");
				}
				case 16: {
		            if(PlayerInfo[playerid][pPremiumPoints] < 100) return SCM(playerid, COLOR_GREY, "Ai nevoie de 100 puncte premium pentru a lua acest produs.");
					if(!IsPlayerInAnyVehicle(playerid)) return SCM(playerid, COLOR_GREY, "Nu esti intr-un vehicul!");
					new idd;
					new valid = PlayerInfo[playerid][pCarKey][0] + PlayerInfo[playerid][pCarKey][1] + PlayerInfo[playerid][pCarKey][2] + PlayerInfo[playerid][pCarKey][3] + PlayerInfo[playerid][pCarKey][4];
					if(valid == 0) return SendClientMessage(playerid, COLOR_GREY, "Acest vehicul nu iti apartine!");
					new car = GetPlayerVehicleID(playerid);
					if(PersonalCar(playerid) == -1) return SCM(playerid, COLOR_LGREEN, "* Nu esti in unul dintre vehiculele tale personale!");
					idd = PersonalCar(playerid);
					if(idd == 0) return SendClientMessage(playerid, COLOR_GREY, "Acest vehicul nu iti apartine!");
					if(CarInfo[idd][Spawned] != car) return SendClientMessage(playerid, COLOR_GREY, "Nu esti in vehiculul tau personal");
                    pCar[playerid] = idd;
                    ShowPlayerDialog(playerid, DIALOG_RESETKM, DIALOG_STYLE_MSGBOX, "Achizitioneaza:", "{FFFFFF}Esti sigur ca vrei sa {D10A0A}resetezi kilometrii{FFFFFF} acestui vehicul?", "Da", "Inapoi");
				}
				case 17: {
		            if(PlayerInfo[playerid][pPremiumPoints] < 1000) return SCM(playerid, COLOR_GREY, "Ai nevoie de 1000 puncte premium pentru a lua acest produs.");
					if(!IsPlayerInAnyVehicle(playerid)) return SCM(playerid, COLOR_GREY, "Nu esti intr-un vehicul!");
					new idd;
					new valid = PlayerInfo[playerid][pCarKey][0] + PlayerInfo[playerid][pCarKey][1] + PlayerInfo[playerid][pCarKey][2] + PlayerInfo[playerid][pCarKey][3] + PlayerInfo[playerid][pCarKey][4];
					if(valid == 0) return SendClientMessage(playerid, COLOR_GREY, "Acest vehicul nu iti apartine!");
					new car = GetPlayerVehicleID(playerid);
					if(PersonalCar(playerid) == -1) return SCM(playerid, COLOR_LGREEN, "* Nu esti in unul dintre vehiculele tale personale!");
					idd = PersonalCar(playerid);
					if(idd == 0) return SendClientMessage(playerid, COLOR_GREY, "Acest vehicul nu iti apartine!");
					if(CarInfo[idd][Spawned] != car) return SendClientMessage(playerid, COLOR_GREY, "Nu esti in vehiculul tau personal");
                    pCarID[playerid] = CarInfo[idd][Spawned];
					GetPlayerPos(playerid, pPos[playerid][0], pPos[playerid][1], pPos[playerid][2]);
                    pInteriorID[playerid] = GetPlayerInterior(playerid), pVirtual[playerid] = GetPlayerVirtualWorld(playerid);
					SetVehiclePos(car, -1948.0808, 258.7329, 40.7669);
					SetVehicleVirtualWorld(car, playerid+1);
					SetPlayerVirtualWorld(playerid, playerid+1);
					SetPlayerCameraPos(playerid, -1956.2145, 261.2427, 42.3533);
					SetPlayerCameraLookAt(playerid, -1955.2532, 260.9547, 42.1530);
					SetVehicleZAngle(car, 46.4705);
					InShop[playerid] = 1;
					pCar[playerid] = idd;
					TextDrawShowForPlayer(playerid, HiddTD[0]);
					TextDrawShowForPlayer(playerid, HiddTD[1]);
					TextDrawShowForPlayer(playerid, HiddTD[2]);
					TextDrawShowForPlayer(playerid, HiddTD[3]);
					TextDrawShowForPlayer(playerid, HiddTD[4]);
					PlayerTextDrawShow(playerid, HiddTDs[0]);
					PlayerTextDrawShow(playerid, HiddTDs[1]);
					PlayerTextDrawShow(playerid, HiddTDs[2]);
					SelectTextDraw(playerid, 0xFF0000FF);
					PlayerTextDrawSetString(playerid, HiddTDs[0], "Color 1: 128");
					PlayerTextDrawSetString(playerid, HiddTDs[2], "Color 2: 128");
					pColor1[playerid] = 128;
					pColor2[playerid] = 128;
					ChangeVehicleColor(GetPlayerVehicleID(playerid), pColor2[playerid], pColor2[playerid]);
				}
				case 18: {
		            if(PlayerInfo[playerid][pPremiumPoints] < 200) return SCM(playerid, COLOR_GREY, "Ai nevoie de 200 puncte premium pentru a lua acest produs.");
					if(PlayerInfo[playerid][pFpunish] == 0) return SCM(playerid, COLOR_GREY, "Nu ai faction punish.");
					PlayerInfo[playerid][pPremiumPoints] -= 200;
					PlayerInfo[playerid][pFpunish] = 0;
					Update(playerid, pFpunishx);
				}
				case 19: {
		            if(PlayerInfo[playerid][pPremiumPoints] < 200) return SCM(playerid, COLOR_GREY, "Ai nevoie de 200 puncte premium pentru a lua acest produs.");
					if(PlayerInfo[playerid][pWarns] == 0) return SCM(playerid, COLOR_GREY, "Nu ai warn-uri.");
					PlayerInfo[playerid][pPremiumPoints] -= 200;
					PlayerInfo[playerid][pWarns] = 0;
					Update(playerid, pWarnsx);
				}
				case 20: {
		            if(PlayerInfo[playerid][pPremiumPoints] < 1000) return SCM(playerid, COLOR_GREY, "Ai nevoie de 200 puncte premium pentru a lua acest produs.");
					if(GetSlots(playerid) == 10) return SCM(playerid, -1, "Ai numarul maxim de sloturi!");
					if(PlayerInfo[playerid][pSlot][0] == 0) PlayerInfo[playerid][pSlot][0] = 1;
					else if(PlayerInfo[playerid][pSlot][1] == 0) PlayerInfo[playerid][pSlot][1] = 1;
					else if(PlayerInfo[playerid][pSlot][2] == 0) PlayerInfo[playerid][pSlot][2] = 1;
					else if(PlayerInfo[playerid][pSlot][3] == 0) PlayerInfo[playerid][pSlot][3] = 1;
					else if(PlayerInfo[playerid][pSlot][4] == 0) PlayerInfo[playerid][pSlot][4] = 1;		
					UpdateSlots(playerid);
					PlayerInfo[playerid][pPremiumPoints] -= 1000;
					SCM(playerid, COLOR_GOLD, "Ti-ai cumparat un slot pentru vehicule in schimbul a 800 puncte premium.");	
				}				
		    }
		    Update(playerid, pPremiumPointsx);
		}
		case DIALOG_CHANGENAME: {
			if(!response) return ShowShop(playerid);
			if(strlen(inputtext) < 2 || strlen(inputtext) > 24) {
				SendClientMessage(playerid, COLOR_GREY, "Numele trebuie sa aiba intre 3 si 24 caractere.");
				ShowPlayerDialog(playerid, DIALOG_CHANGENAME, DIALOG_STYLE_INPUT, "Achizitioneaza:", "{FFFFFF}Esti pe cale sa-ti creezi {D10A0A}schimbi numele{FFFFFF}.\nTot ce trebuie sa faci in acest moment, este sa-ti alegi un nume care nu este luat de altcineva.\nLimita este de 3{FFFFFF} si {D10A0A}24{FFFFFF} caractere.", "Ok", "Inapoi");
			}
	        new cont = MySQLCheckAccount(inputtext);
	        if(cont == 1) {
				ShowPlayerDialog(playerid, DIALOG_CHANGENAME, DIALOG_STYLE_INPUT, "Achizitioneaza:", "{FFFFFF}Esti pe cale sa-ti creezi {D10A0A}schimbi numele{FFFFFF}.\nTot ce trebuie sa faci in acest moment, este sa-ti alegi un nume care nu este luat de altcineva.\nLimita este de 3{FFFFFF} si {D10A0A}24{FFFFFF} caractere.", "Ok", "Inapoi");
				SCM(playerid, COLOR_GREY, "Acest nume este deja luat. Alege-ti altul!");
				return 1;
		    }
		    PlayerInfo[playerid][pPremiumPoints] -= 30;
		    Update(playerid, pPremiumPointsx);
		    format(string, sizeof(string), "Felicitari! Ti-ai schimbat numele in %s.", inputtext);
			SCM(playerid, COLOR_GOLD, string);
			SetPlayerName(playerid, inputtext);
			GetPlayerName(playerid, PlayerInfo[playerid][pUsername], MAX_PLAYER_NAME);
			new clanid = PlayerInfo[playerid][pClan];
			if(clanid != 0) SCM(playerid, COLOR_GOLD, "Deoarece faci parte dintr-un clan, tagul ti-a fost dat inapoi fara sa se intample vreo problema.");
			if(PlayerInfo[playerid][pClan] != 0 && ClanInfo[clanid][clTagType] == 0) {
			    format(string, sizeof(string), "%s%s", ClanInfo[clanid][clTag], PlayerInfo[playerid][pUsername]);
			    SetPlayerName(playerid, string);
			}
			else if(PlayerInfo[playerid][pClan] != 0 && ClanInfo[clanid][clTagType] == 1) {
			    format(string, sizeof(string), "%s%s", PlayerInfo[playerid][pUsername], ClanInfo[clanid][clTag]);
			    SetPlayerName(playerid, string);
			}
			format(query, sizeof(query), "UPDATE `users` SET `Name`='%s' WHERE `ID`='%d'", GetName(playerid), PlayerInfo[playerid][pSQLID]);
			mysql_query(SQL, query);
		}
		case DIALOG_SHOW: {
			if(!response) return 1;
			switch(listitem) {
			    case 0: {
					if(PlayerInfo[playerid][pShowJob] == 0) {
					    if(PlayerInfo[playerid][pShowFaction] == 1) {
					        SCM(playerid, COLOR_GREY, "Nu poti folosi in acelasi timp si optiunea de a vedea 'Informatiile despre factiune' atata timp [...]");
					        SCM(playerid, COLOR_YELLOW2, "[...] cat activezi si aceasta optiune deoarece s-ar putea creea buguri.");
					        return 1;
					    }
					    SCM(playerid, COLOR_WHITE, "Ai activat optiunea de a vedea informatii despre job.");
					    SCM(playerid, COLOR_WHITE, "Vei vedea detaliile despre job automat in momentul in care muncesti.");
					    PlayerInfo[playerid][pShowJob] = 1;
					}
					else {
					    SCM(playerid, COLOR_WHITE, "Ai dezactivat optiunea de a vedea informatii despre job.");
					    SCM(playerid, COLOR_WHITE, "Acum, nu vei mai vedea detaliile despre job.");
					    PlayerInfo[playerid][pShowJob] = 0;
					    if(JobWorking[playerid] == 1) PlayerTextDrawHide(playerid, JobTD);
					}
				}
			    case 1: {
					if(PlayerInfo[playerid][pShowFP] == 0) {
					    SCM(playerid, COLOR_WHITE, "Ai activat optiunea de a vedea FPS-urile & Ping-ul.");
					    PlayerInfo[playerid][pShowFP] = 1;
					}
					else {
					    SCM(playerid, COLOR_WHITE, "Ai dezactivat optiunea de a vedea FPS-urile & Ping-ul.");
					    PlayerInfo[playerid][pShowFP] = 0;
					    PlayerTextDrawSetString(playerid, ShowTD, "FPS: ~y~Se incarca...~w~~h~~n~Ping: ~y~Se incarca...");
					    PlayerTextDrawHide(playerid, ShowTD);
					}
			    }
			    case 2: {
					if(PlayerInfo[playerid][pShowFaction] == 0) {
					    if(PlayerInfo[playerid][pMember] == 0) return SCM(playerid, COLOR_GREY, "Aceasta optiune este disponibila doar membrilor factiuniilor.");
					    if(PlayerInfo[playerid][pShowJob] == 1) {
					        SCM(playerid, COLOR_GREY, "Nu poti folosi in acelasi timp si optiunea de a vedea 'Informatiile despre factiune' atata timp [...]");
					        SCM(playerid, COLOR_YELLOW2, "[...] cat activezi si aceasta optiune deoarece s-ar putea creea buguri.");
					        return 1;
					    }
					    SCM(playerid, COLOR_WHITE, "Ai activat optiunea de a vedea informatiile despre factiune.");
					    PlayerInfo[playerid][pShowFaction] = 1;
					}
					else {
					    SCM(playerid, COLOR_WHITE, "Ai dezactivat optiunea de a vedea informatiile despre factiune.");
					    PlayerInfo[playerid][pShowFaction] = 0;
					    PlayerTextDrawHide(playerid, JobTD);
					}
			    }
			}
			Update(playerid, pShowJobx);
			Update(playerid, pShowFPx);
			Update(playerid, pShowLogox);
			Update(playerid, pShowCeasx);
			Update(playerid, pShowFactionx);
		}

		case DIALOG_EDITJOB: {
			if(!response) return 1;
			if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid,COLOR_ERROR,AdminOnly);
			switch(listitem) {
				case 0: ShowPlayerDialog(playerid, DIALOG_EDITJOB+1, DIALOG_STYLE_INPUT, "Job Nume:", "Scrie putin mai jos valoarea care vrei sa o aiba aceasta variabila.", "Ok", "Cancel");
				case 1: ShowPlayerDialog(playerid, DIALOG_EDITJOB+1, DIALOG_STYLE_INPUT, "Nivel:", "Scrie putin mai jos valoarea care vrei sa o aiba aceasta variabila.", "Ok", "Cancel");
				case 2: ShowPlayerDialog(playerid, DIALOG_EDITJOB+1, DIALOG_STYLE_INPUT, "Position:", "Scrie putin mai jos valoarea care vrei sa o aiba aceasta variabila.\nSintaxa: x, y, z", "Ok", "Cancel");
				case 3: ShowPlayerDialog(playerid, DIALOG_EDITJOB+1, DIALOG_STYLE_INPUT, "Type:", "Scrie putin mai jos valoarea care vrei sa o aiba aceasta variabila.", "Ok", "Cancel");
				case 4: ShowPlayerDialog(playerid, DIALOG_EDITJOB+1, DIALOG_STYLE_INPUT, "Skill 1 Veh:", "Scrie putin mai jos valoarea care vrei sa o aiba aceasta variabila.", "Ok", "Cancel");
				case 5: ShowPlayerDialog(playerid, DIALOG_EDITJOB+1, DIALOG_STYLE_INPUT, "Skill 2 Veh:", "Scrie putin mai jos valoarea care vrei sa o aiba aceasta variabila.", "Ok", "Cancel");
				case 6: ShowPlayerDialog(playerid, DIALOG_EDITJOB+1, DIALOG_STYLE_INPUT, "Skill 3 Veh:", "Scrie putin mai jos valoarea care vrei sa o aiba aceasta variabila.", "Ok", "Cancel");
				case 7: ShowPlayerDialog(playerid, DIALOG_EDITJOB+1, DIALOG_STYLE_INPUT, "Skill 4 Veh:", "Scrie putin mai jos valoarea care vrei sa o aiba aceasta variabila.", "Ok", "Cancel");
				case 8: ShowPlayerDialog(playerid, DIALOG_EDITJOB+1, DIALOG_STYLE_INPUT, "Skill 5 Veh:", "Scrie putin mai jos valoarea care vrei sa o aiba aceasta variabila.", "Ok", "Cancel");
			}
			EditJob[playerid] = listitem;
		}

		case DIALOG_EDITJOB+1: {
			new
				amount = strval(inputtext),
				job = EditJobID[playerid];

			if(!response) {
				new szTitle[256], szDialog[1024];
				format(szDialog, sizeof(szDialog),
					"Job Name\t\t%s\nLevel\t\t%d\nPosition\t\t%f, %f, %f\nLegal\t\t%d\n\
					Skill 1 Veh\t\t%d\nSkill 2 Veh\t\t%d\nSkill 3 Veh\t\t%d\nSkill 4 Veh\t\t%d\nSkill 5 Veh\t\t%d\nSkill 6 Veh\t\t%d",
				JobInfo[job][jName], JobInfo[job][jLevel], JobInfo[job][jPosX], JobInfo[job][jPosY],
				JobInfo[job][jPosZ], JobInfo[job][jLegal], JobInfo[job][jSkill1Veh], JobInfo[job][jSkill2Veh], JobInfo[job][jSkill3Veh], JobInfo[job][jSkill4Veh],
				JobInfo[job][jSkill5Veh], JobInfo[job][jSkill6Veh]);
				format(szTitle, sizeof(szTitle), "Edit job %d", job);
				ShowPlayerDialog(playerid, DIALOG_EDITJOB, DIALOG_STYLE_TABLIST, szTitle, szDialog, "Select", "Cancel");
				return 1;
			}
			if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid,COLOR_ERROR,AdminOnly);
			switch(EditJob[playerid]) {
				case 0: {
					format(JobInfo[job][jName], 64, inputtext);
					format(string, sizeof(string), "Ai modificat 'Job Name' la jobul cu ID-ul %d, in: %s.", job, inputtext);
					SendClientMessage(playerid, COLOR_WHITE, string);
					DestroyDynamic3DTextLabel(JobInfo[job][jLabel]);
					DestroyDynamicPickup(JobInfo[job][jPickup]);
					format(string, sizeof(string), "{D10A0A}Job %s{FFFFFF}\nPentru a lua acest job, ai nevoie de nivel {D10A0A}%d{FFFFFF}.\nScrie {D10A0A}/getjob{FFFFFF} pentru a lua acest job.", JobInfo[job][jName], JobInfo[job][jLevel]);
					JobInfo[job][jLabel] = CreateDynamic3DTextLabel(string, 0xFFFFFF99, JobInfo[job][jPosX], JobInfo[job][jPosY], JobInfo[job][jPosZ], 25, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 1, -1, -1, -1, 100.0);
					JobInfo[job][jPickup] = CreateDynamicPickup(1275, 23, JobInfo[job][jPosX], JobInfo[job][jPosY], JobInfo[job][jPosZ], -1, -1, -1, 100.0);
					mysql_format(SQL, query, sizeof(query), "UPDATE `jobs` SET `Name`='%s' WHERE `ID`='%d'", inputtext, job);
					mysql_tquery(SQL, query, "", "");
				}
				case 1: {
					JobInfo[job][jLevel] = amount;
					DestroyDynamic3DTextLabel(JobInfo[job][jLabel]);
					DestroyDynamicPickup(JobInfo[job][jPickup]);
					format(string, sizeof(string), "{D10A0A}Job %s{FFFFFF}\nPentru a lua acest job, ai nevoie de nivel {D10A0A}%d{FFFFFF}.\nScrie {D10A0A}/getjob{FFFFFF} pentru a lua acest job.", JobInfo[job][jName], JobInfo[job][jLevel]);					JobInfo[job][jLabel] = CreateDynamic3DTextLabel(string, 0xFFFFFF99, JobInfo[job][jPosX], JobInfo[job][jPosY], JobInfo[job][jPosZ], 25, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 1, -1, -1, -1, 100.0);
					JobInfo[job][jPickup] = CreateDynamicPickup(1275, 23, JobInfo[job][jPosX], JobInfo[job][jPosY], JobInfo[job][jPosZ], -1, -1, -1, 100.0);
					format(string, sizeof(string), "Ai modificat 'Level' la jobul cu ID-ul %d, in: %d.", job, amount);
					SendClientMessage(playerid, COLOR_WHITE, string);
					mysql_format(SQL, query, sizeof(query), "UPDATE `jobs` SET `Level`='%d' WHERE `ID`='%d'", amount, job);
					mysql_tquery(SQL, query, "", "");
				}
				case 2: {
					new Float: Pos[3];
					if(sscanf(inputtext, "fff", Pos[0], Pos[1], Pos[2])) return SendClientMessage(playerid, COLOR_GREY, "Invalid syntax!");
					JobInfo[job][jPosX] = Pos[0];
					JobInfo[job][jPosY] = Pos[1];
					JobInfo[job][jPosZ] = Pos[2];
					DestroyDynamic3DTextLabel(JobInfo[job][jLabel]);
					DestroyDynamicPickup(JobInfo[job][jPickup]);
					format(string, sizeof(string), "{D10A0A}Job %s{FFFFFF}\nPentru a lua acest job, ai nevoie de nivel {D10A0A}%d{FFFFFF}.\nScrie {D10A0A}/getjob{FFFFFF} pentru a lua acest job.", JobInfo[job][jName], JobInfo[job][jLevel]);					JobInfo[job][jLabel] = CreateDynamic3DTextLabel(string, 0xFFFFFF99, JobInfo[job][jPosX], JobInfo[job][jPosY], JobInfo[job][jPosZ], 25, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 1, -1, -1, -1, 100.0);
					JobInfo[job][jPickup] = CreateDynamicPickup(1275, 23, JobInfo[job][jPosX], JobInfo[job][jPosY], JobInfo[job][jPosZ], -1, -1, -1, 100.0);
					format(string, sizeof(string), "Ai modificat 'Position' la jobul cu ID-ul %d, in: %f, %f, %f.", job, Pos[0], Pos[1], Pos[2]);
					SendClientMessage(playerid, COLOR_WHITE, string);
					mysql_format(SQL, query, sizeof(query), "UPDATE `jobs` SET `PosX`='%f', `PosY`='%f', `PosZ`='%f' WHERE `ID`='%d'", Pos[0], Pos[1], Pos[2], job);
					mysql_tquery(SQL, query, "", "");
				}
				case 3: {
					JobInfo[job][jLegal] = amount;
					format(string, sizeof(string), "Ai modificat 'Legal' la jobul cu ID-ul %d, in: %d.", job, amount);
					SendClientMessage(playerid, COLOR_WHITE, string);
					mysql_format(SQL, query, sizeof(query), "UPDATE `jobs` SET `Legal`='%d' WHERE `ID`='%d'", amount, job);
					mysql_tquery(SQL, query, "", "");
				}
				case 4: {
					JobInfo[job][jSkill1Veh] = amount;
					format(string, sizeof(string), "Ai modificat 'Skill1Veh' la jobul cu ID-ul %d, in: %d.", job, amount);
					SendClientMessage(playerid, COLOR_WHITE, string);
					mysql_format(SQL, query, sizeof(query), "UPDATE `jobs` SET `Skill1Veh`='%d' WHERE `ID`='%d'", amount, job);
					mysql_tquery(SQL, query, "", "");
				}
				case 5: {
					JobInfo[job][jSkill2Veh] = amount;
					format(string, sizeof(string), "Ai modificat 'Skill2Veh' la jobul cu ID-ul %d, in: %d.", job, amount);
					SendClientMessage(playerid, COLOR_WHITE, string);
					mysql_format(SQL, query, sizeof(query), "UPDATE `jobs` SET `Skill2Veh`='%d' WHERE `ID`='%d'", amount, job);
					mysql_tquery(SQL, query, "", "");
				}
				case 6: {
					JobInfo[job][jSkill3Veh] = amount;
					format(string, sizeof(string), "Ai modificat 'Skill3Veh' la jobul cu ID-ul %d, in: %d.", job, amount);
					SendClientMessage(playerid, COLOR_WHITE, string);
					mysql_format(SQL, query, sizeof(query), "UPDATE `jobs` SET `Skill3Veh`='%d' WHERE `ID`='%d'", amount, job);
					mysql_tquery(SQL, query, "", "");
				}
				case 7: {
					JobInfo[job][jSkill4Veh] = amount;
					format(string, sizeof(string), "Ai modificat 'Skill4Veh' la jobul cu ID-ul %d, in: %d.", job, amount);
					SendClientMessage(playerid, COLOR_WHITE, string);
					mysql_format(SQL, query, sizeof(query), "UPDATE `jobs` SET `Skill4Veh`='%d' WHERE `ID`='%d'", amount, job);
					mysql_tquery(SQL, query, "", "");
				}
				case 8: {
					JobInfo[job][jSkill5Veh] = amount;
					format(string, sizeof(string), "Ai modificat 'Skill5Veh' la jobul cu ID-ul %d, in: %d.", job, amount);
					SendClientMessage(playerid, COLOR_WHITE, string);
					mysql_format(SQL, query, sizeof(query), "UPDATE `jobs` SET `Skill5Veh`='%d' WHERE `ID`='%d'", amount, job);
					mysql_tquery(SQL, query, "", "");
				}
			}
		}

		case DIALOG_JOBS: {
			if(!response) return 1;
			if(CP[playerid] != 0) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ. Doresti sa-l anulezi?", "Ok", "Exit");
			new jid = listitem +1;
			format(string, sizeof(string), "Server-ul ti-a pus un punct rosu la jobul %s.", JobInfo[jid][jName]);
			SendClientMessage(playerid, COLOR_YELLOW, string);
			SetPlayerCheckpointEx(playerid, JobInfo[jid][jPosX], JobInfo[jid][jPosY], JobInfo[jid][jPosZ], 5.0);
			CP[playerid] = 53;
		}

		case DIALOG_TRUCKER: {
			if(!response) {
				JobWorking[playerid] = 0;
				PlayerTextDrawHide(playerid, JobTD);
				if(JobVehicle[playerid] != 0) { DestroyVehicle(JobVehicle[playerid]); JobVehicle[playerid] = 0; }
				if(Trailer[playerid] != 0) { DestroyVehicle(Trailer[playerid]); Trailer[playerid] = 0;  }
				PlayerTextDrawHide(playerid, InfosTD);
				DisablePlayerCheckpointEx(playerid);
				CP[playerid] = 0;
				JobVehicle[playerid] = 0;
				SCM(playerid, COLOR_GREY, "Job esuat! Ai parasit vehiculul.");
		        return 1;
		    }
		    if(JobWorking[playerid] == 0) return 1;
				
			CP[playerid] = 52;

	        new Float:pX,Float:pY,Float:pZ,Float:vA;
			GetPlayerPos(playerid,pX,pY,pZ);
			GetVehicleZAngle(GetPlayerVehicleID(playerid),vA);
			
			if(listitem == 0) Trailer[playerid] = CreateVehicleEx(435, pX+6, pY+6, pZ+6, vA, -1, -1, -1);
			else if(listitem == 2) Trailer[playerid] = CreateVehicleEx(591, pX+6, pY+6, pZ+6, vA, -1, -1, -1);
			else if(listitem == 3) {
				Trailer[playerid] = CreateVehicleEx(584, pX+6, pY+6, pZ+6, vA, -1, -1, -1);
				SetVehicleHealth(Trailer[playerid], 500);
			}	
			else Trailer[playerid] = CreateVehicleEx(450, pX+6, pY+6, pZ+6, vA, -1, -1, -1);

			
			// cp pos
			SetPlayerCheckpointEx(playerid, TruckerPos[listitem][0], TruckerPos[listitem][1], TruckerPos[listitem][2], 6.0);
			SetTimerEx("AttachTrailer", 1000, 0, "i", playerid);
			UpdateJobStats(playerid);
		}
  		case DIALOG_ANSWER: {
			if(!response) return 1;
			if(TotalAnswers == 2) {
				AnswerCount[listitem]++;
				format(string,sizeof(string), "Ai votat pentru %s.",Answers[listitem]);
			}
			else if(TotalAnswers == 3) {
				AnswerCount[listitem]++;
				format(string,sizeof(string), "Ai votat pentru %s.",Answers[listitem]);
			}
			SCM(playerid, COLOR_OOC, string);
			SetPVarInt(playerid, "Voted", 1);
		}
		case DIALOG_MEMBERS: {
			if(!response) return 1;
			if(listitem >= 0) {
			    if(PlayerInfo[playerid][pRank] == 7) {
					new name[30],result[30],rank;
					format(query, sizeof(query), "SELECT * FROM `users` WHERE `id`='%d'",Selected[playerid][listitem]);
					new Cache: membresult = mysql_query(SQL,query);
					for(new i, j = cache_get_row_count (); i != j; ++i) {
						cache_get_field_content(i, "name", result); format(name, 30, result);
						rank = cache_get_field_content_int(i, "Rank");
					}
					cache_delete(membresult);
					Selected2[playerid] = Selected[playerid][listitem];
					if(rank < 7)
					{
						format(string, sizeof(string),"Member: %s",name);
						ShowPlayerDialog(playerid, DIALOG_MEMBERS2, DIALOG_STYLE_LIST, string, "Informatii\nPromoveaza\nFaction Warn\nClear Faction Warn\nUninvite - 40 FP\nUninvite - 0 FP", "Confirm", "Close");
					}
				}
			}
		}
		case DIALOG_LEADERS: {
			if(!response) return ShowPlayerDialog(playerid,DIALOG_APANEL,DIALOG_STYLE_LIST,"Server Staff","Helpers List: Admin Level 3\nLeaders List: Admin Level 4\nAdmins List: Admin Level 5","Select","Close");
			if(listitem >= 0) {
			    if(PlayerInfo[playerid][pAdmin] >= 4) {
					new name[30],result[30],leader;
					format(query, sizeof(query), "SELECT * FROM `users` WHERE `id`='%d'",Selected[playerid][listitem]);
					new Cache: membresult = mysql_query(SQL,query);
					for(new i, j = cache_get_row_count (); i != j; ++i) {
						cache_get_field_content(i, "name", result); format(name, 30, result);
						leader = cache_get_field_content_int(i, "Leader");
					}
					cache_delete(membresult);
					Selected2[playerid] = Selected[playerid][listitem];
					format(string, sizeof(string),"%s | Faction Leader: %s",name,NumeFactiune(leader));
					ShowPlayerDialog(playerid, DIALOG_LEADERS+1, DIALOG_STYLE_LIST, string, "Informatii\nGive Leader Warn\nRemove Leader Warn\nUninvite", "Confirm", "Close");
				}
			}
		}
		case DIALOG_APANEL: {
			if(!response) return 1;
			switch(listitem) {
				case 0: {
		            new aim[3000],test[300],aimtotal[3000],idd = 0,mid = 0,count = 0,result[300],status,laston[900],test3[600],helper,phelp;
					format(query, sizeof(query), "SELECT * FROM `users` WHERE `Helper` > 0 AND `Helper` < 3 ORDER BY `Helper` DESC LIMIT 50");
					new Cache: membresult = mysql_query(SQL, query);
					for(new i, j = cache_get_row_count (); i != j; ++i) {
						cache_get_field_content(i, "name", result); format(test, 300, result);
						cache_get_field_content(i, "lastOn", result); format(laston, 300, result);
						idd = cache_get_field_content_int(i, "id");
						helper = cache_get_field_content_int(i, "Helper");
			  			status = cache_get_field_content_int(i, "Status");
			  			phelp = cache_get_field_content_int(i, "HelpedPlayers");
						Selected[playerid][mid] = idd;
						if(status == 1) {
							format(aim, sizeof(aim), "%s%s\tOnline\t%d\t%d\n", aim, test,helper,phelp);
							count++;
						}
						else if(status == 0) {
							format(aim, sizeof(aim), "%s%s\t%s\t%d\t%d\n", aim, test, laston,helper,phelp);
						}
						else if(status == 2) {
							format(aim, sizeof(aim), "%s%s\tAFK\t%d\t%d\n", aim, test,helper,phelp);
							count++;
						}
						mid++;
					}
					cache_delete(membresult);
					if(mid == 0) return SCM(playerid,COLOR_GREY,"Nu sunt helperi disponibili.");
					format(test3,sizeof(test3),"Helperi: %d/%d Conectati",count,mid++);
					format(aimtotal, sizeof(aimtotal), "Name\tActive\tHelper Level\tHelped Players\n%s",aim);
					ShowPlayerDialog(playerid,DIALOG_HELPERS,DIALOG_STYLE_TABLIST_HEADERS,test3,aimtotal,"Select","Close");
				}
				case 1: {
				    if(PlayerInfo[playerid][pAdmin] < 4) return SCM(playerid,COLOR_ERROR,AdminOnly);
				   	new aim[3000],test[300],aimtotal[3000],idd = 0,mid = 0,count = 0,result[300],status,laston[900],test3[600],leader,lwarns;
					format(query, sizeof(query), "SELECT * FROM `users` WHERE `Leader` > 0 AND `Admin` < 4 ORDER BY `Leader` DESC LIMIT 50");
					new Cache: membresult = mysql_query(SQL, query);
					for(new i, j = cache_get_row_count (); i != j; ++i)
					{
						cache_get_field_content(i, "name", result); format(test, 300, result);
						cache_get_field_content(i, "lastOn", result); format(laston, 300, result);
						idd = cache_get_field_content_int(i, "id");
						leader = cache_get_field_content_int(i, "Leader");
						lwarns = cache_get_field_content_int(i, "ALeader");
						status = cache_get_field_content_int(i, "Status");
						Selected[playerid][mid] = idd;
						if(status == 1) {
							format(aim, sizeof(aim), "%s%s\tOnline\t%s\t%d/3\n", aim, test,NumeFactiune(leader),lwarns);
							count++;
						}
						else if(status == 0) {
							format(aim, sizeof(aim), "%s%s\t%s\t%s\t%d/3\n", aim, test, laston,NumeFactiune(leader),lwarns);
						}
						else if(status == 2) {
							format(aim, sizeof(aim), "%s%s\tAFK\t%s\t%d/3\n", aim, test,NumeFactiune(leader),lwarns);
							count++;
						}
						mid++;
					}
					cache_delete(membresult);
					if(mid == 0) return SCM(playerid,COLOR_GREY,"Nu sunt lideri disponibili.");
					format(test3,sizeof(test3),"Lideri: %d/%d Conectati",count,mid++);
					format(aimtotal, sizeof(aimtotal), "Name\tActive\tFaction Leader\tLWarns\n%s",aim);
					ShowPlayerDialog(playerid,DIALOG_LEADERS,DIALOG_STYLE_TABLIST_HEADERS,test3,aimtotal,"Select","Close");
				}
				case 2: {
				    if(PlayerInfo[playerid][pAdmin] < 5) return SCM(playerid,COLOR_ERROR,AdminOnly);
				    new aim[3000],test[300],aimtotal[3000],idd = 0,mid = 0,count = 0,result[300],status,laston[900],test3[600],admin;
					format(query, sizeof(query), "SELECT * FROM `users` WHERE `Admin` > 0 AND `Admin` < 6 ORDER BY `Admin` DESC LIMIT 50");
					new Cache: membresult = mysql_query(SQL, query);
					for(new i, j = cache_get_row_count (); i != j; ++i) {
						cache_get_field_content(i, "name", result); format(test, 300, result);
						cache_get_field_content(i, "lastOn", result); format(laston, 300, result);
						idd = cache_get_field_content_int(i, "id");
						admin = cache_get_field_content_int(i, "Admin");
						status = cache_get_field_content_int(i, "Status");
						Selected[playerid][mid] = idd;
						if(status == 1) {
							format(aim, sizeof(aim), "%s%s\tOnline\t%d\n", aim, test,admin);
							count++;
						}
						else if(status == 0) {
							format(aim, sizeof(aim), "%s%s\t%s\t%d\n", aim, test, laston,admin);
						}
						else if(status == 2) {
							format(aim, sizeof(aim), "%s%s\tAFK\t%d\n", aim, test,admin);
							count++;
						}
						mid++;
					}
					cache_delete(membresult);
					if(mid == 0) return SCM(playerid,COLOR_GREY,"Nu sunt admini disponibili.");
					format(test3,sizeof(test3),"Admini: %d/%d Conectati",count,mid++);
					format(aimtotal, sizeof(aimtotal), "Name\tActive\tAdmin Level\n%s",aim);
					ShowPlayerDialog(playerid,DIALOG_ADMINS,DIALOG_STYLE_TABLIST_HEADERS,test3,aimtotal,"Select","Close");
				}
			}
			return 1;
		}
		case DIALOG_HELPERS: {
			if(!response) return ShowPlayerDialog(playerid,DIALOG_APANEL,DIALOG_STYLE_LIST,"Server Staff","Helpers List: Admin Level 3\nLeaders List: Admin Level 4\nAdmins List: Admin Level 5","Select","Close");
			if(listitem >= 0) {
			    if(PlayerInfo[playerid][pAdmin] >= 3) {
					new name[30],result[30],helper;
					format(query, sizeof(query), "SELECT * FROM `users` WHERE `id`='%d'",Selected[playerid][listitem]);
					new Cache: membresult = mysql_query(SQL,query);
					for(new i, j = cache_get_row_count (); i != j; ++i) {
						cache_get_field_content(i, "name", result); format(name, 30, result);
						helper = cache_get_field_content_int(i, "Helper");
					}
					cache_delete(membresult);
					Selected2[playerid] = Selected[playerid][listitem];
					format(string, sizeof(string),"%s | Helper Level %d",name,helper);
					ShowPlayerDialog(playerid, DIALOG_HELPERS+1, DIALOG_STYLE_LIST, string, "Informatii\nPromoveaza\nRemove", "Confirm", "Close");
				}
			}
		}
        case DIALOG_HELPERS+1: {
	 	    if(!response) return 1;
		    new name[30],result[30],string2[900],level,job,sex,age;
			format(query, sizeof(query), "SELECT * FROM `users` WHERE `id`='%d'",Selected2[playerid]);
			new Cache: membresult = mysql_query(SQL,query);
			for(new i, j = cache_get_row_count (); i != j; ++i) {
 				cache_get_field_content(i, "name", result); format(name, 30, result);
				level = cache_get_field_content_int(i, "Level");
				job = cache_get_field_content_int(i, "Job");
				sex = cache_get_field_content_int(i, "Sex");
				age = cache_get_field_content_int(i, "Age");
			}
			cache_delete(membresult);
			if(listitem == 0) {
			    new sexx[20];
			    if(sex == 1) sexx ="Masculin";
			    else if(sex == 2) sexx="Feminin";
			    new jtext[100];
		        if(job == 0) jtext = "None";
		        else format(jtext, sizeof(jtext), "%s", JobInfo[job][jName]);
				format(string,sizeof(string),"Helper Info: %s",name);
				format(string2,sizeof(string2),"Name: %s\nLevel: %d\nSex: %s\nAge: %d\nServiciu: %s(%d)",name,level,sexx,age,jtext,job);
				ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX,string,string2,"Close","");
			}
			if(listitem == 1) {
			    format(string,sizeof(string),"Promotion:\n\nEsti pe cale sa-i modifici nivelul de Helper al lui %s\nEsti sigur?\nScrie mai jos un motiv:",name);
				ShowPlayerDialog(playerid,DIALOG_HELPERS+2,DIALOG_STYLE_INPUT,"Reason:",string,"Confirm","Close");
			}
			if(listitem == 2) {
				format(string,sizeof(string), "Remove:\n\nEsti pe care sa-i scoti functia de Helper lui %s\nEsti sigur?\nScrie mai jos un motiv:",name);
				ShowPlayerDialog(playerid,DIALOG_HELPERS+3,DIALOG_STYLE_INPUT,"Reason:",string,"Confirm","Close");
			}
		}
		case DIALOG_HELPERS+2: {
			if(!response) return 1;
			if(strlen(inputtext) > 3 && strlen(inputtext) <= 40) {
				ShowPlayerDialog(playerid,DIALOG_HELPERS+4,DIALOG_STYLE_INPUT,"Promotion:","Scrie aici nivelul de Helper la care doresti sa-l promovezi(1-2):","Confirm","Close");
				format(Reason[playerid],128,inputtext);
			}
			else return ShowPlayerDialog(playerid,DIALOG_HELPERS+2,DIALOG_STYLE_INPUT,"Reason:","Motivul trebuie sa contina minim 4 si maxim 40 caractere.","Confirm","Close");
		}
		case DIALOG_HELPERS+3: {
			if(!response) return 1;
			if(strlen(inputtext) > 3 && strlen(inputtext) <= 40) {
                new result[30],name[30],reason[40];
				format(query, sizeof(query), "SELECT * FROM `users` WHERE `id`='%d'",Selected2[playerid]);
				new Cache: membresult = mysql_query(SQL,query);
				for(new i, j = cache_get_row_count (); i != j; ++i) {
					cache_get_field_content(i, "name", result); format(name, 30, result);
				}
				mysql_real_escape_string(inputtext, reason);
				cache_delete(membresult);
				format(string,sizeof(string),"AdmCmd: %s l-a dat afara pe %s din randul helperilor, motiv: %s.",GetName(playerid),name,reason);
				SendAdminMessage(COLOR_LOGS,string,3);
				foreach(Player, i) {
					if(PlayerInfo[i][pSQLID] == Selected2[playerid]) {
						PlayerInfo[i][pHelper] = 0;
						format(string,sizeof(string),"Adminul %s te-a dat afara din randul helperilor, motiv: %s.",GetName(playerid),reason);
						SendClientMessage(i,COLOR_LIGHTBLUE,string);
					}
				}
				mysql_format(SQL, query, sizeof(query), "UPDATE `users` SET `Helper`='0' WHERE `ID`='%d'",Selected2[playerid]);
				mysql_tquery(SQL, query, "", "");
			}
			else return ShowPlayerDialog(playerid,DIALOG_HELPERS+3,DIALOG_STYLE_INPUT,"Reason:","Motivul trebuie sa contina minim 4 si maxim 40 caractere.","Confirm","Close");
		}
		case DIALOG_HELPERS+4: {
			if(!response) return 1;
			new hlvl = strval(inputtext);
			if((hlvl == 1 || hlvl == 2) && strlen(inputtext) > 0) {
                new result[30],name[30];
				format(query, sizeof(query), "SELECT * FROM `users` WHERE `id`='%d'",Selected2[playerid]);
				new Cache: membresult = mysql_query(SQL,query);
				for(new i, j = cache_get_row_count (); i != j; ++i) {
					cache_get_field_content(i, "name", result); format(name, 30, result);
				}
				cache_delete(membresult);
				format(string,sizeof(string),"AdmCmd: %s l-a promovat pe %s la gradul de Helper Level %d, motiv: %s.",GetName(playerid),name,hlvl,Reason[playerid]);
				SendAdminMessage(COLOR_LOGS,string,3);
				foreach(Player, i) {
					if(PlayerInfo[i][pSQLID] == Selected2[playerid]) {
						PlayerInfo[i][pHelper] = hlvl;
						format(string,sizeof(string),"Adminul %s te-a promovat la gradul de Helper Level %d, motiv: %s.",GetName(playerid),hlvl,Reason[playerid]);
						SendClientMessage(i,COLOR_LIGHTBLUE,string);
					}
				}
				mysql_format(SQL, string, sizeof(string), "UPDATE `users` SET `Helper`='%d' WHERE `ID`='%d'",hlvl,Selected2[playerid]);
				mysql_tquery(SQL, string, "", "");
			}
			else return ShowPlayerDialog(playerid,DIALOG_HELPERS+4,DIALOG_STYLE_INPUT,"Helper Level:","Invalid Helper Level(1-2).","Confirm","Close");
		}
		case DIALOG_LEADERS+1: {
	 	    if(!response) return 1;
		    new name[30],result[30],string2[900],level,lwarn,factime,job,sex,leader,age;
			format(query, sizeof(query), "SELECT * FROM `users` WHERE `id`='%d'",Selected2[playerid]);
			new Cache: membresult = mysql_query(SQL,query);
			for(new i, j = cache_get_row_count (); i != j; ++i) {
 				cache_get_field_content(i, "name", result); format(name, 30, result);
				level = cache_get_field_content_int(i, "Level");
				lwarn = cache_get_field_content_int(i, "ALeader");
				factime = cache_get_field_content_int(i, "FactionTime");
				job = cache_get_field_content_int(i, "Job");
				sex = cache_get_field_content_int(i, "Sex");
				leader = cache_get_field_content_int(i, "Leader");
				age = cache_get_field_content_int(i, "Age");
			}
			cache_delete(membresult);
			if(listitem == 0) {
			    new sexx[20];
			    if(sex == 1) sexx ="Masculin";
			    else if(sex == 2) sexx="Feminin";
			    new jtext[100];
		        if(job == 0) jtext = "None";
		        else format(jtext, sizeof(jtext), "%s", JobInfo[job][jName]);
				format(string,sizeof(string),"Leader Info: %s",name);
				format(string2,sizeof(string2),"Name: %s\nLevel: %d\nSex: %s\nAge: %d\nFaction Leader: %s\nRank: Leader\nLWarns: %d/3\nFaction Days: %d days\nServiciu: %s(%d)",name,level,sexx,age,NumeFactiune(leader),lwarn,factime,jtext,job);
				ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX,string,string2,"Close","");
			}
			if(listitem == 1) {
			    format(string,sizeof(string),"Acorda LWarn:\n\nEsti pe cale sa-i acorzi lui %s un Leader Warn\nAcum el are %d/3 Leader Warns\nEsti sigur?\nScrie mai jos un motiv:",name,lwarn);
				ShowPlayerDialog(playerid,DIALOG_LEADERS+2,DIALOG_STYLE_INPUT,"Reason:",string,"Confirm","Close");
			}
			if(listitem == 2) {
			    if(lwarn != 0) {
					format(string,sizeof(string), "Inlatura LWarn:\n\nEsti pe cale sa-i scoti lui %s un Leader Warn.\nAcum el are %d/3 Leader Warns\nEsti sigur?\nScrie mai jos un motiv:",name,lwarn);
					ShowPlayerDialog(playerid,DIALOG_LEADERS+3,DIALOG_STYLE_INPUT,"Reason:",string,"Confirm","Close");
				}
				else {
				    format(string,sizeof(string),"Liderul %s nu are nici un Leader Warn.",name);
				    ShowPlayerDialog(playerid,0,DIALOG_STYLE_MSGBOX,"Error",string,"Close","");
				}
			}
			if(listitem == 3) {
				format(string,sizeof(string), "Remove Leader:\n\nEsti pe care sa-l demiti pe %s, lider %s\nEsti sigur?\nScrie mai jos un motiv:",name,NumeFactiune(leader));
				ShowPlayerDialog(playerid,DIALOG_LEADERS+4,DIALOG_STYLE_INPUT,"Reason:",string,"Confirm","Close");
			}
		}
		case DIALOG_LEADERS+2: {
			if(!response) return 1;
		    if(strlen(inputtext) > 3 && strlen(inputtext) <= 40) {
				new str[256],lwarn,name2[30],result[30],reason[600];
				format(query, sizeof(query), "SELECT * FROM `users` WHERE `id`='%d'",Selected2[playerid]);
				new Cache: membresult = mysql_query(SQL,query);
				for(new i, j = cache_get_row_count (); i != j; ++i)
				{
					cache_get_field_content(i, "name", result); format(name2, 30, result);
					lwarn = cache_get_field_content_int(i, "ALeader");
				}
				cache_delete(membresult);
				mysql_real_escape_string(inputtext, reason);
				mysql_format(SQL, str, sizeof(str), "UPDATE `users` SET `ALeader`='%d' WHERE `ID`='%d'",lwarn+1, Selected2[playerid]);
				mysql_tquery(SQL, str, "", "");
				foreach(Player, i) {
					if(PlayerInfo[i][pSQLID] == Selected2[playerid]) {
						PlayerInfo[i][pALeader] += 1;
						format(string, sizeof(string),"Adminul %s ti-a acordat un Leader Warn pe motiv: %s.",GetName(playerid),reason);
						SCM(i, COLOR_LIGHTBLUE, string);
					}
				}
				format(string,sizeof(string),"AdmCmd: %s i-a acordat un Leader Warn lui %s pe motiv: %s.",GetName(playerid),name2,reason);
				SendAdminMessage(COLOR_LOGS, string, 1);
				format(string,sizeof(string),"Adminul %s i-a acordat un Leader Warn lui %s pe motiv: %s.",GetName(playerid),name2,reason);
				SendLeadersMessage(COLOR_LIGHTBLUE1,string);
				if(lwarn == 3) {
				    foreach(Player,i) {
				        if(PlayerInfo[i][pSQLID] == Selected2[playerid]) {
							PlayerInfo[i][pMember] = 0;
							PlayerInfo[i][pRank] = 0;
							PlayerInfo[i][pChar] = 250;
		  					PlayerInfo[i][pLeader] = 0;
							PlayerInfo[i][pFACWarns] = 0;
							PlayerInfo[i][pFpunish] = 100;
							PlayerInfo[i][pFactionTime] = 0;
							PlayerInfo[i][pALeader] = 0;
							tazer[i] = 0;
							OnDuty[i] = 0;
							SetPlayerArmourEx(i, 0);
							SetPlayerSkin(i,PlayerInfo[i][pModel]);
							SpawnPlayer(i);
							PlayerInfo[i][pCommands] = 0;
							format(string,sizeof(string),"Deoarece ai acumulat 3/3 Leader Warns ai fost demis automat din factiune cu 100 Faction Punish.");
							SendClientMessage(i, COLOR_LIGHTBLUE, string);
						}
					}
					mysql_format(SQL, str, sizeof(str), "UPDATE users SET `Team`='3',`Member`='0',`Leader`='0',`Rank`='0',`CChar`='0',`FPunish`='100',`FWarn`='0',`ALeader`='0',`FactionTime`='0' WHERE `ID`='%d'",Selected2[playerid]);
					mysql_tquery(SQL, str, "", "");
				}
			}
			else return ShowPlayerDialog(playerid,DIALOG_LEADERS+2,DIALOG_STYLE_INPUT,"Reason:","Motivul trebuie sa contina minim 4 si maxim 40 caractere.","Confirm","Close");
			return 1;
		}
		case DIALOG_LEADERS+3: {
			if(!response) return 1;
		    if(strlen(inputtext) > 3 && strlen(inputtext) <= 40) {
				new str[256],lwarn,name2[30],result[30],reason[600];
				format(query, sizeof(query), "SELECT * FROM `users` WHERE `id`='%d'",Selected2[playerid]);
				new Cache: membresult = mysql_query(SQL,query);
				for(new i, j = cache_get_row_count (); i != j; ++i) {
					cache_get_field_content(i, "name", result); format(name2, 30, result);
					lwarn = cache_get_field_content_int(i, "ALeader");
				}
				cache_delete(membresult);
				mysql_real_escape_string(inputtext, reason);
				format(string,sizeof(string),"AdmCmd: %s i-a inlaturat un Leader Warn lui %s pe motiv: %s.",GetName(playerid),name2,reason);
				SendAdminMessage(COLOR_LOGS, string, 1);
				format(string,sizeof(string),"Adminul %s i-a inlaturat un Leader Warn lui %s pe motiv: %s.",GetName(playerid),name2,reason);
				SendLeadersMessage(COLOR_LIGHTBLUE1,string);
				mysql_format(SQL, str, sizeof(str), "UPDATE `users` SET `ALeader`='%d' WHERE `ID`='%d'",lwarn-1, Selected2[playerid]);
				mysql_tquery(SQL, str, "", "");
				foreach(Player, i) {
					if(PlayerInfo[i][pSQLID] == Selected2[playerid]) {
						PlayerInfo[i][pALeader] -= 1;
						format(string, sizeof(string),"Adminul %s ti-a inlaturat un Leader Warn pe motiv: %s.",GetName(playerid),reason);
						SendClientMessage(i, COLOR_LIGHTBLUE, string);
					}
				}
			}
			else return ShowPlayerDialog(playerid,DIALOG_LEADERS+3,DIALOG_STYLE_INPUT,"Reason:","Motivul trebuie sa contina minim 4 si maxim 40 caractere.","Confirm","Close");
			return 1;
		}
		case DIALOG_LEADERS+4: {
			if(!response) return 1;
			if(strlen(inputtext) > 3 && strlen(inputtext) <= 40) {
            	ShowPlayerDialog(playerid,DIALOG_LEADERS+5,DIALOG_STYLE_INPUT,"Faction Punish:","Scrie mai jos cat Faction Punish v-a primi liderul(0 sau 100).","Confirm","Close");
            	format(Reason[playerid],128,inputtext);
			}
			else return ShowPlayerDialog(playerid,DIALOG_LEADERS+4,DIALOG_STYLE_INPUT,"Reason:","Motivul trebuie sa contina minim 4 si maxim 40 caractere.","Confirm","Close");
		}
		case DIALOG_LEADERS+5: {
			if(!response) return 1;
			new fp = strval(inputtext);
	        if((fp == 0 || fp == 100) && strlen(inputtext) > 0) {
				new result[30],name[30],reason[128],leader;
				format(query, sizeof(query), "SELECT * FROM `users` WHERE `id`='%d'",Selected2[playerid]);
				new Cache: membresult = mysql_query(SQL,query);
				for(new i, j = cache_get_row_count (); i != j; ++i) {
					cache_get_field_content(i, "name", result); format(name, 30, result);
					leader = cache_get_field_content_int(i, "Leader");
				}
				cache_delete(membresult);
				mysql_real_escape_string(inputtext, reason);
				format(string,sizeof(string),"AdmCmd: %s l-a demis pe %s cu %d Faction Punish pe motiv: %s.",GetName(playerid),name,fp,Reason[playerid]);
				SendAdminMessage(COLOR_LOGS, string, 1);
				format(string,sizeof(string),"Adminul %s l-a demis pe %s cu %d Faction Punish pe motiv: %s.",GetName(playerid),name,fp,Reason[playerid]);
				SendLeadersMessage(COLOR_LIGHTBLUE1,string);
				foreach(Player, i) {
					if(PlayerInfo[i][pSQLID] == Selected2[playerid]) {
						PlayerInfo[i][pMember] = 0;
						PlayerInfo[i][pRank] = 0;
						PlayerInfo[i][pChar] = 250;
	  					PlayerInfo[i][pLeader] = 0;
						PlayerInfo[i][pFACWarns] = 0;
						PlayerInfo[i][pFpunish] = fp;
						PlayerInfo[i][pFactionTime] = 0;
						tazer[i] = 0;
						OnDuty[i] = 0;
						SetPlayerArmourEx(i, 0);
						SetPlayerSkin(i,PlayerInfo[i][pModel]);
						SpawnPlayer(i);
						PlayerInfo[i][pCommands] = 0;
						Update(i,pCommandsx);
						format(string,sizeof(string),"Adminul %s te-a demis din %s cu %d Faction Punish pe motiv: %s.",GetName(playerid),NumeFactiune(leader),fp,Reason[playerid]);
						SendClientMessage(i,COLOR_LIGHTBLUE,string);
					}
				}
				mysql_format(SQL, query, sizeof(query), "UPDATE `users` SET `Team`='3',`Member`='0',`Leader`='0',`Rank`='0',`CChar`='0',`FPunish`='%d',`FWarn`='0',`FactionTime`='0' WHERE `ID`='%d'",fp,Selected2[playerid]);
				mysql_tquery(SQL, query, "", "");
			}
			else return ShowPlayerDialog(playerid,DIALOG_LEADERS+5,DIALOG_STYLE_INPUT,"Faction Punish:","Invalid Faction Punish(0 or 100).","Confirm","Close");
			return 1;
		}
	 	case DIALOG_MEMBERS2: {
	 	    if(!response) return 1;
		    new name[30],result[30],query2[300],stri[256],string2[900],level,rank,fwarn,factime,job,age,member,sex;
			format(query2, sizeof(query2), "SELECT * FROM `users` WHERE `id`='%d'",Selected2[playerid]);
			new Cache: membresult = mysql_query(SQL,query2);
			for(new i, j = cache_get_row_count (); i != j; ++i) {
 				cache_get_field_content(i, "name", result); format(name, 30, result);
				level = cache_get_field_content_int(i, "Level");
				rank = cache_get_field_content_int(i, "Rank");
				fwarn = cache_get_field_content_int(i, "FWarn");
				factime = cache_get_field_content_int(i, "FactionTime");
				job = cache_get_field_content_int(i, "Job");
				age = cache_get_field_content_int(i, "Age");
				member = cache_get_field_content_int(i, "Member");
				sex = cache_get_field_content_int(i, "Sex");
			}
			cache_delete(membresult);
			if(listitem == 0) {
			    new jtext[100];
		        if(job == 0) jtext = "None";
		        else format(jtext, sizeof(jtext), "%s", JobInfo[job][jName]);
		        new sexz[100];
		        if(sex == 1) sexz = "Masculin";
		        else if(sex == 2) sexz="Feminim";
				format(stri,sizeof(stri),"Member Info: %s",name);
				format(string2,sizeof(string2),"Name: %s\nLevel: %d\nSex: %s\nAge: %d\nFaction: %s\nRank: %d\nFWarns: %d/3\nFaction Days: %d days\nServiciu: %s(%d)",name,level,sexz,age,NumeFactiune(member),rank,fwarn,factime,jtext,job);
				ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX,stri,string2,"Close","");
			}
			if(listitem == 1) {
			    new stringg[1000];
			    format(stringg,sizeof(stringg),"Introdu rangul la care doresti sa-l promovezi pe %s.",name);
				ShowPlayerDialog(playerid,DIALOG_CHANGERANK,DIALOG_STYLE_INPUT,"Promotion",stringg,"Confirm","Close");
			}
			if(listitem == 2) {
				format(string2,sizeof(string2), "Acorda FW:\n\nIi vei acorda lui %s un FW, de la %d/3 la %d/3.\nEsti sigur?\nScrie un motiv mai jos:",name,fwarn,fwarn+1);
				ShowPlayerDialog(playerid,DIALOG_FWARN,DIALOG_STYLE_INPUT,"Reason:",string2,"Confirm","Close");
			}
			if(listitem == 3) {
			    if(fwarn != 0) {
					format(string2,sizeof(string2), "Inlatura FW:\n\nIi vei inlatura lui %s un FW, de la %d/3 la %d/3.\nEsti sigur?\nScrie un motiv mai jos:",name,fwarn,fwarn-1);
					ShowPlayerDialog(playerid,DIALOG_FUNWARN,DIALOG_STYLE_INPUT,"Reason:",string2,"Confirm","Close");
				}
				else {
				    format(string2,sizeof(string2),"Membrul %s nu are nici un Faction Warn.",name);
				    ShowPlayerDialog(playerid,0,DIALOG_STYLE_MSGBOX,"Error",string2,"Close","");
				}
			}
			if(listitem == 4) {
			    if(factime < 14) {
					format(string2,sizeof(string2),"Uninvite 40 FP:\n\nIl vei demite pe %s (%d zile in factiune) din factiune cu 40 Faction Punish\nEsti sigur?\nScrie un motiv mai jos:",name,factime);
					ShowPlayerDialog(playerid,DIALOG_FPUNINVITE,DIALOG_STYLE_INPUT,"Reason:",string2,"Confirm","Close");
				}
				else {
				    format(string2,sizeof(string2),"Membrul %s are peste 14 zile in Factiune. Nu il poti demite cu Faction Punish",name);
				    ShowPlayerDialog(playerid,0,DIALOG_STYLE_MSGBOX,"Error:",string2,"Close","");
				}
			}
			if(listitem == 5) {
			    if(factime >= 14) {
	  				format(string2,sizeof(string2),"Uninvite 0 FP:\n\nIl vei demite pe %s (%d zile in factiune) din factiune cu 0 Faction Punish\nEsti sigur?\nScrie un motiv mai jos:",name,factime);
					ShowPlayerDialog(playerid,DIALOG_NOFPUNINVITE,DIALOG_STYLE_INPUT,"Reason:",string2,"Confirm","Close");
				}
				else {
				    format(string2,sizeof(string2),"Membrul %s nu are peste 14 zile in Factiune. Trebuie sa il demiti cu Faction Punish",name);
				    ShowPlayerDialog(playerid,0,DIALOG_STYLE_MSGBOX,"Error:",string2,"Close","");
				}
			}
		}
		case DIALOG_CHANGERANK: {
			if(!response) return 1;
			if(IsNumeric(inputtext)) {
		        if(strlen(inputtext) == 1) {
			        new rank = strval(inputtext);
			        if(rank == 1 || rank == 2 || rank == 3 || rank == 4 || rank == 5 || rank == 6) {
				        new name[30],result[30],query2[300],str[900],mesaj[900],string10[200];
						format(query2, sizeof(query2), "SELECT * FROM `users` WHERE `id`='%d'",Selected2[playerid]);
						new Cache: membresult = mysql_query(SQL,query2);
						for(new i, j = cache_get_row_count (); i != j; ++i) {
			 				cache_get_field_content(i, "name", result); format(name, 30, result);
						}
						cache_delete(membresult);
						format(mesaj,sizeof(mesaj),"Liderul %s i-a acordat o promovare lui %s la rang %d.",GetName(playerid),name,rank);
		    			SendTeamMessage(PlayerInfo[playerid][pMember],COLOR_LIGHTBLUE1,mesaj);
						foreach(Player, i) {
							if(PlayerInfo[i][pSQLID] == Selected2[playerid]) {
							    PlayerInfo[i][pRank] = rank;
		                        PlayerInfo[i][pFACWarns] = 0;
		                        format(string10,sizeof(string10),"Liderul %s te-a promovat la rang %d.",GetName(playerid),rank);
		                        SCM(i,COLOR_LIGHTBLUE,string10);
							}
						}
						format(str,sizeof(str),"UPDATE users SET `Rank`='%d',`FWarn`='0' WHERE `ID`='%d'",rank,Selected2[playerid]);
						mysql_query(SQL,str);
			        }
			        else return ShowPlayerDialog(playerid,DIALOG_CHANGERANK,DIALOG_STYLE_INPUT,"Promotion","Rangul introdus de tine este invalid(1-6).","Confirm","Close");
			    }
	            else return ShowPlayerDialog(playerid,DIALOG_CHANGERANK,DIALOG_STYLE_INPUT,"Promotion","Rangul introdus de tine este invalid(1-6).","Confirm","Close");
			}
			else return ShowPlayerDialog(playerid,DIALOG_CHANGERANK,DIALOG_STYLE_INPUT,"Promotion","Rangul introdus de tine este invalid(1-6).","Confirm","Close");
	 	}
		case DIALOG_GMX: {
			if(!response) return 1;
			SyncData();
			format(string, sizeof(string), "AdmCmd: %s a retartat serverul.", GetName(playerid));
			SendAdminMessage(COLOR_LOGS,string, 1);
			GameModeExit();
		}
		case DIALOG_FWARN: {
			if(!response) return 1;
		    if(strlen(inputtext) > 3 && strlen(inputtext) <= 40) {
				new stringg[128],stringg2[128],fwarn,name2[30],result[30],reason[600];
				format(stringg, sizeof(stringg), "SELECT * FROM `users` WHERE `id`='%d'",Selected2[playerid]);
				new Cache: membresult = mysql_query(SQL,stringg);
				for(new i, j = cache_get_row_count (); i != j; ++i) {
					cache_get_field_content(i, "name", result); format(name2, 30, result);
					fwarn = cache_get_field_content_int(i, "FWarn");
				}
				cache_delete(membresult);
				mysql_real_escape_string(inputtext, reason);
				foreach(Player, i) {
					if(PlayerInfo[i][pSQLID] == Selected2[playerid]) {
						PlayerInfo[i][pFACWarns] += 1;
						format(stringg, sizeof(stringg),"Liderul %s ti-a acordat un Faction Warn pe motiv: %s.",GetName(playerid),reason);
						SendClientMessage(i, COLOR_LIGHTBLUE, stringg);
					}
				}
				format(stringg2,sizeof(stringg2),"Liderul %s i-a acordat un Faction Warn lui %s pe motiv: %s.",GetName(playerid),name2,reason);
				SendTeamMessage(PlayerInfo[playerid][pMember], COLOR_LIGHTBLUE1, stringg2);
				format(query, sizeof(query), "UPDATE `users` SET `FWarn`='%d' WHERE `ID`='%d'",fwarn+1, Selected2[playerid]);
				mysql_query(SQL, query);
				if(fwarn == 3) {
				    foreach(Player,i) {
				        if(PlayerInfo[i][pSQLID] == Selected2[playerid]) {
							PlayerInfo[i][pMember] = 0;
							PlayerInfo[i][pRank] = 0;
							PlayerInfo[i][pChar] = 250;
		  					PlayerInfo[i][pLeader] = 0;
							PlayerInfo[i][pFACWarns] = 0;
							PlayerInfo[i][pFpunish] = 0;
							PlayerInfo[i][pFactionTime] = 0;
							tazer[i] = 0;
							OnDuty[i] = 0;
							SetPlayerArmourEx(i, 0);
							SetPlayerSkin(i,PlayerInfo[i][pModel]);
							SpawnPlayer(i);
							PlayerInfo[i][pCommands] = 0;
							Update(i,pCommandsx);
							format(stringg,sizeof(stringg),"Deoarece ai acumulat 3/3 Faction Warns ai fost demis automat din factiune cu 25 Faction Punish.");
							SendClientMessage(i, COLOR_LIGHTBLUE, stringg);
							format(query,sizeof(query),"UPDATE users SET `Team`='3',`Member`='0',`Leader`='0',`Rank`='0',`CChar`='0',`FPunish`='25',`FWarn`='0',`FactionTime`='0',`Commands`='0' WHERE `ID`='%d'",Selected2[playerid]);
							mysql_query(SQL,query);
						}
					}
				}
			}
			else return ShowPlayerDialog(playerid,DIALOG_FWARN,DIALOG_STYLE_INPUT,"Reason:","Motivul trebuie sa contina minim 4 si maxim 40 caractere.","Confirm","Close");
			return 1;
		}
		case DIALOG_FUNWARN: {
			if(!response) return 1;
  			if(strlen(inputtext) > 3 && strlen(inputtext) <= 40) {
				new fwarn,name2[30],result[30],reason[600];
				format(query, sizeof(query), "SELECT * FROM `users` WHERE `id`='%d'",Selected2[playerid]);
				new Cache: membresult = mysql_query(SQL,query);
				for(new i, j = cache_get_row_count (); i != j; ++i) {
					cache_get_field_content(i, "name", result); format(name2, 30, result);
					fwarn = cache_get_field_content_int(i, "FWarn");
				}
				cache_delete(membresult);
				mysql_real_escape_string(inputtext, reason);
				format(string,sizeof(string),"Liderul %s i-a inlaturat un Faction Warn lui %s pe motiv: %s.",GetName(playerid),name2,reason);
				SendTeamMessage(PlayerInfo[playerid][pMember], COLOR_LIGHTBLUE1, string);
				foreach(Player, i) {
					if(PlayerInfo[i][pSQLID] == Selected2[playerid]) {
						PlayerInfo[i][pFACWarns] -= 1;
						format(string, sizeof(string),"Liderul %s ti-a inlaturat un Faction Warn pe motiv: %s.",GetName(playerid),reason);
						SendClientMessage(i, COLOR_LIGHTBLUE, string);
					}
				}
				format(query, sizeof(query), "UPDATE `users` SET `FWarn`='%d' WHERE `ID`='%d'",fwarn-1, Selected2[playerid]);
				mysql_query(SQL, query);
			}
			else return ShowPlayerDialog(playerid,DIALOG_FUNWARN,DIALOG_STYLE_INPUT,"Reason:","Motivul trebuie sa contina minim 4 si maxim 40 caractere.","Confirm","Close");
            return 1;
		}
		case DIALOG_FPUNINVITE: {
			if(!response) return 1;
            if(strlen(inputtext) > 3 && strlen(inputtext) <= 40) {
				new result[30],name[30],reason[128],member;
				format(query, sizeof(query), "SELECT * FROM `users` WHERE `id`='%d'",Selected2[playerid]);
				new Cache: membresult = mysql_query(SQL,query);
				for(new i, j = cache_get_row_count (); i != j; ++i) {
					cache_get_field_content(i, "name", result); format(name, 30, result);
					member = cache_get_field_content_int(i, "Member");
				}
				cache_delete(membresult);
				mysql_real_escape_string(inputtext, reason);
				format(string,sizeof(string),"Liderul %s l-a demis pe %s cu 40 Faction Punish pe motiv: %s.",GetName(playerid),name,reason);
				SendTeamMessage(PlayerInfo[playerid][pMember],COLOR_LIGHTBLUE1,string);
				foreach(Player, i) {
					if(PlayerInfo[i][pSQLID] == Selected2[playerid]) {
						PlayerInfo[i][pMember] = 0;
						PlayerInfo[i][pRank] = 0;
						PlayerInfo[i][pChar] = 250;
	  					PlayerInfo[i][pLeader] = 0;
						PlayerInfo[i][pFACWarns] = 0;
						PlayerInfo[i][pFpunish] = 40;
						PlayerInfo[i][pFactionTime] = 0;
						tazer[i] = 0;
						OnDuty[i] = 0;
						SetPlayerArmourEx(i, 0);
						SetPlayerSkin(i,PlayerInfo[i][pModel]);
						SpawnPlayer(i);
						PlayerInfo[i][pCommands] = 0;
						format(string,sizeof(string),"Liderul %s te-a demis din %s cu 40 Faction Punish pe motiv: %s.",GetName(playerid),NumeFactiune(member),reason);
						SendClientMessage(i,COLOR_LIGHTBLUE,string);
					}
				}
				mysql_format(SQL, query, sizeof(query), "UPDATE `users` SET `Team`='3',`Member`='0',`Commands`='0',`Leader`='0',`Rank`='0',`CChar`='0',`FPunish`='40',`FWarn`='0',`FactionTime`='0' WHERE `ID`='%d'",Selected2[playerid]);
				mysql_tquery(SQL, query, "", "");
			}
			else return ShowPlayerDialog(playerid,DIALOG_FPUNINVITE,DIALOG_STYLE_INPUT,"Reason:","Motivul trebuie sa contina minim 4 si maxim 40 caractere.","Confirm","Close");
            return 1;
		}
		case DIALOG_NOFPUNINVITE: {
			if(!response) return 1;
		    if(strlen(inputtext) > 3 && strlen(inputtext) <= 40) {
				new result[30],name[30],reason[128],member;
				format(query, sizeof(query), "SELECT * FROM `users` WHERE `id`='%d'",Selected2[playerid]);
				new Cache: membresult = mysql_query(SQL,query);
				for(new i, j = cache_get_row_count (); i != j; ++i) {
					cache_get_field_content(i, "name", result); format(name, 30, result);
					member = cache_get_field_content_int(i, "Member");
				}
				cache_delete(membresult);
				mysql_real_escape_string(inputtext, reason);
				format(string,sizeof(string),"Liderul %s l-a demis pe %s cu 0 Faction Punish pe motiv: %s.",GetName(playerid),name,reason);
				SendTeamMessage(PlayerInfo[playerid][pMember],COLOR_LIGHTBLUE1,string);
				foreach(Player, i) {
					if(PlayerInfo[i][pSQLID] == Selected2[playerid]) {
						PlayerInfo[i][pMember] = 0;
						PlayerInfo[i][pRank] = 0;
						PlayerInfo[i][pChar] = 250;
	  					PlayerInfo[i][pLeader] = 0;
						PlayerInfo[i][pFACWarns] = 0;
						PlayerInfo[i][pFpunish] = 0;
						PlayerInfo[i][pFactionTime] = 0;
						tazer[i] = 0;
						OnDuty[i] = 0;
						SetPlayerArmourEx(i, 0);
						SetPlayerSkin(i,PlayerInfo[i][pModel]);
						SpawnPlayer(i);
						PlayerInfo[i][pCommands] = 0;
						Update(i,pCommandsx);
						format(string,sizeof(string),"Liderul %s te-a demis din %s cu 0 Faction Punish pe motiv: %s.",GetName(playerid),NumeFactiune(member),reason);
						SendClientMessage(i,COLOR_LIGHTBLUE,string);
					}
				}
				mysql_format(SQL, query, sizeof(query), "UPDATE `users` SET `Team`='3',`Member`='0',`Leader`='0',`Commands`='0',`Rank`='0',`CChar`='0',`FPunish`='0',`FWarn`='0',`FactionTime`='0' WHERE `ID`='%d'",Selected2[playerid]);
				mysql_tquery(SQL, query, "", "");
			}
			else return ShowPlayerDialog(playerid,DIALOG_NOFPUNINVITE,DIALOG_STYLE_INPUT,"Reason:","Motivul trebuie sa contina minim 4 si maxim 40 caractere.","Confirm","Close");
            return 1;
		}
		case DIALOG_HELP: {
			if(!response) return 1;
			switch(listitem) {
				case 0: {
					strcat(string, "/stats - Afisieaza statisticile contului.\n");
					strcat(string, "/buylevel - Cumperi nivelul urmator.\n");
					strcat(string, "/changeepass - Schimbi Parola Contului .\n");
					strcat(string, "/changeemail - Schimbi Email-ul Contului.\n");
					strcat(string, "/topplayers - Afiseaza top-ul jucatorilor de pe server.\n");
					ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Help:", string, "Cancel", "");
				}
				case 1: {
					strcat(string, "/id - Afiseaza cateva date despre un jucator.\n");
					strcat(string, "/pay - Trimite bani unui jucator.\n");
					strcat(string, "/buy - Cumpara obiecte din magazin.\n");
					strcat(string, "/drink - Consuma bauturi intr-un bar.\n");
					strcat(string, "/skills - Afiseaza aptitudinile la joburi.\n");
					strcat(string, "/sleep - Activeaza modul AFK.\n");
					strcat(string, "/spawnchange - Schimba locatia de spawn.\n");
					strcat(string, "/eject - Arunca un passager din vehicul.\n");
					strcat(string, "/rob - Organizarea unui Jaf.\n");
					strcat(string, "/service - Cheama un mecanic service.\n");
					strcat(string, "/report - Contacteaza echipa de admini.\n");
					strcat(string, "/n - Conteacteaza echipa de helperi.\n");
					strcat(string, "/speedlimit - Limiteaza viteza vehiculului.\n");
					strcat(string, "/usedrugs - Consuma droguri.\n");
					strcat(string, "/fill - Umple rezervoru vehiculului.\n");
					strcat(string, "/fillgascan - Umple canistra cu benzina.\n");
					strcat(string, "/carradio - Porneste radio ca sofer.\n");
					strcat(string, "/mp3 - Porneste muzica de oriunde.\n");
					strcat(string, "/time - Arata timpu pe joc.\n");
					strcat(string, "/addpin - Permite introducerea unui cod PIN de 4 cifre.\n");
					strcat(string, "/changepin - Perminte schimbarea codului PIN.\n");
					strcat(string, "/pin - Permite deblocarea contului prin introducerea Codului PIN.\n");
					strcat(string, "/mydonations - Poti vizualiza toate donatiile facute serverului.\n");
					strcat(string, "/charity - Donezi jucatorilor cu nivel 1-7 o anumita suma de bani.\n");
					ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Help:", string, "Cancel", "");
				}
				case 2: {
					strcat(string, "/jobs - Lista locurilor de Munca.\n");
					strcat(string, "/jobhelp - Comenzile disponibile locurilor de munca actual.\n");
					strcat(string, "/getjob -  Angajarea la un loc de munca.\n");
					strcat(string, "/quitjob - Renuntarea de la un loc de munca.\n");
					strcat(string, "/work  - Activarea misiunii locului de munca.\n");
					strcat(string, "/stopwork - Renuntarea la misiunea locului de munca.\n");
					strcat(string, "/skills - Afisiarea nivelului de aptitudini la locurile de munca.\n");
					ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Help:", string, "Cancel", "");
				}
				case 3: {
					strcat(string, "/balance - Afiseaza Soldul Curent.\n");
					strcat(string, "/withdraw - Extrage o suma din cont.\n");
					strcat(string, "/deposit - Depoziteaza o suma in cont.\n");
					strcat(string, "/transfer - Transfera o suma catre alt jucator.\n");
					strcat(string, "/buyvehicle - Cumperi o masina de la DealerShip.\n");
					ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Help:", string, "Cancel", "");
				}
				case 4: {
					strcat(string, "/engine - Porneste/Opreste motorul.\n");
					strcat(string, "/lock - Deschizistrcat/Inchizi masina.\n");
					strcat(string, "/park - Parchezi masina intr-un loc anune.\n");
					strcat(string, "/carplate - Schimbi numarul de inmatriculare.\n");
					strcat(string, "/givekey - Dai cheia unui vehicul.\n");
					strcat(string, "/throwkey - Arunci cheia vehiculului (disponibila celui caruia i-ai dat /givekey).\n");
					strcat(string, "/trade - Poti face un schimb de vehicule cu un player.\n");
					strcat(string, "/sellcarto - Vinzi vehiculul unui player.\n");
					strcat(string, "/carcolor - Setezi culoarea vehiculului.\n");
					strcat(string, "/v - Accesezi meniul vehiculelor (+alte optiuni).\n");
					ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Help:", string, "Cancel", "");
				}
				case 5: {
					strcat(string, "/open - Descuie/incuie casa.\n");
					strcat(string, "/setrentable - Alegi daca jucatori pot sta cu chirie in casa ta.\n");
					strcat(string, "/setrent - Alegi pretului chiriei.\n");
					strcat(string, "/evict - Evacueaza un chirias.\n");
					strcat(string, "/evictall - Evacueaza toti chiriasi online.\n");
					strcat(string, "/sellhousetostate - Vinde casa la stats.\n");
					strcat(string, "/sellhouse - Alege un pret de vanzare al casei.\n");
					strcat(string, "/houseupgrade - Cumperi viata/armura pentru casa.\n");
					strcat(string, "/housewithdraw - Extragi bani din seiful casei.\n");
					strcat(string, "/houseinfo - Informati privitoare la casa.\n");
					strcat(string, "/furniture - Achizitionezi obiecte pentru casa.\n");
					strcat(string, "/editfurniture - Editezi obiectele pentru casa.\n");
					ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Help:", string, "Cancel", "");
				}
				case 6: {
					strcat(string, "/enter - Intri intr-o afacere statica.\n");
					strcat(string, "/sellbiz - Alege un pret de vanzare al Bizului.\n");
					strcat(string, "/bizname - Schimba denumirea Bizului.\n");
					strcat(string, "/open - Deschide/Inchide bizul\n");
					strcat(string, "/sellbiztostate - Vinde Bizul la stats.\n");
					strcat(string, "/bizwithdraw - Extrage bani din biz.\n");
					strcat(string, "/bizstatus - Statusu Bizului.\n");
					ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Help:", string, "Cancel", "");
				}
				case 7: {
					strcat(string, "/locations Afiseaza un meniu cu locatiile importante.\n");
					ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Help:", string, "Cancel", "");
				}
				case 8:
				{
			  		if(PlayerInfo[playerid][pMember] != 0) {
			     		if(IsACop(playerid)) {
							strcat(string, "/r - Vorbesti pe chat-ul factiunii.\n");
							strcat(string, "/d - Vorbesti pe chat-ul tuturor departamentelor.\n");
							strcat(string, "/fvr - Respawnezi vehiculele factiunii.\n");
							strcat(string, "/fmotd - Vezi mesajul factiunii.\n");
							strcat(string, "/fdeposit - Depozitezi bani in seiful factiunii.\n");
							strcat(string, "/members - Vezi membrii factiunii.\n");
							strcat(string, "/myraport - Verifici raportul tau ca membru.\n");
                            strcat(string, "/cuff - Incatusezi un jucator.\n");
							strcat(string, "/uncuff - Scoti catusele unui jucator.\n");
							strcat(string, "/frisk - Verifici un jucator.\n");
							strcat(string, "/clear - Stergi wanted-ul unui jucator.\n");
							strcat(string, "/wanted - Vezi toti jucatorii cu wanted.\n");
							strcat(string, "/m(egaphone) - Vorbesti prin megafon.\n");
							strcat(string, "/tazer - Activezi pistolul de imobilizare.\n");
							strcat(string, "/untie - Dezlegi un jucator.\n");
							strcat(string, "/ticket - Acorzi o amenda unui jucator.\n");
							strcat(string, "/duty - Intri/Iesi de la datorie.\n");
							strcat(string, "/confiscate - Confisti licenta unui jucator.\n");
							strcat(string, "/startradar - Pornesti radarul.\n");
							strcat(string, "/stopradar - Opresti radarul.\n");
							strcat(string, "/mdc - Verifici mdc-ul unui jucator.\n");
							strcat(string, "/su - Acorzi wanted unui jucator.\n");
							strcat(string, "/arrest - Vezi mesajul factiunii.\n");
							strcat(string, "/so - Somezi un jucator.\n");
							strcat(string, "/nearwanted - Vezi jucatorii cu wanted din jurul tau.\n");
	      					ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Departament's commands:", string, "Close", "");
				    	}
			     		else if(IsAMember(playerid)) {
							strcat(string, "/f - Vorbesti pe chat-ul factiunii.\n");
							strcat(string, "/fvr - Respawnezi vehiculele factiunii.\n");
							strcat(string, "/fmotd - Vezi mesajul factiunii.\n");
							strcat(string, "/fdeposit - Depozitezi bani in seiful factiunii.\n");
							strcat(string, "/members - Vezi membrii factiunii.\n");
							strcat(string, "/myraport - Verifici raportul tau ca membru.\n");
							strcat(string, "/attack - Pornesti un war pe un anumit turf.\n");
							strcat(string, "/order - Primesti un pachet cu arme.\n");
							strcat(string, "/fdrugs - Depozitezi/Iei o cantitate de droguri.\n");
							strcat(string, "/fmats - Depozitezi/Iei o cantitate de materiale.\n");
							strcat(string, "/tie - Legi un jucator.\n");
							strcat(string, "/untie - Dezlegi un jucator.\n");
							ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Gang's commands:", string, "Close", "");
				    	}
				    	else if(PlayerInfo[playerid][pMember] == 7) {
							strcat(string, "/fvr - Respawnezi vehiculele factiunii.\n");
							strcat(string, "/fmotd - Vezi mesajul factiunii.\n");
							strcat(string, "/fdeposit - Depozitezi bani in seiful factiunii.\n");
							strcat(string, "/settax - Setezi taxa luata la PayDay-uri.\n");
							strcat(string, "/taxstatus - Verifici taxa actuala.\n");
							strcat(string, "/givetax - Distribui taxa.\n");
							ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Mayor's commands:", string, "Close", "");
			            }
			    		else if(PlayerInfo[playerid][pMember] == 8) {
							strcat(string, "/f - Vorbesti pe chat-ul factiunii.\n");
							strcat(string, "/fvr - Respawnezi vehiculele factiunii.\n");
							strcat(string, "/fmotd - Vezi mesajul factiunii.\n");
							strcat(string, "/fdeposit - Depozitezi bani in seiful factiunii.\n");
							strcat(string, "/members - Vezi membrii factiunii.\n");
							strcat(string, "/myraport - Verifici raportul tau ca membru.\n");
							strcat(string, "/tow - Tractezi o masina.\n");
							strcat(string, "/towpoints - Vezi numarul tau de puncte de tractare.\n");
							ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "TTC's commands:", string, "Close", "");
			    		}
			    		else if(PlayerInfo[playerid][pMember] == 9) {
							strcat(string, "/f - Vorbesti pe chat-ul factiunii.\n");
							strcat(string, "/fvr - Respawnezi vehiculele factiunii.\n");
							strcat(string, "/fmotd - Vezi mesajul factiunii.\n");
							strcat(string, "/fdeposit - Depozitezi bani in seiful factiunii.\n");
							strcat(string, "/members - Vezi membrii factiunii.\n");
							strcat(string, "/myraport - Verifici raportul tau ca membru.\n");
							strcat(string, "/news - Anunti o stire pentru toti jucatorii.\n");
							strcat(string, "/live - Pornesti un live cu mai multi jucatori.\n");
							ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "News Reporters's commands:", string, "Close", "");
				    	}
			            else if(PlayerInfo[playerid][pMember] == 11) {
							strcat(string, "/f - Vorbesti pe chat-ul factiunii.\n");
							strcat(string, "/fvr - Respawnezi vehiculele factiunii.\n");
							strcat(string, "/fmotd - Vezi mesajul factiunii.\n");
							strcat(string, "/fdeposit - Depozitezi bani in seiful factiunii.\n");
							strcat(string, "/myraport - Verifici raportul tau ca membru.\n");
							strcat(string, "/members - Vezi membrii factiunii.\n");
							strcat(string, "/gethit - Primesti o tinta spre asasinare.\n");
							strcat(string, "/mycontract - Vezi jucatorul pe care trebuie sa-l asasinezi.\n");
							strcat(string, "/leavehit - Anulezi contractul de asasinare pentru tinta.\n");
							strcat(string, "/contracts - Vezi numarul de contracte disponibile.\n");
							strcat(string, "/undercover - Intri sub acoperire.\n");
							strcat(string, "/order - Primesti un pachet cu arme.\n");
							ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Hitman Agency's commands:", string, "Close", "");
			            }
			            else if(IsAInstructor(playerid)) {
							strcat(string, "/f - Vorbesti pe chat-ul factiunii.\n");
							strcat(string, "/fvr - Respawnezi vehiculele factiunii.\n");
							strcat(string, "/fmotd - Vezi mesajul factiunii.\n");
							strcat(string, "/fdeposit - Depozitezi bani in seiful factiunii.\n");
							strcat(string, "/members - Vezi membrii factiunii.\n");
							strcat(string, "/myraport - Verifici raportul tau ca membru.\n");
							strcat(string, "/sx - Vorbesti pe chat-ul tuturor instructorilor.\n");
							strcat(string, "/givelicense - Oferi licente unui jucator.\n");
							strcat(string, "/startlesson - Incepi o lectie cu un jucator.\n");
							strcat(string, "/stoplesson - Opresti o lectie cu un jucator.\n");
							strcat(string, "/acceptlic  - Accepti solicitarea de licente a unui jucator.\n");
							strcat(string, "/closelic - Anulezi solicitarea de licente a unui jucator.\n");
							strcat(string, "/clicense - Vezi solicitarile tuturor jucatorilor.\n");
							ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Instructor's commands:", string, "Close", "");
			            }
			            else if(IsATaxiMember(playerid)) {
							strcat(string, "/f - Vorbesti pe chat-ul factiunii.\n");
							strcat(string, "/fvr - Respawnezi vehiculele factiunii.\n");
							strcat(string, "/fmotd - Vezi mesajul factiunii.\n");
							strcat(string, "/fdeposit - Depozitezi bani in seiful factiunii.\n");
							strcat(string, "/members - Vezi membrii factiunii.\n");
							strcat(string, "/myraport - Verifici raportul tau ca membru.\n");
							strcat(string, "/tx - Vorbesti pe chat-ul tuturor taximetristilor.\n");
							strcat(string, "/accept taxi - Accepti apelul la taxi al unui jucator.\n");
							strcat(string, "/fare - Setezi tariful cursei.\n");
							ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Taxi's commands:", string, "Close", "");
			            }
			            else if(PlayerInfo[playerid][pMember] == 14) {
				    	    strcat(string, "/r - Vorbesti pe chat-ul factiunii.\n");
							strcat(string, "/fvr - Respawnezi vehiculele factiunii.\n");
							strcat(string, "/fmotd - Vezi mesajul factiunii.\n");
							strcat(string, "/fdeposit - Depozitezi bani in seiful factiunii.\n");
							strcat(string, "/members - Vezi membrii factiunii.\n");
                            strcat(string, "/myraport - Verifici raportul tau ca membru.\n");
							strcat(string, "/healto - Oferi viata unui jucator.\n");
							ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Paramedic's commands:", string, "Close", "");
			            }
			        }
			        else return SCM(playerid,COLOR_BZWHITE, "Eroare: Nu faci parte dintr-o factiune.");
				}
				case 9: {
				    if(PlayerInfo[playerid][pLeader] == 0) return SCM(playerid,COLOR_BZWHITE,"Eroare: Nu esti lider.");
					strcat(string, "/invite - Inviti un player in factiune.\n");
					strcat(string, "/fvr - Respawnezi masinile factiuni.\n");
					strcat(string, "/members - Vezi membrii factiunii.\n");
					strcat(string, "/lc - Vorbesti pe chat-ul liderilor.\n");
					strcat(string, "/faction - Deschizi panoul factiunii.\n");
					ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Lider:", string, "Cancel", "");
				}
				case 10: {
					strcat(string, "Codul PIN este un cod de securitate folosit pentru a iti oferi acces la comenzile de transfer al banilor.\n\n");
					strcat(string, "/addpin - Deschide panoul cu taste si permite introducerea unui cod PIN de 4 cifre.\n");
					strcat(string, "/changepin - Deschide panoul cu taste si permite schimbarea codului PIN.\n");
					strcat(string, "/pin - Deschide panoul cu taste si permite deblocarea contului prin introducerea codului PIN.\n");
					strcat(string, "/lockacc - Aceasta comanda permite blocarea contului.\n");
					ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "Pin:", string, "Cancel", "");
				}
			}
			return 1;
		}
		case DIALOG_SPAWNCHANGE: {
		    if(!response) return 1;
	        switch(listitem) {
	            case 0: {
					SpawnChange[playerid] = 0;
					if(PlayerInfo[playerid][pMember] == 0) string ="Ai ales sa te spawnezi la Spawn-ul Obisnuit.";
					else if(PlayerInfo[playerid][pMember] != 0) format(string,sizeof(string),"Ai ales sa te spawnezi la HQ %s.",NumeFactiune(PlayerInfo[playerid][pMember]));
					SCM(playerid,COLOR_YELLOW2,string);
				}
			    case 1: {
                    SpawnChange[playerid] = 1;
                    SCM(playerid, COLOR_YELLOW2, "Ai ales sa te spawnezi la Casa/Chiria ta.");
				}
			}
			return 1;
		}
		case DIALOG_DTRANSFER: {
	    	if(!response) return 1;
	    	if(listitem == 0) {
			    SetPlayerPosEx(playerid,1529.1344,-1691.7327,6.2252);
			    SetPlayerInterior(playerid,0);
			    SetPlayerVirtualWorld(playerid,0);
			}
	    	if(listitem == 1) {
			    SetPlayerPosEx(playerid,611.1734,-583.4953,18.2109);
			    SetPlayerInterior(playerid,0);
			    SetPlayerVirtualWorld(playerid,0);
			}
	    	if(listitem == 2) {
			    SetPlayerPosEx(playerid,201.2595,1869.7244,13.1406);
			    SetPlayerInterior(playerid,0);
			    SetPlayerVirtualWorld(playerid,0);
			}
            return 1;
		}
		case DIALOG_MATERIALS: {
	    	if(!response) return 1;
	    	if(listitem == 0) {
				if(GetPlayerCash(playerid) < 900000) return SCM(playerid,COLOR_GREY, "Nu ai suma necesara.");
				PlayerInfo[playerid][pMats] += 1000000;
			    Update(playerid,pMatsx);
				SCM(playerid,COLOR_LIGHTBLUE,"Ai cumparat 1,000,000 materiale pentru $900,000.");
				GivePlayerCash(playerid,-1000000);
				Update(playerid,pCashx);
			}
			if(listitem == 1) {
				if(GetPlayerCash(playerid) < 1700000) return SCM(playerid,COLOR_GREY, "Nu ai suma necesara.");
			    PlayerInfo[playerid][pMats] += 2000000;
			    Update(playerid,pMatsx);
			    GivePlayerCash(playerid,-2000000);
			    Update(playerid,pCashx);
			    SCM(playerid,COLOR_LIGHTBLUE,"Ai cumparat 2,000,000 materiale pentru $1,700,000.");
			}
			return 1;
		}
		case DIALOG_MUS: {
	    	if(!response) return 1;
			PlayAudioStreamForPlayersInCar(vehicleid, inputtext);
	   	 	return 1;
		}
    	case DIALOG_REGISTER: {
			if(response) {
			    PlayerInfo[playerid][pSex] = 1;
			    ShowPlayerDialog(playerid,DIALOG_REGISTER2,DIALOG_STYLE_INPUT,"Varsta","RO: Te rog sa scrii mai jos varsta ta.\n\nEN: Please insert your age.","Next","");
			    RegistrationStep[playerid] = 2;
			    SetPlayerInterior(playerid, 0);
		        PlayerInfo[playerid][pChar] = 250;
			    SetPlayerSkinEx(playerid, 250);
				mysql_format(SQL,query,sizeof(query),"UPDATE users SET `Sex`='1',`Model`='250' WHERE `ID`='%d'",PlayerInfo[playerid][pSQLID]);
				mysql_tquery(SQL,query,"","");
			}
			else {
			    PlayerInfo[playerid][pSex] = 2;
			    ShowPlayerDialog(playerid,DIALOG_REGISTER2,DIALOG_STYLE_INPUT,"Varsta","RO: Te rog sa scrii mai jos varsta ta.\n\nEN: Please insert your age.","Next","");
			    RegistrationStep[playerid] = 2;
			    SetPlayerInterior(playerid, 0);
		        PlayerInfo[playerid][pChar] = 192;
			    SetPlayerSkinEx(playerid, 192);
				mysql_format(SQL,query,sizeof(query),"UPDATE users SET `Sex`='2',`Model`='192' WHERE `ID`='%d'",PlayerInfo[playerid][pSQLID]);
				mysql_tquery(SQL,query,"","");
			}
			return 1;
		}
		case DIALOG_REGISTER2: {
			new tmppass[64];
			mysql_real_escape_string(inputtext, tmppass);
			new age = strval(tmppass);
			if(age > 7 && age < 50 && response) {
				PlayerInfo[playerid][pAge] = age;
				mysql_format(SQL,query,sizeof(query),"UPDATE users SET `Age`='%d' WHERE `ID`='%d'",PlayerInfo[playerid][pAge],PlayerInfo[playerid][pSQLID]);
				mysql_tquery(SQL,query,"","");
				RegistrationStep[playerid] = 3;
				ShowPlayerDialog(playerid, DIALOG_REGISTER4, DIALOG_STYLE_INPUT, "Email", "RO: Scrie mai jos adresa ta de email, daca iti vei pierde contul il vei putea recupera cu aceasta.\n\nEN: Insert your email adress, you can recover your account if you lose him.", "Next", "");
				SetPlayerInterior(playerid, 0);
			}
			else return ShowPlayerDialog(playerid,DIALOG_REGISTER2,DIALOG_STYLE_INPUT,"Varsta","RO: Te rog sa scrii mai jos varsta ta.\n\nEN: Please insert your age.","Next","");
		}
        case DIALOG_REGISTER4: {
	 		new length = strlen(inputtext);
			if(length > 40) {
				ShowPlayerDialog(playerid, DIALOG_REGISTER4, DIALOG_STYLE_INPUT, "Email", "RO: Scrie mai jos adresa ta de email, daca iti vei pierde contul il vei putea recupera cu aceasta.\n\nEN: Insert your email adress, you can recover your account if you lose him.", "Next", "");
				return 1;
			}
			if(IsMail(inputtext) && response && strlen(inputtext)<30) {
				new emailtext[64];
				mysql_real_escape_string(inputtext, emailtext);
				strmid(PlayerInfo[playerid][pEmail], emailtext, 0, strlen(emailtext), 64);
				mysql_format(SQL,query,sizeof(query),"UPDATE users SET `Email`='%s' WHERE `ID`='%d'",PlayerInfo[playerid][pEmail],PlayerInfo[playerid][pSQLID]);
				mysql_tquery(SQL,query,"","");
				ShowPlayerDialog(playerid,DIALOG_REGISTER5,DIALOG_STYLE_MSGBOX,"Account Registration","Thank you for filling in all the information.\nHave fun on our server.\n\nMultumim pentru ca ati completat datele.\nDistractie placuta pe server.","Done","");
			}
			else return ShowPlayerDialog(playerid, DIALOG_REGISTER4, DIALOG_STYLE_INPUT, "Email", "RO: Scrie mai jos adresa ta de email, daca iti vei pierde contul il vei putea recupera cu aceasta.\n\nEN: Insert your email adress, you can recover your account if you lose him.", "Next", "");
	 	}
	 	case DIALOG_REGISTER5: {
			if(response) {
			    new playersip[25];
			    RegistrationStep[playerid] = 6;
				language[playerid] = 1;
				GetPlayerIp(playerid,playersip,sizeof(playersip));
		    	format(string,sizeof(string),"%s(%d) s-a inregistrat pe server. [IP: %s / EMail: %s]",GetName(playerid), playerid, playersip, PlayerInfo[playerid][pEmail]);
				SendStaffMessage(COLOR_WARNING,string);
				format(NewAccount,128,GetName(playerid));
				mysql_format(SQL,query,sizeof(query),"UPDATE stuff SET NewAccount='%s'",GetName(playerid));
				mysql_tquery(SQL,query,"","");
				ServerAccounts++;
				format(string,sizeof(string),"SERVER: Bine ai venit, %s!",GetName(playerid));
				SCM(playerid,COLOR_WHITE,string);
				SCM(playerid, COLOR_LIGHTBLUE, "Contul tau nu are un PIN setat. Pentru a imbunatati securitatea contului tau foloseste /addpin si seteaza-ti un PIN.");
				SCM(playerid,COLOR_YELLOW,"Foloseste comanda /bonus pentru a primi: Nivel 5, 250 Puncte Premium si 500.000$.");
				SetPlayerCheckpoint(playerid,1602.4291,-2177.7148,13.5547,3.0);
				CP[playerid] = 53;
		        TutTime[playerid] = 0; PlayerInfo[playerid][pTut] = 2;
				gNews[playerid] = 0; gFam[playerid] = 0;
				TogglePlayerControllable(playerid, 1);
				SetCameraBehindPlayer(playerid);
				SetPlayerSpawn(playerid);
				PlayerInfo[playerid][pAccount] = 5000;
				ResetPlayerCash(playerid);
				GivePlayerCash(playerid,5000);
				SetPlayerInterior(playerid,0);
				mysql_format(SQL,query,sizeof(query),"UPDATE users SET `Tutorial`='2',`Bank`='5000',`Money`='5000' WHERE `name`='%s'",GetName(playerid));
				mysql_tquery(SQL,query,"","");
			}
			return 1;
		}
		case DIALOG_NEWPASS: {
		    if(!response) return 1;
	    	if(strcmp(inputtext, PlayerInfo[playerid][pKey])) {
				SCM(playerid, COLOR_WHITE, "Parola gresita! Introdu parola pe care o ai setata acum!");
				return 1;
			}
			ShowPlayerDialog(playerid, DIALOG_NEWPASS1,DIALOG_STYLE_INPUT, "SERVER: Change Password:","Type your NEW password bellow!","Change","Cancel");
		}
		case DIALOG_NEWPASS1: {
		    if(!response) return 1;
			new length = strlen(inputtext);
			if(length == 0 || length > 15) {
				ShowPlayerDialog(playerid, DIALOG_NEWPASS1,DIALOG_STYLE_INPUT, "SERVER: Change Password:","Type your NEW password bellow!","Change","Cancel");
				return 1;
			}
			if(strlen(inputtext) > 1 && strlen(inputtext) < 16) {
	            new emailtext[64];
				mysql_real_escape_string(inputtext, emailtext);
				strmid(PlayerInfo[playerid][pKey], emailtext, 0, strlen(emailtext), 64);
				new str1[512];
				format(str1,512,"UPDATE users SET `password`='%s' WHERE `ID`='%d'",PlayerInfo[playerid][pKey],PlayerInfo[playerid][pSQLID]);
				mysql_query(SQL,str1);
				SCM(playerid, COLOR_WHITE, "Password changed!");
				SCM(playerid, 0x6db067FF, "Daca dai parola contului altcuiva, adminii nu te pot ajuta sa-ti recuperezi contul.");
				SCM(playerid, 0x6db067FF, "E interzis sa incerci sa vinzi sau sa oferi la schimb contul din joc. Se sanctioneaza cu ban permanent.");
				format(string, sizeof(string), "Your new password is: %s", PlayerInfo[playerid][pKey]);
				SendClientMessage(playerid, COLOR_WARNING, string);
			}
			else ShowPlayerDialog(playerid, DIALOG_NEWPASS1,DIALOG_STYLE_INPUT, "Schimba parola:","Scrie parola pe care  vrei s-o ai.","Ok","Cancel");
		}
		case DIALOG_NEWEMAIL: {
	    	if(strcmp(inputtext, PlayerInfo[playerid][pEmail])) {
				SCM(playerid, COLOR_WHITE, "Email invalid!");
			}
			ShowPlayerDialog(playerid, DIALOG_NEWEMAIL1,DIALOG_STYLE_INPUT, "SERVER: Change Email:","Type your NEW email bellow!","Change","Cancel");
		}
		case DIALOG_NEWEMAIL1: {
		    if(!response) return 1;
		    if(strval(inputtext) > 40) return ShowPlayerDialog(playerid, DIALOG_NEWEMAIL1,DIALOG_STYLE_INPUT, "SERVER: Change Email:","Type your NEW email bellow!","Change","Cancel");
			if(IsMail(inputtext) && response && strlen(inputtext)<30) {
	            new emailtext[64];
				mysql_real_escape_string(inputtext, emailtext);
				strmid(PlayerInfo[playerid][pEmail], emailtext, 0, strlen(emailtext), 64);
				new str1[512];
				format(str1,512,"UPDATE users SET `Email`='%s' WHERE `ID`='%d'",PlayerInfo[playerid][pEmail],PlayerInfo[playerid][pSQLID]);
				mysql_query(SQL,str1);
				SCM(playerid, COLOR_WHITE, "Email changed!");
				SCM(playerid, 0x6db067FF, "Daca dai parola contului altcuiva, adminii nu te pot ajuta sa-ti recuperezi contul.");
				SCM(playerid, 0x6db067FF, "E interzis sa incerci sa vinzi sau sa oferi la schimb contul din joc. Se sanctioneaza cu ban permanent.");
				format(string, sizeof(string), "Your new email is: %s", PlayerInfo[playerid][pEmail]);
				SendClientMessage(playerid, COLOR_WARNING, string);
			}
			else ShowPlayerDialog(playerid, DIALOG_NEWEMAIL1,DIALOG_STYLE_INPUT, "Schimba email-ul:","Scrie adresa de email pe care vrei s-o ai.","Ok","Cancel");
		}
		case DIALOG_TRANSFER: {
			if(!response) return 1;
			new giveplayer[30];
			GetPlayerName(TransferOffer[playerid],giveplayer,sizeof(giveplayer));
			GetPlayerName(playerid,sendername,sizeof(sendername));
		    new cashbank = TransferMoney[playerid]/100;
			PlayerInfo[playerid][pAccount] -= TransferMoney[playerid]+cashbank;
			PlayerInfo[TransferOffer[playerid]][pAccount] += TransferMoney[playerid];
			BizzInfo[1][bBalance] += cashbank;
			format(string, sizeof(string), "Ai transferat $%s in contul bancar al lui %s. Taxa: $%s", FormatNumber(TransferMoney[playerid]), giveplayer,FormatNumber(cashbank));
			PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
			SendClientMessage(playerid, COLOR_MONEY, string);
		    format(string, sizeof(string), "Ai primit $%s in contul tau bancar de la %s.", FormatNumber(TransferMoney[playerid]), sendername, playerid);
			SendClientMessage(TransferOffer[playerid], COLOR_MONEY, string);
			format(string, sizeof(string), "%s a transferat $%s lui %s.", sendername, FormatNumber(TransferMoney[playerid]), giveplayer);
			SendAdminMessage(COLOR_YELLOW,string,1);
			PlayerPlaySound(TransferOffer[playerid], 1052, 0.0, 0.0, 0.0);
 	 		new str[256];
			Update(playerid, pBank);
			Update(TransferOffer[playerid], pBank);
			format(str,sizeof(str),"UPDATE `bizz` SET `Till`='%d' WHERE `ID`='1'",BizzInfo[1][bBalance]);
			mysql_query(SQL,str);
			new ip1[42],ip2[42];
    		GetPlayerIp(playerid,ip1,sizeof(ip1));
    		GetPlayerIp(TransferOffer[playerid],ip2,sizeof(ip2));
			Transferlog(ip2,ip1,PlayerInfo[TransferOffer[playerid]][pSQLID],PlayerInfo[playerid][pSQLID],TransferMoney[playerid]);
			TransferOffer[playerid] = 999;
			TransferMoney[playerid] = 0;
			return 1;
		}
 		case 170: {
		    if(!response) return 1;
	        new carid = GetPlayerVehicleID(playerid);
	        PlayerRadio[playerid] = 1;
	        switch(listitem) {
	            case 0: {
		        	for(new i = 0; i < MAX_PLAYERS; i++) {
						if(IsPlayerInVehicle(i, carid)) {
							StopAudioStreamForPlayer(playerid);
						}
					}
				    CarRadio[carid] = 0;
					SendClientMessage(playerid, COLOR_WHITE, "Ai oprit radio-ul.");
	            }
		        case 1: {
		        	for(new i = 0; i < MAX_PLAYERS; i++) {
						if(IsPlayerInVehicle(i, carid)) {
	      					PlayAudioStreamForPlayer(i, "http://live.radiotaraf.com:8181");
						}
					}
					format(string, sizeof(string), "* %s asculta acum radio-ul Taraf Romania!", GetName(playerid));
					ProxDetector( 20.0, playerid, string, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE );
					CarRadio[carid] = 1;
			    }
	            case 2: {
		        	for(new i = 0; i < MAX_PLAYERS; i++) {
						if(IsPlayerInVehicle(i, carid)) {
	     					PlayAudioStreamForPlayer(i, "http://radiofunky.ro/live.pls");
						}
					}
					format(string, sizeof(string), "* %s asculta acum radio-ul Funky Manele!", GetName(playerid));
					ProxDetector( 20.0, playerid, string, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE );
					CarRadio[carid] = 2;
			    }
	            case 3: {
		        	for(new i = 0; i < MAX_PLAYERS; i++) {
						if(IsPlayerInVehicle(i, carid)) {
	      					PlayAudioStreamForPlayer(i, "http://live.radiogangsta.ro:8800");
						}
					}
					format(string, sizeof(string), "* %s asculta acum radio-ul Gangsta Manele!", GetName(playerid));
					ProxDetector( 20.0, playerid, string, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE );
					CarRadio[carid] = 3;
	            }
	            case 4: {
		        	for(new i = 0; i < MAX_PLAYERS; i++) {
						if(IsPlayerInVehicle(i, carid)) {
	                        PlayAudioStreamForPlayer(i, "http://dance.radiogangsta.ro:8800");
						}
					}
					format(string, sizeof(string), "* %s asculta acum radio-ul Gangsta Dance!", GetName(playerid));
					ProxDetector( 20.0, playerid, string, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE );
					CarRadio[carid] = 4;
			    }
	            case 5: {
		        	for(new i = 0; i < MAX_PLAYERS; i++) {
						if(IsPlayerInVehicle(i, carid)) {
	      					PlayAudioStreamForPlayer(i, "http://rbandit.dyndns.tv:8000");
						}
					}
					format(string, sizeof(string), "* %s asculta acum radio-ul Bandit Romania!", GetName(playerid));
					ProxDetector( 20.0, playerid, string, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE );
					CarRadio[carid] = 5;
			    }
	            case 6: {
		        	for(new i = 0; i < MAX_PLAYERS; i++) {
						if(IsPlayerInVehicle(i, carid)) {
	      					PlayAudioStreamForPlayer(i, "http://live.radiohot.ro:8000");
						}
					}
					format(string, sizeof(string), "* %s asculta acum radio-ul Hot Romania!", GetName(playerid));
					ProxDetector( 20.0, playerid, string, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE );
					CarRadio[carid] = 6;
			    }
	            case 7: {
		        	for(new i = 0; i < MAX_PLAYERS; i++) {
						if(IsPlayerInVehicle(i, carid)) {
	      					PlayAudioStreamForPlayer(i, "http://www.radiotequila.ro/hiphop.m3u");
						}
					}
					format(string, sizeof(string), "* %s asculta acum radio-ul Tequila HipHop!", GetName(playerid));
					ProxDetector( 20.0, playerid, string, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE );
					CarRadio[carid] = 7;
			    }
	            case 8: {
		        	for(new i = 0; i < MAX_PLAYERS; i++) {
						if(IsPlayerInVehicle(i, carid)) {
	      					PlayAudioStreamForPlayer(i, "http://80.86.106.136/listen.pls");
						}
					}
					format(string, sizeof(string), "* %s asculta acum radio-ul Kiss FM!", GetName(playerid));
					ProxDetector( 20.0, playerid, string, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE );
					CarRadio[carid] = 8;
			    }
	            case 9: {
		        	for(new i = 0; i < MAX_PLAYERS; i++) {
						if(IsPlayerInVehicle(i, carid)) {
	      					PlayAudioStreamForPlayer(i, "http://stream.radiozu.ro:8020");
						}
					}
					format(string, sizeof(string), "* %s asculta acum radio-ul ZU Romania!", GetName(playerid));
					ProxDetector( 20.0, playerid, string, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE );
					CarRadio[carid] = 9;
			    }
	            case 10: {
		        	for(new i = 0; i < MAX_PLAYERS; i++) {
						if(IsPlayerInVehicle(i, carid)) {
	      					PlayAudioStreamForPlayer(i, "http://nextgen.go.ro:8012");
						}
					}
					format(string, sizeof(string), "* %s asculta acum radio-ul Greu de Difuzat!", GetName(playerid));
					ProxDetector( 20.0, playerid, string, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE );
					CarRadio[carid] = 10;
			    }
	            case 11: {
		        	for(new i = 0; i < MAX_PLAYERS; i++) {
						if(IsPlayerInVehicle(i, carid)) {
	      					PlayAudioStreamForPlayer(i, "http://stream.profm.ro:8012/profm.mp3");
						}
					}
					format(string, sizeof(string), "* %s asculta acum radio-ul Pro FM!", GetName(playerid));
					ProxDetector( 20.0, playerid, string, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE );
					CarRadio[carid] = 11;
			    }
	            case 12: {
		        	for(new i = 0; i < MAX_PLAYERS; i++) {
						if(IsPlayerInVehicle(i, carid)) {
	      					PlayAudioStreamForPlayer(i, "http://live.radioclubmix.ro:9999");
						}
					}
					format(string, sizeof(string), "* %s asculta acum radio-ul ClubMix!", GetName(playerid));
					ProxDetector( 20.0, playerid, string, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE );
					CarRadio[carid] = 12;
			    }
	            case 13: {
		        	for(new i = 0; i < MAX_PLAYERS; i++) {
						if(IsPlayerInVehicle(i, carid)) {
	      					PlayAudioStreamForPlayer(i, "http://livemp3.radiopopular.ro:7777");
						}
					}
					format(string, sizeof(string), "* %s asculta acum radio-ul Popular!", GetName(playerid));
					ProxDetector( 20.0, playerid, string, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE, COLOR_PURPLE );
					CarRadio[carid] = 13;
			    }
			}
			return 1;
		}
 		case 171: {
		    if(!response) return 1;
			new house = PlayerInfo[playerid][pHouse];
			HouseInfo[house][hRadio] = listitem;
			UpdateHouseRadio(house);
		}
 		case DIALOG_MP3: {
		    if(!response) return 1;
		    new i = playerid;
	        switch(listitem)
	        {
	            case 0:
	            {
					StopAudioStreamForPlayer(playerid);
					SendClientMessage(playerid, COLOR_WHITE, "Ai oprit radio-ul.");
	            }
		        case 1:
	            {
		        	PlayAudioStreamForPlayer(i, "http://live.radiotaraf.com:8181");
			    }
	            case 2:
	            {
		        	PlayAudioStreamForPlayer(i, "http://radiofunky.ro/live.pls");
			    }
	            case 3:
	            {
		        	PlayAudioStreamForPlayer(i, "http://live.radiogangsta.ro:8800");
	            }
	            case 4:
	            {
		        	PlayAudioStreamForPlayer(i, "http://dance.radiogangsta.ro:8800");
			    }
	            case 5:
	            {
		        	PlayAudioStreamForPlayer(i, "http://rbandit.dyndns.tv:8000");
			    }
	            case 6:
	            {
		        	PlayAudioStreamForPlayer(i, "http://live.radiohot.ro:8000");
			    }
	            case 7:
	            {
		        	PlayAudioStreamForPlayer(i, "http://www.radiotequila.ro/hiphop.m3u");
			    }
	            case 8:
	            {
		        	PlayAudioStreamForPlayer(i, "http://80.86.106.136/listen.pls");
			    }
	            case 9:
	            {
		        	PlayAudioStreamForPlayer(i, "http://stream.radiozu.ro:8020");
			    }
	            case 10:
	            {
		        	PlayAudioStreamForPlayer(i, "http://nextgen.go.ro:8012");
			    }
	            case 11:
	            {
		        	PlayAudioStreamForPlayer(i, "http://stream.profm.ro:8012/profm.mp3");
			    }
	            case 12:
	            {
		        	PlayAudioStreamForPlayer(i, "http://live.radioclubmix.ro:9999");
			    }
	            case 13:
	            {
		        	PlayAudioStreamForPlayer(i, "http://livemp3.radiopopular.ro:7777");
			    }
			    case 14:
	            {
		        	PlayAudioStreamForPlayer(i, "http://listen.b-zone.ro:8000");
			    }
	            case 15:
	            {
		        	PlayAudioStreamForPlayer(i, "http://188.165.152.45:8000/listen.pls");
			    }
	            case 16:
	            {
		        	PlayAudioStreamForPlayer(i, "http://188.165.152.46:6969/listen.pls");
			    }
			}
		}
		case DIALOG_LOCATIONS: {
	  		if(!response) return 1;
			if(listitem == 0) {
				SetPlayerCheckpointEx(playerid,1462.3958,-1012.3912,26.8438,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 1) {
				SetPlayerCheckpointEx(playerid,1309.9755,-1368.3885,13.5482,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 2) {
				SetPlayerCheckpointEx(playerid,1604.1193,-2178.0405,13.5547,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 3) {
				SetPlayerCheckpointEx(playerid,1110.7148,-1797.1449,16.5938,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 4) {
				SetPlayerCheckpointEx(playerid,1790.6315,-1165.1671,23.8281,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 5) {
				SetPlayerCheckpointEx(playerid,1481.1235,-1771.4303,18.7958,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 6) {
				SetPlayerCheckpointEx(playerid,327.6782,-1515.0623,36.0391,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 7) {
				SetPlayerCheckpointEx(playerid,1832.8033,-1842.6147,13.5781,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 8) {
				SetPlayerCheckpointEx(playerid,1457.4344,-1138.6978,24.0188,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 9) {
				SetPlayerCheckpointEx(playerid,1791.3302,-1165.8035,23.8281,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 10) {
				SetPlayerCheckpointEx(playerid,1129.3917,-1442.4305,15.7969,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 11) {
				SetPlayerCheckpointEx(playerid,2770.3369,-1627.8765,12.1775,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 12) {
				SetPlayerCheckpointEx(playerid,1671.5824,-1329.4281,17.4524,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 13) {
				SetPlayerCheckpointEx(playerid,1330.1700,-982.4580,33.8966,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 14) {
				SetPlayerCheckpointEx(playerid,1510.4600,-1059.5500,25.0625,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 15) {
				SetPlayerCheckpointEx(playerid,1328.1801,-1558.2500,13.5469,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 16) {
				SetPlayerCheckpointEx(playerid,914.5580,-1003.7300,37.9975,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
//
			if(listitem == 17) {
				SetPlayerCheckpointEx(playerid,1847.4486,-1871.6652,13.5781,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 18) {
				SetPlayerCheckpointEx(playerid,563.1794,-1289.7181,17.2482,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 19) {
				SetPlayerCheckpointEx(playerid,1868.0878,-1394.3169,13.5072,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 20) {
				SetPlayerCheckpointEx(playerid,2286.2141,-2354.5000,12.8306,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 21)
			{
				SetPlayerCheckpointEx(playerid,1122.8301,-1127.9458,23.8047,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 22)
			{
				SetPlayerCheckpointEx(playerid,-1988.8628,1118.1610,54.4721,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 23)
			{
				SetPlayerCheckpointEx(playerid,-2383.8538, 493.0981, 29.9980,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 24)
			{
				SetPlayerCheckpointEx(playerid,-1942.9023, 556.9941, 35.2404,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 25) {
				SetPlayerCheckpointEx(playerid,-2168.5476, 251.4719, 35.3528,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 26) {
				SetPlayerCheckpointEx(playerid,-1883.6589, 865.3618, 35.7099,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 27) {
				SetPlayerCheckpointEx(playerid, -1968.12, 291.694, 35.4021, 4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 28)
			{
				SetPlayerCheckpointEx(playerid,2577.7136, 1324.4395, 10.7265,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 29)
			{
				SetPlayerCheckpointEx(playerid,2079.4170, 2046.3610, 11.2109,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 30)
			{
				SetPlayerCheckpointEx(playerid,2596.3135, 1095.6047, 10.8208,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 31)
			{
				SetPlayerCheckpointEx(playerid,2090.3484, 2224.1812, 11.0542,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
			if(listitem == 32)
			{
				SetPlayerCheckpointEx(playerid,2200.3667,1393.2345,10.8203,4.0);
			    CP[playerid] = 53;
			    SCM(playerid,COLOR_YELLOW, "Server-ul ti-a pus un punct rosu la locatia aleasa de tine.");
			    return 1;
			}
		}
		case DIALOG_WALKSTYLE: {
			if(!response) return 1;
			if(listitem == 0) {
				SetPlayerWalkingStyle (playerid, WALK_NORMAL);
			    return 1;
			}
			if(listitem == 1) {
				SetPlayerWalkingStyle (playerid, WALK_PED);
			    return 1;
			}
			if(listitem == 2) {
			    SetPlayerWalkingStyle (playerid, WALK_GANGSTA);
			    return 1;
			}
			if(listitem == 3) {
				SetPlayerWalkingStyle (playerid, WALK_GANGSTA2);
			    return 1;
			}
			if(listitem == 4) {
			    SetPlayerWalkingStyle (playerid, WALK_OLD);
			    return 1;
			}
			if(listitem == 5) {
			    SetPlayerWalkingStyle (playerid, WALK_FAT_OLD);
			    return 1;
			}
			if(listitem == 6) {
			    SetPlayerWalkingStyle (playerid, WALK_FAT);
			    return 1;
			}
			if(listitem == 7) {
			    SetPlayerWalkingStyle (playerid, WALK_LADY);
			    return 1;
			}
			if(listitem == 8) {
			    SetPlayerWalkingStyle (playerid, WALK_LADY2);
			    return 1;
			}
			if(listitem == 9) {
			    SetPlayerWalkingStyle (playerid, WALK_WHORE);
			    return 1;
			}
			if(listitem == 10) {
			    SetPlayerWalkingStyle (playerid, WALK_WHORE2);
			    return 1;
			}
			if(listitem == 11) {
			    SetPlayerWalkingStyle (playerid, WALK_DRUNK);
			    return 1;
			}
			if(listitem == 12) {
			    SetPlayerWalkingStyle (playerid, WALK_BLIND);
			    return 1;
			}
			if(listitem == 13) {
			    SetPlayerWalkingStyle (playerid, WALK_DEFAULT);
			    return 1;
			}
		}
		case DIALOG_BUY: {
		    if(!response) return 1;
			switch(listitem) {
				case 0: {
					if(GetPlayerCash(playerid) < 500) return SendClientMessage(playerid, COLOR_GREY, "Nu ai destui bani pentru a face asta.");
					GivePlayerCash(playerid,-500);
					BizzInfo[InBussines[playerid]][bBalance] += 500;
					PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
					new randphone = 5000 + random(9999) + 5000 ;
					PlayerInfo[playerid][pPnumber] = randphone;
					format(string, sizeof(string), "Ti-ai cumparat un telefon iar numarul tau este %d.", randphone);
					SendClientMessage(playerid, COLOR_WHITE, string);
					Update(playerid,pPnumberx);
				}
				case 1: {
					if(GetPlayerCash(playerid) < 2000) return SCM(playerid, COLOR_GREY, "Nu ai banii necesari pentru a cumpara acest lucru!");
				    GivePlayerCash(playerid,-2000);
					BizzInfo[InBussines[playerid]][bBalance] += 2000;
				    format(string, sizeof(string), "~r~~h~-$%d", 2000);
				    PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
				    gDice[playerid] = 1;
				    SendClientMessage(playerid, COLOR_WHITE, "HINT: Scrie /dice ");
				}
				case 2: {
					if(GetPlayerCash(playerid) < 3000) return SCM(playerid, COLOR_GREY, "Nu ai banii necesari pentru a cumpara acest lucru!");
	    		    GivePlayerCash(playerid, - 3000);
	    		    BizzInfo[InBussines[playerid]][bBalance] += 3000;
			        PlayerInfo[playerid][pWTalkie] = 1;
	   			    PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
				    format(string, sizeof(string), "~r~~h~-$%d", 3000);
				    GameTextForPlayer(playerid, string, 2000, 1);
				    SendClientMessage(playerid, COLOR_WHITE, "Ti-ai cumparat o statie radio! Pentru a vedea comenzile, tasteaza /wthelp.");
				}
				case 3: {
					if(GetPlayerCash(playerid) < 500) return SCM(playerid, COLOR_GREY, "Nu ai banii necesari pentru a cumpara acest lucru!");
					if(PlayerInfo[playerid][pLighter] != 0) return SendClientMessage(playerid, COLOR_GREY, "Ai deja un o bricheta.");
				    GivePlayerCash(playerid, - 500);
	    		    BizzInfo[InBussines[playerid]][bBalance] += 500;
			        PlayerInfo[playerid][pLighter] = 10;
	   			    PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
				    format(string, sizeof(string), "~r~~h~-$%d", 500);
				    GameTextForPlayer(playerid, string, 2000, 1);
				}
				case 4: {
					if(GetPlayerCash(playerid) < 1500) return SCM(playerid, COLOR_GREY, "Nu ai banii necesari pentru a cumpara acest lucru!");
					if(PlayerInfo[playerid][pCigarettes] != 0) return SendClientMessage(playerid, COLOR_GREY, "Ai deja un a cigarettes.");
				    GivePlayerCash(playerid, - 1500);
	    		    BizzInfo[InBussines[playerid]][bBalance] += 1500;
			        PlayerInfo[playerid][pCigarettes] = 10;
	   			    PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
				    format(string, sizeof(string), "~r~~h~-$%d", 1500);
				    GameTextForPlayer(playerid, string, 2000, 1);
				    SendClientMessage(playerid, COLOR_WHITE, "Pentru a fuma o tigara, foloseste /smoke.");
				}
				case 5: {
					if(GetPlayerCash(playerid) < 1000) return SCM(playerid, COLOR_GREY, "Nu ai banii necesari pentru a cumpara acest lucru!");
					if(PlayerInfo[playerid][pGasCan] == 1) return SendClientMessage(playerid, COLOR_GREY, "Ai deja un a GasCan.");
				    GivePlayerCash(playerid, - 1000);
	    		    BizzInfo[InBussines[playerid]][bBalance] += 1000;
			        PlayerInfo[playerid][pGasCan] = 1;
				    format(string, sizeof(string), "~r~~h~-$%d", 5000);
				    GameTextForPlayer(playerid, string, 2000, 1);
				    Update(playerid, pCashx);
				    Update(playerid, pGasCanx);
				    SCM(playerid,COLOR_WHITE,"Ti-ai cumparat o canistra! Comanda disponibila pentru a incarca canistra, este /fillgascan.");
				}
				case 6: {
					if(GetPlayerCash(playerid) < 1000) return SCM(playerid, COLOR_GREY, "Nu ai banii necesari pentru a cumpara acest lucru!");
					if(PlayerInfo[playerid][pGPS] == 1) return SCM(playerid, COLOR_GREY, "Ai deja un GPS!");
					PlayerInfo[playerid][pGPS] = 1;
					UpdateVar(playerid, "GPS", 1);
					SCM(playerid, COLOR_WHITE, "Ti-ai cumparat un GPS pentru vehicul!");
				}
			}
			format(query,sizeof(query),"UPDATE `bizz` SET `Till`='%d',`Products`='%d' WHERE `ID`='%d'",BizzInfo[InBussines[playerid]][bBalance],BizzInfo[InBussines[playerid]][bProducts],InBussines[playerid]);
			mysql_query(SQL,query);
	    	return 1;
		}
    	case Dialog_Gym: {
	    	if(!response) return 1;
			if(listitem == 0 && GetPlayerCash(playerid) >= 1000) {
                GivePlayerCash(playerid, -1000);
				SetPlayerFightingStyle (playerid, FIGHT_STYLE_BOXING);
				SendClientMessage(playerid, COLOR_LIGHTBLUE, "Ai platit $1.000 pentru a schimba stilul de lupta in Boxing.");
				Update(playerid, pCashx);
            }
			else if(listitem == 1 && GetPlayerCash(playerid) >= 1500) {
                GivePlayerCash(playerid, -1500);
				SetPlayerFightingStyle (playerid, FIGHT_STYLE_KUNGFU);
				SendClientMessage(playerid, COLOR_LIGHTBLUE, "Ai platit $1.500 pentru a schimba stilul de lupta in Kung Fu.");
				Update(playerid, pCashx);
            }
			else if(listitem == 2 && GetPlayerCash(playerid) >= 800) {
                GivePlayerCash(playerid, -800);
				SetPlayerFightingStyle (playerid, FIGHT_STYLE_ELBOW);
				SendClientMessage(playerid, COLOR_LIGHTBLUE, "Ai platit $800 pentru a schimba stilul de lupta in Elbow.");
				Update(playerid, pCashx);
            }
			else if(listitem == 3 && GetPlayerCash(playerid) >= 500) {
                GivePlayerCash(playerid, -500);
				SetPlayerFightingStyle (playerid, FIGHT_STYLE_GRABKICK);
				SendClientMessage(playerid, COLOR_LIGHTBLUE, "Ai platit $500 pentru a schimba stilul de lupta in Grabkick.");
				Update(playerid, pCashx);
            }
			else if(listitem == 4 && GetPlayerCash(playerid) >= 600) {
                GivePlayerCash(playerid, -600);
				SetPlayerFightingStyle (playerid, FIGHT_STYLE_KNEEHEAD);
				SendClientMessage(playerid, COLOR_LIGHTBLUE, "Ai platit $600 pentru a schimba stilul de lupta in Kneehead.");
				Update(playerid, pCashx);
            }
    		else return SCM(playerid, COLOR_GREY, "Nu ai banii necesari.");
            return 1;
		}
    	case DIALOG_LOGIN2: {
		    if(strlen(inputtext)) {
				new tmppass[64];
				mysql_real_escape_string(inputtext, tmppass);
				OnPlayerLogin(playerid,tmppass);
			}
			else {
				new loginstring[128];
				new loginname[64];
				GetPlayerName(playerid,loginname,sizeof(loginname));
				format(loginstring,sizeof(loginstring),"Parola introdusa nu se potriveste cu cea a contului!\n\nTe rog sa introduci parola corecta.",loginname);
				ShowPlayerDialog(playerid,DIALOG_LOGIN3,DIALOG_STYLE_PASSWORD,"SERVER: Login",loginstring,"Login","Cancel");
				gPlayerLogTries[playerid] += 1;
				if(gPlayerLogTries[playerid] == 4)
				{
					Kick(playerid);
				}
			}
		}
		case DIALOG_LOGIN3: {
		    if(strlen(inputtext)) {
				new tmppass[64];
				mysql_real_escape_string(inputtext, tmppass);
				OnPlayerLogin(playerid,tmppass);
			}
			else {
				new loginstring[128];
				new loginname[64];
				GetPlayerName(playerid,loginname,sizeof(loginname));
				format(loginstring,sizeof(loginstring),"Parola introdusa nu se potriveste cu cea a contului!\n\nTe rog sa introduci parola corecta.",loginname);
				ShowPlayerDialog(playerid,DIALOG_LOGIN3,DIALOG_STYLE_PASSWORD,"SERVER: Login",loginstring,"Login","Cancel");
				gPlayerLogTries[playerid] += 1;
				if(gPlayerLogTries[playerid] == 4)
				{
					Kick(playerid);
				}
			}
		}
    	case DIALOG_LOGIN1: {
		    if(strlen(inputtext) >= 2 && strlen(inputtext) <= 30) {
				new tmppass[64];
				mysql_real_escape_string(inputtext, tmppass);
				OnPlayerRegister(playerid,tmppass);
			}
			else {
	            new regstring[200];
				new regname[64];
	            GetPlayerName(playerid,regname,sizeof(regname));
	  			format(regstring,sizeof(regstring),"{A9C4E4}Bine ai venit, {5D8CD7}%s{A9C4E4}!\n\nTe rog sa iti introduci parola dorita pentru a te inregistra.",regname);
				ShowPlayerDialog(playerid,DIALOG_LOGIN1,DIALOG_STYLE_PASSWORD,"SERVER: Register",regstring,"Register","Cancel");
			}
		}
 	}
	return 1;
}
function SetPlayerHealthEx(playerid, Float:health)
{
	SetPlayerHealth(playerid, health);
	Health[playerid] = health;
	return 1;
}
function GetPlayerHealthEx(playerid, &Float:health)
{
	health = Health[playerid];
	return 1;
}
function SetPlayerArmourEx(playerid, Float:armour)
{
	SetPlayerArmour(playerid, armour);
	Armour[playerid] = armour;
	return 1;
}
function GetPlayerArmourEx(playerid, &Float:armour)
{
	armour = Armour[playerid];
	return 1;
}
function PlaceADDS()
{
    if(strlen(AdvMSG[0]) > 1) OOCNews(TEAM_GROVE_COLOR,AdvMSG[0]);
    for(new i = 0; i < sizeof(AdvMSG); i++)
    {
		if(i < sizeof(AdvMSG)-1)
		{
		    format(AdvMSG[i],256,"%s",AdvMSG[i+1]);
		    format(AdvMSG[i+1],256," ");

		    format(AdvPlayer[i],24,"%s",AdvPlayer[i+1]);
		    format(AdvPlayer[i+1],24," ");
		}
    }
	return 1;
}

function OnPlayerStreamIn(playerid, forplayerid)
{
	new iswar = 0, attackers, defenders;
	
	if(PlayerHit[playerid] != -1) ShowPlayerNameTagForPlayer(forplayerid, playerid, 0);
    for(new i = 1; i < sizeof(Turfs) && iswar == 0; i++)
    {
        attackers = WarInfo[i][wAttacker];
		defenders = WarInfo[i][wFaction];
        if(WarInfo[i][wTime] > 1 && attackers != 0 && defenders != 0)
        {
			if( (PlayerInfo[playerid][pMember] == attackers || PlayerInfo[playerid][pMember] == defenders) && (PlayerInfo[forplayerid][pMember] == attackers || PlayerInfo[forplayerid][pMember] == defenders) ) iswar = 1;
		}
    }

	if(iswar == 1)
	{
		if( (PlayerInfo[playerid][pMember] == attackers || PlayerInfo[playerid][pMember] == defenders) && (PlayerInfo[forplayerid][pMember] == attackers || PlayerInfo[forplayerid][pMember] == defenders) )
		{
			SetPlayerMarkerForPlayer( playerid, forplayerid, GetPlayerColor( forplayerid ) );
			SetPlayerMarkerForPlayer( forplayerid, playerid, GetPlayerColor( playerid ) );
		}
		else
		{
			SetPlayerMarkerForPlayer( playerid, forplayerid, ( GetPlayerColor( forplayerid ) & 0xFFFFFF00 ) );
			SetPlayerMarkerForPlayer( forplayerid, playerid, ( GetPlayerColor( playerid ) & 0xFFFFFF00 ) );
		}
	}
	else if(PaintType[playerid] == PaintType[forplayerid] && PaintType[playerid] != 0 )
	{
		SetPlayerMarkerForPlayer( playerid, forplayerid, COLOR_LIGHTRED );
		SetPlayerMarkerForPlayer( forplayerid, playerid, COLOR_LIGHTRED );
	}	
	else if(IsACop(playerid) && OnDuty[playerid] == 1 && PlayerInfo[forplayerid][pWantedLevel] != 0) {
		SetPlayerMarkerForPlayer( playerid, forplayerid, 0xe3336dFF );
	}	
	else
	{
		SetPlayerMarkerForPlayer( playerid, forplayerid, ( GetPlayerColor( forplayerid ) & 0xFFFFFF00 ) );
		SetPlayerMarkerForPlayer( forplayerid, playerid, ( GetPlayerColor( playerid ) & 0xFFFFFF00 ) );
	}	
	return 1;
}

function OnPlayerStreamOut(playerid, forplayerid)
{
    SetPlayerMarkerForPlayer( playerid, forplayerid, ( GetPlayerColor( forplayerid ) & 0xFFFFFF00 ) );
	SetPlayerMarkerForPlayer( forplayerid, playerid, ( GetPlayerColor( playerid ) & 0xFFFFFF00 ) );
	return 1;
}

function SBUpdate(bizzid, type)
{
	new gQuery[526];
	switch(type)
	{
	    case sbBalancex:
	    {
	        format(gQuery,sizeof(gQuery),"UPDATE `bizz` SET `Till`='%d' WHERE `ID`='%d'",BizzInfo[bizzid][bBalance],bizzid);
			mysql_query(SQL, gQuery);
	    }
	}
	return 1;
}
stock IsACBUGWeapon(playerid)
{
	if (IsPlayerConnected(playerid) && (IsPlayerLogged[playerid] == 1))
	{
	    new wID = GetPlayerWeapon ( playerid ) ;
	    if (wID == 24 || wID == 25 || wID == 27 || wID == 34 ) return 1 ;
	}
	return 0 ;
}

stock GetPlayerID(playerName[])
{
  	for(new i = 0; i < MAX_PLAYERS; i++) {
    	if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1) {
      		if(strcmp(PlayerInfo[i][pUsername], playerName, true) == 0) return i;
    	}
  	}
  	return INVALID_PLAYER_ID;
}

stock GetNameEx(playerid)
{
	new Name[MAX_PLAYER_NAME];
	GetPlayerName(playerid, Name, MAX_PLAYER_NAME);
	return Name;
}


cmd:glasses(playerid, params[]) {
	if(IsAtClothShop(playerid)) ShowModelSelectionMenu(playerid, glasses, "Ochelari") ;
	return 1;
}
cmd:buyhat(playerid, params[]) {
	if(IsPlayerLogged[playerid] == 0) return SendClientMessage(playerid, COLOR_RED, "Nu esti logat!");
	if(IsAtClothShop(playerid)) ShowModelSelectionMenu(playerid, hats, "Palarii") ;
	return 1;
}

function SetPlayerSkinEx(playerid, skin) {
	SetPlayerSkin(playerid, skin);
	if(PlayerInfo[playerid][pTut] == 1 || PlayerInfo[playerid][pTut] == 2) {
		new string[256];
		format(string, sizeof(string), "~b~~h~%s (%d)", GetName(playerid),playerid);
		PlayerTextDrawSetString(playerid, PlayerName[playerid], string);
		PlayerTextDrawShow(playerid, PlayerName[playerid]);
		PlayerTextDrawShow(playerid, ServerName);
		if(PlayerInfo[playerid][pHat] != 0 && PlayerInfo[playerid][pShowHat] == 1) PutHat(playerid);
		if(PlayerInfo[playerid][pGlasses] > 0 && PlayerInfo[playerid][pShowGlasses] == 1) {
			if(skin < 300) SetPlayerHoldingObject(playerid, PlayerInfo[playerid][pGlasses], 2, SkinOffSet[skin][0], SkinOffSet[skin][1], SkinOffSet[skin][2], SkinOffSet[skin][3], SkinOffSet[skin][4], SkinOffSet[skin][5]);
		}			
	}	
	return 1;
}

function AttachTrailer(playerid)
{
	new Float:pX, Float:pY, Float:pZ;
	GetPlayerPos(playerid,pX,pY,pZ);
	new Float:vX, Float:vY, Float:vZ;
	GetVehiclePos(Trailer[playerid],vX,vY,vZ);
	if ((floatabs(pX-vX)<100.0)&&(floatabs(pY-vY)<100.0)&&(floatabs(pZ-vZ)<100.0)&&(Trailer[playerid]!=GetPlayerVehicleID(playerid)))  AttachTrailerToVehicle(Trailer[playerid],GetPlayerVehicleID(playerid));
	return 1;
}
function ClearWanted(playerid)
{
	new string[80];
	format(string,sizeof(string),"None");
	strmid(WantedName[playerid], string, 0, strlen(string), 255);
	WantedReason[playerid] = 999;
	KillTimer(WantedTimer[playerid]);
	return 1;
}

function OnPlayerWeaponShot(playerid, weaponid, hittype, hitid, Float:fX, Float:fY, Float:fZ)
{
    if(weaponid == 24)
    {
        if((gettime() - shotTime[playerid]) < 1)
        {
            shot[playerid] += 1;
        }
        else
        {
            shot[playerid] = 0;
        }
        if(shot[playerid] > 10)
        {
			new string[184];
			format(string,sizeof(string),"AdmCmd: %s(%d) probabil are rapid-fire.",GetName(playerid),playerid);
			SendAdminMessage(COLOR_LOGS,string,1);
			KickEx(playerid);
        }
        shotTime[playerid] = gettime();
    }
    return 1;
}

stock PutPlayerInVehicleEx(playerid,vehicleid,seatid)
{
	PlayerEnterTime[playerid]+=221;
	PutPlayerInVehicle(playerid,vehicleid,seatid);
	return 1;
}

stock RemovePlayerFromVehicleEx(playerid)
{
	PlayerEnterTime[playerid]+=221;
	RemovePlayerFromVehicle(playerid);
	return 1;
}

function OnQueryError( errorid, error[ ], callback[ ], query[ ], connectionHandle )
{
	print( "====================================================================" );
	printf( "Error ID: %d, Eroare: %s", errorid, error );
	printf( "Callback: %s", callback );
	printf( "gQuery: %s", query );
	print( "====================================================================" );
	return 1;
}

// 4790DE

function ShowShop(playerid) {
	new
		gold = PlayerInfo[playerid][pPremiumPoints],
	    string[500], szDialog[3000];

    
	if(gold >= 350) format(string, sizeof(string), "Item\tPret\n{FFFFFF}Cont Premium - 7 Zile\t{08C708}350 puncte premium\n");
	else format(string, sizeof(string), "Item\tPret\n{FFFFFF}Cont Premium - 7 Zile\t{FF0000}350 puncte premium\n");
	strcat(szDialog, string);
	
	if(gold >= 850) format(string, sizeof(string), "{FFFFFF}Cont Premium - 30 Zile\t{08C708}850 puncte premium\n");
	else format(string, sizeof(string), "{FFFFFF}Cont Premium - 30 Zile\t{FF0000}850 puncte premium\n");
	strcat(szDialog, string);
	
	if(gold >= 1000) format(string, sizeof(string), "{FFFFFF}Clan Mic - 10 Locuri\t{08C708}1000 puncte premium\n");
	else format(string, sizeof(string), "{FFFFFF}Clan Mic - 10 Locuri\t{FF0000}1000 puncte premium\n");
	strcat(szDialog, string);

	if(gold >= 2000) format(string, sizeof(string), "{FFFFFF}Clan Mic - 20 Locuri\t{08C708}2000 puncte premium\n");
	else format(string, sizeof(string), "{FFFFFF}Clan Mic - 20 Locuri\t{FF0000}2000 puncte premium\n");
	strcat(szDialog, string);

	if(gold >= 3000) format(string, sizeof(string), "{FFFFFF}Clan Mic - 40 Locuri\t{08C708}3000 puncte premium\n");
	else format(string, sizeof(string), "{FFFFFF}Clan Mic - 40 Locuri\t{FF0000}3000 puncte premium\n");
	strcat(szDialog, string);

	if(gold >= 200) format(string, sizeof(string), "{FFFFFF}$500,000 Cash\t{08C708}200 puncte premium\n");
	else format(string, sizeof(string), "{FFFFFF}$500,000 Cash\t{FF0000}200 puncte premium\n");
	strcat(szDialog, string);	
	
	if(gold >= 400) format(string, sizeof(string), "{FFFFFF}$1,000,000 Cash\t{08C708}400 puncte premium\n");
	else format(string, sizeof(string), "{FFFFFF}$1,000,000 Cash\t{FF0000}400 puncte premium\n");
	strcat(szDialog, string);	
	
	if(gold >= 600) format(string, sizeof(string), "{FFFFFF}$1,500,000 Cash\t{08C708}600 puncte premium\n");
	else format(string, sizeof(string), "{FFFFFF}$1,500,000 Cash\t{FF0000}600 puncte premium\n");
	strcat(szDialog, string);

	if(gold >= 800) format(string, sizeof(string), "{FFFFFF}$2,000,000 Cash\t{08C708}800 puncte premium\n");
	else format(string, sizeof(string), "{FFFFFF}$2,000,000 Cash\t{FF0000}800 puncte premium\n");
	strcat(szDialog, string);
	
	if(gold >= 1000) format(string, sizeof(string), "{FFFFFF}$2,500,000 Cash\t{08C708}1000 puncte premium\n");
	else format(string, sizeof(string), "{FFFFFF}$2,500,000 Cash\t{FF0000}1000 puncte premium\n");
	strcat(szDialog, string);

	if(gold >= 1200) format(string, sizeof(string), "{FFFFFF}$3,000,000 Cash\t{08C708}1200 puncte premium\n");
	else format(string, sizeof(string), "{FFFFFF}$3,000,000 Cash\t{FF0000}1200 puncte premium\n");
	strcat(szDialog, string);	
	
	if(gold >= 1400) format(string, sizeof(string), "{FFFFFF}$3,500,000 Cash\t{08C708}1400 puncte premium\n");
	else format(string, sizeof(string), "{FFFFFF}$3,500,000 Cash\t{FF0000}1400 puncte premium\n");
	strcat(szDialog, string);		
	
	if(gold >= 1600) format(string, sizeof(string), "{FFFFFF}$4,000,000 Cash\t{08C708}1600 puncte premium\n");
	else format(string, sizeof(string), "{FFFFFF}$4,000,000 Cash\t{FF0000}1600 puncte premium\n");
	strcat(szDialog, string);	

	if(gold >= 1800) format(string, sizeof(string), "{FFFFFF}$4,500,000 Cash\t{08C708}1800 puncte premium\n");
	else format(string, sizeof(string), "{FFFFFF}$4,500,000 Cash\t{FF0000}1800 puncte premium\n");
	strcat(szDialog, string);

	if(gold >= 2000) format(string, sizeof(string), "{FFFFFF}$5,000,000 Cash\t{08C708}2000 puncte premium\n");
	else format(string, sizeof(string), "{FFFFFF}$5,000,000 Cash\t{FF0000}2000 puncte premium\n");
	strcat(szDialog, string);	

	if(gold >= 2500) format(string, sizeof(string), "{FFFFFF}Schimbare Interior Casa\t{08C708}2500 puncte premium\n");
	else format(string, sizeof(string), "{FFFFFF}Schimbare Interior Casa\t{FF0000}2500 puncte premium\n");
	strcat(szDialog, string);

	if(gold >= 100) format(string, sizeof(string), "{FFFFFF}Resetare Kilometrii Vehicul\t{08C708}100 puncte premium\n");
	else format(string, sizeof(string), "{FFFFFF}Resetare Kilometrii Vehicul\t{FF0000}100 puncte premium\n");
	strcat(szDialog, string);

	if(gold >= 1000) format(string, sizeof(string), "{FFFFFF}Hidden Color\t{08C708}1000 puncte premium\n");
	else format(string, sizeof(string), "{FFFFFF}Hidden Color\t{FF0000}1000 puncte premium\n");
	strcat(szDialog, string);

	if(gold >= 200) format(string, sizeof(string), "{FFFFFF}Sterge FPunish\t{08C708}200 puncte premium\n");
	else format(string, sizeof(string), "{FFFFFF}Sterge FPunish\t{FF0000}200 puncte premium\n");
	strcat(szDialog, string);

	if(gold >= 200) format(string, sizeof(string), "{FFFFFF}Sterge Warn-uri\t{08C708}200 puncte premium\n");
	else format(string, sizeof(string), "{FFFFFF}Sterge Warn-uri\t{FF0000}200 puncte premium\n");
	strcat(szDialog, string);
	
	if(gold >= 1000) format(string, sizeof(string), "{FFFFFF}Slot Vehicul\t{08C708}1000 puncte premium\n");
	else format(string, sizeof(string), "{FFFFFF}Slot Vehicul\t{FF0000}1000 puncte premium\n");
	strcat(szDialog, string);	
	
	new title[256];
	format(title, 256, "Localhost Shop System: %d Points", PlayerInfo[playerid][pPremiumPoints]);
	ShowPlayerDialog(playerid, DIALOG_SHOP, DIALOG_STYLE_TABLIST_HEADERS, title, szDialog, "Select", "Cancel");
	return 1;
}

stock SetInteriorCamera(playerid) {
	new string[256];
	format(string, sizeof(string), "interior id: %d", SInterior[playerid]);
	PlayerTextDrawSetString(playerid, ShopTDs[0], string);
	PlayerTextDrawShow(playerid, ShopTDs[0]);
	new i = SInterior[playerid]-1;
	SetPlayerPosEx(playerid, InteriorPos[i][0], InteriorPos[i][1], InteriorPos[i][2]);

	if(SInterior[playerid] == 1) SetPlayerCameraPos(playerid, 226.6298, 1292.9222, 1084.1265), SetPlayerCameraLookAt(playerid, 225.8987, 1292.2417, 1083.6882), SetPlayerInterior(playerid, 1);
	if(SInterior[playerid] == 2) SetPlayerCameraPos(playerid, 2285.6091, -1134.0924, 1051.5907), SetPlayerCameraLookAt(playerid, 2284.9370, -1134.8314, 1051.4012), SetPlayerInterior(playerid, 11);
	if(SInterior[playerid] == 3) SetPlayerCameraPos(playerid, 326.8593, 1477.6793, 1085.2574), SetPlayerCameraLookAt(playerid, 327.1747, 1478.6263, 1085.0721), SetPlayerInterior(playerid, 15);
	if(SInterior[playerid] == 4) SetPlayerCameraPos(playerid, -51.7679, 1403.2477, 1086.7109), SetPlayerCameraLookAt(playerid, -51.3880, 1404.1694, 1086.4764), SetPlayerInterior(playerid, 8);
	if(SInterior[playerid] == 5) SetPlayerCameraPos(playerid, 301.3609, 311.8316, 1003.6948), SetPlayerCameraLookAt(playerid, 301.7389, 310.9072, 1003.6548), SetPlayerInterior(playerid, 4);
	if(SInterior[playerid] == 6) SetPlayerCameraPos(playerid, 2305.6182, -1211.9570, 1051.2274), SetPlayerCameraLookAt(playerid, 2306.5337, -1211.5588, 1050.8679), SetPlayerInterior(playerid, 6);
	if(SInterior[playerid] == 7) SetPlayerCameraPos(playerid, 2234.6445, -1111.8185, 1051.3431), SetPlayerCameraLookAt(playerid, 2234.1465, -1110.9523, 1051.1779), SetPlayerInterior(playerid, 5);
	if(SInterior[playerid] == 8) SetPlayerCameraPos(playerid, 2261.9775, -1133.6704, 1051.4977), SetPlayerCameraLookAt(playerid, 2262.1741, -1134.6493, 1051.3431), SetPlayerInterior(playerid, 10);
	if(SInterior[playerid] == 9) SetPlayerCameraPos(playerid, 2215.8022, -1076.6887, 1052.4047), SetPlayerCameraLookAt(playerid, 2214.8125, -1076.5696, 1052.2395), SetPlayerInterior(playerid, 1);
	if(SInterior[playerid] == 10) SetPlayerCameraPos(playerid, 267.8929, 304.8710, 1000.8421), SetPlayerCameraLookAt(playerid, 268.8906, 304.9142, 1000.6469), SetPlayerInterior(playerid, 2);
	if(SInterior[playerid] == 11) SetPlayerCameraPos(playerid, 245.2803, 307.2553, 1000.2034), SetPlayerCameraLookAt(playerid, 245.4770, 306.2764, 999.9384), SetPlayerInterior(playerid, 1);
	// medium
	if(SInterior[playerid] == 12) SetPlayerCameraPos(playerid, 231.6437, 1186.1727, 1081.5111), SetPlayerCameraLookAt(playerid, 231.8882, 1187.1407, 1081.3771), SetPlayerInterior(playerid, 3);
	if(SInterior[playerid] == 13) SetPlayerCameraPos(playerid, 487.8189, 1398.1814, 1082.1277), SetPlayerCameraLookAt(playerid, 488.1149, 1399.1350, 1082.0073), SetPlayerInterior(playerid, 2);
	if(SInterior[playerid] == 14) SetPlayerCameraPos(playerid, 17.5855, 1341.0245, 1087.9324), SetPlayerCameraLookAt(playerid, 18.5301, 1341.3497, 1087.7039), SetPlayerInterior(playerid, 10);
	if(SInterior[playerid] == 15) SetPlayerCameraPos(playerid, -282.8742, 1469.5415, 1086.3295), SetPlayerCameraLookAt(playerid, -283.7869, 1469.9467, 1086.2946), SetPlayerInterior(playerid, 15);
	if(SInterior[playerid] == 16) SetPlayerCameraPos(playerid, -261.3119, 1453.3258, 1086.6284), SetPlayerCameraLookAt(playerid, -262.2391, 1453.6963, 1086.4338), SetPlayerInterior(playerid, 4);
	if(SInterior[playerid] == 17) SetPlayerCameraPos(playerid, 86.9224, 1322.4597, 1086.1943), SetPlayerCameraLookAt(playerid, 86.5379, 1323.3815, 1086.0942), SetPlayerInterior(playerid, 9);
	if(SInterior[playerid] == 18) SetPlayerCameraPos(playerid, 2320.5571, -1025.0186, 1051.2029), SetPlayerCameraLookAt(playerid, 2320.2698, -1024.0619, 1051.3535), SetPlayerInterior(playerid, 9);
	if(SInterior[playerid] == 19) SetPlayerCameraPos(playerid, 2491.5051, -1696.2813, 1015.5330), SetPlayerCameraLookAt(playerid, 2492.0032, -1697.1469, 1015.3875), SetPlayerInterior(playerid, 3);
	if(SInterior[playerid] == 20) SetPlayerCameraPos(playerid, 2195.4080, -1200.0920, 1049.8566), SetPlayerCameraLookAt(playerid, 2194.8584, -1200.9266, 1049.6566), SetPlayerInterior(playerid, 6);
	if(SInterior[playerid] == 21) SetPlayerCameraPos(playerid, 376.9280, 1416.3525, 1082.3102), SetPlayerCameraLookAt(playerid, 375.9368, 1416.4741, 1082.1262), SetPlayerInterior(playerid, 15);
	if(SInterior[playerid] == 22) SetPlayerCameraPos(playerid, 2262.5979, -1211.7606, 1049.7876), SetPlayerCameraLookAt(playerid, 2261.6389, -1211.4824, 1049.5773), SetPlayerInterior(playerid, 10);
	if(SInterior[playerid] == 23) SetPlayerCameraPos(playerid, 445.7094, 1396.8407, 1086.2308), SetPlayerCameraLookAt(playerid, 445.9051, 1397.8197, 1085.9220), SetPlayerInterior(playerid, 2);
	if(SInterior[playerid] == 24) SetPlayerCameraPos(playerid, 386.4680, 1470.9492, 1081.3369), SetPlayerCameraLookAt(playerid, 385.4917, 1471.1572, 1081.1287), SetPlayerInterior(playerid, 15);
	if(SInterior[playerid] == 25) SetPlayerCameraPos(playerid, 21.8199, 1403.2657, 1085.2496), SetPlayerCameraLookAt(playerid, 22.0875, 1404.2279, 1085.0442), SetPlayerInterior(playerid, 5);
	if(SInterior[playerid] == 26) SetPlayerCameraPos(playerid, 2364.7788, -1134.1288, 1051.4226), SetPlayerCameraLookAt(playerid, 2365.0901, -1133.1803, 1051.2433), SetPlayerInterior(playerid, 8);
	if(SInterior[playerid] == 27) SetPlayerCameraPos(playerid, 2237.0874, -1080.0449, 1049.6121), SetPlayerCameraLookAt(playerid, 2237.3455, -1079.0806, 1049.4729), SetPlayerInterior(playerid, 2);
	if(SInterior[playerid] == 28) SetPlayerCameraPos(playerid, 294.5133, 1472.1792, 1081.0778), SetPlayerCameraLookAt(playerid, 294.7190, 1473.1558, 1080.9685), SetPlayerInterior(playerid, 15);
	if(SInterior[playerid] == 29) SetPlayerCameraPos(playerid, 220.7936, 1139.6627, 1083.8789), SetPlayerCameraLookAt(playerid, 221.0227, 1140.6345, 1083.6494), SetPlayerInterior(playerid, 4);
	if(SInterior[playerid] == 30) SetPlayerCameraPos(playerid, -69.9296, 1350.8909, 1081.0660), SetPlayerCameraLookAt(playerid, -69.7377, 1351.8710, 1080.7916), SetPlayerInterior(playerid, 6);
	if(SInterior[playerid] == 31) SetPlayerCameraPos(playerid, 259.8786, 1237.9282, 1085.5304), SetPlayerCameraLookAt(playerid, 260.2392, 1238.8597, 1085.1702), SetPlayerInterior(playerid, 9);
	if(SInterior[playerid] == 32) SetPlayerCameraPos(playerid, 2469.2764, -1699.1567, 1014.5864), SetPlayerCameraLookAt(playerid, 2468.3062, -1698.9172, 1014.3065), SetPlayerInterior(playerid, 2);
	// big
	if(SInterior[playerid] == 33) SetPlayerCameraPos(playerid, 136.0863, 1364.8931, 1086.5968), SetPlayerCameraLookAt(playerid, 136.4150, 1365.8356, 1086.3867), SetPlayerInterior(playerid, 5);
	if(SInterior[playerid] == 34) SetPlayerCameraPos(playerid, 225.1230, 1021.7136, 1084.7102), SetPlayerCameraLookAt(playerid, 225.5872, 1022.5983, 1084.5348), SetPlayerInterior(playerid, 7);
	if(SInterior[playerid] == 35) SetPlayerCameraPos(playerid, 231.2208, 1063.1127, 1085.9523), SetPlayerCameraLookAt(playerid, 231.6671, 1064.0059, 1085.5946), SetPlayerInterior(playerid, 6);
	if(SInterior[playerid] == 36) SetPlayerCameraPos(playerid, 225.9759, 1115.1960, 1081.7931), SetPlayerCameraLookAt(playerid, 226.9668, 1115.0742, 1081.6378), SetPlayerInterior(playerid, 5);
	return 1;
}

function ShowShopTDs(playerid) {
	TextDrawShowForPlayer(playerid, ShopTD[0]);
	TextDrawShowForPlayer(playerid, ShopTD[1]);
	PlayerTextDrawShow(playerid, ShopTDs[0]);
	PlayerTextDrawShow(playerid, ShopTDs[1]);
	TextDrawShowForPlayer(playerid, ShopTD[4]);
	PlayerTextDrawSetString(playerid, ShopTDs[0], "Interior id: 1");
	PlayerTextDrawShow(playerid, ShopTDs[0]);
	SelectTextDraw(playerid, 0xFF0000FF);
	return 1;
}

function HideShopTDs(playerid) {
	TextDrawHideForPlayer(playerid, ShopTD[0]);
	TextDrawHideForPlayer(playerid, ShopTD[1]);
	PlayerTextDrawHide(playerid, ShopTDs[0]);
	PlayerTextDrawHide(playerid, ShopTDs[1]);
	TextDrawHideForPlayer(playerid, ShopTD[4]);
	CancelSelectTextDraw(playerid);
	return 1;
}


AntiDeAMX()
{
	new a[][] =
 	{
 		"Unarmed (Fist)",
 		"Brass K"
 	};
	#pragma unused a
}

function FindCSlot(playerid) {
	for(new i = 0; i < 10; i++) {
		if(PlayerInfo[playerid][pCarKey][i] == 0) return i+1;
	}							
	return -1;
}

function GetVehicles(playerid) {
	new i;
	if(PlayerInfo[playerid][pCarKey][0] != 0) i++;
	if(PlayerInfo[playerid][pCarKey][1] != 0) i++;
	if(PlayerInfo[playerid][pCarKey][2] != 0) i++;
	if(PlayerInfo[playerid][pCarKey][3] != 0) i++;
	if(PlayerInfo[playerid][pCarKey][4] != 0) i++;
	if(PlayerInfo[playerid][pCarKey][5] != 0) i++;
	if(PlayerInfo[playerid][pCarKey][6] != 0) i++;
	if(PlayerInfo[playerid][pCarKey][7] != 0) i++;
	if(PlayerInfo[playerid][pCarKey][8] != 0) i++;
	if(PlayerInfo[playerid][pCarKey][9] != 0) i++;	
	return i;
}

cmd:swapcolors(playerid, params[])
{
	new string[128],color1,color2, idd;
	new valid = PlayerInfo[playerid][pCarKey][0] + PlayerInfo[playerid][pCarKey][1] + PlayerInfo[playerid][pCarKey][2] + PlayerInfo[playerid][pCarKey][3] + PlayerInfo[playerid][pCarKey][4];
	if(valid == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu ai un vehicul personal!");
	if(PlayerInfo[playerid][pCash] < 50) return SendClientMessage(playerid, COLOR_GREY, "Nu ai $50!");
	new car = GetPlayerVehicleID(playerid);
	if(PersonalCar(playerid) == -1) return SCM(playerid, COLOR_LGREEN, "* Nu esti in unul dintre vehiculele tale personale!");
	idd = PersonalCar(playerid);
	color1 = CarInfo[idd][cColorOne];
	color2 = CarInfo[idd][cColorTwo];
	CarInfo[idd][cColorOne] = color2;
	CarInfo[idd][cColorTwo] = color1;
	ChangeVehicleColor(car, CarInfo[idd][cColorOne], CarInfo[idd][cColorTwo]);
	SendClientMessage(playerid, COLOR_GRAD2, "Ti-ai inversat culorile pentru $50.");
	GivePlayerCash(playerid, -50);
	BizzInfo[11][bBalance] += 100;
	mysql_format(SQL, string,sizeof(string),"UPDATE bizz SET Till = %d WHERE ID = %d",BizzInfo[11][bBalance],5);
	mysql_tquery(SQL, string, "", "");
	return 1;
}

cmd:carplate(playerid, params[])
{
	new string[128], plate[32], idd;
	new valid = PlayerInfo[playerid][pCarKey][0] + PlayerInfo[playerid][pCarKey][1] + PlayerInfo[playerid][pCarKey][2] + PlayerInfo[playerid][pCarKey][3] + PlayerInfo[playerid][pCarKey][4];
	if(valid == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu ai un vehicul personal!");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "s[14]", plate)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /carplate <Car Plate>");
	if(PersonalCar(playerid) == -1) return SCM(playerid, COLOR_LGREEN, "* Nu esti in unul dintre vehiculele tale personale!");
	idd = PersonalCar(playerid);
	if(idd == 0) return SendClientMessage(playerid, COLOR_GREY, "Acest vehicul nu iti apartine!");
	if(CarInfo[idd][Spawned] == 0) return SendClientMessage(playerid, COLOR_GREY, "Masina ta nu este spawnata!");
	if(GetPlayerCash(playerid) < 50) return SendClientMessage(playerid, COLOR_GREY, "Nu ai $50!");

    SetVehicleNumberPlate(CarInfo[idd][Spawned], plate);

	GivePlayerCash(playerid, -50);
	BizzInfo[11][bBalance] += 50;
	format(string, sizeof(string), "~w~Numarul de inmatriculare setat la ~y~%s~w~ pentru ~g~$50", plate);
	GameTextForPlayer(playerid, string, 3000, 4);
    format(string, sizeof(string), "%s", plate);
	format(CarInfo[idd][cLicense], 100, "%s", plate);

    mysql_format(SQL, string, sizeof(string), "UPDATE cars SET License='%s' WHERE ID=%d", plate, idd);
	mysql_tquery(SQL, string, "", "");

	mysql_format(SQL, string,sizeof(string),"UPDATE bizz SET Till = %d WHERE ID = %d",BizzInfo[11][bBalance],5);
	mysql_tquery(SQL, string, "", "");
	return 1;
}


cmd:lock(playerid, params[]) {
	LockCarFunction(playerid);
	return 1;
}
cmd:park(playerid, params[]) {
	new string[128], idd;
	if(!IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu esti intr-un vehicul!");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    new car = GetPlayerVehicleID(playerid);
	if(PersonalCar(playerid) == -1) return SCM(playerid, COLOR_LGREEN, "* Nu esti in unul dintre vehiculele tale personale!");
	idd = PersonalCar(playerid);
	if(CarInfo[idd][Spawned] != car) return SendClientMessage(playerid, COLOR_GREY, "Nu esti in vehiculul tau!");
	if(idd == 0) return SendClientMessage(playerid, COLOR_GREY, "Acest vehicul nu iti apartine!");
	new Float:x, Float:y, Float:z, Float:a;
	GetVehiclePos(car, x, y, z);
	GetVehicleZAngle(car, a);
	CarInfo[idd][cLocationx] = x;
	CarInfo[idd][cLocationy] = y;
	CarInfo[idd][cLocationz] = z;
	CarInfo[idd][cAngle] = a;
	VehicleOwned[CarInfo[idd][Spawned]] = 0;
	VehicleSQL[CarInfo[idd][Spawned]] = 0;	
	DestroyVehicle(car);
	CheckVehicle(car);
	CarInfo[idd][Spawned] = CreateVehicleEx(CarInfo[idd][cModel],CarInfo[idd][cLocationx],CarInfo[idd][cLocationy],CarInfo[idd][cLocationz],CarInfo[idd][cAngle],CarInfo[idd][cColorOne],CarInfo[idd][cColorTwo],-1);
	VehicleOwned[CarInfo[idd][Spawned]] = CarInfo[idd][Spawned];
	VehicleSQL[CarInfo[idd][Spawned]] = idd;
	SetTunning(CarInfo[idd][Spawned]);
	SetVehicleNumberPlate(CarInfo[idd][Spawned], CarInfo[idd][cLicense]);
	PutPlayerInVehicle(playerid,CarInfo[idd][Spawned],0);
	mysql_format(SQL, string, sizeof(string), "UPDATE cars SET Locationx='%f' WHERE ID=%d", CarInfo[idd][cLocationx], idd);
	mysql_tquery(SQL, string, "", "");
	mysql_format(SQL, string, sizeof(string), "UPDATE cars SET Locationy='%f' WHERE ID=%d", CarInfo[idd][cLocationy], idd);
	mysql_tquery(SQL, string, "", "");
	mysql_format(SQL, string, sizeof(string), "UPDATE cars SET Locationz='%f' WHERE ID=%d", CarInfo[idd][cLocationz], idd);
	mysql_tquery(SQL, string, "", "");
	mysql_format(SQL, string, sizeof(string), "UPDATE cars SET Angle='%f' WHERE ID=%d", CarInfo[idd][cAngle], idd);
	mysql_tquery(SQL, string, "", "");
	mysql_format(SQL, string, sizeof(string), "UPDATE cars SET Spawned='%d' WHERE ID=%d", CarInfo[idd][Spawned], idd);
	mysql_tquery(SQL, string, "", "");
	SCM(playerid, 0xFFBABAFF, "Vehicul parcat!");
	return 1;
}

function CheckVehicle(carid) {
	foreach(Player, i) {
	    if(IsPlayerConnected(i)) {
	        if(VehicleKey[i] == carid) VehicleKey[i] = 0;
	    }
	}
	return 1;
}

cmd:givekey(playerid, params[]) {
	new idd, string[256];
	new valid = PlayerInfo[playerid][pCarKey][0] + PlayerInfo[playerid][pCarKey][1] + PlayerInfo[playerid][pCarKey][2] + PlayerInfo[playerid][pCarKey][3] + PlayerInfo[playerid][pCarKey][4];
	if(valid == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu ai un vehicul personal!");
	if(!IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu esti intr-un vehicul!");
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	new car = GetPlayerVehicleID(playerid);
	if(PersonalCar(playerid) == -1) return SCM(playerid, COLOR_LGREEN, "* Nu esti in unul dintre vehiculele tale personale!");
	idd = PersonalCar(playerid);	
	if(idd == 0) return SendClientMessage(playerid, COLOR_GREY, "Acest vehicul nu iti apartine!");
	if(CarInfo[idd][Spawned] != car) return SendClientMessage(playerid, COLOR_GREY, "Nu esti in vehiculul tau personal");
	if(CarInfo[idd][cSpecial] == 1) return SendClientMessage(playerid, COLOR_GREY, "Nu ai acces!");

	new id;
    if(sscanf(params, "u", id)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /givekey <Nume/Playerid>");
	if(id == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	if(id == playerid) return 1;
	if(HireCar[id] != -1) return SCM(playerid, COLOR_WHITE, "Acel player are un vehicul inchiriat! Spune-i sa foloseasca comanda '/unrent'.");
	if(VehicleKey[id] != 0) return SCM(playerid, COLOR_WHITE, "Acel player are deja cheia unui vehicul. Spune-i sa foloseasca comanda '/throwkey'.");
	VehicleKey[id] = car;
	format(string, sizeof(string), "* %s ti-a dat cheile vehiculului %s (%d).", GetName(playerid), aVehicleNames[CarInfo[idd][cModel]-400], car);
	SCM(id, COLOR_LIGHTBLUE, string);
	format(string, sizeof(string), "* I-ai dat lui %s, cheile de la vehiculul %s.", GetName(id), aVehicleNames[CarInfo[idd][cModel]-400]);
	SCM(playerid, COLOR_LIGHTBLUE, string);
	return 1;
}

cmd:throwkey(playerid, params[]) {
	if(VehicleKey[playerid] == 0) return 1;
	VehicleKey[playerid] = 0;
	SCM(playerid, COLOR_LIGHTBLUE, "Ai aruncat cheile!");
	return 1;
}

cmd:sellcarto(playerid, params[])
{
	new id,price,string[128], keyid, idd;
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(GetVehicles(playerid) == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu ai un vehicul personal!");
	if(!IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Nu esti in vehiculul tau.");
	new car = GetPlayerVehicleID(playerid);
	if(sscanf(params, "ui", id,price)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /sellcarto <Name/Playerid> <Price>");
	if(playerid == id) return 1;
	if(!ProxDetectorS(30.0, id, playerid)) return SCM(playerid, -1, "Nu esti langa acel jucator!");
	if(PlayerInfo[id][pLevel] < 3) return SendClientMessage(playerid, -1, "Acel player nu are minim level 3.");
	
	new car1 = PlayerInfo[playerid][pCarKey][0], car2 = PlayerInfo[playerid][pCarKey][1], car3 = PlayerInfo[playerid][pCarKey][2], car4 = PlayerInfo[playerid][pCarKey][3], car5 = PlayerInfo[playerid][pCarKey][4],
	car6 = PlayerInfo[playerid][pCarKey][5], car7 = PlayerInfo[playerid][pCarKey][6], car8 = PlayerInfo[playerid][pCarKey][7], car9 = PlayerInfo[playerid][pCarKey][8], car10 = PlayerInfo[playerid][pCarKey][9];
	if(car == CarInfo[car1][Spawned]) idd = PlayerInfo[playerid][pCarKey][0], keyid = 1;
	if(car == CarInfo[car2][Spawned]) idd = PlayerInfo[playerid][pCarKey][1], keyid = 2;
	if(car == CarInfo[car3][Spawned]) idd = PlayerInfo[playerid][pCarKey][2], keyid = 3;
	if(car == CarInfo[car4][Spawned]) idd = PlayerInfo[playerid][pCarKey][3], keyid = 4;
	if(car == CarInfo[car5][Spawned]) idd = PlayerInfo[playerid][pCarKey][4], keyid = 5;
	if(car == CarInfo[car6][Spawned]) idd = PlayerInfo[playerid][pCarKey][5], keyid = 6;
	if(car == CarInfo[car7][Spawned]) idd = PlayerInfo[playerid][pCarKey][6], keyid = 7;
	if(car == CarInfo[car8][Spawned]) idd = PlayerInfo[playerid][pCarKey][7], keyid = 8;
	if(car == CarInfo[car9][Spawned]) idd = PlayerInfo[playerid][pCarKey][8], keyid = 9;
	if(car == CarInfo[car10][Spawned]) idd = PlayerInfo[playerid][pCarKey][9], keyid = 10;	
	
	if(idd == 0) return SendClientMessage(playerid, COLOR_WHITE, "Acest vehicul nu iti apartine!");
	//if(IsPremiumVehicle(CarInfo[idd][Spawned]) && PlayerInfo[id][pPremiumAccount] == 0) return SCM(playerid, -1, "Acest vehicul este unul de tip premium. Nu-l poti vinde la jucatorii fara cont premium!");	
	if(CarInfo[idd][Spawned] != car) return SendClientMessage(playerid, COLOR_GREY, "Nu esti in vehiculul tau personal");
	if(id == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	if(id == playerid) return SendClientMessage(playerid, COLOR_WHITE, "You cannot sell car to yourself!");
	if(GetPlayerCash(id) < price) return SendClientMessage(playerid, COLOR_WHITE, "Acel player nu are acesti bani!");
	if(price < 1 || price > 15000000) return 1;
	if(GetSlots(id) == GetVehicles(id)) return SCM(playerid, -1, "Acel player are numarul maxim de vehicule personale!"); 
	else if(GetSlots(id) == 8) return SCM(playerid, -1, "Acel player are numarul maxim de vehicule personale!");	
	
	format(string, sizeof(string), "* I-ai oferit lui %s sa-ti cumpere %s-ul (KM: %0.1f, Colors: %d, %d) pentru suma de $%s.", GetName(id), aVehicleNames[CarInfo[idd][cModel]-400], CarInfo[idd][KM], CarInfo[idd][cColorOne], 
	CarInfo[idd][cColorTwo], FormatNumber(price));
	SendClientMessage(playerid, COLOR_MONEY, string);
	format(string, sizeof(string), "* %s ti-a oferit un %s (KM: %0.1f, Colors: %d, %d) pentru suma de $%s. (/accept car %d)", GetName(playerid), aVehicleNames[CarInfo[idd][cModel]-400], CarInfo[idd][KM], CarInfo[idd][cColorOne], 
	CarInfo[idd][cColorTwo], FormatNumber(price), playerid);
	SendClientMessage(id, COLOR_MONEY, string);
	
	SetPVarInt(id, "OfferBy", playerid);
	SetPVarInt(id, "Price", price);
	SetPVarInt(id, "Slot", keyid);
	SetPVarInt(id, "OfferCar", idd);
	SetTimerEx("CancelTrade", 30000, 0, "d", id);
	return 1;
}
function CancelTrade(playerid) {
	new playerID = GetPVarInt(playerid, "OfferBy");
	if(playerID != -1 && IsPlayerConnected(playerID)){
		SCM(playerid, -1, "Afacerea a fost anulata deoarece a expirat timpul!");
		SCM(playerID, -1, "Afacerea a fost anulata deoarece a expirat timpul!");
		SetPVarInt(playerid, "OfferBy", -1);
	}
	return 1;
}

cmd:carcolor(playerid, params[]) {
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    if(!PlayerToPoint(5.0, playerid, 1703.1559,-1469.9512,13.5469)) {
		if(CP[playerid] != 0) return ShowPlayerDialog(playerid, DIALOG_CHECKPOINT, DIALOG_STYLE_MSGBOX, "Checkpoint", "Ai deja un checkpoint activ. Doresti sa-l anulezi?", "Ok", "Exit");
      	CP[playerid] = 53;
		SendClientMessage(playerid, COLOR_GREY, "Ti-a fost pus un punct pe harta catre aceasta locatie.");
		SetPlayerCheckpointEx(playerid, 1703.1559,-1469.9512,13.5469, 7.0);
		return 1;
	}
	if(!IsPlayerInAnyVehicle(playerid)) return SCM(playerid, COLOR_GREY, "Nu esti intr-un vehicul!");
	new idd;
	new valid = PlayerInfo[playerid][pCarKey][0] + PlayerInfo[playerid][pCarKey][1] + PlayerInfo[playerid][pCarKey][2] + PlayerInfo[playerid][pCarKey][3] + PlayerInfo[playerid][pCarKey][4];
	if(valid == 0) return SendClientMessage(playerid, COLOR_GREY, "Acest vehicul nu iti apartine!");
	new car = GetPlayerVehicleID(playerid);
	if(PersonalCar(playerid) == -1) return SCM(playerid, COLOR_LGREEN, "* Nu esti in unul dintre vehiculele tale personale!");
	idd = PersonalCar(playerid);
	if(idd == 0) return SendClientMessage(playerid, COLOR_GREY, "Acest vehicul nu iti apartine!");
	if(CarInfo[idd][Spawned] != car) return SendClientMessage(playerid, COLOR_GREY, "Nu esti in vehiculul tau personal");
    pCarID[playerid] = CarInfo[idd][Spawned];
	GetPlayerPos(playerid, pPos[playerid][0], pPos[playerid][1], pPos[playerid][2]);
    pInteriorID[playerid] = GetPlayerInterior(playerid), pVirtual[playerid] = GetPlayerVirtualWorld(playerid);
	SetVehiclePos(car, -1948.0808, 258.7329, 40.7669);
	SetVehicleVirtualWorld(car, playerid+1);
	SetPlayerVirtualWorld(playerid, playerid+1);
	SetPlayerCameraPos(playerid, -1956.2145, 261.2427, 42.3533);
	SetPlayerCameraLookAt(playerid, -1955.2532, 260.9547, 42.1530);
	SetVehicleZAngle(car, 46.4705);
	InShop[playerid] = 1;
	pCar[playerid] = idd;
	TextDrawShowForPlayer(playerid, HiddTD[0]);
	TextDrawShowForPlayer(playerid, HiddTD[1]);
	TextDrawShowForPlayer(playerid, HiddTD[2]);
	TextDrawShowForPlayer(playerid, HiddTD[3]);
	TextDrawShowForPlayer(playerid, HiddTD[4]);
	PlayerTextDrawShow(playerid, HiddTDs[0]);
	PlayerTextDrawShow(playerid, HiddTDs[1]);
	PlayerTextDrawShow(playerid, HiddTDs[2]);
	SelectTextDraw(playerid, 0xFF0000FF);
	PlayerTextDrawSetString(playerid, HiddTDs[0], "Color 1: 0");
	PlayerTextDrawSetString(playerid, HiddTDs[2], "Color 2: 0");
	pColor1[playerid] = 0;
	pColor2[playerid] = 0;
	CarColor[playerid] = 1;
	ChangeVehicleColor(GetPlayerVehicleID(playerid), pColor2[playerid], pColor2[playerid]);
	return 1;
}
stock LockCarFunction(playerid) {
	new string[128];
	new engine,lights,alarm,doors,bonnet,boot,objective;
	new idd, car;
	car = GetClosestVehicle(playerid);
	idd = FindSpawnID(car);

	if(VehicleKey[playerid] != 0) {
	    if(VehicleKey[playerid] == car) {
			if(CarInfo[idd][cLock] == 0)
			{
				CarInfo[idd][cLock] = 1;
				GetVehicleParamsEx(car,engine,lights,alarm,doors,bonnet,boot,objective);
				SetVehicleParamsEx(car,engine,lights,alarm,1,bonnet,boot,objective);
				format(string,sizeof(string),"~w~%s ~r~Inchis",aVehicleNames[CarInfo[idd][cModel]-400]);
				GameTextForPlayer(playerid, string, 5000, 4);
				mysql_format(SQL, string, sizeof(string), "UPDATE cars SET Lockk='%d' WHERE ID=%d", CarInfo[idd][cLock], idd);
				mysql_tquery(SQL, string, "", "");
			}
			else
			{
				CarInfo[idd][cLock] = 0;
				GetVehicleParamsEx(car,engine,lights,alarm,doors,bonnet,boot,objective);
				SetVehicleParamsEx(car,engine,lights,alarm,0,bonnet,boot,objective);
				format(string,sizeof(string),"~w~%s ~g~Deschis",aVehicleNames[CarInfo[idd][cModel]-400]);
				GameTextForPlayer(playerid, string, 5000, 4);
				mysql_format(SQL, string, sizeof(string), "UPDATE cars SET Lockk='%d' WHERE ID=%d", CarInfo[idd][cLock], idd);
				mysql_tquery(SQL, string, "", "");
			}
			return 1;
		}
	}
	if(HireCar[playerid] == -1) {
		if(idd == 0 || CarInfo[idd][Userid] != PlayerInfo[playerid][pSQLID] || !IsPlayerNearVehicle(playerid,car,3)) return 1;
		if(CarInfo[idd][cLock] == 0)
		{
			CarInfo[idd][cLock] = 1;
			GetVehicleParamsEx(car,engine,lights,alarm,doors,bonnet,boot,objective);
			SetVehicleParamsEx(car,engine,lights,alarm,1,bonnet,boot,objective);
			format(string,sizeof(string),"~w~%s ~r~Inchis",aVehicleNames[CarInfo[idd][cModel]-400]);
			GameTextForPlayer(playerid, string, 5000, 4);
			mysql_format(SQL, string, sizeof(string), "UPDATE cars SET Lockk='%d' WHERE ID=%d", CarInfo[idd][cLock], idd);
			mysql_tquery(SQL, string, "", "");
		}
		else
		{
			CarInfo[idd][cLock] = 0;
			GetVehicleParamsEx(car,engine,lights,alarm,doors,bonnet,boot,objective);
			SetVehicleParamsEx(car,engine,lights,alarm,0,bonnet,boot,objective);
			format(string,sizeof(string),"~w~%s ~g~Deschis",aVehicleNames[CarInfo[idd][cModel]-400]);
			GameTextForPlayer(playerid, string, 5000, 4);
			mysql_format(SQL, string, sizeof(string), "UPDATE cars SET Lockk='%d' WHERE ID=%d", CarInfo[idd][cLock], idd);
			mysql_tquery(SQL, string, "", "");
		}
	}
	else if(HireCar[playerid] == car) {
		if(doors == 0)
		{
			GetVehicleParamsEx(car,engine,lights,alarm,doors,bonnet,boot,objective);
			SetVehicleParamsEx(car,engine,lights,alarm,1,bonnet,boot,objective);
			format(string,sizeof(string),"~w~%s ~r~Inchis",aVehicleNames[GetVehicleModel(car)-400]);
			GameTextForPlayer(playerid, string, 5000, 4);
		}
		if(doors == 1)
		{
			GetVehicleParamsEx(car,engine,lights,alarm,doors,bonnet,boot,objective);
			SetVehicleParamsEx(car,engine,lights,alarm,0,bonnet,boot,objective);
			format(string,sizeof(string),"~w~%s ~g~Deschis",aVehicleNames[GetVehicleModel(car)-400]);
			GameTextForPlayer(playerid, string, 5000, 4);
		}
	}
	else {
		if(idd == 0 || CarInfo[idd][Userid] != PlayerInfo[playerid][pSQLID] || !IsPlayerNearVehicle(playerid,car,3)) return 1;
		if(CarInfo[idd][cLock] == 0)
		{
			CarInfo[idd][cLock] = 1;
			GetVehicleParamsEx(car,engine,lights,alarm,doors,bonnet,boot,objective);
			SetVehicleParamsEx(car,engine,lights,alarm,1,bonnet,boot,objective);
			format(string,sizeof(string),"~w~%s ~r~Inchis",aVehicleNames[CarInfo[idd][cModel]-400]);
			GameTextForPlayer(playerid, string, 5000, 4);
			mysql_format(SQL, string, sizeof(string), "UPDATE cars SET Lockk='%d' WHERE ID=%d", CarInfo[idd][cLock], idd);
			mysql_tquery(SQL, string, "", "");
		}
		else
		{
			CarInfo[idd][cLock] = 0;
			GetVehicleParamsEx(car,engine,lights,alarm,doors,bonnet,boot,objective);
			SetVehicleParamsEx(car,engine,lights,alarm,0,bonnet,boot,objective);
			format(string,sizeof(string),"~w~%s ~g~Deschis",aVehicleNames[CarInfo[idd][cModel]-400]);
			GameTextForPlayer(playerid, string, 5000, 4);
			mysql_format(SQL, string, sizeof(string), "UPDATE cars SET Lockk='%d' WHERE ID=%d", CarInfo[idd][cLock], idd);
			mysql_tquery(SQL, string, "", "");
		}
	}
	return 1;
}
stock IsPlayerNearVehicle(playerid, vehicleid, Float:range)
{
    new Float:X, Float:Y, Float:Z;
    GetVehiclePos(vehicleid, X, Y, Z);
    if(IsPlayerInRangeOfPoint(playerid, range, X, Y, Z))return true;
    else return false;
}
function IsVehicleOccupied(vehicleid)
{
	for(new i=0;i<MAX_PLAYERS;i++)
	{
		if(IsPlayerInVehicle(i,vehicleid)) return 1;
	}
	return 0;
}

cmd:enterrc(playerid, params[]) {
	if(!IsPlayerInAnyVehicle(playerid)){
		new Float:x, Float:y, Float:z, car, idd;
		GetPlayerPos(playerid, x, y, z);
		car = GetClosestVehicle(playerid);
		if(!IsPlayerNearVehicle(playerid, car, 5)) {
			SendClientMessage(playerid, COLOR_GREY, "Nu detii niciun vehicul RC sau esti prea departe de ele.");
			return 1;
		}
		idd = FindSpawnID(car);
		if(IsVehicleRc(car) && CarInfo[idd][Userid] == PlayerInfo[playerid][pSQLID]) PutPlayerInVehicle(playerid, car, 0);
	}
	return 1;
}

cmd:exitrc(playerid, params[], help) {
	new vehicleID = GetPlayerVehicleID(playerid);
	if(IsVehicleRc(vehicleID) || GetVehicleModel(vehicleID) == RC_CAM){
		if(GetVehicleModel(vehicleID) != D_TRAM){
			new Float:x, Float:y, Float:z;
			GetPlayerPos(playerid, x, y, z);
			SetPlayerPosEx(playerid, x+0.5, y, z+1.0);
			if(InDealer[playerid] == 1) {
				DestroyVehicle(DealerCar[playerid]);
				InDealer[playerid] = 0, DealerCarType[playerid] = -1, DealerCar[playerid] = 0;
				KillTimer(DSTimer[playerid]);
				SendClientMessage(playerid, COLOR_YELLOW, "Testul a fost suspendat deoarece ai abandonat vehiculul.");
				SetPlayerPosEx(playerid, 327.9443, -1512.6609, 36.1366);
				SetPlayerInterior(playerid, 0);
				SetPlayerVirtualWorld(playerid, 0);
				TestingModel[playerid] = 0;
			}
		}
	}
	return 1;
}
alias:avehicles("av");
cmd:avehicles(playerid, params[]) {
	new id, string[180],name[150],szDialog[500];
	if(PlayerInfo[playerid][pAdmin] < 1) return SCM(playerid,COLOR_ERROR,AdminOnly);
	if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "u", id)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /avehicles <Nume/Playerid>");
	if(!IsPlayerConnected(id) || id == INVALID_PLAYER_ID) return SendClientMessage(playerid, COLOR_BZWHITE, "Eroare: Acel jucator nu este conectat.");
	format(name, sizeof(name), "%s's (%d) vehicles", GetName(id), id);
	strcat(szDialog,"Vehicle\tID\tColor One\tColor Two\n");
	new colors[64];
	for(new i = 0; i < 10; i++)
	{
		if(PlayerInfo[id][pCarKey][i] != 0)
		{
			new car = PlayerInfo[id][pCarKey][i];
			format(colors, sizeof(colors), "%d\t%d", CarInfo[car][cColorOne], CarInfo[car][cColorTwo]);
			format(string, sizeof(string), "%s\t%d\t%s\n", aVehicleNames[CarInfo[car][cModel]-400], CarInfo[car][Spawned], colors);
			strcat(szDialog,string);
		}
	}
	ShowPlayerDialog(playerid,0,DIALOG_STYLE_TABLIST_HEADERS,name,szDialog,"Close","");
	return 1;
}

alias:v("cars");
cmd:v(playerid, params[]) {
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
    ShowVehiclesMenu(playerid);
    return 1;
}
/*
stock ShowVehiclesMenu(playerid) {
	new szDialog[1300], szDialog2[1300], vstatus[1024],szTitle[300],sText[200];
	if(GetVehicles(playerid) == 0) return SendClientMessage(playerid, COLOR_GREY, "Nu ai un vehicul personal!");
	sVehicle[0][playerid] = 0, sVehicle[1][playerid] = 0, sVehicle[2][playerid] = 0, sVehicle[3][playerid] = 0, sVehicle[4][playerid] = 0, sVehicle[5][playerid] = 0;
	strcat(szDialog2,"Slot\tVehicle\tStatus\n");
	for(new i = 0; i < 10; i++) {
		if(PlayerInfo[playerid][pCarKey][i] > 0) {
			new car =  PlayerInfo[playerid][pCarKey][i];
			if(IsVehicleOccupied(CarInfo[car][Spawned]) && CarInfo[car][Spawned] > 0) sText = "{DEC400}Ocupat{FFFFFF}";
			else if(!IsVehicleOccupied(CarInfo[car][Spawned]) && CarInfo[car][Spawned] > 0) sText = "{00FF04}Disponibil{FFFFFF}";
			else if(CarInfo[car][Spawned] == 0) sText = "{DB0000}Despawned{FFFFFF}";
			format(vstatus, sizeof(vstatus), "%d\t{FFFFFF}%s\t%s",i+1, aVehicleNames[CarInfo[car][cModel]-400],sText);
			format(szDialog, sizeof(szDialog), "%s\n", vstatus);
			strcat(szDialog2, szDialog);
		}
		else {
		    format(vstatus, sizeof(vstatus), "%d\tEmpty Slot\t-\n",i+1);
			strcat(szDialog2,vstatus);
		}
	}
	format(szTitle,300,"Garajul lui %s (%d/10 sloturi)",GetName(playerid),GetSlots(playerid));
	ShowPlayerDialog(playerid, DIALOG_GARAGE, DIALOG_STYLE_TABLIST_HEADERS, szTitle, szDialog2, "Ok", "Exit");
	return 1;
}*/
stock ShowVehiclesMenu(playerid) {
	new
		szTitle[256],
		szDialog[1300],
		szDialog2[1300],
		vstatus[1024],
		tvehicles, 
		car1 = PlayerInfo[playerid][pCarKey][0], car2 = PlayerInfo[playerid][pCarKey][1], car3 = PlayerInfo[playerid][pCarKey][2], car4 = PlayerInfo[playerid][pCarKey][3], car5 = PlayerInfo[playerid][pCarKey][4];

	if(GetVehicles(playerid) == 0) return SCM(playerid, COLOR_GREY, "Nu ai un vehicul personal");
	sVehicle[0][playerid] = 0, sVehicle[1][playerid] = 0, sVehicle[2][playerid] = 0, sVehicle[3][playerid] = 0, sVehicle[4][playerid] = 0, sVehicle[5][playerid] = 0;
	format(szTitle, sizeof(szTitle), "Garajul lui %s (%d sloturi)", GetName(playerid), GetSlots(playerid));
	if(car1 != 0) {
		sVehicle[0][playerid] = car1;
		if(IsVehicleOccupied(CarInfo[car1][Spawned])) { format(vstatus, sizeof(vstatus), "{FFFF00}Ocupat{FFFFFF}\t-"); }
		else if(CarInfo[car1][Spawned] > 0) { format(vstatus, sizeof(vstatus), "{2BFF00}Disponibil{FFFFFF}\t%d min", DespawnCar[playerid][0]/60); }
		else { format(vstatus, sizeof(vstatus), "Ascuns\t-"); }
		if(tvehicles == 0) format(szDialog, sizeof(szDialog), "Slot\tVehicle\tStare\tTimp Despawn\n1\t%s\t%s\n", aVehicleNames[CarInfo[car1][cModel]-400], vstatus);
		else format(szDialog, sizeof(szDialog), "1\t%s\t%s\n", aVehicleNames[CarInfo[car1][cModel]-400], vstatus);
		tvehicles++;
		strcat(szDialog2, szDialog);
	}
	if(car2 != 0) {
		if(sVehicle[0][playerid] == 0) sVehicle[0][playerid] = car2;
		else sVehicle[1][playerid] = car2;
		if(IsVehicleOccupied(CarInfo[car2][Spawned])) { format(vstatus, sizeof(vstatus), "{FFFF00}Ocupat{FFFFFF}\t-"); }
		else if(CarInfo[car2][Spawned] > 0) { format(vstatus, sizeof(vstatus), "{2BFF00}Disponibil{FFFFFF}\t%d min", DespawnCar[playerid][1]/60); }
		else { format(vstatus, sizeof(vstatus), "Ascuns\t-"); }
		if(tvehicles == 0) format(szDialog, sizeof(szDialog), "Slot\tVehicle\tStare\tTimp Despawn\n1\t%s\t%s\n", aVehicleNames[CarInfo[car2][cModel]-400], vstatus);
		else format(szDialog, sizeof(szDialog), "2\t%s\t%s\n", aVehicleNames[CarInfo[car2][cModel]-400], vstatus);
        tvehicles++;
		strcat(szDialog2, szDialog);
	}
	if(car3 != 0) {
		if(sVehicle[0][playerid] == 0) sVehicle[0][playerid] = car3;
		else if(sVehicle[1][playerid] == 0) sVehicle[1][playerid] = car3;
		else sVehicle[2][playerid] = car3;
		if(IsVehicleOccupied(CarInfo[car3][Spawned])) { format(vstatus, sizeof(vstatus), "{FFFF00}Ocupat{FFFFFF}\t-"); }
		else if(CarInfo[car3][Spawned] > 0) { format(vstatus, sizeof(vstatus), "{2BFF00}Disponibil{FFFFFF}\t%d min", DespawnCar[playerid][2]/60); }
		else { format(vstatus, sizeof(vstatus), "Ascuns\t-"); }
		if(tvehicles == 0) format(szDialog, sizeof(szDialog), "Slot\tVehicle\tStare\tTimp Despawn\n1\t%s\t%s\n", aVehicleNames[CarInfo[car3][cModel]-400], vstatus);
		else format(szDialog, sizeof(szDialog), "3\t%s\t%s\n", aVehicleNames[CarInfo[car3][cModel]-400], vstatus);
		strcat(szDialog2, szDialog);
	}
	if(car4 != 0) {
		sVehicle[3][playerid] = car4;
		if(sVehicle[0][playerid] == 0) sVehicle[0][playerid] = car4;
		else if(sVehicle[1][playerid] == 0) sVehicle[1][playerid] = car4;
		else if(sVehicle[2][playerid] == 0) sVehicle[2][playerid] = car4;
		if(IsVehicleOccupied(CarInfo[car4][Spawned])) { format(vstatus, sizeof(vstatus), "{FFFF00}Ocupat{FFFFFF}\t-"); }
		else if(CarInfo[car4][Spawned] > 0) { format(vstatus, sizeof(vstatus), "{2BFF00}Disponibil{FFFFFF}\t%d min", DespawnCar[playerid][3]/60); }
		else { format(vstatus, sizeof(vstatus), "Ascuns\t-"); }
		if(tvehicles == 0) format(szDialog, sizeof(szDialog), "Slot\tVehicle\tStare\tTimp Despawn\n1\t%s\t%s\n", aVehicleNames[CarInfo[car4][cModel]-400], vstatus);
		else format(szDialog, sizeof(szDialog), "4\t%s\t%s\n", aVehicleNames[CarInfo[car4][cModel]-400], vstatus);
		strcat(szDialog2, szDialog);
	}
	if(car5 != 0) {
		sVehicle[4][playerid] = car5;
		if(sVehicle[0][playerid] == 0) sVehicle[0][playerid] = car5;
		else if(sVehicle[1][playerid] == 0) sVehicle[1][playerid] = car5;
		else if(sVehicle[2][playerid] == 0) sVehicle[2][playerid] = car5;
		else if(sVehicle[3][playerid] == 0) sVehicle[3][playerid] = car5;
		if(IsVehicleOccupied(CarInfo[car5][Spawned])) { format(vstatus, sizeof(vstatus), "{FFFF00}Ocupat{FFFFFF}\t-"); }
		else if(CarInfo[car5][Spawned] > 0) { format(vstatus, sizeof(vstatus), "{2BFF00}Disponibil{FFFFFF}\t%d min", DespawnCar[playerid][4]/60); }
		else { format(vstatus, sizeof(vstatus), "Ascuns\t-"); }
		if(tvehicles == 0) format(szDialog, sizeof(szDialog), "Slot\tVehicle\tStare\tTimp Despawn\n1\t%s\t%s\n", aVehicleNames[CarInfo[car5][cModel]-400], vstatus);
		else format(szDialog, sizeof(szDialog), "5\t%s\t%s\n", aVehicleNames[CarInfo[car5][cModel]-400], vstatus);
		strcat(szDialog2, szDialog);
	}
	ShowPlayerDialog(playerid, DIALOG_GARAGE, DIALOG_STYLE_TABLIST_HEADERS, szTitle, szDialog2, "Select", "Cancel");
	return 1;
}
function CancelTestDrive(playerid) {
	SendClientMessage(playerid, COLOR_YELLOW, "Timpul disponibil pentru test-drive a expirat.");
	PutPlayerInVehicle(playerid, DealerCar[playerid], 0);
	if(DealerCarType[playerid] == 1) {
		SetPlayerInterior(playerid, 1);
		DealerCarAngle[playerid] = 75.7200;
		SetVehiclePos(DealerCar[playerid], 613.7783, -2.9987, 1000.5500), SetVehicleZAngle(DealerCar[playerid], 75.7200);
		LinkVehicleToInterior(DealerCar[playerid], 1);
		SetPlayerCameraPos(playerid, 604.9370, -2.9715, 1003.8300);
		SetPlayerCameraLookAt(playerid, 605.9343, -2.9241, 1003.4600);
	}
	else if(DealerCarType[playerid] == 2) {
		SetPlayerInterior(playerid, 1);
		DealerCarAngle[playerid] = 75.7200;
		SetVehiclePos(DealerCar[playerid], 613.7783, -2.9987, 1000.5500), SetVehicleZAngle(DealerCar[playerid], 75.7200);
		LinkVehicleToInterior(DealerCar[playerid], 1);
		SetPlayerCameraPos(playerid, 604.9370, -2.9715, 1003.8300);
		SetPlayerCameraLookAt(playerid, 605.9343, -2.9241, 1003.4600);
	}
	else if(DealerCarType[playerid] == 3) {
		DealerCarAngle[playerid] = 214.5153;
		SetVehiclePos(DealerCar[playerid], 179.2214,-1935.9833,-0.2331), SetVehicleZAngle(DealerCar[playerid], 214.5153);
		SetPlayerCameraPos(playerid, 195.5355, -1952.8099, 8.7636);
		SetPlayerCameraLookAt(playerid, 194.7955, -1952.1398, 8.3886);
	}
	else if(DealerCarType[playerid] == 4) {
		DealerCarAngle[playerid] = 320.7336;
		SetVehiclePos(DealerCar[playerid], 1765.7640, -2286.8374, 27.4146), SetVehicleZAngle(DealerCar[playerid], 320.7336);
		SetPlayerCameraPos(playerid, 1769.0742, -2266.9126, 32.7817);
		SetPlayerCameraLookAt(playerid, 1768.9325, -2267.9021, 32.4167);
	}
	else if(DealerCarType[playerid] == 5) {
		DealerCarAngle[playerid] = 121.0334;
		SetVehiclePos(DealerCar[playerid], 1543.3701,-1355.8428,328.6331), SetVehicleZAngle(DealerCar[playerid], 121.0334);
		SetPlayerCameraPos(playerid, 1542.2255, -1370.4922, 333.8188);
		SetPlayerCameraLookAt(playerid, 1542.3651, -1369.5028, 333.4086);
	}
	TestingModel[playerid] = 0;
	ShowDealershipTextdraws(playerid);
	SelectTextDraw(playerid, 0xFF0000FF);
 	TogglePlayerControllable(playerid, 0);
	new e,l,a,d,b,bo,o;
	GetVehicleParamsEx(DealerCar[playerid],e,l,a,d,b,bo,o);
	SetVehicleParamsEx(DealerCar[playerid],0,l,a,d,b,bo,o);
	return 1;
}


function ShowDealershipTextdraws(playerid) {
	PlayerTextDrawShow(playerid, MainColor), PlayerTextDrawShow(playerid, SecColor),
	PlayerTextDrawShow(playerid, NextColorMain), PlayerTextDrawShow(playerid, BackColorMain), PlayerTextDrawShow(playerid, NextColorSec),
	PlayerTextDrawShow(playerid, BackColorSec), PlayerTextDrawShow(playerid, CarsCategory), PlayerTextDrawShow(playerid, BikesCategory),
	PlayerTextDrawShow(playerid, BoatsCategory), PlayerTextDrawShow(playerid, AirCategory), PlayerTextDrawShow(playerid, SpecialCategory),
	PlayerTextDrawShow(playerid, RotLeft), PlayerTextDrawShow(playerid, RotRight), PlayerTextDrawShow(playerid, BuyModel), PlayerTextDrawShow(playerid, TestModel),
	PlayerTextDrawShow(playerid, ExitDS), PlayerTextDrawShow(playerid, BackCar), PlayerTextDrawShow(playerid, NextCar);

	new szText[1024];
	if(InDealer[playerid] == 1) {
		if(PlayerInfo[playerid][pCash] >= DSModels[DealerID[playerid]][dPrice]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Pret: ~g~$%s~n~~w~Tip: ~g~Normal", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[DealerID[playerid]][dMaxSpeed], FormatNumber(DSModels[DealerID[playerid]][dPrice]));
		else if(PlayerInfo[playerid][pCash] < DSModels[DealerID[playerid]][dPrice]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Pret: ~r~$%s~n~~w~Tip: ~g~Normal", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[DealerID[playerid]][dMaxSpeed], FormatNumber(DSModels[DealerID[playerid]][dPrice]));
		PlayerTextDrawSetString(playerid, InfoDS, szText);
		PlayerTextDrawShow(playerid, InfoDS);
	}
	else if(InDealer[playerid] == 2) {
		if(PlayerInfo[playerid][pCash] >= DSModels[DealerID[playerid]][dPrice]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Gold: ~g~%s~n~~w~Tip: ~g~Normal", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[DealerID[playerid]][dMaxSpeed], FormatNumber(DSModels[DealerID[playerid]][dGold]));
		else if(PlayerInfo[playerid][pCash] < DSModels[DealerID[playerid]][dPrice]) format(szText, sizeof(szText), "Model: %s~n~Viteza maxima: %d km/h~n~Gold: ~r~$%s~n~~w~Tip: ~g~Normal", aVehicleNames[GetVehicleModel(DealerCar[playerid])-400], DSModels[DealerID[playerid]][dMaxSpeed], FormatNumber(DSModels[DealerID[playerid]][dGold]));
		PlayerTextDrawSetString(playerid, InfoDS, szText);
		PlayerTextDrawShow(playerid, InfoDS);
	}
	return 1;
}

function HideDealershipTextdraws(playerid) {
	PlayerTextDrawHide(playerid, InfoDS), PlayerTextDrawHide(playerid, MainColor), PlayerTextDrawHide(playerid, SecColor),
	PlayerTextDrawHide(playerid, NextColorMain), PlayerTextDrawHide(playerid, BackColorMain), PlayerTextDrawHide(playerid, NextColorSec),
	PlayerTextDrawHide(playerid, BackColorSec), PlayerTextDrawHide(playerid, CarsCategory), PlayerTextDrawHide(playerid, BikesCategory),
	PlayerTextDrawHide(playerid, BoatsCategory), PlayerTextDrawHide(playerid, AirCategory), PlayerTextDrawHide(playerid, SpecialCategory),
	PlayerTextDrawHide(playerid, RotLeft), PlayerTextDrawHide(playerid, RotRight), PlayerTextDrawHide(playerid, BuyModel), PlayerTextDrawHide(playerid, TestModel),
	PlayerTextDrawHide(playerid, ExitDS), PlayerTextDrawHide(playerid, BackCar), PlayerTextDrawHide(playerid, NextCar);
	return 1;
}

stock DestroyPlayerCar(dbid) {
	new string[256];
	DestroyVehicle(CarInfo[dbid][Spawned]);
	VehicleOwned[CarInfo[dbid][Spawned]] = 0;
	VehicleSQL[CarInfo[dbid][Spawned]] = 0;	
	CarInfo[dbid][Spawned] = 0;
	mysql_format(SQL, string, sizeof(string), "UPDATE cars SET Spawned='%d' WHERE ID=%d", CarInfo[dbid][Spawned], dbid);
	mysql_tquery(SQL, string, "", "");
	return 1;
}

stock SpawnPlayerCar(dbid) {
	new string[256];
	new engine,lights,alarm,doors,bonnet,boot,objective;
	if(dbid != 0)
	{
		CarInfo[dbid][Spawned] = CreateVehicleEx(CarInfo[dbid][cModel],CarInfo[dbid][cLocationx],CarInfo[dbid][cLocationy],CarInfo[dbid][cLocationz],CarInfo[dbid][cAngle],CarInfo[dbid][cColorOne],CarInfo[dbid][cColorTwo],-1);
		VehicleOwned[CarInfo[dbid][Spawned]] = CarInfo[dbid][Spawned];
		VehicleSQL[CarInfo[dbid][Spawned]] = dbid;		
		GetVehicleParamsEx(CarInfo[dbid][Spawned],engine,lights,alarm,doors,bonnet,boot,objective);
		SetVehicleParamsEx(CarInfo[dbid][Spawned],0,lights,alarm,CarInfo[dbid][cLock],bonnet,boot,objective);
		new carid = CarInfo[dbid][Spawned];
		if(CarInfo[dbid][mod0] != 0)
		{
			AddVehicleComponent(carid,CarInfo[dbid][mod0]);
		}
		if(CarInfo[dbid][mod1] != 0)
		{
			AddVehicleComponent(carid,CarInfo[dbid][mod1]);
		}
		if(CarInfo[dbid][mod2] != 0)
		{
			AddVehicleComponent(carid,CarInfo[dbid][mod2]);
		}
		if(CarInfo[dbid][mod3] != 0)
		{
			AddVehicleComponent(carid,CarInfo[dbid][mod3]);
		}
		if(CarInfo[dbid][mod4] != 0)
		{
			AddVehicleComponent(carid,CarInfo[dbid][mod4]);
		}
		if(CarInfo[dbid][mod5] != 0)
		{
			AddVehicleComponent(carid,CarInfo[dbid][mod5]);
		}
		if(CarInfo[dbid][mod6] != 0)
		{
			AddVehicleComponent(carid,CarInfo[dbid][mod6]);
		}
		if(CarInfo[dbid][mod7] != 0)
		{
			AddVehicleComponent(carid,CarInfo[dbid][mod7]);
		}
		if(CarInfo[dbid][mod8] != 0)
		{
			AddVehicleComponent(carid,CarInfo[dbid][mod8]);
		}
		if(CarInfo[dbid][mod9] != 0)
		{
			AddVehicleComponent(carid,CarInfo[dbid][mod9]);
		}
		if(CarInfo[dbid][mod10] != 0)
		{
			AddVehicleComponent(carid,CarInfo[dbid][mod10]);
		}
		if(CarInfo[dbid][mod11] != 0)
		{
			AddVehicleComponent(carid,CarInfo[dbid][mod11]);
		}
		if(CarInfo[dbid][mod12] != 0)
		{
			AddVehicleComponent(carid,CarInfo[dbid][mod12]);
		}
		if(CarInfo[dbid][mod13] != 0)
		{
			AddVehicleComponent(carid,CarInfo[dbid][mod13]);
		}
		SetVehicleNumberPlate(carid,CarInfo[dbid][cLicense]);
		mysql_format(SQL, string, sizeof(string), "UPDATE cars SET Spawned='%d' WHERE ID=%d", CarInfo[dbid][Spawned], dbid);
		mysql_tquery(SQL, string, "", "");
	}
	return 1;
}

function SetTunning(idd)
{
    new carid = CarInfo[idd][Spawned];
    new engine,lights,alarm,doors,bonnet,boot,objective;
	GetVehicleParamsEx(carid,engine,lights,alarm,doors,bonnet,boot,objective);
	SetVehicleParamsEx(carid,0,lights,alarm,CarInfo[idd][cLock],bonnet,boot,objective);
	if(CarInfo[idd][mod0] != 0)
	{
		AddVehicleComponent(carid,CarInfo[idd][mod0]);
	}
	if(CarInfo[idd][mod1] != 0)
	{
		AddVehicleComponent(carid,CarInfo[idd][mod1]);
	}
	if(CarInfo[idd][mod2] != 0)
	{
		AddVehicleComponent(carid,CarInfo[idd][mod2]);
	}
	if(CarInfo[idd][mod3] != 0)
	{
		AddVehicleComponent(carid,CarInfo[idd][mod3]);
	}
	if(CarInfo[idd][mod4] != 0)
	{
		AddVehicleComponent(carid,CarInfo[idd][mod4]);
	}
	if(CarInfo[idd][mod5] != 0)
	{
		AddVehicleComponent(carid,CarInfo[idd][mod5]);
	}
	if(CarInfo[idd][mod6] != 0)
	{
		AddVehicleComponent(carid,CarInfo[idd][mod6]);
	}
	if(CarInfo[idd][mod7] != 0)
	{
		AddVehicleComponent(carid,CarInfo[idd][mod7]);
	}
	if(CarInfo[idd][mod8] != 0)
	{
		AddVehicleComponent(carid,CarInfo[idd][mod8]);
	}
	if(CarInfo[idd][mod9] != 0)
	{
		AddVehicleComponent(carid,CarInfo[idd][mod9]);
	}
	if(CarInfo[idd][mod10] != 0)
	{
		AddVehicleComponent(carid,CarInfo[idd][mod10]);
	}
	if(CarInfo[idd][mod11] != 0)
	{
		AddVehicleComponent(carid,CarInfo[idd][mod11]);
	}
	if(CarInfo[idd][mod12] != 0)
	{
		AddVehicleComponent(carid,CarInfo[idd][mod12]);
	}
	if(CarInfo[idd][mod13] != 0)
	{
		AddVehicleComponent(carid,CarInfo[idd][mod13]);
	}
	SetVehicleNumberPlate(carid,CarInfo[idd][cLicense]);
}

stock GetClosestVehicle(playerid)
{
    new closestdist = 999999999, closestvehicle = -1;
    new Float:x[2],Float:y[2],Float:z[2],distance;
    for(new i; i < MAX_VEHICLES; i++)
    {
        GetVehiclePos(i,x[0],y[0],z[0]);
        //if(x[0] == 0.0 && y[0] == 0.0 && z[0] == 0.0) return -1;
        GetPlayerPos(playerid,x[1],y[1],z[1]);
        distance = floatround(GetDistanceBetweenPoints(x[0],y[0],z[0],x[1],y[1],z[1]));
        if(distance < closestdist) {
            closestdist = distance;
            closestvehicle = i;
        }
    }
    return closestvehicle;
}

function LoadSystems()
{
    new query[256];
	mysql_format(SQL, query, sizeof(query), "SELECT MAX(ID) FROM `cars`");
	mysql_tquery(SQL, query, "PreLoadCars", "");
	
	mysql_format(SQL, query, sizeof(query), "SELECT * FROM `dsveh`");
	mysql_tquery(SQL, query, "LoadDSVeh", "");
}

function LoadCars(id)
{
	new temp = cache_num_rows();
	if(temp == 0)
	{
        //CarInfo[id][cID] = -2;
	}
	else
	{
		CarInfo[id][cID] 				= cache_get_field_content_int(0, "ID");
		CarInfo[id][cModel]             = cache_get_field_content_int(0, "Model");
		CarInfo[id][cLocationx]         = cache_get_field_content_float(0, "Locationx");
		CarInfo[id][cLocationy]         = cache_get_field_content_float(0, "Locationy");
		CarInfo[id][cLocationz]         = cache_get_field_content_float(0, "Locationz");
		CarInfo[id][cAngle]		        = cache_get_field_content_float(0, "Angle");
		CarInfo[id][cColorOne]          = cache_get_field_content_int(0, "ColorOne");
		CarInfo[id][cColorTwo]          = cache_get_field_content_int(0, "ColorTwo");
		cache_get_field_content(0, "Owner", CarInfo[id][cOwner], SQL, 129);
		CarInfo[id][cValue]         	= cache_get_field_content_int(0, "Value");
		cache_get_field_content(0, "License", CarInfo[id][cLicense], SQL, 129);
		CarInfo[id][cAlarm]          	= cache_get_field_content_int(0, "Alarm");
		CarInfo[id][cLock]          	= cache_get_field_content_int(0, "Lockk");
		CarInfo[id][mod0]          		= cache_get_field_content_int(0, "mod0");
		CarInfo[id][mod1]          		= cache_get_field_content_int(0, "mod1");
		CarInfo[id][mod2]          		= cache_get_field_content_int(0, "mod2");
		CarInfo[id][mod3]          		= cache_get_field_content_int(0, "mod3");
		CarInfo[id][mod4]          		= cache_get_field_content_int(0, "mod4");
		CarInfo[id][mod5]          		= cache_get_field_content_int(0, "mod5");
		CarInfo[id][mod6]          		= cache_get_field_content_int(0, "mod6");
		CarInfo[id][mod7]          		= cache_get_field_content_int(0, "mod7");
		CarInfo[id][mod8]          		= cache_get_field_content_int(0, "mod8");
		CarInfo[id][mod9]          		= cache_get_field_content_int(0, "mod9");
		CarInfo[id][mod10]          	= cache_get_field_content_int(0, "mod10");
		CarInfo[id][mod11]          	= cache_get_field_content_int(0, "mod11");
		CarInfo[id][mod12]          	= cache_get_field_content_int(0, "mod12");
		CarInfo[id][mod13]          	= cache_get_field_content_int(0, "mod13");
		CarInfo[id][paintjob]          	= cache_get_field_content_int(0, "paintjob");
		CarInfo[id][KM]          		= cache_get_field_content_float(0, "KM");
		CarInfo[id][Userid]          	= cache_get_field_content_int(0, "Userid");
		CarInfo[id][Confiscated]   		= cache_get_field_content_int(0, "Confiscated");
		//CarInfo[id][Spawned]   			= cache_get_field_content_int(0, "Spawned");
		CarInfo[id][cSpecial]   		= cache_get_field_content_int(0, "Special");
	}
}
function PersonalCar(playerid) {
	for(new i = 0; i < 10; i++) {
		if(CarInfo[PlayerInfo[playerid][pCarKey][i]][Spawned] == GetPlayerVehicleID(playerid)) return PlayerInfo[playerid][pCarKey][i];
	}
	return -1;
}
cmd:pcolor(playerid, params[]) {
	new szDialog[512];
	format(szDialog, 512, 
		"{FFFFFF}White\n\
		{00FF51}Lime Green\n\
		{32C24D}Green\n\
		{FF0000}Red\n\
		{A80F0F}Unusual Red\n\
		{C122C7}Purple\n\
		{3505F5}Blue\n\
		{463296}Dark Blue\n\
		{00BFFF}Light Blue\n\
		{FF9D14}Orange\n\
		{FF8708}Deep Orange\n\
		{FFFB14}Gold\n\
		{F2EF16}Yellow \n\
		{FF0080}Pink\n\
		{0FFA98}Unusual Green\n\
		{8932A1}Violet \n\
		{08FFA8}Unusual Green 2 \n\
		{F6FF00}Deep Yellow\n\
		{08FFFB}Aqua Blue");
	ShowPlayerDialog(playerid, DIALOG_PCOLOR, DIALOG_STYLE_LIST, "Chat Colors:", szDialog, "Select", "Close");
	return 1;
}
		
stock serverColors(id) {
	new string[180];
	switch(id) {
		case 0: string = "FFFFFF";
		case 1: string = "00FF51";
		case 2: string = "32C24D";
		case 3: string = "FF0000";
		case 4: string = "A80F0F";
		case 5: string = "C122C7";
		case 6: string = "3505F5";
		case 7: string = "463296";
		case 8: string = "00BFFF";
		case 9: string = "FF9D14";
		case 10: string = "FF8708";
		case 11: string = "FFFB14";
		case 12: string = "F2EF16";
		case 13: string = "FF0080";
		case 14: string = "0FFA98";
		case 15: string = "8932A1";
		case 16: string = "08FFA8";
		case 17: string = "F6FF00";	
		case 18: string = "08FFFB";	
	}
	return string;
}

function PreLoadCars()
{
	new query[128];
	new x = cache_get_field_content_int(0, "MAX(ID)");
	for(new i = 1; i <= x; i++)
	{
	    mysql_format(SQL, query, sizeof(query), "SELECT * FROM `cars` WHERE ID = %d",i);
		mysql_tquery(SQL, query, "LoadCars", "i", i);
	}
}
cmd:dsprice(playerid, params[])
{
	new carid, price, szMessage[256];
	if(PlayerInfo[playerid][pAdmin] < 6) return SCM(playerid,COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(sscanf(params, "ii", carid, price)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /dsprice <Vehicle ID> <Price>");
	DSModels[carid][dPrice] = price;
	format(szMessage, sizeof(szMessage), "Ai schimbat pretul la masina cu id-ul %d in %d!", carid, DSModels[carid][dPrice]);
	SendClientMessage(playerid, COLOR_YELLOW, szMessage);
	new szQuery[256];
	format(szQuery, sizeof(szQuery), "UPDATE dsveh SET `Price` = '%d' WHERE `ID` = '%d'",price, carid);
	mysql_query(SQL, szQuery);
	return 1;
}
function UpdateLabel(update, h) {
	new PropertyString[256],pret[356];
	if(update == 1) {
	    if(HouseInfo[h][hValue] != 0) format(pret, 256, "\n{058A00}Price: {FFFFFF}$%s\n{058A00}To buy this house type /buyhouse", FormatNumber(HouseInfo[h][hValue]));
		if(HouseInfo[h][hOwned] == 0) {
			DestroyDynamic3DTextLabel(HouseLabel[h]);
			format(PropertyString, sizeof(PropertyString),"{058A00}House {FFFFFF}%d\n%s\n{058A00}Price: {FFFFFF}$%s\n{058A00}Level: {FFFFFF}%d",h,HouseInfo[h][hDiscription],FormatNumber(HouseInfo[h][hValue]),HouseInfo[h][hLevel]);
			HouseLabel[h] = CreateDynamic3DTextLabel(PropertyString ,0xFFFFFFFF,HouseInfo[h][hEntrancex], HouseInfo[h][hEntrancey], HouseInfo[h][hEntrancez],25, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 1, -1, -1, -1, 100.0);
		}
		else if(HouseInfo[h][hOwned] == 1) {
			if(HouseInfo[h][hRentabil] == 1) {
				DestroyDynamic3DTextLabel(HouseLabel[h]);
				format(PropertyString, sizeof(PropertyString),"{058A00}House %d{FFFFFF}\n%s\n{058A00}Owner: {FFFFFF}%s\n{058A00}Rent: {FFFFFF}$%s\n{058A00}Level: {FFFFFF}%d%s",h,HouseInfo[h][hDiscription],HouseInfo[h][hOwner],FormatNumber(HouseInfo[h][hRent]),HouseInfo[h][hLevel], pret);
				HouseLabel[h] = CreateDynamic3DTextLabel(PropertyString ,0xFFFFFFFF,HouseInfo[h][hEntrancex], HouseInfo[h][hEntrancey], HouseInfo[h][hEntrancez],25, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 1, -1, -1, -1, 100.0);
			}
			else {
				DestroyDynamic3DTextLabel(HouseLabel[h]);
				format(PropertyString, sizeof(PropertyString),"{058A00}House %d{FFFFFF}\n%s\n{058A00}Owner: {FFFFFF}%s \n{058A00}Level: {FFFFFF}%d%s",h,HouseInfo[h][hDiscription],HouseInfo[h][hOwner], HouseInfo[h][hLevel], pret);
				HouseLabel[h] = CreateDynamic3DTextLabel(PropertyString ,0xFFFFFFFF,HouseInfo[h][hEntrancex], HouseInfo[h][hEntrancey], HouseInfo[h][hEntrancez],25, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 1, -1, -1, -1, 100.0);
			}
		}
	}
	else if(update == 2) {
	    if(BizzInfo[h][bBuyPrice] != 0) format(pret, 256, "\n{0056C7}Price: {FFFFFF}$%s\n{0056C7}To buy this business type /buybiz", FormatNumber(BizzInfo[h][bBuyPrice]));
		if(BizzInfo[h][bOwned] == 0) {
			DestroyDynamic3DTextLabel(BizzLabel[h]);
			format(PropertyString, sizeof(PropertyString),"{0056C7}Business %d{FFFFFF}\n%s\n{0056C7}Price: {FFFFFF}%s\n{0056C7}Level: {FFFFFF}%d",h,BizzInfo[h][bMessage],FormatNumber(BizzInfo[h][bBuyPrice]),BizzInfo[h][bLevelNeeded]);
			BizzLabel[h] = CreateDynamic3DTextLabel(PropertyString ,0xFFFFFFFF,BizzInfo[h][bEntranceX], BizzInfo[h][bEntranceY], BizzInfo[h][bEntranceZ],25, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, -1, -1, -1, 100.0);
		}
		else if(BizzInfo[h][bOwned] == 1) {
			DestroyDynamic3DTextLabel(BizzLabel[h]);
			format(PropertyString, sizeof(PropertyString),"{0056C7}Business %d{FFFFFF}\n%s\n{0056C7}Owner: {FFFFFF}%s\n{0056C7}Level: {FFFFFF}%d\n{0056C7}Entrance Fee: {FFFFFF}$%s %s",h,BizzInfo[h][bMessage],BizzInfo[h][bOwner],BizzInfo[h][bLevelNeeded],FormatNumber(BizzInfo[h][bFee]), pret);
			BizzLabel[h] = CreateDynamic3DTextLabel(PropertyString ,0xFFFFFFFF,BizzInfo[h][bEntranceX], BizzInfo[h][bEntranceY], BizzInfo[h][bEntranceZ],25, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, -1, -1, -1, 100.0);
		}
		BizzInfo[h][bPickup] = CreateDynamicPickup(1239, 23, BizzInfo[h][bEntranceX], BizzInfo[h][bEntranceY], BizzInfo[h][bEntranceZ]);
	}
	return 1;
}
cmd:join(playerid, params[])
{
	if(EventStatus == 0) return SendClientMessage(playerid, COLOR_WHITE, "{FF9494}*{FFFFFF} Nu este un event activ!");
	if(JobWorking[playerid] == 1) return 1;
	if(PlayerInfo[playerid][pJailed] == 1) return SendClientMessage(playerid, COLOR_WHITE, "{FF9494}*{FFFFFF} Esti la inchisoare, nu poti participa!");
	SendClientMessage(playerid, COLOR_YELLOW, "Bine ai venit la event!");
	SetPlayerInterior(playerid, EventInt);
	SetPlayerVirtualWorld(playerid, EventVW);
	SetPlayerPosEx(playerid, etp[0], etp[1], etp[2]);
	SetPlayerArmour(playerid, 0);
	return 1;
}

cmd:startevent(playerid, params[])
{
	new result[256], szMessage[256];
	if(PlayerInfo[playerid][pAdmin] < 2) return SendClientMessage(playerid,COLOR_ERROR,AdminOnly);
    if(PlayerInfo[playerid][pPinLogged] == 0) return SendClientMessage(playerid,COLOR_BZWHITE,"Eroare: Contul tau este blocat. Scrie /unlockacc sau /pin pentru a il debloca si pentru a folosi aceasta comanda.");
	if(EventStatus == 0) {
		if(sscanf(params, "s[256]", result)) return SendClientMessage(playerid, COLOR_SYNTAX, "Syntax: /startevent <Type>");
		GetPlayerPos(playerid, etp[0], etp[1], etp[2]);
		format(szMessage, 256,"Event Time: Adminul %s organizeaza un event: %s. Foloseste [/join] pentru a participa la acest event!", GetName(playerid), result);
		SendClientMessageToAll(0xFF8400FF, szMessage);
		EventStatus = 1;
		EventInt = GetPlayerInterior(playerid);
		EventVW = GetPlayerVirtualWorld(playerid);
	}
	else {
		format(szMessage, 256,"Admin-ul %s a inchis teleportarea catre event. Nu se mai poate veni la event!", GetName(playerid));
		SendClientMessageToAll(0xFF8400FF, szMessage);
		EventStatus = 0;
	}
	return 1;
}


stock DecimalNumber(playerid)
{
    new str[30];
    new money=PlayerInfo[playerid][pPnumber];
    if(money >= 0)
    {
        format(str, sizeof(str), "%d", money);
        if(1000000 <= money < 10000000)
		{
			strins(str, "-", 3, sizeof(str));
		}
    }
    return str;
}

function DestroyPickups(turfid) {
	for(new i = 0; i < MAX_PICKUPSW; i++) {
		if(Pickups[i][psWar] == turfid && Pickups[i][psID] != 0) {
			DestroyDynamicPickup(Pickups[i][psID]);
			Pickups[i][psType] = 0;
			Pickups[i][psID] = 0;
			Pickups[i][psWar] = 0;
		}
	}
	return 1;
}

function CheckIDEmpty() {
	for(new i = 0; i < MAX_PICKUPSW; i++) {
		if(Pickups[i][psID] == 0) return i;
	}
	return 0;
}

function IsAFLYCar(carid)
{
	if(GetVehicleModel(carid) == 592 || GetVehicleModel(carid) == 577 || GetVehicleModel(carid) == 511 || GetVehicleModel(carid) == 512 || GetVehicleModel(carid) == 593 || GetVehicleModel(carid) == 520 || GetVehicleModel(carid) == 553 || GetVehicleModel(carid) == 476 || GetVehicleModel(carid) == 519 || GetVehicleModel(carid) == 460 || GetVehicleModel(carid) == 513 || GetVehicleModel(carid) == 487)
	{
		return 1;
	}
	return 0;
}

function IsABOATCar(carid)
{
	new modelid = GetVehicleModel(carid);
	if(modelid == 430 || modelid == 446 || modelid == 452 || modelid == 453 || modelid == 454 || modelid == 472 || modelid == 473 || modelid == 484 || modelid == 493 || modelid == 595)
	{
		return 1;
	}
	return 0;
}

stock FindSpawnID(car) {
	if(VehicleOwned[car] != 0) return VehicleSQL[car];
	return 0;
}

function IsABoat2(carid) {
	if(carid == 430 || carid == 446 || carid == 452 || carid == 453 || carid == 454 || carid == 472 || carid == 473 || carid == 484 || carid == 493 || carid == 595)
		return 1;
	return 0;
}

function IsAPlane2(carid) {
	if(carid == 417 || carid == 425 || carid == 447 || carid == 460 || carid == 464 || carid == 465 || carid == 469 || carid == 476 || carid == 487 || carid == 488 || carid == 497 || carid == 501 || carid == 511 || carid == 512 || carid == 513
	 || carid == 519 || carid == 520 || carid == 548 || carid == 553 || carid == 563 || carid == 577 || carid == 592 || carid == 593)
		return 1;
	return 0;
}

function CarPriceValid(model) {
	for(new i = 0; i < 150; i ++) {
		if(DSModels[i][dModel] == model) return DSModels[i][dPrice];
	}
	return 0;
}

function Spectator() {
	new 
		Float:health, Float: armour,
		text1[180], text2[180], szTD[1024];	
	
	foreach(Player,i) {
	    if(PlayerInfo[i][pAdmin] >= 1 || PlayerInfo[i][pHelper] >= 1) {
			if(IsPlayerConnected(i) && IsPlayerLogged[i] == 1) {
				if(Spectate[i] < 253 && Spectate[i] != 255) {	
					new targetid = Spectate[i];	
					if(IsPlayerConnected(targetid)) {
					    GetPlayerHealthEx(targetid, health);
					    GetPlayerArmourEx(targetid, armour);
					    if(PlayerInfo[targetid][pWantedLevel] == 0) text1 = "Nu";
					    else format(text1, sizeof(text1), "%d", PlayerInfo[targetid][pWantedLevel]);
					    if(PlayerInfo[targetid][pJailTime] == 0) text2 = "Nu";
					    else format(text2, sizeof(text2), "%d", PlayerInfo[targetid][pJailTime]);
				    
					    if(GetPlayerState(targetid) == PLAYER_STATE_DRIVER) {						    
					        new Float:Valoarea;
					        new carid = GetPlayerVehicleID(targetid);
							GetVehicleHealth(carid,Valoarea);
							new speed = Carspeed(targetid);
							format(szTD, sizeof(szTD), "~y~%s (%d) - L: %d~n~~w~~h~Health: ~r~%.1f  ~w~~h~Armour: ~r~%.1f~n~~w~~h~Wanted: ~r~%s~w~~h~  ~w~~h~Jail: ~r~%s~n~~w~~h~Vehicle ID: ~r~%d~n~~w~~h~Speed: ~b~%d km/h", GetName(targetid), targetid, PlayerInfo[targetid][pLevel], health, armour, text1, text2, carid, speed);
							PlayerTextDrawSetString(i, SpecTD, szTD);
							PlayerTextDrawShow(i, SpecTD);						
						}
						else {
							format(szTD, sizeof(szTD), "~y~%s (%d) - L: %d~n~~w~~h~Health: ~r~%.1f  ~w~~h~Armour: ~r~%.1f~n~~w~~h~Wanted: ~r~%s~w~~h~  ~w~~h~Jail: ~r~%s", GetName(targetid), targetid, PlayerInfo[targetid][pLevel], health, armour, text1, text2);
							PlayerTextDrawSetString(i, SpecTD, szTD);
						}
						if(GetPlayerInterior(targetid) >= 0) SetPlayerInterior(i,GetPlayerInterior(targetid));
						if(GetPlayerVirtualWorld(targetid) >= 0) SetPlayerVirtualWorld(i,GetPlayerVirtualWorld(targetid));
					}
				}
				else PlayerTextDrawHide(i, SpecTD);
			}
		}
	}
	return 1;
}

stock CreateVehicleEx(modelid, Float:x, Float:y, Float:z, Float:angle, color1, color2, respawn_delay) {
	new vehid = CreateVehicle(modelid, x, y, z, angle, color1, color2, respawn_delay);
	SetVehicleHealth(vehid, 999);
	return vehid;
}

//functii
function DisablePlayerCheckpointEx(playerid) {
	DisablePlayerCheckpoint(playerid);
	PlayerTextDrawHide(playerid, CpTDD);
	return 1;
}

function DisablePlayerRaceCheckpointEx(playerid) {
	DisablePlayerRaceCheckpoint(playerid);
	PlayerTextDrawHide(playerid, CpTDD);
	return 1;
}

//functii job
function UpdateJobStats(playerid) {
	new i = playerid, string[300];
	if(JobWorking[i] == 1 && PlayerInfo[i][pShowJob] == 1 && PlayerInfo[i][pShowHud] == 0) {
		switch(PlayerInfo[i][pJob]) {
			case 1: {
				if(GetPlayerSkill(playerid) == 5) {
					format(string, sizeof(string), "Ai skill %d si ai muncit de %d ori.~n~Ai skill maxim la acest job.~n~Mai trebuie sa muncesti inca %d secunde.~n~Muncitori la datorie: %d.",
					GetPlayerSkill(i), PlayerInfo[i][pFarmerSkill], JobSeconds[i], GetJobWorkers(1));
				}
				else {
					format(string, sizeof(string), "Ai skill %d si ai muncit de %d ori.~n~Pentru a avansa, ai nevoie de inca %d puncte.~n~Mai trebuie sa muncesti inca %d secunde.~n~Muncitori la datorie: %d.",
					GetPlayerSkill(i), PlayerInfo[i][pFarmerSkill], GetNeedPoints(i, PlayerInfo[i][pJob])-PlayerInfo[i][pFarmerSkill], JobSeconds[i], GetJobWorkers(1));
				}	
				PlayerTextDrawSetString(i, JobTD, string);
				PlayerTextDrawShow(i, JobTD);
			}
			case 2: {				
				
				new szZone[180], routes = GetPVarInt(playerid, "Routes"), result[64];
				switch(routes) {
					case 0: result = "Rent (LS)";
					case 1: result = "Aeroport (LS)";
					case 2: result = "Ocean Docks (LS)";
					case 3: result = "Burger Shot (LS)";
					case 4: result = "Aeroport(LV)";
					case 5: result = "Military Base (LV)";
					case 6: result = "Amazon Deposit (LV)";
					case 7: result = "Linden Side (LV)";	
					case 8: result = "Aeroport (SF)";
					case 9: result = "Docks (SF)";
					case 10: result = "West (SF)";
					case 11: result = "Angel Pine (SF)";			
				}
				GetPlayer3DZone2(CheckpointPos[playerid][0], CheckpointPos[playerid][1], CheckpointPos[playerid][2], szZone, sizeof(szZone));
				if(GetPlayerSkill(playerid) == 5) {
					format(string, sizeof(string), "Locatie aleasa: %s (%s)~n~Ai skill %d si ai muncit de %d ori.~n~Ai skill maxim la acest job.~n~Curse facute %d, bani castigati $%s.~n~Muncitori la datorie: %d",
					szZone, result, GetPlayerSkill(i), PlayerInfo[i][pTruckerSkill], CurseFacute[i], FormatNumber(MoneyEarned[i]), GetJobWorkers(1));								
				}
				else {				
					format(string, sizeof(string), "Locatie aleasa: %s (%s)~n~Ai skill %d si ai muncit de %d ori.~n~Pentru a avansa, ai nevoie de inca %d puncte.~n~Curse facute %d, bani castigati $%s.~n~Muncitori la datorie: %d",
					szZone, result, GetPlayerSkill(i), PlayerInfo[i][pTruckerSkill], GetNeedPoints(i, PlayerInfo[i][pJob])-PlayerInfo[i][pTruckerSkill], CurseFacute[i], FormatNumber(MoneyEarned[i]), GetJobWorkers(1));
				}
				PlayerTextDrawSetString(i, JobTD, string);
				PlayerTextDrawShow(i, JobTD);
			}						
			case 3: {
				if(GetPlayerSkill(playerid) == 5) {
					format(string, sizeof(string), "Ai skill %d si ai muncit de %d ori.~n~Ai skill maxim la acest job.~n~Ai dus %d inghetate si ai castigat in total $%s.~n~Muncitori la datorie: %d",
					GetPlayerSkill(i), PlayerInfo[i][pJackerSkill], CurseFacute[i], FormatNumber(MoneyEarned[i]), GetJobWorkers(4));
				}
				else {				
					format(string, sizeof(string), "Ai skill %d si ai muncit de %d ori.~n~Pentru a avansa, ai nevoie de inca %d puncte.~n~Ai dus %d inghetate si ai castigat in total $%s.~n~Muncitori la datorie: %d",
					GetPlayerSkill(i), PlayerInfo[i][pJackerSkill], GetNeedPoints(i, PlayerInfo[i][pJob])-PlayerInfo[i][pJackerSkill], CurseFacute[i], FormatNumber(MoneyEarned[i]), GetJobWorkers(4));
				}
				PlayerTextDrawSetString(i, JobTD, string);
				PlayerTextDrawShow(i, JobTD);
			}
			case 8: {
				if(GetPlayerSkill(playerid) == 5) {
					format(string, sizeof(string), "Ai skill %d si ai muncit de %d ori.~n~Ai skill maxim la acest job.~n~Ai dus %d cutii cu pizza si ai castigat in total $%s.~n~Muncitori la datorie: %d",
					GetPlayerSkill(i), PlayerInfo[i][pPizzaSkill], CurseFacute[i], FormatNumber(MoneyEarned[i]), GetJobWorkers(9));
				}
				else {				
					format(string, sizeof(string), "Ai skill %d si ai muncit de %d ori.~n~Pentru a avansa, ai nevoie de inca %d puncte.~n~Ai dus %d cutii cu pizza si ai castigat in total $%s.~n~Muncitori la datorie: %d",
					GetPlayerSkill(i), PlayerInfo[i][pPizzaSkill], GetNeedPoints(i, PlayerInfo[i][pJob])-PlayerInfo[i][pPizzaSkill], CurseFacute[i], FormatNumber(MoneyEarned[i]), GetJobWorkers(9));
				}
				PlayerTextDrawSetString(i, JobTD, string);
				PlayerTextDrawShow(i, JobTD);
			}	
			case 9: {
				if(GetPlayerSkill(playerid) == 5) {
					format(string, sizeof(string), "Ai skill %d si ai muncit de %d ori.~n~Ai skill maxim la acest job.~n~Ai facut %d drumuri si ai castigat in total $%s.~n~Muncitori la datorie: %d",
					GetPlayerSkill(i), PlayerInfo[i][pCurierSkill], CurseFacute[i], FormatNumber(MoneyEarned[i]), GetJobWorkers(10));
				}
				else {				
					format(string, sizeof(string), "Ai skill %d si ai muncit de %d ori.~n~Pentru a avansa, ai nevoie de inca %d puncte.~n~Ai facut %d drumuri si ai castigat in total $%s.~n~Muncitori la datorie: %d",
					GetPlayerSkill(i), PlayerInfo[i][pCurierSkill], GetNeedPoints(i, PlayerInfo[i][pJob])-PlayerInfo[i][pCurierSkill], CurseFacute[i], FormatNumber(MoneyEarned[i]), GetJobWorkers(10));
				}
				PlayerTextDrawSetString(i, JobTD, string);
				PlayerTextDrawShow(i, JobTD);
			}				
		}
	}
	return 1;
}
function GetPlayerSkill(playerid) {
    new level;
	switch(PlayerInfo[playerid][pJob]) {
	    case 1: {
			level = PlayerInfo[playerid][pFarmerSkill];
			if(level >= 0 && level < 30) level = 1;
			else if(level >= 30 && level < 90) level = 2;
			else if(level >= 90 && level < 210) level = 3;
			else if(level >= 210 && level < 450) level = 4;
			else if(level >= 450) level = 5;
	    }
	    case 2: {
		    level = PlayerInfo[playerid][pTruckerSkill];
			if(level >= 0 && level < 30) level = 1;
			else if(level >= 30 && level < 90) level = 2;
			else if(level >= 90 && level < 210) level = 3;
			else if(level >= 210 && level < 450) level = 4;
			else if(level >= 450) level = 5;
	    }
	    case 3: {
		    level = PlayerInfo[playerid][pJackerSkill];
			if(level >= 0 && level < 30) level = 1;
			else if(level >= 30 && level < 90) level = 2;
			else if(level >= 90 && level < 210) level = 3;
			else if(level >= 210 && level < 450) level = 4;
			else if(level >= 450) level = 5;
	    }
	    case 4: {
		    level = PlayerInfo[playerid][pMatSkill];
			if(level >= 0 && level < 30) level = 1;
			else if(level >= 30 && level < 90) level = 2;
			else if(level >= 90 && level < 210) level = 3;
			else if(level >= 210 && level < 450) level = 4;
			else if(level >= 450) level = 5;
	    }
	    case 5: {
		    level = PlayerInfo[playerid][pDrugsSkill];
			if(level >= 0 && level < 30) level = 1;
			else if(level >= 30 && level < 90) level = 2;
			else if(level >= 90 && level < 210) level = 3;
			else if(level >= 210 && level < 450) level = 4;
			else if(level >= 450) level = 5;
	    }
	    case 6: {
		    level = PlayerInfo[playerid][pMechSkill];
			if(level >= 0 && level < 30) level = 1;
			else if(level >= 30 && level < 90) level = 2;
			else if(level >= 90 && level < 210) level = 3;
			else if(level >= 210 && level < 450) level = 4;
			else if(level >= 450) level = 5;
	    }
	    case 8: {
		    level = PlayerInfo[playerid][pPizzaSkill];
			if(level >= 0 && level < 30) level = 1;
			else if(level >= 30 && level < 90) level = 2;
			else if(level >= 90 && level < 210) level = 3;
			else if(level >= 210 && level < 450) level = 4;
			else if(level >= 450) level = 5;
	    }	
	    case 9: {
		    level = PlayerInfo[playerid][pCurierSkill];
			if(level >= 0 && level < 30) level = 1;
			else if(level >= 30 && level < 90) level = 2;
			else if(level >= 90 && level < 210) level = 3;
			else if(level >= 210 && level < 450) level = 4;
			else if(level >= 450) level = 5;
	    }	
	    case 10: {
		    level = PlayerInfo[playerid][pFishSkill];
			if(level >= 0 && level < 30) level = 1;
			else if(level >= 30 && level < 90) level = 2;
			else if(level >= 90 && level < 210) level = 3;
			else if(level >= 210 && level < 450) level = 4;
			else if(level >= 450) level = 5;
	    }					
	}
	return level;
}

function GetPlayerSkill2(playerid, id) {
    new level;
	switch(id) {
	    case 1: {
			level = PlayerInfo[playerid][pFarmerSkill];
			if(level >= 0 && level < 30) level = 1;
			else if(level >= 30 && level < 90) level = 2;
			else if(level >= 90 && level < 210) level = 3;
			else if(level >= 210 && level < 450) level = 4;
			else if(level >= 450) level = 5;
	    }
	    case 2: {
		    level = PlayerInfo[playerid][pTruckerSkill];
			if(level >= 0 && level < 30) level = 1;
			else if(level >= 30 && level < 90) level = 2;
			else if(level >= 90 && level < 210) level = 3;
			else if(level >= 210 && level < 450) level = 4;
			else if(level >= 450) level = 5;
	    }
	    case 3: {
		    level = PlayerInfo[playerid][pJackerSkill];
			if(level >= 0 && level < 30) level = 1;
			else if(level >= 30 && level < 90) level = 2;
			else if(level >= 90 && level < 210) level = 3;
			else if(level >= 210 && level < 450) level = 4;
			else if(level >= 450) level = 5;
	    }
	    case 4: {
		    level = PlayerInfo[playerid][pMatSkill];
			if(level >= 0 && level < 30) level = 1;
			else if(level >= 30 && level < 90) level = 2;
			else if(level >= 90 && level < 210) level = 3;
			else if(level >= 210 && level < 450) level = 4;
			else if(level >= 450) level = 5;
	    }
	    case 5: {
		    level = PlayerInfo[playerid][pDrugsSkill];
			if(level >= 0 && level < 30) level = 1;
			else if(level >= 30 && level < 90) level = 2;
			else if(level >= 90 && level < 210) level = 3;
			else if(level >= 210 && level < 450) level = 4;
			else if(level >= 450) level = 5;
	    }
	    case 6: {
		    level = PlayerInfo[playerid][pMechSkill];
			if(level >= 0 && level < 30) level = 1;
			else if(level >= 30 && level < 90) level = 2;
			else if(level >= 90 && level < 210) level = 3;
			else if(level >= 210 && level < 450) level = 4;
			else if(level >= 450) level = 5;
	    }
	    case 8: {
		    level = PlayerInfo[playerid][pPizzaSkill];
			if(level >= 0 && level < 30) level = 1;
			else if(level >= 30 && level < 90) level = 2;
			else if(level >= 90 && level < 210) level = 3;
			else if(level >= 210 && level < 450) level = 4;
			else if(level >= 450) level = 5;
	    }	
	    case 9: {
		    level = PlayerInfo[playerid][pCurierSkill];
			if(level >= 0 && level < 30) level = 1;
			else if(level >= 30 && level < 90) level = 2;
			else if(level >= 90 && level < 210) level = 3;
			else if(level >= 210 && level < 450) level = 4;
			else if(level >= 450) level = 5;
	    }	
	    case 10: {
		    level = PlayerInfo[playerid][pFishSkill];
			if(level >= 0 && level < 30) level = 1;
			else if(level >= 30 && level < 90) level = 2;
			else if(level >= 90 && level < 210) level = 3;
			else if(level >= 210 && level < 450) level = 4;
			else if(level >= 450) level = 5;
		}
	}
	return level;
}
function JobTimeDeelay(playerid) {
	new string[64];
	format(string, sizeof(string), "Please wait %d seconds!", JobDeelay[playerid][PlayerInfo[playerid][pJob]]);
	SCM(playerid, COLOR_LGREEN, string);
	return 1;
}
function JobProgress(playerid) {
	new string[128];	
	if(GetPlayerSkill(playerid) == 5) format(string, sizeof(string), "Progres job %s: %d (skill maxim)", JobInfo[PlayerInfo[playerid][pJob]][jName], JobPoints(playerid));
	else format(string, sizeof(string), "Progres job %s: %d/%d (%d necesare pentru urmatorul skill)", JobInfo[PlayerInfo[playerid][pJob]][jName], JobPoints(playerid), GetNeedPoints(playerid, PlayerInfo[playerid][pJob]), GetNeedPoints(playerid, PlayerInfo[playerid][pJob])-JobPoints(playerid));
	SCM(playerid, COLOR_YELLOW, string);
	return 1;
}
function GetNeedPoints(playerid, jid) {
	new x;
	new skill = GetPlayerSkill2(playerid, jid);
	if(skill == 1) x = 30;
	else if(skill == 2) x = 90;
	else if(skill == 3) x = 210;
	else if(skill == 4) x = 450;
	return x;
}

function GetNeedPoints4(playerid, jid) {
	new x;
	new skill = GetPlayerSkill2(playerid, jid);
	if(skill == 1) x = 30;
	else if(skill == 2) x = 90;
	else if(skill == 3) x = 210;
	else if(skill == 4) x = 450;
	return x;
}
function GiveJobSalary(playerid) {
	// var
	new string[128], skill = GetPlayerSkill(playerid), money, bonus;
	
	// ++
	switch(PlayerInfo[playerid][pJob]) {
		case 1: money = skill*100*KG[playerid] + 18000 + random(1000);
		case 2: {
			new routes = GetPVarInt(playerid, "Routes");
			switch(routes) {
				case 0: money = skill*3000 + 28000 + random(3000);
				case 1: money = skill*3000 + 28000 + random(5000);
				case 2: money = skill*3000 + 28000 + random(6000);
				case 3: money = skill*3000 + 28000 + random(4000);
				case 4: money = skill*3000 + 28000 + random(4000);				
				case 5: money = skill*3000 + 28000 + random(6000);
				case 6: money = skill*3000 + 28000 + random(5000);
				case 7: money = skill*3000 + 28000 + random(4500);
				case 8: money = skill*3000 + 28000 + random(4000);
				case 9: money = skill*3000 + 28000 + random(6000);				
				case 10: money = skill*3000 + 28000 + random(5000);
				case 11: money = skill*3000 + 28000 + random(4500);
			}
		}
		case 3: money = skill*5000 + 30000 + random(1000);
		case 4: money = skill*1000 + 25000 + random(1000);
		case 5: money = skill*1500 + 25000 + random(1000);
		//case 6: money = 10000 + random(200) + GetPlayerSkill(playerid)*4000;
		case 9: money = skill*1000 + 10000 + random(10000);
		case 10: money = skill*2000 + 28000 + random(1000);
	}
	if(WorkingTime[playerid] < 60 && PlayerInfo[playerid][pJob] != 13) money -= 10000; 
	//if(PlayerInfo[playerid][pPremiumAccount] == 1) bonus = money/2;
	
	// info
	JobDeelay[playerid][PlayerInfo[playerid][pJob]] = 180;
	
	MoneyEarned[playerid] += money+bonus;
	CurseFacute[playerid] ++;
	format(string, sizeof(string), "%s a primit $%s pentru munca efectuata la job-ul %s.", GetName(playerid), FormatNumber(money+bonus), JobInfo[PlayerInfo[playerid][pJob]][jName]);
	InsertLog(playerid, string, LOG_MONEY);		
			
	format(string, sizeof(string), "Castig: $%s", FormatNumber(money));
	SCM(playerid, COLOR_GRAD2, string);
	format(string, sizeof(string), "Castig total: $%s", FormatNumber(money+bonus));
	SCM(playerid, COLOR_GRAD2, string);	
	format(string, sizeof(string), "Timp job: %s", CalculeazaTimp2(WorkingTime[playerid]));
	SCM(playerid, COLOR_GRAD2, string);		
	
	GivePlayerCash(playerid, money+bonus);
	Update(playerid, pCashx);
	
	WorkingTime[playerid] = 0;
	if(JobPoints(playerid) == GetNeedPoints4(playerid, PlayerInfo[playerid][pJob])) {
		format(string, sizeof(string), "* Felicitari! Noul tau skill la acest job este %d.", GetPlayerSkill(playerid));
		SCM(playerid, COLOR_YELLOW, string);
	}	
	else {
		if(togjob[playerid] == 0) JobProgress(playerid);	
	}	
	if(GetPlayerSkill(playerid) == 5) finishAchievement(playerid, 0);	
	UpdateProgress(playerid, 1);
	return 1;
}
function Fish(playerid) {
	new x, string[180];
	if(!IsPlayerConnected(playerid)) return 1;
	if(PlayerInfo[playerid][pJob] == 11) {
	    RemovePlayerAttachedObject(playerid, 0);
		x = 3000 + random(1000) + GetPlayerSkill(playerid)*500;
		if(PlayerInfo[playerid][pPremiumAccount] == 1) x += x/2;
		new rar = random(500);
		if(rar >= 490 && rar < 495) {
			x += 3000 + random(5000);
			format(string, sizeof(string), "Ai prins un peste rar care valoreaza $%s!", FormatNumber(x));
			SCM(playerid, COLOR_YELLOW, string);
			SCM(playerid, -1, "Pentru a vinde pestele, trebuie sa mergi intr-un 24/7. (/gps)");			
			format(string, sizeof(string), "* %s a prins un peste rar ce valoreaza $%s.", GetName(playerid), FormatNumber(x));
			NearMessage(playerid, COLOR_YELLOW, string);						
		}
		else if(rar >= 495) {
			format(string, sizeof(string), "Ai prins un peste foarte rar!", FormatNumber(x));
			SCM(playerid, COLOR_BLUE, string);
			SCM(playerid, -1, "Pentru a vinde pestele, trebuie sa mergi intr-un 24/7. (/gps)");					
			format(string, sizeof(string), "* %s a prins un peste foarte rar care valoreaza %s.", GetName(playerid), FormatNumber(x));
			NearMessage(playerid, COLOR_YELLOW, string);	

		}
		else {
			format(string, sizeof(string), "Ai prins un peste normal care valoreaza $%s!", FormatNumber(x));
			SCM(playerid, COLOR_DARKPINK, string);	
			SCM(playerid, -1, "Pentru a vinde pestele, trebuie sa mergi intr-un 24/7. (/gps)");
			format(string, sizeof(string), "* %s a prins un peste normal ce valoreaza $%s.", GetName(playerid), FormatNumber(x));
			NearMessage(playerid, COLOR_YELLOW, string);				
		}
		
		HaveFish[playerid] = x;
		StartFish[playerid] = 0;
		TogglePlayerControllable(playerid, 1);
		Freezed[playerid] = 0;
	}
	return 1;
}
function UpdateProgress(playerid, bar) {
	if(PlayerInfo[playerid][pShowProgress][bar] == 0) return 1;
	new string[64];
	switch(bar) {
		case 0: {
			format(string, sizeof(string), "Level: %d-%d (%d/%d RP)", PlayerInfo[playerid][pLevel], PlayerInfo[playerid][pLevel]+1, PlayerInfo[playerid][pExp], PlayerInfo[playerid][pLevel]*levelexp);
			PlayerTextDrawSetString(playerid, HudTD[bar], string);
			PlayerTextDrawShow(playerid, HudTD[bar]);
			SetPlayerProgressBarMaxValue(playerid, HudProgress[playerid][bar], PlayerInfo[playerid][pLevel]*levelexp);
			SetPlayerProgressBarValue(playerid, HudProgress[playerid][bar], PlayerInfo[playerid][pExp]);
			SetPlayerProgressBarColor(playerid, HudProgress[playerid][bar], GetHudColor3(PlayerInfo[playerid][pShowProgress][0]));	
		}
		case 1: {
			if(PlayerInfo[playerid][pJob] != 0) {
				new job = PlayerInfo[playerid][pJob]; 
				if(GetPlayerSkill(playerid) == 5) format(string, sizeof(string), "Job %s: Skill maxim (%d)", JobInfo[job][jName], GetPlayerSkill(playerid), JobPoints(playerid), GetNeedPoints(playerid, job));
				else format(string, sizeof(string), "Job %s: %d-%d (%d/%d)", JobInfo[job][jName], GetPlayerSkill(playerid), GetPlayerSkill(playerid)+1, JobPoints(playerid), GetNeedPoints(playerid, job));
				PlayerTextDrawSetString(playerid, HudTD[bar], string);
				PlayerTextDrawShow(playerid, HudTD[bar]);
				
				if(GetPlayerSkill(playerid) == 5) SetPlayerProgressBarMaxValue(playerid, HudProgress[playerid][bar], 0);
				else SetPlayerProgressBarMaxValue(playerid, HudProgress[playerid][bar], GetNeedPoints(playerid, job));
				
				SetPlayerProgressBarValue(playerid, HudProgress[playerid][bar], JobPoints(playerid));
				SetPlayerProgressBarColor(playerid, HudProgress[playerid][bar], GetHudColor3(PlayerInfo[playerid][pShowProgress][1]));	
			}
			else return DestroyProgress(playerid, bar);
		}
	}
	ShowPlayerProgressBar(playerid, HudProgress[playerid][bar]);
	return 1;
}
function DestroyProgress(playerid, bar) {
	HidePlayerProgressBar(playerid, HudProgress[playerid][bar]);
	PlayerTextDrawHide(playerid, HudTD[bar]);
	return 1;
function JobPoints(playerid) {
    new level;
	switch(PlayerInfo[playerid][pJob]) {
	    case 1: level = PlayerInfo[playerid][pFarmerSkill];
	    case 2: level = PlayerInfo[playerid][pTruckerSkill];
	    case 3: level = PlayerInfo[playerid][pJackerSkill];
	    case 4: level = PlayerInfo[playerid][pMatSkill];
	    case 5: level = PlayerInfo[playerid][pDrugsSkill];
	    case 6: level = PlayerInfo[playerid][pMechSkill];
	    case 8: level = PlayerInfo[playerid][pPizzaSkill];
	    case 9: level = PlayerInfo[playerid][pCurierSkill];
	    case 10: level = PlayerInfo[playerid][pFishSkill];	
	}
	return level;
}


#pragma dynamic (64*1024)
